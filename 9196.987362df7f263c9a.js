"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9196],{9196:(F,p,a)=>{a.r(p),a.d(p,{Tab2PageModule:()=>v});var r=a(650),u=a(6895),d=a(433),h=a(581),g=a(1194),l=a(5861),m=a(4244),t=a(4650),f=a(1468),b=a(7151),x=a(4762);function _(o,c){if(1&o&&(t.TgZ(0,"ion-card-subtitle"),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function k(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.deleteTrack(i))}),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"g",23)(3,"g",24),t.TgZ(4,"g",25),t._UZ(5,"path",26)(6,"path",27)(7,"path",28)(8,"path",29)(9,"path",30),t.qZA()()()}}const C=function(o){return["/track-details",o]};function T(o,c){if(1&o&&(t.TgZ(0,"ion-col",14)(1,"div",15),t._UZ(2,"img",16),t.TgZ(3,"div",17)(4,"ion-card-title"),t._uU(5),t.qZA(),t.YNc(6,_,2,1,"ion-card-subtitle",18),t.TgZ(7,"ion-card-subtitle"),t._uU(8),t.qZA(),t._UZ(9,"div",19),t.qZA(),t.YNc(10,k,10,0,"div",20),t.qZA()()),2&o){const e=c.$implicit,n=t.oxw();t.xp6(2),t.Q6J("src",e.album.images[0].url,t.LSH)("routerLink",t.VKq(7,C,e._id)),t.xp6(3),t.Oqu(e.name),t.xp6(1),t.Q6J("ngForOf",e.album.artists),t.xp6(2),t.AsE("",e.album.name," (",e.album.release_date,")"),t.xp6(2),t.Q6J("ngIf",e.userId===n.userIdLogged&&""!==n.userIdLogged)}}const M=[{path:"",component:(()=>{class o{constructor(e,n,i,s,O,y,Z,w,S){this.platform=e,this.navCtrl=n,this.aspoticServ=i,this.authService=s,this.router=O,this.formBuilder=y,this.modalController=Z,this.toastController=w,this.alertController=S,this.tracks=[],this.userId="",this.searchTerm="",this.searchOption="name"}openModal(){var e=this;return(0,l.Z)(function*(){return yield(yield e.modalController.create({component:m.V})).present()})()}onSignOutClick(){const e=this.authService.getUserIdFromToken();this.authService.signOut(e).subscribe(()=>{localStorage.removeItem("token"),this.router.navigate(["/home"])})}ngOnInit(){this.userIdLogged=this.authService.getUserIdFromToken(),this.userId&&this.authService.getUserIdFromToken(),this.getTracks()}getTracks(){this.aspoticServ.getTracks().subscribe(e=>{this.tracks=e},e=>{this.showError("There was an error getting the tracks"),this.dismiss()})}searchTracks(){if(this.searchTerm)switch(this.searchOption){case"name":this.aspoticServ.getTracksByName(this.searchTerm).subscribe(e=>{this.tracks=e});break;case"artist":this.aspoticServ.getTracksByArtist(this.searchTerm).subscribe(e=>{this.tracks=e});break;case"date":this.aspoticServ.getTracksByDate(this.searchTerm).subscribe(e=>{this.tracks=e});break;default:this.aspoticServ.getTracks().subscribe(e=>{this.tracks=e})}else this.aspoticServ.getTracks().subscribe(e=>{this.tracks=e})}showError(e){var n=this;return(0,l.Z)(function*(){(yield n.toastController.create({message:e,duration:3e3,color:"danger",mode:"ios",cssClass:"custom-toast",position:"bottom"})).present()})()}showSuccessMessage(e){var n=this;return(0,l.Z)(function*(){(yield n.toastController.create({message:e,duration:3e3,color:"success",mode:"ios",cssClass:"custom-toast",position:"bottom"})).present()})()}dismiss(){this.modalController.dismiss()}deleteTrack(e){var n=this;return(0,l.Z)(function*(){(yield n.warn())&&n.aspoticServ.deleteTrack(e._id).subscribe(()=>{n.tracks=n.tracks.filter(s=>s!==e),console.log("Track deleted successfully"),n.showSuccessMessage("Track deleted successfully"),n.dismiss()},s=>{console.error("There was an error deleting the track",s),n.showError("There was an error deleting the track"),n.dismiss()})})()}warn(){var e=this;return(0,l.Z)(function*(){return new Promise(function(){var n=(0,l.Z)(function*(i){yield(yield e.alertController.create({header:"Delete track",message:"Are you sure that you want to delete this track?",buttons:[{text:"Cancel",role:"cancel",handler:()=>i(!1)},{text:"Delete",handler:()=>i(!0)}]})).present()});return function(i){return n.apply(this,arguments)}}())})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.t4),t.Y36(r.SH),t.Y36(f.z),t.Y36(b.e),t.Y36(g.F0),t.Y36(d.qu),t.Y36(r.IN),t.Y36(r.yF),t.Y36(r.Br))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tab2"]],decls:21,vars:4,consts:[[3,"fullscreen"],[3,"ngModel","ngModelChange"],["value","name"],["value","artist"],["value","date"],[1,"search-container"],["placeholder","Search track","mode","ios",1,"custom",3,"ngModel","ngModelChange"],[1,"custom-btn",3,"keyup.enter","click"],["id","container"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"custom-floating-btn","floating-button",3,"click"],["name","add"],[1,"cards"],["size-lg","2","size-md","6","size-sm","4","size","6",4,"ngFor","ngForOf"],["size-lg","2","size-md","6","size-sm","4","size","6"],[1,"card"],[3,"src","routerLink"],[1,"title"],[4,"ngFor","ngForOf"],[1,"button-space"],["class","button-container card-delete-button ion-float-end",3,"click",4,"ngIf"],[1,"button-container","card-delete-button","ion-float-end",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","stroke","#f50000",1,"svg-icon"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M10 11V17","stroke","#fe5858","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 11V17","stroke","#fe5858","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M4 7H20","stroke","#fe5858","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z","stroke","#fe5858","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z","stroke","#fe5858","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(e,n){1&e&&(t._UZ(0,"app-explore-container"),t.TgZ(1,"ion-content",0)(2,"ion-item")(3,"ion-segment",1),t.NdJ("ngModelChange",function(s){return n.searchOption=s}),t.TgZ(4,"ion-segment-button",2),t._uU(5," Search by name "),t.qZA(),t.TgZ(6,"ion-segment-button",3),t._uU(7," artist "),t.qZA(),t.TgZ(8,"ion-segment-button",4),t._uU(9," date "),t.qZA()()(),t.TgZ(10,"div",5)(11,"ion-searchbar",6),t.NdJ("ngModelChange",function(s){return n.searchTerm=s}),t.qZA(),t.TgZ(12,"ion-button",7),t.NdJ("keyup.enter",function(){return n.searchTracks()})("click",function(){return n.searchTracks()}),t._uU(13,"Search"),t.qZA()(),t.TgZ(14,"div",8)(15,"ion-fab",9)(16,"ion-fab-button",10),t.NdJ("click",function(){return n.openModal()}),t._UZ(17,"ion-icon",11),t.qZA()(),t.TgZ(18,"ion-grid",12)(19,"ion-row"),t.YNc(20,T,11,9,"ion-col",13),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngModel",n.searchOption),t.xp6(8),t.Q6J("ngModel",n.searchTerm),t.xp6(9),t.Q6J("ngForOf",n.tracks))},dependencies:[r.YG,r.tO,r.Dq,r.wI,r.W2,r.IJ,r.W4,r.jY,r.gu,r.Ie,r.Nd,r.VI,r.cJ,r.GO,r.QI,r.j9,r.YI,u.sg,u.O5,d.JJ,d.On,x.Z,g.rH],styles:[".custom-title[_ngcontent-%COMP%]{color:#6e49f2}.cards[_ngcontent-%COMP%]{flex-wrap:wrap;flex-direction:row;justify-content:center;margin-bottom:20px}ion-card[_ngcontent-%COMP%]{width:150px;height:140px;margin:50px;position:relative}ion-card[_ngcontent-%COMP%]:hover   .overlayer[_ngcontent-%COMP%]{visibility:visible}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}ion-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:30px;text-align:center;justify-content:center;margin-top:180px}ion-card-title[_ngcontent-%COMP%]{font-size:medium;color:#000;text-align:center;justify-content:center}ion-card-subtitle[_ngcontent-%COMP%]{font-size:small;color:#737373;text-align:center;justify-content:center}ion-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:-175px;color:#000;position:relative;font-size:13px;text-decoration:none}ion-fab[_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px}ion-fab-button[_ngcontent-%COMP%]{font-size:16px}ion-icon[_ngcontent-%COMP%]{text-align:center}.center-btn[_ngcontent-%COMP%]{margin-right:15px}.card.selected[_ngcontent-%COMP%]{border:3px solid #858BFF;box-shadow:4px 4px 10px #858bff!important}.card[_ngcontent-%COMP%]{height:100%;position:relative;border-radius:5%;background-color:#fff;padding-bottom:10px;margin:5px;margin-bottom:10px!important;box-shadow:0 2px 10px #ccc!important;cursor:pointer}img[_ngcontent-%COMP%]{border-radius:5%}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:25px}.page-btn-div[_ngcontent-%COMP%]{color:#fff;float:left;padding:8px 16px;text-decoration:none;background-color:#858bff;border-radius:5px}.page-button[_ngcontent-%COMP%]{background-color:transparent;font-size:20px}ion-searchbar[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}.custom-btn[_ngcontent-%COMP%], .custom-btn-add[_ngcontent-%COMP%]{--background: #858BFF;--color: white;--border-radius: 25px;text-transform:capitalize;margin-top:15px;margin-bottom:15px}.add-margin-right[_ngcontent-%COMP%]{margin-right:15px}ion-searchbar.custom[_ngcontent-%COMP%]{--background: #ffffff;--icon-color: #858BFF;--border-radius: 25px}@media only screen and (max-width: 600px){.search-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.custom-btn[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px}}@media only screen and (min-width: 601px){.search-container[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.custom-btn[_ngcontent-%COMP%]{margin-right:15px}}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}ion-spinner[_ngcontent-%COMP%]{transform:scale(3)}ion-segment-button[_ngcontent-%COMP%]{text-transform:capitalize;color:#858bff;--border-radius: 0px}ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{background-color:#858bff!important;color:#fff!important;--color-checked: var(--ion-color-primary, #858BFF) !important;--indicator-box-shadow: none;--indicator-color: var(--color-checked);--indicator-height: 0px}ion-title[_ngcontent-%COMP%]{font-size:20px;font-weight:bolder}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:9999}@media (max-width: 576px){.floating-button[_ngcontent-%COMP%]{bottom:10px;right:10px}}.custom-floating-btn[_ngcontent-%COMP%]{--background: #858BFF;--color: white;text-transform:capitalize;margin:15px}.button-space[_ngcontent-%COMP%]{height:20px}.button-container[_ngcontent-%COMP%]{position:absolute;bottom:0;margin-bottom:5px;left:50%;transform:translate(-50%)}svg[_ngcontent-%COMP%]{width:20px;height:20px}.card-delete-button[_ngcontent-%COMP%]{border:1px solid #ff0000;display:flex;padding:.3em;width:auto;cursor:pointer;border-radius:50px;transition:.3s ease-in-out}.card-delete-button[_ngcontent-%COMP%]:hover{border:1px solid #ffcaa6;background-color:#ffcaa6}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(M),g.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.Pc,u.ez,d.u5,h.e,P]}),o})()}}]);