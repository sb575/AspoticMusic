(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(ln,st,F)=>{"use strict";F.d(st,{nm:()=>Z});var m=F(4976);F(4650),F(259);var Xe=F(5861),Ge=F(6881),Be=F(4859),mt=F(2090),be=F(1877);const ve=new Map,Ce={activated:!1,tokenObservers:[]},Ue={initialized:!1,enabled:!1};function Le(tt){return ve.get(tt)||Object.assign({},Ce)}function Ye(){return Ue}const We="https://content-firebaseappcheck.googleapis.com/v1",_e="exchangeDebugToken",De={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class et{constructor(He,dt,Ft,Kt,Wn){if(this.operation=He,this.retryPolicy=dt,this.getWaitDuration=Ft,this.lowerBound=Kt,this.upperBound=Wn,this.pending=null,this.nextErrorWaitInterval=Kt,Kt>Wn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(He){var dt=this;return(0,Xe.Z)(function*(){dt.stop();try{dt.pending=new mt.BH,yield function lt(tt){return new Promise(He=>{setTimeout(He,tt)})}(dt.getNextRun(He)),dt.pending.resolve(),yield dt.pending.promise,dt.pending=new mt.BH,yield dt.operation(),dt.pending.resolve(),yield dt.pending.promise,dt.process(!0).catch(()=>{})}catch(Ft){dt.retryPolicy(Ft)?dt.process(!1).catch(()=>{}):dt.stop()}})()}getNextRun(He){if(He)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const dt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),dt}}}const bt=new mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xt(tt,He){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Xe.Z)(function*({url:tt,body:He},dt){const Ft={"Content-Type":"application/json"},Kt=dt.getImmediate({optional:!0});if(Kt){const jr=yield Kt.getHeartbeatsHeader();jr&&(Ft["X-Firebase-Client"]=jr)}const Wn={method:"POST",body:JSON.stringify(He),headers:Ft};let Qn,rr;try{Qn=yield fetch(tt,Wn)}catch(jr){throw bt.create("fetch-network-error",{originalErrorMessage:null==jr?void 0:jr.message})}if(200!==Qn.status)throw bt.create("fetch-status-error",{httpStatus:Qn.status});try{rr=yield Qn.json()}catch(jr){throw bt.create("fetch-parse-error",{originalErrorMessage:null==jr?void 0:jr.message})}const Sr=rr.ttl.match(/^([\d.]+)(s)$/);if(!Sr||!Sr[2]||isNaN(Number(Sr[1])))throw bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${rr.ttl}`});const Bi=1e3*Number(Sr[1]),Ro=Date.now();return{token:rr.token,expireTimeMillis:Ro+Bi,issuedAtTimeMillis:Ro}})).apply(this,arguments)}const Dn="firebase-app-check-database",Nn=1,Vn="firebase-app-check-store";let Jt=null;function Pn(tt,He){return zn.apply(this,arguments)}function zn(){return(zn=(0,Xe.Z)(function*(tt,He){const Ft=(yield function Cn(){return Jt||(Jt=new Promise((tt,He)=>{try{const dt=indexedDB.open(Dn,Nn);dt.onsuccess=Ft=>{tt(Ft.target.result)},dt.onerror=Ft=>{var Kt;He(bt.create("storage-open",{originalErrorMessage:null===(Kt=Ft.target.error)||void 0===Kt?void 0:Kt.message}))},dt.onupgradeneeded=Ft=>{0===Ft.oldVersion&&Ft.target.result.createObjectStore(Vn,{keyPath:"compositeKey"})}}catch(dt){He(bt.create("storage-open",{originalErrorMessage:null==dt?void 0:dt.message}))}}),Jt)}()).transaction(Vn,"readwrite"),Wn=Ft.objectStore(Vn).put({compositeKey:tt,value:He});return new Promise((Qn,rr)=>{Wn.onsuccess=Sr=>{Qn()},Ft.onerror=Sr=>{var Bi;rr(bt.create("storage-set",{originalErrorMessage:null===(Bi=Sr.target.error)||void 0===Bi?void 0:Bi.message}))}})})).apply(this,arguments)}const Fr=new be.Yd("@firebase/app-check");function Mr(tt,He){return(0,mt.hl)()?function lr(tt,He){return Pn(function Gt(tt){return`${tt.options.appId}-${tt.name}`}(tt),He)}(tt,He).catch(dt=>{Fr.warn(`Failed to write token to IndexedDB. Error: ${dt}`)}):Promise.resolve()}function Kn(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,Xe.Z)(function*(){const tt=Ye();if(tt.enabled&&tt.token)return tt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ti={error:"UNKNOWN_ERROR"};function vr(tt){return mt.US.encodeString(JSON.stringify(tt),!1)}function St(tt){return ke.apply(this,arguments)}function ke(){return(ke=(0,Xe.Z)(function*(tt,He=!1){const dt=tt.app;!function Qt(tt){if(!Le(tt).activated)throw bt.create("use-before-activation",{appName:tt.name})}(dt);const Ft=Le(dt);let Wn,Kt=Ft.token;if(Kt&&!rt(Kt)&&(Ft.token=void 0,Kt=void 0),!Kt){const Sr=yield Ft.cachedTokenPromise;Sr&&(rt(Sr)?Kt=Sr:yield Mr(dt,void 0))}if(!He&&Kt&&rt(Kt))return{token:Kt.token};let rr,Qn=!1;if(function qr(){return Ye().enabled}()){Ft.exchangeTokenPromise||(Ft.exchangeTokenPromise=xt(function Zt(tt,He){const{projectId:dt,appId:Ft,apiKey:Kt}=tt.options;return{url:`${We}/projects/${dt}/apps/${Ft}:${_e}?key=${Kt}`,body:{debug_token:He}}}(dt,yield Kn()),tt.heartbeatServiceProvider).finally(()=>{Ft.exchangeTokenPromise=void 0}),Qn=!0);const Sr=yield Ft.exchangeTokenPromise;return yield Mr(dt,Sr),Ft.token=Sr,{token:Sr.token}}try{Ft.exchangeTokenPromise||(Ft.exchangeTokenPromise=Ft.provider.getToken().finally(()=>{Ft.exchangeTokenPromise=void 0}),Qn=!0),Kt=yield Le(dt).exchangeTokenPromise}catch(Sr){"appCheck/throttled"===Sr.code?Fr.warn(Sr.message):Fr.error(Sr),Wn=Sr}return Kt?Wn?rr=rt(Kt)?{token:Kt.token,internalError:Wn}:Wt(Wn):(rr={token:Kt.token},Ft.token=Kt,yield Mr(dt,Kt)):rr=Wt(Wn),Qn&&function ft(tt,He){const dt=Le(tt).tokenObservers;for(const Ft of dt)try{"EXTERNAL"===Ft.type&&null!=He.error?Ft.error(He.error):Ft.next(He)}catch{}}(dt,rr),rr})).apply(this,arguments)}function ue(tt,He){const dt=Le(tt),Ft=dt.tokenObservers.filter(Kt=>Kt.next!==He);0===Ft.length&&dt.tokenRefresher&&dt.tokenRefresher.isRunning()&&dt.tokenRefresher.stop(),dt.tokenObservers=Ft}function ce(tt){const{app:He}=tt,dt=Le(He);let Ft=dt.tokenRefresher;Ft||(Ft=function Pe(tt){const{app:He}=tt;return new et((0,Xe.Z)(function*(){let Ft;if(Ft=Le(He).token?yield St(tt,!0):yield St(tt),Ft.error)throw Ft.error;if(Ft.internalError)throw Ft.internalError}),()=>!0,()=>{const dt=Le(He);if(dt.token){let Ft=dt.token.issuedAtTimeMillis+.5*(dt.token.expireTimeMillis-dt.token.issuedAtTimeMillis)+3e5;return Ft=Math.min(Ft,dt.token.expireTimeMillis-3e5),Math.max(0,Ft-Date.now())}return 0},De.RETRIAL_MIN_WAIT,De.RETRIAL_MAX_WAIT)}(tt),dt.tokenRefresher=Ft),!Ft.isRunning()&&dt.isTokenAutoRefreshEnabled&&Ft.start()}function rt(tt){return tt.expireTimeMillis-Date.now()>0}function Wt(tt){return{token:vr(ti),error:tt}}class Ve{constructor(He,dt){this.app=He,this.heartbeatServiceProvider=dt}_delete(){const{tokenObservers:He}=Le(this.app);for(const dt of He)ue(this.app,dt.next);return Promise.resolve()}}const ur="app-check-internal";!function Ur(){(0,Ge._registerComponent)(new Be.wA("app-check",tt=>function Se(tt,He){return new Ve(tt,He)}(tt.getProvider("app").getImmediate(),tt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((tt,He,dt)=>{tt.getProvider(ur).initialize()})),(0,Ge._registerComponent)(new Be.wA(ur,tt=>function oe(tt){return{getToken:He=>St(tt,He),addTokenListener:He=>function Ot(tt,He,dt,Ft){const{app:Kt}=tt,Wn=Le(Kt);if(Wn.tokenObservers=[...Wn.tokenObservers,{next:dt,error:Ft,type:He}],Wn.token&&rt(Wn.token)){const rr=Wn.token;Promise.resolve().then(()=>{dt({token:rr.token}),ce(tt)}).catch(()=>{})}Wn.cachedTokenPromise.then(()=>ce(tt))}(tt,"INTERNAL",He),removeTokenListener:He=>ue(tt.app,He)}}(tt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ge.registerVersion)("@firebase/app-check","0.7.0")}();class Z{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},1205:(ln,st,F)=>{"use strict";F.d(st,{zQ:()=>We,ww:()=>ut,rT:()=>Ue,f7:()=>Ze,L6:()=>ve,_Q:()=>Ce,lh:()=>Le,Qv:()=>be,nw:()=>Ye});var m=F(4650),h=F(7579),W=F(9646),te=F(9751),Te=F(8996),Ee=F(6451),le=F(5363),xe=F(3900),Ae=F(4004),he=F(6063);class se extends h.x{constructor(_e=1/0,De=1/0,we=he.l){super(),this._bufferSize=_e,this._windowTime=De,this._timestampProvider=we,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=De===1/0,this._bufferSize=Math.max(1,_e),this._windowTime=Math.max(1,De)}next(_e){const{isStopped:De,_buffer:we,_infiniteTimeWindow:et,_timestampProvider:lt,_windowTime:Bt}=this;De||(we.push(_e),!et&&we.push(lt.now()+Bt)),this._trimBuffer(),super.next(_e)}_subscribe(_e){this._throwIfClosed(),this._trimBuffer();const De=this._innerSubscribe(_e),{_infiniteTimeWindow:we,_buffer:et}=this,lt=et.slice();for(let Bt=0;Bt<lt.length&&!_e.closed;Bt+=we?1:2)_e.next(lt[Bt]);return this._checkFinalizedStatuses(_e),De}_trimBuffer(){const{_bufferSize:_e,_timestampProvider:De,_buffer:we,_infiniteTimeWindow:et}=this,lt=(et?1:2)*_e;if(_e<1/0&&lt<we.length&&we.splice(0,we.length-lt),!et){const Bt=De.now();let bt=0;for(let cn=1;cn<we.length&&we[cn]<=Bt;cn+=2)bt=cn;bt&&we.splice(0,bt+1)}}}var ae=F(3099);function Me(nt,_e,De){let we,et=!1;return nt&&"object"==typeof nt?({bufferSize:we=1/0,windowTime:_e=1/0,refCount:et=!1,scheduler:De}=nt):we=null!=nt?nt:1/0,(0,ae.B)({connector:()=>new se(we,_e,De),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:et})}var pe=F(590),qe=F(576);function gt(nt,_e){return(0,qe.m)(_e)?(0,xe.w)(()=>nt,_e):(0,xe.w)(()=>nt)}var Ie=F(9468),me=F(9300),ne=F(4976),at=F(2011),Xe=F(6895),Ge=F(6217),Be=F(9260);const be=new m.OlP("angularfire2.auth.use-emulator"),ve=new m.OlP("angularfire2.auth.settings"),Ce=new m.OlP("angularfire2.auth.tenant-id"),Ue=new m.OlP("angularfire2.auth.langugage-code"),Le=new m.OlP("angularfire2.auth.use-device-language"),Ze=new m.OlP("angularfire.auth.persistence"),Ye=(nt,_e,De,we,et,lt,Bt,bt)=>(0,at.cc)(`${nt.name}.auth`,"AngularFireAuth",nt.name,()=>{const cn=_e.runOutsideAngular(()=>nt.auth());if(De&&cn.useEmulator(...De),we&&(cn.tenantId=we),cn.languageCode=et,lt&&cn.useDeviceLanguage(),Bt)for(const[Qt,ot]of Object.entries(Bt))cn.settings[Qt]=ot;return bt&&cn.setPersistence(bt),cn},[De,we,et,lt,Bt,bt]);let We=(()=>{class nt{constructor(De,we,et,lt,Bt,bt,cn,Qt,ot,At,xt,Nt){const Xt=new h.x,on=(0,W.of)(void 0).pipe((0,le.Q)(Bt.outsideAngular),(0,xe.w)(()=>lt.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2644)))),(0,Ae.U)(()=>(0,at.on)(De,lt,we)),(0,Ae.U)(Zt=>Ye(Zt,lt,bt,Qt,ot,At,cn,xt)),Me({bufferSize:1,refCount:!1}));if((0,Xe.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{on.pipe((0,pe.P)()).subscribe();const Dn=on.pipe((0,xe.w)(bn=>bn.getRedirectResult().then(Jt=>Jt,()=>null)),ne.iC,Me({bufferSize:1,refCount:!1})),Nn=on.pipe((0,xe.w)(bn=>new te.y(Jt=>({unsubscribe:lt.runOutsideAngular(()=>bn.onAuthStateChanged(Cn=>Jt.next(Cn),Cn=>Jt.error(Cn),()=>Jt.complete()))})))),Vn=on.pipe((0,xe.w)(bn=>new te.y(Jt=>({unsubscribe:lt.runOutsideAngular(()=>bn.onIdTokenChanged(Cn=>Jt.next(Cn),Cn=>Jt.error(Cn),()=>Jt.complete()))}))));this.authState=Dn.pipe(gt(Nn),(0,Ie.R)(Bt.outsideAngular),(0,le.Q)(Bt.insideAngular)),this.user=Dn.pipe(gt(Vn),(0,Ie.R)(Bt.outsideAngular),(0,le.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(bn=>bn?(0,Te.D)(bn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(bn=>bn?(0,Te.D)(bn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,Ee.T)(Dn,Xt,this.authState.pipe((0,me.h)(bn=>!bn))).pipe((0,Ae.U)(bn=>null!=bn&&bn.user?bn:null),(0,Ie.R)(Bt.outsideAngular),(0,le.Q)(Bt.insideAngular))}return(0,at.pX)(this,on,lt,{spy:{apply:(Zt,Dn,Nn)=>{(Zt.startsWith("signIn")||Zt.startsWith("createUser"))&&Nn.then(Vn=>Xt.next(Vn))}}})}}return nt.\u0275fac=function(De){return new(De||nt)(m.LFG(at.Dh),m.LFG(at.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ne.HU),m.LFG(be,8),m.LFG(ve,8),m.LFG(Ce,8),m.LFG(Ue,8),m.LFG(Le,8),m.LFG(Ze,8),m.LFG(Ge.nm,8))},nt.\u0275prov=m.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"any"}),nt})(),ut=(()=>{class nt{constructor(){Be.Z.registerVersion("angularfire",ne.q4.full,"auth-compat")}}return nt.\u0275fac=function(De){return new(De||nt)},nt.\u0275mod=m.oAB({type:nt}),nt.\u0275inj=m.cJS({providers:[We]}),nt})()},1762:(ln,st,F)=>{"use strict";F.d(st,{ST:()=>Im,yb:()=>_v});var m=F(4650),h=F(4986),W=F(9751),te=F(8996),Te=F(9646),Ee=F(4976),le=F(8675),xe=F(4482),Ae=F(5403);function he(){return(0,xe.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ae.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var ve,se=F(4004),ae=F(5026),Me=F(1884),pe=F(9300),qe=F(2011),gt=F(6895),me=(F(2644),F(3942)),ne=F(5861),at=F(6881),Xe=F(4859),Ge=F(1877),Be=F(2090),mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={},Ce=Ce||{},Ue=mt||self;function Le(){}function Ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ye(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ut="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function _e(r,e,t){return r.call.apply(r.bind,arguments)}function De(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function we(r,e,t){return(we=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_e:De).apply(null,arguments)}function et(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function lt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var g=Array(arguments.length-2),A=2;A<arguments.length;A++)g[A-2]=arguments[A];return e.prototype[a].apply(o,g)}}function Bt(){this.s=this.s,this.o=this.o}Bt.prototype.s=!1,Bt.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function We(r){Object.prototype.hasOwnProperty.call(r,ut)&&r[ut]||(r[ut]=++nt)}(this)},Bt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Qt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function ot(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ze(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let g=0;g<u;g++)r[a+g]=o[g]}else r.push(o)}}function At(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ue.addEventListener("test",Le,e),Ue.removeEventListener("test",Le,e)}catch{}return r}();function Nt(r){return/^[\s\xa0]*$/.test(r)}var Xt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function on(r,e){return r<e?-1:r>e?1:0}function Zt(){var r=Ue.navigator;return r&&(r=r.userAgent)?r:""}function Dn(r){return-1!=Zt().indexOf(r)}function Nn(r){return Nn[" "](r),r}function Vn(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Nn[" "]=Le;var Pn,r,bn=Dn("Opera"),Jt=Dn("Trident")||Dn("MSIE"),Cn=Dn("Edge"),Vr=Cn||Jt,lr=Dn("Gecko")&&!(-1!=Zt().toLowerCase().indexOf("webkit")&&!Dn("Edge"))&&!(Dn("Trident")||Dn("MSIE"))&&!Dn("Edge"),Gr=-1!=Zt().toLowerCase().indexOf("webkit")&&!Dn("Edge");function ri(){var r=Ue.document;return r?r.documentMode:void 0}e:{var zn="",zt=(r=Zt(),lr?/rv:([^\);]+)(\)|;)/.exec(r):Cn?/Edge\/([\d\.]+)/.exec(r):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Gr?/WebKit\/(\S+)/.exec(r):bn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(zt&&(zn=zt?zt[1]:""),Jt){var un=ri();if(null!=un&&un>parseFloat(zn)){Pn=String(un);break e}}Pn=zn}var Gt={},Mr=Ue.document&&Jt&&(ri()||parseInt(Pn,10))||void 0;function Wr(r,e){if(At.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(lr){e:{try{Nn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:yr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Wr.$.h.call(this)}}lt(Wr,At);var yr={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var qr="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Gn(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++Kn,this.fa=this.ia=!1}function ir(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function ti(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function vr(r){const e={};for(const t in r)e[t]=r[t];return e}const St="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<St.length;u++)t=St[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function $e(r){this.src=r,this.g={},this.h=0}function kt(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=cn(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(ir(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ot(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}$e.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var g=Ot(r,e,o,a);return-1<g?(e=r[g],t||(e.ia=!1)):((e=new Gn(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var ue="closure_lm_"+(1e6*Math.random()|0),ce={};function Pe(r,e,t,o,a){if(o&&o.once)return Wt(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Pe(r,e[u],t,o,a);return null}return t=fn(t),r&&r[qr]?r.O(e,t,Ye(o)?!!o.capture:!!o,a):ft(r,e,t,!1,o,a)}function ft(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var g=Ye(a)?!!a.capture:!!a,A=Ct(r);if(A||(r[ue]=A=new $e(r)),(t=A.add(e,t,o,g,u)).proxy)return t;if(o=function rt(){const e=je;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)xt||(a=g),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent(oe(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function Wt(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Wt(r,e[u],t,o,a);return null}return t=fn(t),r&&r[qr]?r.P(e,t,Ye(o)?!!o.capture:!!o,a):ft(r,e,t,!0,o,a)}function Ve(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ve(r,e[u],t,o,a);else o=Ye(o)?!!o.capture:!!o,t=fn(t),r&&r[qr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ot(u=r.g[e],t,o,a))&&(ir(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=Ct(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ot(e,t,o,a)),(t=-1<r?e[r]:null)&&Se(t))}function Se(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[qr])kt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(oe(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Ct(e))?(kt(t,r),0==t.h&&(t.src=null,e[ue]=null)):ir(r)}}}function oe(r){return r in ce?ce[r]:ce[r]="on"+r}function je(r,e){if(r.fa)r=!0;else{e=new Wr(e,this);var t=r.listener,o=r.la||r.src;r.ia&&Se(r),r=t.call(o,e)}return r}function Ct(r){return(r=r[ue])instanceof $e?r:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(r){return"function"==typeof r?r:(r[qt]||(r[qt]=function(e){return r.handleEvent(e)}),r[qt])}function jn(){Bt.call(this),this.i=new $e(this),this.S=this,this.J=null}function Zn(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new At(e,r);else if(e instanceof At)e.target=e.target||r;else{var a=e;ke(e=new At(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var g=e.g=t[u];a=Ir(g,o,!0,e)&&a}if(a=Ir(g=e.g=r,o,!0,e)&&a,a=Ir(g,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=Ir(g=e.g=t[u],o,!1,e)&&a}function Ir(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var g=e[u];if(g&&!g.fa&&g.capture==t){var A=g.listener,B=g.la||g.src;g.ia&&kt(r.i,g),a=!1!==A.call(B,o)&&a}}return a&&!o.defaultPrevented}lt(jn,Bt),jn.prototype[qr]=!0,jn.prototype.removeEventListener=function(r,e,t,o){Ve(this,r,e,t,o)},jn.prototype.N=function(){if(jn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)ir(t[o]);delete r.g[e],r.h--}}this.J=null},jn.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},jn.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Tt=Ue.JSON.stringify;function pt(){var r=kn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var or,vn=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Sn,r=>r.reset());class Sn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tr(r){Ue.setTimeout(()=>{throw r},0)}function En(r,e){or||function nr(){var r=Ue.Promise.resolve(void 0);or=function(){r.then(qi)}}(),Yn||(or(),Yn=!0),kn.add(r,e)}var Yn=!1,kn=new class Ht{constructor(){this.h=this.g=null}add(e,t){const o=vn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function qi(){for(var r;r=pt();){try{r.h.call(r.g)}catch(t){tr(t)}var e=vn;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Yn=!1}function Mi(r,e){jn.call(this),this.h=r||1,this.g=e||Ue,this.j=we(this.qb,this),this.l=Date.now()}function xi(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function pi(r,e,t){if("function"==typeof r)t&&(r=we(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=we(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ue.setTimeout(r,e||0)}function dn(r){r.g=pi(()=>{r.g=null,r.i&&(r.i=!1,dn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}lt(Mi,jn),(ve=Mi.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(xi(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){Mi.$.N.call(this),xi(this),delete this.g};class Hn extends Bt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dn(this)}N(){super.N(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(r){Bt.call(this),this.h=r,this.g={}}lt(xr,Bt);var gi=[];function ur(r,e,t,o){Array.isArray(t)||(t&&(gi[0]=t.toString()),t=gi);for(var a=0;a<t.length;a++){var u=Pe(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Ur(r){ti(r.g,function(e,t){this.g.hasOwnProperty(t)&&Se(e)},r),r.g={}}function ui(){this.g=!0}function de(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ie(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var g=1;g<a.length;g++)a[g]=""}}}return Tt(t)}catch{return e}}(r,t)+(o?" "+o:"")})}xr.prototype.N=function(){xr.$.N.call(this),Ur(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ui.prototype.Ea=function(){this.g=!1},ui.prototype.info=function(){};var Fe={},Ne=null;function yt(){return Ne=Ne||new jn}function Dt(r){At.call(this,Fe.Ta,r)}function Pt(r){const e=yt();Zn(e,new Dt(e))}function Vt(r,e){At.call(this,Fe.STAT_EVENT,r),this.stat=e}function nn(r){const e=yt();Zn(e,new Vt(e,r))}function Fn(r,e){At.call(this,Fe.Ua,r),this.size=e}function xn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){r()},e)}Fe.Ta="serverreachability",lt(Dt,At),Fe.STAT_EVENT="statevent",lt(Vt,At),Fe.Ua="timingevent",lt(Fn,At);var Xn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Kr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ii(){}function He(){}ii.prototype.h=null;var Wn,dt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ft(){At.call(this,"d")}function Kt(){At.call(this,"c")}function Qn(){}function rr(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new xr(this),this.P=Bi,this.V=new Mi(r=Vr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}lt(Ft,At),lt(Kt,At),lt(Qn,ii),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Wn=new Qn;var Bi=45e3,Ro={},jr={};function so(r,e,t){r.L=1,r.v=Ji(wi(e)),r.s=t,r.S=!0,mi(r,null)}function mi(r,e){r.G=Date.now(),ao(r),r.A=wi(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),ai(t.i,"t",o),r.C=0,t=r.l.I,r.h=new Sr,r.g=$s(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Hn(we(r.Pa,r,r.g),r.O)),ur(r.U,r.g,"readystatechange",r.nb),e=r.I?vr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Pt(),function _r(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var g="",A=u.split("&"),B=0;B<A.length;B++){var z=A[B].split("=");if(1<z.length){var ee=z[0];z=z[1];var Oe=ee.split("_");g=2<=Oe.length&&"type"==Oe[1]?g+(ee+"=")+z+"&":g+(ee+"=redacted&")}}else g=null;else g=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(r.j,r.u,r.A,r.m,r.W,r.s)}function rs(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function _s(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=yi(r,t),a==jr){4==e&&(r.o=4,nn(14),o=!1),de(r.j,r.m,null,"[Incomplete Response]");break}if(a==Ro){r.o=4,nn(15),de(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}de(r.j,r.m,a,null),go(r,a)}rs(r)&&a!=jr&&a!=Ro&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,nn(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.L=!0,nn(11))):(de(r.j,r.m,t,"[Invalid Chunked Response]"),Qi(r),qo(r))}function yi(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?jr:(t=Number(e.substring(t,o)),isNaN(t)?Ro:(o+=1)+t>e.length?jr:(e=e.substr(o,t),r.C=o+t,e))}function ao(r){r.Y=Date.now()+r.P,lo(r,r.P)}function lo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=xn(we(r.lb,r),e)}function Os(r){r.B&&(Ue.clearTimeout(r.B),r.B=null)}function qo(r){0==r.l.H||r.J||Oa(r.l,r)}function Qi(r){Os(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,xi(r.V),Ur(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function go(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Fo(t.h,r)))if(!r.K&&Fo(t.h,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Bs(t),ya(t)}Qs(t),nn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=xn(we(t.ib,t),6e3));if(1>=_i(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Cs(t,11)}else if((r.K||t.g==r)&&Bs(t),!Nt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.J=z[1],t.oa=z[2];const ee=z[3];null!=ee&&(t.qa=ee,t.j.info("VER="+t.qa));const Oe=z[4];null!=Oe&&(t.Ga=Oe,t.j.info("SVER="+t.Ga));const wt=z[5];null!=wt&&"number"==typeof wt&&0<wt&&(t.K=o=1.5*wt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ut=r.g;if(Ut){const sn=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sn){var u=o.h;u.g||-1==sn.indexOf("spdy")&&-1==sn.indexOf("quic")&&-1==sn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(di(u,u.h),u.h=null))}if(o.F){const Mn=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(o.Da=Mn,Ar(o.G,o.F,Mn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var g=r;if((o=t).wa=Ea(o,o.I?o.oa:null,o.Y),g.K){Ys(o.h,g);var A=g,B=o.K;B&&A.setTimeout(B),A.B&&(Os(A),ao(A)),o.g=g}else Xs(o);0<t.i.length&&Zs(t)}else"stop"!=z[0]&&"close"!=z[0]||Cs(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Cs(t,7):Do(t):"noop"!=z[0]&&t.l&&t.l.Aa(z),t.A=0)}Pt()}catch{}}function Ko(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ze(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ia(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ze(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ps(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(ve=rr.prototype).setTimeout=function(r){this.P=r},ve.nb=function(r){r=r.target;const e=this.M;e&&3==Yr(r)?e.l():this.Pa(r)},ve.Pa=function(r){try{if(r==this.g)e:{const ee=Yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||Vr||this.g&&(this.h.h||this.g.ja()||Fs(this.g)))){this.J||4!=ee||7==e||Pt(),Os(this);var t=this.g.da();this.aa=t;t:if(rs(this)){var o=Fs(this.g);r="";var a=o.length,u=4==Yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),qo(this);var g="";break t}this.h.i=new Ue.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function Z(r,e,t,o,a,u,g){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+g})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nt(A)){var z=A;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,nn(12),Qi(this),qo(this);break e}de(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,go(this,t)}this.S?(_s(this,ee,g),Vr&&this.i&&3==ee&&(ur(this.U,this.V,"tick",this.mb),this.V.start())):(de(this.j,this.m,g,null),go(this,g)),4==ee&&Qi(this),this.i&&!this.J&&(4==ee?Oa(this.l,this):(this.i=!1,ao(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),Qi(this),qo(this)}}}catch{}},ve.mb=function(){if(this.g){var r=Yr(this.g),e=this.g.ja();this.C<e.length&&(Os(this),_s(this,r,e),this.i&&4!=r&&ao(this))}},ve.cancel=function(){this.J=!0,Qi(this)},ve.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Re(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pt(),nn(17)),Qi(this),this.o=2,qo(this)):lo(this,this.Y-r)};var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof mo){this.h=void 0!==e?e:r.h,ks(this,r.j),this.s=r.s,this.g=r.g,Yo(this,r.m),this.l=r.l,e=r.i;var t=new ji;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yo(this,t),this.o=r.o}else r&&(t=String(r).match($i))?(this.h=!!e,ks(this,t[1]||"",!0),this.s=vo(t[2]||""),this.g=vo(t[3]||"",!0),Yo(this,t[4]),this.l=vo(t[5]||"",!0),yo(this,t[6]||"",!0),this.o=vo(t[7]||"")):(this.h=!!e,this.i=new ji(null,this.h))}function wi(r){return new mo(r)}function ks(r,e,t){r.j=t?vo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Yo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function yo(r,e,t){e instanceof ji?(r.i=e,function ko(r,e){e&&!r.j&&(si(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(Di(this,o),ai(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=_o(e,Oo)),r.i=new ji(e,r.h))}function Ar(r,e,t){r.i.set(e,t)}function Ji(r){return Ar(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function vo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function _o(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Es),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Es(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}mo.prototype.toString=function(){var r=[],e=this.j;e&&r.push(_o(e,Eo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(_o(e,Eo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(_o(t,"/"==t.charAt(0)?is:Ui,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",_o(t,Is)),r.join("")};var Eo=/[#\/\?@]/g,Ui=/[#\?:]/g,is=/[#\?]/g,Oo=/[#\?@]/g,Is=/#/g;function ji(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function si(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ns(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Di(r,e){si(r),e=No(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Po(r,e){return si(r),e=No(r,e),r.g.has(e)}function ai(r,e,t){Di(r,e),0<t.length&&(r.i=null,r.g.set(No(r,e),Qt(t)),r.h+=t.length)}function No(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ws(r){this.l=r||ma,r=Ue.PerformanceNavigationTiming?0<(r=Ue.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ue.g&&Ue.g.Ka&&Ue.g.Ka()&&Ue.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=ji.prototype).add=function(r,e){si(this),this.i=null,r=No(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(r,e){si(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},ve.sa=function(){si(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},ve.Z=function(r){si(this);let e=[];if("string"==typeof r)Po(this,r)&&(e=e.concat(this.g.get(No(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ve.set=function(r,e){return si(this),this.i=null,Po(this,r=No(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ve.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),g=this.Z(o);for(o=0;o<g.length;o++){var a=u;""!==g[o]&&(a+="="+encodeURIComponent(String(g[o]))),r.push(a)}}return this.i=r.join("&")};var ma=10;function vi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function _i(r){return r.h?1:r.g?r.g.size:0}function Fo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function di(r,e){r.g?r.g.add(e):r.h=e}function Ys(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function co(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Qt(r.i)}function Zo(){}function cs(){this.g=new Zo}function sr(r,e,t){const o=t||"";try{Ko(r,function(a,u){let g=a;Ye(a)&&(g=Tt(a)),e.push(o+u+"="+encodeURIComponent(g))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function Ds(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function ds(r){this.l=r.fc||null,this.j=r.ob||!1}function _(r,e){jn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=U,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ws.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Zo.prototype.stringify=function(r){return Ue.JSON.stringify(r,void 0)},Zo.prototype.parse=function(r){return Ue.JSON.parse(r,void 0)},lt(ds,ii),ds.prototype.g=function(){return new _(this.l,this.j)},ds.prototype.i=function(r){return function(){return r}}({}),lt(_,jn);var U=0;function I(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function $(r){r.readyState=4,r.l=null,r.j=null,r.A=null,re(r)}function re(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ve=_.prototype).open=function(r,e){if(this.readyState!=U)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,re(this)},ve.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$(this)),this.readyState=U},ve.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,re(this)),this.g&&(this.readyState=3,re(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ue.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?$(this):re(this),3==this.readyState&&I(this)}},ve.Za=function(r){this.g&&(this.response=this.responseText=r,$(this))},ve.Ya=function(r){this.g&&(this.response=r,$(this))},ve.ka=function(){this.g&&$(this)},ve.setRequestHeader=function(r,e){this.v.append(r,e)},ve.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var C=Ue.JSON.parse;function x(r){jn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=R,this.L=this.M=!1}lt(x,jn);var R="",q=/^https?$/i,it=["POST","PUT"];function Er(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Cr(r),li(r)}function Cr(r){r.F||(r.F=!0,Zn(r,"complete"),Zn(r,"error"))}function Ri(r){if(r.h&&typeof Ce<"u"&&(!r.C[1]||4!=Yr(r)||2!=r.da()))if(r.v&&4==Yr(r))pi(r.La,0,r);else if(Zn(r,"readystatechange"),4==Yr(r)){r.h=!1;try{const A=r.da();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var a=String(r.I).match($i)[1]||null;if(!a&&Ue.self&&Ue.self.location){var u=Ue.self.location.protocol;a=u.substr(0,u.length-1)}o=!q.test(a?a.toLowerCase():"")}t=o}if(t)Zn(r,"complete"),Zn(r,"success");else{r.m=6;try{var g=2<Yr(r)?r.g.statusText:""}catch{g=""}r.j=g+" ["+r.da()+"]",Cr(r)}}finally{li(r)}}}function li(r,e){if(r.g){Lo(r);const t=r.g,o=r.C[0]?Le:null;r.g=null,r.C=null,e||Zn(r,"ready");try{t.onreadystatechange=o}catch{}}}function Lo(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ue.clearTimeout(r.A),r.A=null)}function Yr(r){return r.g?r.g.readyState:0}function Fs(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case R:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(r){let e="";return ti(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Io(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Oi(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ar(r,e,t))}function wo(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ls(r){this.Ga=0,this.i=[],this.j=new ui,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wo("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wo("baseRetryDelayMs",5e3,r),this.hb=wo("retryDelaySeedMs",1e4,r),this.eb=wo("forwardChannelMaxRetries",2,r),this.xa=wo("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new ws(r&&r.concurrentRequestLimit),this.Ja=new cs,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Do(r){if(oa(r),3==r.H){var e=r.W++,t=wi(r.G);Ar(t,"SID",r.J),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),Xo(r,t),(e=new rr(r,r.j,e,void 0)).L=2,e.v=Ji(wi(t)),t=!1,Ue.navigator&&Ue.navigator.sendBeacon&&(t=Ue.navigator.sendBeacon(e.v.toString(),"")),!t&&Ue.Image&&((new Image).src=e.v,t=!0),t||(e.g=$s(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ao(e)}aa(r)}function ya(r){r.g&&(sa(r),r.g.cancel(),r.g=null)}function oa(r){ya(r),r.u&&(Ue.clearTimeout(r.u),r.u=null),Bs(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Ue.clearTimeout(r.m),r.m=null)}function Zs(r){vi(r.h)||r.m||(r.m=!0,En(r.Na,r),r.C=0)}function Pi(r,e){var t;t=e?e.m:r.W++;const o=wi(r.G);Ar(o,"SID",r.J),Ar(o,"RID",t),Ar(o,"AID",r.V),Xo(r,o),r.o&&r.s&&Io(o,r.o,r.s),t=new rr(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=va(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),di(r.h,t),so(t,o,e)}function Xo(r,e){r.ma&&ti(r.ma,function(t,o){Ar(e,o,t)}),r.l&&Ko({},function(t,o){Ar(e,o,t)})}function va(r,e,t){t=Math.min(r.i.length,t);var o=r.l?we(r.l.Va,r.l,r):null;e:{var a=r.i;let u=-1;for(;;){const g=["count="+t];-1==u?0<t?(u=a[0].h,g.push("ofs="+u)):u=0:g.push("ofs="+u);let A=!0;for(let B=0;B<t;B++){let z=a[B].h;const ee=a[B].g;if(z-=u,0>z)u=Math.max(0,a[B].h-100),A=!1;else try{sr(ee,g,"req"+z+"_")}catch{o&&o(ee)}}if(A){o=g.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,o}function Xs(r){r.g||r.u||(r.ba=1,En(r.Ma,r),r.A=0)}function Qs(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=xn(we(r.Ma,r),bs(r,r.A)),r.A++,0))}function sa(r){null!=r.B&&(Ue.clearTimeout(r.B),r.B=null)}function _a(r){r.g=new rr(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=wi(r.wa);Ar(e,"RID","rpc"),Ar(e,"SID",r.J),Ar(e,"CI",r.M?"0":"1"),Ar(e,"AID",r.V),Ar(e,"TYPE","xmlhttp"),Xo(r,e),r.o&&r.s&&Io(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=Ji(wi(e)),t.s=null,t.S=!0,mi(t,r)}function Bs(r){null!=r.v&&(Ue.clearTimeout(r.v),r.v=null)}function Oa(r,e){var t=null;if(r.g==e){Bs(r),sa(r),r.g=null;var o=2}else{if(!Fo(r.h,e))return;t=e.F,Ys(r.h,e),o=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Zn(o=yt(),new Fn(o,t)),Zs(r)}else Xs(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==o&&function Wl(r,e){return!(_i(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=xn(we(r.Na,r,e),bs(r,r.C)),r.C++,0)))}(r,e)||2==o&&Qs(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Cs(r,5);break;case 4:Cs(r,10);break;case 3:Cs(r,6);break;default:Cs(r,2)}}function bs(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Cs(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=we(r.pb,r);t||(t=new mo("//www.google.com/images/cleardot.gif"),Ue.location&&"http"==Ue.location.protocol||ks(t,"https"),Ji(t)),function us(r,e){const t=new ui;if(Ue.Image){const o=new Image;o.onload=et(Ds,t,o,"TestLoadImage: loaded",!0,e),o.onerror=et(Ds,t,o,"TestLoadImage: error",!1,e),o.onabort=et(Ds,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=et(Ds,t,o,"TestLoadImage: timeout",!1,e),Ue.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else nn(2);r.H=0,r.l&&r.l.za(e),aa(r),oa(r)}function aa(r){if(r.H=0,r.pa=[],r.l){const e=co(r.h);(0!=e.length||0!=r.i.length)&&(ot(r.pa,e),ot(r.pa,r.i),r.h.i.length=0,Qt(r.i),r.i.length=0),r.l.ya()}}function Ea(r,e,t){var o=t instanceof mo?wi(t):new mo(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Yo(o,o.m);else{var a=Ue.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new mo(null,void 0);o&&ks(u,o),e&&(u.g=e),a&&Yo(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Ar(o,t,e),Ar(o,"VER",r.qa),Xo(r,o),o}function $s(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new x(t&&r.Ha&&!r.va?new ds({ob:!0}):r.va)).Oa(r.I),e}function Hi(){}function eo(){if(Jt&&!(10<=Number(Mr)))throw Error("Environmental error: no available transport.")}function Pr(r,e){jn.call(this),this.g=new Ls(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Nt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Qo(this)}function la(r){Ft.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function El(){Kt.call(this),this.status=1}function Qo(r){this.g=r}function Jo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function el(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],g=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;g=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(g<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((u=(e=t+((g=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((a=u+((g=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(g<<21&4294967295|g>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Hr(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(ve=x.prototype).Oa=function(r){this.M=r},ve.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wn.g(),this.C=function tt(r){return r.h||(r.h=r.i())}(this.u?this.u:Wn),this.g.onreadystatechange=we(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Er(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Ue.FormData&&r instanceof Ue.FormData,!(0<=cn(it,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,g]of t)this.g.setRequestHeader(u,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lo(this),0<this.B&&((this.L=function rn(r){return Jt&&function Fr(){return Vn(Gt,9,function(){let r=0;const e=Xt(String(Pn)).split("."),t=Xt("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==r&&g<o;g++){var a=e[g]||"",u=t[g]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;r=on(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||on(0==a[2].length,0==u[2].length)||on(a[2],u[2]),a=a[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=we(this.ua,this)):this.A=pi(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Er(this,u)}},ve.ua=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},ve.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Zn(this,"complete"),Zn(this,"abort"),li(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),li(this,!0)),x.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?Ri(this):this.kb())},ve.kb=function(){Ri(this)},ve.da=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),C(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=Ls.prototype).qa=8,ve.H=1,ve.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new rr(this,this.j,r,void 0);let u=this.s;if(this.U&&(u?(u=vr(u),ke(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=va(this,a,e),Ar(t=wi(this.G),"RID",r),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),Xo(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Oi(u)))+"&"+e:this.o&&Io(t,this.o,u)),di(this.h,a),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),a.ba=!0,so(a,t,null)):so(a,t,e),this.H=2}}else 3==this.H&&(r?Pi(this,r):0==this.i.length||vi(this.h)||Pi(this))},ve.Ma=function(){if(this.u=null,_a(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=xn(we(this.jb,this),r)}},ve.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,nn(10),ya(this),_a(this))},ve.ib=function(){null!=this.v&&(this.v=null,ya(this),Qs(this),nn(19))},ve.pb=function(r){r?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))},(ve=Hi.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.Va=function(){},eo.prototype.g=function(r,e){return new Pr(r,e)},lt(Pr,jn),Pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;nn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=Ea(r,null,r.Y),Zs(r)},Pr.prototype.close=function(){Do(this.g)},Pr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Tt(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Zs(e)},Pr.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,Pr.$.N.call(this)},lt(la,Ft),lt(El,Kt),lt(Qo,Hi),Qo.prototype.Ba=function(){Zn(this.g,"a")},Qo.prototype.Aa=function(r){Zn(this.g,new la(r))},Qo.prototype.za=function(r){Zn(this.g,new El)},Qo.prototype.ya=function(){Zn(this.g,"b")},lt(Jo,function ql(){this.blockSize=-1}),Jo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)el(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){el(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){el(this,o),a=0;break}}this.h=a,this.i+=e},Jo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var tl={};function Ia(r){return-128<=r&&128>r?Vn(tl,r,function(e){return new Hr([0|e],0>e?-1:0)}):new Hr([0|r],0>r?-1:0)}function O(r){if(isNaN(r)||!isFinite(r))return Y;if(0>r)return dr(O(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=k;return new Hr(e,0)}var k=4294967296,Y=Ia(0),ye=Ia(1),Rt=Ia(16777216);function Lt(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function In(r){return-1==r.h}function dr(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Hr(t,~r.h).add(ye)}function wr(r,e){return r.add(dr(e))}function hr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ar(r,e){this.g=r,this.h=e}function oi(r,e){if(Lt(e))throw Error("division by zero");if(Lt(r))return new ar(Y,Y);if(In(r))return e=oi(dr(r),e),new ar(dr(e.g),dr(e.h));if(In(e))return e=oi(r,dr(e)),new ar(dr(e.g),e.h);if(30<r.g.length){if(In(r)||In(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ye,o=e;0>=o.X(r);)t=Zr(t),o=Zr(o);var a=hi(t,1),u=hi(o,1);for(o=hi(o,2),t=hi(t,2);!Lt(o);){var g=u.add(o);0>=g.X(r)&&(a=a.add(t),u=g),o=hi(o,1),t=hi(t,1)}return e=wr(r,a.R(e)),new ar(a,e)}for(a=Y;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),g=(u=O(t)).R(e);In(g)||0<g.X(r);)g=(u=O(t-=o)).R(e);Lt(u)&&(u=ye),a=a.add(u),r=wr(r,g)}return new ar(a,r)}function Zr(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Hr(t,r.h)}function hi(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Hr(a,r.h)}(ve=Hr.prototype).ea=function(){if(In(this))return-dr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:k+o)*e,e*=k}return r},ve.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Lt(this))return"0";if(In(this))return"-"+dr(this).toString(r);for(var e=O(Math.pow(r,6)),t=this,o="";;){var a=oi(t,e).g,u=((0<(t=wr(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Lt(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},ve.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ve.X=function(r){return In(r=wr(this,r))?-1:Lt(r)?0:1},ve.abs=function(){return In(this)?dr(this):this},ve.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),g=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=g>>>16,t[a]=(g&=65535)<<16|(u&=65535)}return new Hr(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(r){if(Lt(this)||Lt(r))return Y;if(In(this))return In(r)?dr(this).R(dr(r)):dr(dr(this).R(r));if(In(r))return dr(this.R(dr(r)));if(0>this.X(Rt)&&0>r.X(Rt))return O(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,g=65535&this.D(o),A=r.D(a)>>>16,B=65535&r.D(a);t[2*o+2*a]+=g*B,hr(t,2*o+2*a),t[2*o+2*a+1]+=u*B,hr(t,2*o+2*a+1),t[2*o+2*a+1]+=g*A,hr(t,2*o+2*a+1),t[2*o+2*a+2]+=u*A,hr(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Hr(t,0)},ve.gb=function(r){return oi(this,r).h},ve.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Hr(t,this.h&r.h)},ve.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Hr(t,this.h|r.h)},ve.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Hr(t,this.h^r.h)},eo.prototype.createWebChannel=eo.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,Kr.COMPLETE="complete",He.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",jn.prototype.listen=jn.prototype.O,x.prototype.listenOnce=x.prototype.P,x.prototype.getLastError=x.prototype.Sa,x.prototype.getLastErrorCode=x.prototype.Ia,x.prototype.getStatus=x.prototype.da,x.prototype.getResponseJson=x.prototype.Wa,x.prototype.getResponseText=x.prototype.ja,x.prototype.send=x.prototype.ha,x.prototype.setWithCredentials=x.prototype.Oa,Jo.prototype.digest=Jo.prototype.l,Jo.prototype.reset=Jo.prototype.reset,Jo.prototype.update=Jo.prototype.j,Hr.prototype.add=Hr.prototype.add,Hr.prototype.multiply=Hr.prototype.R,Hr.prototype.modulo=Hr.prototype.gb,Hr.prototype.compare=Hr.prototype.X,Hr.prototype.toNumber=Hr.prototype.ea,Hr.prototype.toString=Hr.prototype.toString,Hr.prototype.getBits=Hr.prototype.D,Hr.fromNumber=O,Hr.fromString=function G(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return dr(G(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=O(Math.pow(e,8)),o=Y,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),g=parseInt(r.substring(a,a+u),e);8>u?(u=O(Math.pow(e,u)),o=o.R(u).add(O(g))):o=(o=o.R(t)).add(O(g))}return o};var hs=be.createWebChannelTransport=function(){return new eo},Bo=be.getStatEventTarget=function(){return yt()},fs=be.ErrorCode=Xn,zi=be.EventType=Kr,bo=be.Event=Fe,Co=be.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},To=be.FetchXmlHttpFactory=ds,wa=be.WebChannel=He,nl=be.XhrIo=x,Il=be.Md5=Jo,ps=be.Integer=Hr;const Kl="@firebase/firestore";class bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");let es="9.22.0";const $o=new Ge.Yd("@firebase/firestore");function rl(){return $o.logLevel}function en(r,...e){if($o.logLevel<=Ge.in.DEBUG){const t=e.map(Yl);$o.debug(`Firestore (${es}): ${r}`,...t)}}function Ei(r,...e){if($o.logLevel<=Ge.in.ERROR){const t=e.map(Yl);$o.error(`Firestore (${es}): ${r}`,...t)}}function Br(r,...e){if($o.logLevel<=Ge.in.WARN){const t=e.map(Yl);$o.warn(`Firestore (${es}): ${r}`,...t)}}function Yl(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Tn(r="Unexpected state"){const e=`FIRESTORE (${es}) INTERNAL ASSERTION FAILED: `+r;throw Ei(e),new Error(e)}function qn(r,e){r||Tn()}function wn(r,e){return r}const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends Be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vs{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let g=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Rr,e.enqueueRetryable(()=>u(this.currentUser))};const A=()=>{const z=g;e.enqueueRetryable((0,ne.Z)(function*(){yield z.promise,yield u(o.currentUser)}))},B=z=>{en("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(z=>B(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?B(z):(en("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Rr)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(en("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(qn("string"==typeof o.accessToken),new ca(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qn(null===e||"string"==typeof e),new bi(e)}}class su{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zl{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new su(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Da{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ol{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&en("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const g=u.token!==this.T;return this.T=u.token,en("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{en("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):en("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qn("string"==typeof t.token),this.T=t.token,new Da(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uo(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class ua{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=uo(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+=e.charAt(a[u]%e.length))}return o}}function Jn(r,e){return r<e?-1:r>e?1:0}function Us(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function Xl(r){return r+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new jt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new jt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new jt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Nr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ln(e)}static min(){return new Ln(new Nr(0,0))}static max(){return new Ln(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cl{constructor(e,t,o){void 0===t?t=0:t>e.length&&Tn(),void 0===o?o=e.length-t:o>e.length-t&&Tn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Cl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),g=t.get(a);if(u<g)return-1;if(u>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xr extends Cl{construct(e,t,o){return new Xr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new jt(Et.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Xr(t)}static emptyPath(){return new Xr([])}}const ci=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends Cl{construct(e,t,o){return new Ni(e,t,o)}static isValidIdentifier(e){return ci.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new jt(Et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;a<e.length;){const A=e[a];if("\\"===A){if(a+1===e.length)throw new jt(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[a+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new jt(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,a+=2}else"`"===A?(g=!g,a++):"."!==A||g?(o+=A,a++):(u(),a++)}if(u(),g)throw new jt(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(Xr.fromString(e))}static fromName(e){return new gn(Xr.fromString(e).popFirst(5))}static empty(){return new gn(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new Xr(e.slice()))}}class Na{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function Tl(r){return r.fields.find(e=>2===e.kind)}function ka(r){return r.fields.filter(e=>2!==e.kind)}Na.UNKNOWN_ID=-1;class Sl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ql{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ql(0,ki.min())}}function Cc(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=Ln.fromTimestamp(1e9===o?new Nr(t+1,0):new Nr(t,o));return new ki(a,gn.empty(),e)}function Ki(r){return new ki(r.readTime,r.key,-1)}class ki{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ki(Ln.min(),gn.empty(),-1)}static max(){return new ki(Ln.max(),gn.empty(),-1)}}function Fa(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(r.documentKey,e.documentKey),0!==t?t:Jn(r.largestBatchId,e.largestBatchId))}const sl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class os{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function to(r){return Al.apply(this,arguments)}function Al(){return Al=(0,ne.Z)(function*(r){if(r.code!==Et.FAILED_PRECONDITION||r.message!==sl)throw r;en("LocalStore","Unexpectedly lost primary lease")}),Al.apply(this,arguments)}class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof vt?t:vt.resolve(t)}catch(t){return vt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.reject(t)}static resolve(e){return new vt((t,o)=>{t(e)})}static reject(e){return new vt((t,o)=>{o(e)})}static waitFor(e){return new vt((t,o)=>{let a=0,u=0,g=!1;e.forEach(A=>{++a,A.next(()=>{++u,g&&u===a&&t()},B=>o(B))}),g=!0,u===a&&t()})}static or(e){let t=vt.resolve(!1);for(const o of e)t=t.next(a=>a?vt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new vt((o,a)=>{const u=e.length,g=new Array(u);let A=0;for(let B=0;B<u;B++){const z=B;t(e[z]).next(ee=>{g[z]=ee,++A,A===u&&o(g)},ee=>a(ee))}})}static doWhile(e,t){return new vt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class da{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Rr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ha(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=b(o.target.error);this.v.reject(new ha(e,a))}}static open(e,t,o,a){try{return new da(t,e.transaction(a,o))}catch(u){throw new ha(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(en("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Uo(t)}}class Vo{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Vo.S((0,Be.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return en("SimpleDb","Removing database:",e),js(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Be.hl)())return!1;if(Vo.C())return!0;const e=(0,Be.z$)(),t=Vo.S(e),o=0<t&&t<10,a=Vo.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,ne.Z)(function*(){return t.db||(en("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=g=>{o(g.target.result)},u.onblocked=()=>{a(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=g=>{const A=g.target.error;a("VersionError"===A.name?new jt(Et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new jt(Et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new ha(e,A))},u.onupgradeneeded=g=>{en("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.V.O(g.target.result,u.transaction,g.oldVersion,t.version).next(()=>{en("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,ne.Z)(function*(){const g="readonly"===t;let A=0;for(;;){++A;try{u.db=yield u.$(e);const B=da.open(u.db,e,g?"readonly":"readwrite",o),z=a(B).next(ee=>(B.P(),ee)).catch(ee=>(B.abort(ee),vt.reject(ee))).toPromise();return z.catch(()=>{}),yield B.R,z}catch(B){const z=B,ee="FirebaseError"!==z.name&&A<3;if(en("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ee),u.close(),!ee)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Tc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return js(this.L.delete())}}class ha extends jt{constructor(e,t){super(Et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gs(r){return"IndexedDbTransactionError"===r.name}class Uo{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(en("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(en("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),js(o)}add(e){return en("SimpleDb","ADD",this.store.name,e,e),js(this.store.add(e))}get(e){return js(this.store.get(e)).next(t=>(void 0===t&&(t=null),en("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return en("SimpleDb","DELETE",this.store.name,e),js(this.store.delete(e))}count(){return en("SimpleDb","COUNT",this.store.name),js(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(g,A)=>{u.push(A)}).next(()=>u)}{const a=this.store.getAll(o.range);return new vt((u,g)=>{a.onerror=A=>{g(A.target.error)},a.onsuccess=A=>{u(A.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new vt((a,u)=>{o.onerror=g=>{u(g.target.error)},o.onsuccess=g=>{a(g.target.result)}})}J(e,t){en("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,g,A)=>A.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new vt((o,a)=>{t.onerror=u=>{const g=b(u.target.error);a(g)},t.onsuccess=u=>{const g=u.target.result;g?e(g.primaryKey,g.value).next(A=>{A?g.continue():o()}):o()}})}W(e,t){const o=[];return new vt((a,u)=>{e.onerror=g=>{u(g.target.error)},e.onsuccess=g=>{const A=g.target.result;if(!A)return void a();const B=new Tc(A),z=t(A.primaryKey,A.value,B);if(z instanceof vt){const ee=z.catch(Oe=>(B.done(),vt.reject(Oe)));o.push(ee)}B.isDone?a():null===B.K?A.continue():A.continue(B.K)}}).next(()=>vt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function js(r){return new vt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=b(o.target.error);t(a)}})}let w=!1;function b(r){const e=Vo.S((0,Be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return w||(w=!0,setTimeout(()=>{throw o},0)),o}}return r}class y{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;en("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ne.Z)(function*(){t.task=null;try{en("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){gs(o)?en("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield to(o)}yield t.et(6e4)}))}}class S{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return vt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return en("IndexBackiller",`Processing collection: ${g}`),this.it(e,g,a).next(A=>{a-=A,o.add(g)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const g=u.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.rt(a,u)).next(A=>(en("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,t,A))).next(()=>g.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const g=Ki(u);Fa(g,o)>0&&(o=g)}),new ki(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let L=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function K(r){return null==r}function Q(r){return 0===r&&1/r==-1/0}function Ke(r){return"number"==typeof r&&Number.isInteger(r)&&!Q(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function It(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=An(e)),e=tn(r.get(t),e);return An(e)}function tn(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function An(r){return r+"\x01\x01"}function mn(r){const e=r.length;if(qn(e>=2),2===e)return qn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Xr.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const g=r.indexOf("\x01",u);switch((g<0||g>t)&&Tn(),r.charAt(g+1)){case"\x01":const A=r.substring(u,g);let B;0===a.length?B=A:(a+=A,B=a,a=""),o.push(B);break;case"\x10":a+=r.substring(u,g),a+="\0";break;case"\x11":a+=r.substring(u,g+1);break;default:Tn()}u=g+2}return new Xr(o)}const zr=["userId","batchId"];function Ci(r,e){return[r,It(e)]}function no(r,e,t){return[r,It(e),t]}const Ts={},ts=["prefixPath","collectionGroup","readTime","documentId"],jo=["prefixPath","collectionGroup","documentId"],Ss=["collectionGroup","readTime","prefixPath","documentId"],Sc=["canonicalId","targetId"],ss=["targetId","path"],Ac=["path","targetId"],al=["collectionId","parent"],Ml=["indexId","uid"],Yh=["uid","sequenceNumber"],Xu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qu=["indexId","uid","orderedDocumentKey"],au=["userId","collectionPath","documentId"],Wd=["userId","collectionPath","largestBatchId"],qd=["userId","collectionGroup","largestBatchId"],Mc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kd=[...Mc,"documentOverlays"],Jl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ec=Jl,Yd=[...ec,"indexConfiguration","indexState","indexEntries"];class lu extends os{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ho(r,e){const t=wn(r);return Vo.M(t.ht,e)}function cu(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class fi{constructor(e,t){this.comparator=e,this.root=t||ro.EMPTY}insert(e,t){return new fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ta(this.root,e,this.comparator,!0)}}class Ta{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=null!=o?o:ro.RED,this.left=null!=a?a:ro.EMPTY,this.right=null!=u?u:ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new ro(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=a?a:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ro.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tn();const e=this.left.check();if(e!==this.right.check())throw Tn();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Tn()}get value(){throw Tn()}get color(){throw Tn()}get left(){throw Tn()}get right(){throw Tn()}copy(r,e,t,o,a){return this}insert(r,e,t){return new ro(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ll(this.data.getIterator())}getIteratorFrom(e){return new ll(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ti(this.comparator);return t.data=e,t}}class ll{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(r){return r.hasNext()?r.getNext():void 0}class ns{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new ns([])}unionWith(e){let t=new Ti(Ni.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class uu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uu("Invalid base64 string: "+a):a}}(e);return new fo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new fo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const Xh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(r){if(qn(!!r),"string"==typeof r){let e=0;const t=Xh.exec(r);if(qn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Fi(r.seconds),nanos:Fi(r.nanos)}}function Fi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ho(r){return"string"==typeof r?fo.fromBase64String(r):fo.fromUint8Array(r)}function xl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nc(r){const e=r.mapValue.fields.__previous_value__;return xl(e)?nc(e):e}function as(r){const e=Sa(r.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class cl{constructor(e,t,o,a,u,g,A,B,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=g,this.autoDetectLongPolling=A,this.longPollingOptions=B,this.useFetchStreams=z}}class Js{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Js&&e.projectId===this.projectId&&e.database===this.database}}const ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xc={nullValue:"NULL_VALUE"};function Aa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xl(r)?4:pr(r)?9007199254740991:10:Tn()}function ea(r,e){if(r===e)return!0;const t=Aa(r);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return as(r).isEqual(as(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Sa(o.timestampValue),g=Sa(a.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ho(r.bytesValue).isEqual(Ho(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return Fi(o.geoPointValue.latitude)===Fi(a.geoPointValue.latitude)&&Fi(o.geoPointValue.longitude)===Fi(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Fi(o.integerValue)===Fi(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Fi(o.doubleValue),g=Fi(a.doubleValue);return u===g?Q(u)===Q(g):isNaN(u)&&isNaN(g)}return!1}(r,e);case 9:return Us(r.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:return function(o,a){const u=o.mapValue.fields||{},g=a.mapValue.fields||{};if(cu(u)!==cu(g))return!1;for(const A in u)if(u.hasOwnProperty(A)&&(void 0===g[A]||!ea(u[A],g[A])))return!1;return!0}(r,e);default:return Tn()}var a}function rc(r,e){return void 0!==(r.values||[]).find(t=>ea(t,e))}function Ba(r,e){if(r===e)return 0;const t=Aa(r),o=Aa(e);if(t!==o)return Jn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const g=Fi(a.integerValue||a.doubleValue),A=Fi(u.integerValue||u.doubleValue);return g<A?-1:g>A?1:g===A?0:isNaN(g)?isNaN(A)?0:-1:1}(r,e);case 3:return Ju(r.timestampValue,e.timestampValue);case 4:return Ju(as(r),as(e));case 5:return Jn(r.stringValue,e.stringValue);case 6:return function(a,u){const g=Ho(a),A=Ho(u);return g.compareTo(A)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const g=a.split("/"),A=u.split("/");for(let B=0;B<g.length&&B<A.length;B++){const z=Jn(g[B],A[B]);if(0!==z)return z}return Jn(g.length,A.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const g=Jn(Fi(a.latitude),Fi(u.latitude));return 0!==g?g:Jn(Fi(a.longitude),Fi(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const g=a.values||[],A=u.values||[];for(let B=0;B<g.length&&B<A.length;++B){const z=Ba(g[B],A[B]);if(z)return z}return Jn(g.length,A.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===ms.mapValue&&u===ms.mapValue)return 0;if(a===ms.mapValue)return 1;if(u===ms.mapValue)return-1;const g=a.fields||{},A=Object.keys(g),B=u.fields||{},z=Object.keys(B);A.sort(),z.sort();for(let ee=0;ee<A.length&&ee<z.length;++ee){const Oe=Jn(A[ee],z[ee]);if(0!==Oe)return Oe;const wt=Ba(g[A[ee]],B[z[ee]]);if(0!==wt)return wt}return Jn(A.length,z.length)}(r.mapValue,e.mapValue);default:throw Tn()}}function Ju(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Jn(r,e);const t=Sa(r),o=Sa(e),a=Jn(t.seconds,o.seconds);return 0!==a?a:Jn(t.nanos,o.nanos)}function T(r){return P(r)}function P(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=Sa(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ho(r.bytesValue).toBase64():"referenceValue"in r?gn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const g of o.values||[])u?u=!1:a+=",",a+=P(g);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",g=!0;for(const A of a)g?g=!1:u+=",",u+=`${A}:${P(o.fields[A])}`;return u+"}"}(r.mapValue):Tn();var e}function fe(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Je(r){return!!r&&"integerValue"in r}function ht(r){return!!r&&"arrayValue"in r}function Mt(r){return!!r&&"nullValue"in r}function _n(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pn(r){return!!r&&"mapValue"in r}function Un(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ca(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Un(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Un(r.arrayValue.values[t]);return e}return Object.assign({},r)}function pr(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function mr(r){return"nullValue"in r?xc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?fe(Js.empty(),gn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Tn()}function Hs(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?fe(Js.empty(),gn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ms:Tn()}function Yi(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ul(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!pn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Un(t)}setAll(e){let t=Ni.emptyPath(),o={},a=[];e.forEach((g,A)=>{if(!t.isImmediateParentOf(A)){const B=this.getFieldsMap(t);this.applyChanges(B,o,a),o={},a=[],t=A.popLast()}g?o[A.lastSegment()]=Un(g):a.push(A.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());pn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];pn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){Ca(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new io(Un(this.value))}}function $a(r){const e=[];return Ca(r.fields,(t,o)=>{const a=new Ni([t]);if(pn(o)){const u=$a(o.mapValue).fields;if(0===u.length)e.push(a);else for(const g of u)e.push(a.child(g))}else e.push(a)}),new ns(e)}class Qr{constructor(e,t,o,a,u,g,A){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=g,this.documentState=A}static newInvalidDocument(e){return new Qr(e,0,Ln.min(),Ln.min(),Ln.min(),io.empty(),0)}static newFoundDocument(e,t,o,a){return new Qr(e,1,t,Ln.min(),o,a,0)}static newNoDocument(e,t){return new Qr(e,2,t,Ln.min(),Ln.min(),io.empty(),0)}static newUnknownDocument(e,t){return new Qr(e,3,t,Ln.min(),Ln.min(),io.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class So{constructor(e,t){this.position=e,this.inclusive=t}}function ic(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],g=r.position[a];if(o=u.field.isKeyField()?gn.comparator(gn.fromName(g.referenceValue),t.key):Ba(g,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function ed(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ea(r.position[t],e.position[t]))return!1;return!0}class Va{constructor(e,t="asc"){this.field=e,this.dir=t}}function bm(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class td{}class $r extends td{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Np(e,t,o):"array-contains"===t?new ef(e,o):"in"===t?new Rc(e,o):"not-in"===t?new tf(e,o):"array-contains-any"===t?new hu(e,o):new $r(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Cm(e,o):new oc(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&Aa(this.value)===Aa(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Jr extends td{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Jr(e,t)}matches(e){return Rl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rl(r){return"and"===r.op}function dl(r){return"or"===r.op}function du(r){return Zd(r)&&Rl(r)}function Zd(r){for(const e of r.filters)if(e instanceof Jr)return!1;return!0}function Xd(r){if(r instanceof $r)return r.field.canonicalString()+r.op.toString()+T(r.value);if(du(r))return r.filters.map(e=>Xd(e)).join(",");{const e=r.filters.map(t=>Xd(t)).join(",");return`${r.op}(${e})`}}function nd(r,e){return r instanceof $r?(t=r,(o=e)instanceof $r&&t.op===o.op&&t.field.isEqual(o.field)&&ea(t.value,o.value)):r instanceof Jr?function(t,o){return o instanceof Jr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,g)=>a&&nd(u,o.filters[g]),!0)}(r,e):void Tn();var t,o}function Qh(r,e){const t=r.filters.concat(e);return Jr.create(t,r.op)}function Qd(r){return r instanceof $r?`${(e=r).field.canonicalString()} ${e.op} ${T(e.value)}`:r instanceof Jr?function(e){return e.op.toString()+" {"+e.getFilters().map(Qd).join(" ,")+"}"}(r):"Filter";var e}class Np extends $r{constructor(e,t,o){super(e,t,o),this.key=gn.fromName(o.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cm extends $r{constructor(e,t){super(e,"in",t),this.keys=Jh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oc extends $r{constructor(e,t){super(e,"not-in",t),this.keys=Jh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>gn.fromName(o.referenceValue))}class ef extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ht(t)&&rc(t.arrayValue,this.value)}}class Rc extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rc(this.value.arrayValue,t)}}class tf extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rc(this.value.arrayValue,t)}}class hu extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ht(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>rc(this.value.arrayValue,o))}}class kp{constructor(e,t=null,o=[],a=[],u=null,g=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=g,this.endAt=A,this.dt=null}}function Jd(r,e=null,t=[],o=[],a=null,u=null,g=null){return new kp(r,e,t,o,a,u,g)}function Ua(r){const e=wn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Xd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),K(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>T(o)).join(",")),e.dt=t}return e.dt}function Oc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!bm(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!nd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ed(r.startAt,e.startAt)&&ed(r.endAt,e.endAt)}function ja(r){return gn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function sc(r,e){return r.filters.filter(t=>t instanceof $r&&t.field.isEqual(e))}function eh(r,e,t){let o=xc,a=!0;for(const u of sc(r,e)){let g=xc,A=!0;switch(u.op){case"<":case"<=":g=mr(u.value);break;case"==":case"in":case">=":g=u.value;break;case">":g=u.value,A=!1;break;case"!=":case"not-in":g=xc}Yi({value:o,inclusive:a},{value:g,inclusive:A})<0&&(o=g,a=A)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const g=t.position[u];Yi({value:o,inclusive:a},{value:g,inclusive:t.inclusive})<0&&(o=g,a=t.inclusive);break}return{value:o,inclusive:a}}function nf(r,e,t){let o=ms,a=!0;for(const u of sc(r,e)){let g=ms,A=!0;switch(u.op){case">=":case">":g=Hs(u.value),A=!1;break;case"==":case"in":case"<=":g=u.value;break;case"<":g=u.value,A=!1;break;case"!=":case"not-in":g=ms}ul({value:o,inclusive:a},{value:g,inclusive:A})>0&&(o=g,a=A)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const g=t.position[u];ul({value:o,inclusive:a},{value:g,inclusive:t.inclusive})>0&&(o=g,a=t.inclusive);break}return{value:o,inclusive:a}}class Ol{constructor(e,t=null,o=[],a=[],u=null,g="F",A=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=g,this.startAt=A,this.endAt=B,this.wt=null,this._t=null}}function fu(r,e,t,o,a,u,g,A){return new Ol(r,e,t,o,a,u,g,A)}function Pc(r){return new Ol(r)}function rd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Nc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function pu(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function gu(r){return null!==r.collectionGroup}function Ha(r){const e=wn(r);if(null===e.wt){e.wt=[];const t=pu(e),o=Nc(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Va(t)),e.wt.push(new Va(Ni.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Va(Ni.keyField(),u))}}}return e.wt}function Ao(r){const e=wn(r);if(!e._t)if("F"===e.limitType)e._t=Jd(e.path,e.collectionGroup,Ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ha(e))t.push(new Va(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new So(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new So(e.startAt.position,e.startAt.inclusive):null;e._t=Jd(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function kc(r,e){e.getFirstInequalityField(),pu(r);const t=r.filters.concat([e]);return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mu(r,e,t){return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function za(r,e){return Oc(Ao(r),Ao(e))&&r.limitType===e.limitType}function id(r){return`${Ua(Ao(r))}|lt:${r.limitType}`}function yu(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Qd(o)).join(", ")}]`),K(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>T(o)).join(",")),`Target(${t})`}(Ao(r))}; limitType=${r.limitType})`}function hl(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):gn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of Ha(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,g){const A=ic(a,u,g);return a.inclusive?A<=0:A<0}(t.startAt,Ha(t),o)||t.endAt&&!function(a,u,g){const A=ic(a,u,g);return a.inclusive?A>=0:A>0}(t.endAt,Ha(t),o)));var t,o}function th(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nh(r){return(e,t)=>{let o=!1;for(const a of Ha(r)){const u=Fp(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function Fp(r,e,t){const o=r.field.isKeyField()?gn.comparator(e.key,t.key):function(a,u,g){const A=u.data.field(a),B=g.data.field(a);return null!==A&&null!==B?Ba(A,B):Tn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Tn()}}class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return tc(this.inner)}size(){return this.innerSize}}const Lp=new fi(gn.comparator);function zo(){return Lp}const rh=new fi(gn.comparator);function pl(...r){let e=rh;for(const t of r)e=e.insert(t.key,t);return e}function od(r){let e=rh;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function As(){return vu()}function rf(){return vu()}function vu(){return new fl(r=>r.toString(),(r,e)=>r.isEqual(e))}const Bp=new fi(gn.comparator),ih=new Ti(gn.comparator);function Dr(...r){let e=ih;for(const t of r)e=e.add(t);return e}const sf=new Ti(Jn);function sd(){return sf}function ac(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q(e)?"-0":e}}function ad(r){return{integerValue:""+r}}function Ms(r,e){return Ke(e)?ad(e):ac(r,e)}class gl{constructor(){this._=void 0}}function oh(r,e,t){return r instanceof Pl?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&xl(a)&&(a=nc(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof cc?sh(r,e):r instanceof uc?ls(r,e):function(o,a){const u=ld(o,a),g=af(u)+af(o.gt);return Je(u)&&Je(o.gt)?ad(g):ac(o.serializer,g)}(r,e)}function lc(r,e,t){return r instanceof cc?sh(r,e):r instanceof uc?ls(r,e):t}function ld(r,e){return r instanceof fa?Je(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Pl extends gl{}class cc extends gl{constructor(e){super(),this.elements=e}}function sh(r,e){const t=lf(e);for(const o of r.elements)t.some(a=>ea(a,o))||t.push(o);return{arrayValue:{values:t}}}class uc extends gl{constructor(e){super(),this.elements=e}}function ls(r,e){let t=lf(e);for(const o of r.elements)t=t.filter(a=>!ea(a,o));return{arrayValue:{values:t}}}class fa extends gl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function af(r){return Fi(r.integerValue||r.doubleValue)}function lf(r){return ht(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _u{constructor(e,t){this.field=e,this.transform=t}}class zs{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class cd{}function Ga(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new v(r.key,Li.none()):new pa(r.key,r.data,Li.none());{const t=r.data,o=io.empty();let a=new Ti(Ni.comparator);for(let u of e.fields)if(!a.has(u)){let g=t.field(u);null===g&&u.length>1&&(u=u.popLast(),g=t.field(u)),null===g?o.delete(u):o.set(u,g),a=a.add(u)}return new qa(r.key,o,new ns(a.toArray()),Li.none())}}function Eu(r,e,t){r instanceof pa?function(o,a,u){const g=o.value.clone(),A=lh(o.fieldTransforms,a,u.transformResults);g.setAll(A),a.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,e,t):r instanceof qa?function(o,a,u){if(!dc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const g=lh(o.fieldTransforms,a,u.transformResults),A=a.data;A.setAll(ah(o)),A.setAll(g),a.convertToFoundDocument(u.version,A).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fc(r,e,t,o){return r instanceof pa?function(a,u,g,A){if(!dc(a.precondition,u))return g;const B=a.value.clone(),z=$p(a.fieldTransforms,A,u);return B.setAll(z),u.convertToFoundDocument(u.version,B).setHasLocalMutations(),null}(r,e,t,o):r instanceof qa?function(a,u,g,A){if(!dc(a.precondition,u))return g;const B=$p(a.fieldTransforms,A,u),z=u.data;return z.setAll(ah(a)),z.setAll(B),u.convertToFoundDocument(u.version,z).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(r,e,t,o):(g=t,dc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g);var u,g}function Iu(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=ld(o.transform,a||null);null!=u&&(null===t&&(t=io.empty()),t.set(o.field,u))}return t||null}function Wa(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Us(t,o,(a,u)=>function cf(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof cc&&o instanceof cc||t instanceof uc&&o instanceof uc?Us(t.elements,o.elements,ea):t instanceof fa&&o instanceof fa?ea(t.gt,o.gt):t instanceof Pl&&o instanceof Pl);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class pa extends cd{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qa extends cd{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ah(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function lh(r,e,t){const o=new Map;qn(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],g=u.transform,A=e.data.field(u.field);o.set(u.field,lc(g,A,t[a]))}return o}function $p(r,e,t){const o=new Map;for(const a of r){const u=a.transform,g=t.data.field(a.field);o.set(a.field,oh(u,g,e))}return o}class v extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Eu(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Fc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Fc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=rf();return this.mutations.forEach(a=>{const u=e.get(a.key),g=u.overlayedDocument;let A=this.applyToLocalView(g,u.mutatedFields);A=t.has(a.key)?null:A;const B=Ga(g,A);null!==B&&o.set(a.key,B),g.isValidDocument()||g.convertToNoDocument(Ln.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dr())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(t,o)=>Wa(t,o))&&Us(this.baseMutations,e.baseMutations,(t,o)=>Wa(t,o))}}class D{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){qn(e.mutations.length===o.length);let a=Bp;const u=e.mutations;for(let g=0;g<u.length;g++)a=a.insert(u[g].key,o[g].version);return new D(e,t,o,a)}}class V{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ze{constructor(e,t){this.count=e,this.unchangedNames=t}}var ct,$t;function yn(r){switch(r){default:return Tn();case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0}}function Bn(r){if(void 0===r)return Ei("GRPC error has no .code"),Et.UNKNOWN;switch(r){case ct.OK:return Et.OK;case ct.CANCELLED:return Et.CANCELLED;case ct.UNKNOWN:return Et.UNKNOWN;case ct.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case ct.INTERNAL:return Et.INTERNAL;case ct.UNAVAILABLE:return Et.UNAVAILABLE;case ct.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case ct.NOT_FOUND:return Et.NOT_FOUND;case ct.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case ct.ABORTED:return Et.ABORTED;case ct.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case ct.DATA_LOSS:return Et.DATA_LOSS;default:return Tn()}}($t=ct||(ct={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class $n{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ii}static getOrCreateInstance(){return null===Ii&&(Ii=new $n),Ii}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ii=null;function ta(){return new TextEncoder}const Lc=new ps([4294967295,4294967295],0);function ch(r){const e=ta().encode(r),t=new Il;return t.update(e),new Uint8Array(t.digest())}function Gi(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([t,o],0),new ps([a,u],0)]}class ud{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Bc(`Invalid padding: ${t}`);if(o<0)throw new Bc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Bc(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new Bc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ps.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(ps.fromNumber(o)));return 1===a.compare(Lc)&&(a=new ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ch(e),[o,a]=Gi(t);for(let u=0;u<this.hashCount;u++){const g=this.Et(o,a,u);if(!this.At(g))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),g=new ud(u,a,t);return o.forEach(A=>g.insert(A)),g}insert(e){if(0===this.It)return;const t=ch(e),[o,a]=Gi(t);for(let u=0;u<this.hashCount;u++){const g=this.Et(o,a,u);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ml{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new ml(Ln.min(),a,new fi(Jn),zo(),Dr())}}class hc{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new hc(o,t,Dr(),Dr(),Dr())}}class wu{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class dd{constructor(e,t){this.targetId=e,this.Vt=t}}class uh{constructor(e,t,o=fo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class uf{constructor(){this.St=0,this.Dt=Av(),this.Ct=fo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dr(),t=Dr(),o=Dr();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:Tn()}}),new hc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=Av()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=zo(),this.zt=Vp(),this.Wt=new fi(Jn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:Tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const g=u.target;if(ja(g))if(0===a){const A=new gn(g.path);this.Yt(o,A,Qr.newNoDocument(A,Ln.min()))}else qn(1===a);else{const A=this.ie(o);if(A!==a){const B=this.re(e,A);0!==B&&(this.ee(o),this.Wt=this.Wt.insert(o,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=$n.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,ee,Oe){var wt,Ut,sn,Mn,On,br;const ni={localCacheCount:ee,existenceFilterCount:Oe.count},kr=Oe.unchangedNames;return kr&&(ni.bloomFilter={applied:0===z,hashCount:null!==(wt=null==kr?void 0:kr.hashCount)&&void 0!==wt?wt:0,bitmapLength:null!==(Mn=null===(sn=null===(Ut=null==kr?void 0:kr.bits)||void 0===Ut?void 0:Ut.bitmap)||void 0===sn?void 0:sn.length)&&void 0!==Mn?Mn:0,padding:null!==(br=null===(On=null==kr?void 0:kr.bits)||void 0===On?void 0:On.padding)&&void 0!==br?br:0}),ni}(B,A,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:g=0},hashCount:A=0}=o;let B,z;try{B=Ho(u).toUint8Array()}catch(ee){if(ee instanceof uu)return Br("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{z=new ud(B,g,A)}catch(ee){return Br(ee instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===z.It?1:a!==t-this.oe(e.targetId,z)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const g=this.Gt.ue(),A=`projects/${g.projectId}/databases/${g.database}/documents/${u.path.canonicalString()}`;t.vt(A)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,g)=>{const A=this.se(g);if(A){if(u.current&&ja(A.target)){const B=new gn(A.target.path);null!==this.jt.get(B)||this.ae(g,B)||this.Yt(g,B,Qr.newNoDocument(B,e))}u.Mt&&(t.set(g,u.Ot()),u.Ft())}});let o=Dr();this.zt.forEach((u,g)=>{let A=!0;g.forEachWhile(B=>{const z=this.se(B);return!z||"TargetPurposeLimboResolution"===z.purpose||(A=!1,!1)}),A&&(o=o.add(u))}),this.jt.forEach((u,g)=>g.setReadTime(e));const a=new ml(e,t,this.Wt,this.jt,o);return this.jt=zo(),this.zt=Vp(),this.Wt=new fi(Jn),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new uf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ti(Jn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||en("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new uf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vp(){return new fi(gn.comparator)}function Av(){return new fi(gn.comparator)}const dh={asc:"ASCENDING",desc:"DESCENDING"},Up={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tm={and:"AND",or:"OR"};class Sm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function df(r,e){return r.useProto3Json||K(e)?e:{value:e}}function fd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Am(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Mm(r,e){return fd(r,e.toTimestamp())}function Mo(r){return qn(!!r),Ln.fromTimestamp(function(e){const t=Sa(e);return new Nr(t.seconds,t.nanos)}(r))}function hh(r,e){return(t=r,new Xr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Mv(r){const e=Xr.fromString(r);return qn(Nm(e)),e}function Du(r,e){return hh(r.databaseId,e.path)}function Nl(r,e){const t=Mv(e);if(t.get(1)!==r.databaseId.projectId)throw new jt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new jt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new gn($c(t))}function fh(r,e){return hh(r.databaseId,e)}function jp(r){const e=Mv(r);return 4===e.length?Xr.emptyPath():$c(e)}function pd(r){return new Xr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $c(r){return qn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function xm(r,e,t){return{name:Du(r,e),fields:t.value.mapValue.fields}}function hf(r,e,t){const o=Nl(r,e.name),a=Mo(e.updateTime),u=e.createTime?Mo(e.createTime):Ln.min(),g=new io({mapValue:{fields:e.fields}}),A=Qr.newFoundDocument(o,a,u,g);return t&&A.setHasCommittedMutations(),t?A.setHasCommittedMutations():A}function bu(r,e){let t;if(e instanceof pa)t={update:xm(r,e.key,e.value)};else if(e instanceof v)t={delete:Du(r,e.key)};else if(e instanceof qa)t={update:xm(r,e.key,e.data),updateMask:Pm(e.fieldMask)};else{if(!(e instanceof d))return Tn();t={verify:Du(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const g=u.transform;if(g instanceof Pl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fa)return{fieldPath:u.field.canonicalString(),increment:g.gt};throw Tn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Mm(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Tn()),t;var a}function gd(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Li.updateTime(Mo(a.updateTime)):void 0!==a.exists?Li.exists(a.exists):Li.none():Li.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,g){let A=null;"setToServerValue"in g?(qn("REQUEST_TIME"===g.setToServerValue),A=new Pl):"appendMissingElements"in g?A=new cc(g.appendMissingElements.values||[]):"removeAllFromArray"in g?A=new uc(g.removeAllFromArray.values||[]):"increment"in g?A=new fa(u,g.increment):Tn();const B=Ni.fromServerFormat(g.fieldPath);return new _u(B,A)}(r,a)):[];var a;if(e.update){const a=Nl(r,e.update.name),u=new io({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new ns((e.updateMask.fieldPaths||[]).map(z=>Ni.fromServerFormat(z)));return new qa(a,u,g,t,o)}return new pa(a,u,t,o)}if(e.delete){const a=Nl(r,e.delete);return new v(a,t)}if(e.verify){const a=Nl(r,e.verify);return new d(a,t)}return Tn()}function Hp(r,e){return{documents:[fh(r,e.path)]}}function ph(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=fh(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fh(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(B){if(0!==B.length)return Om(Jr.create(B,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(B){if(0!==B.length)return B.map(z=>{return{field:Vc((ee=z).field),direction:md(ee.dir)};var ee})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const g=df(r,e.limit);var A,B;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function Rm(r){let e=jp(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){qn(1===o);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let u=[];t.where&&(u=function(ee){const Oe=zp(ee);return Oe instanceof Jr&&du(Oe)?Oe.getFilters():[Oe]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ee=>{return new Va(Uc((Oe=ee).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Oe.direction));var Oe}));let A=null;t.limit&&(A=function(ee){let Oe;return Oe="object"==typeof ee?ee.value:ee,K(Oe)?null:Oe}(t.limit));let B=null;var ee;t.startAt&&(B=new So((ee=t.startAt).values||[],!!ee.before));let z=null;return t.endAt&&(z=function(ee){return new So(ee.values||[],!ee.before)}(t.endAt)),fu(e,a,g,u,A,"F",B,z)}function zp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Uc(e.unaryFilter.field);return $r.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Uc(e.unaryFilter.field);return $r.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uc(e.unaryFilter.field);return $r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Uc(e.unaryFilter.field);return $r.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Tn()}}(r):void 0!==r.fieldFilter?$r.create(Uc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Jr.create(e.compositeFilter.filters.map(t=>zp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Tn()}}(e.compositeFilter.op))}(r):Tn();var e}function md(r){return dh[r]}function Ov(r){return Up[r]}function Pv(r){return Tm[r]}function Vc(r){return{fieldPath:r.canonicalString()}}function Uc(r){return Ni.fromServerFormat(r.fieldPath)}function Om(r){return r instanceof $r?function(e){if("=="===e.op){if(_n(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NAN"}};if(Mt(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_n(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NAN"}};if(Mt(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(e.field),op:Ov(e.op),value:e.value}}}(r):r instanceof Jr?function(e){const t=e.getFilters().map(o=>Om(o));return 1===t.length?t[0]:{compositeFilter:{op:Pv(e.op),filters:t}}}(r):Tn()}function Pm(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class kl{constructor(e,t,o,a,u=Ln.min(),g=Ln.min(),A=fo.EMPTY_BYTE_STRING,B=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=A,this.expectedCount=B}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nv{constructor(e){this.fe=e}}function yd(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Du(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:fd(a,u.version.toTimestamp()),createTime:fd(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ka(e.version)};else{if(!e.isUnknownDocument())return Tn();o.unknownDocument={path:t.path.toArray(),version:Ka(e.version)}}var a,u;return o}function pf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ka(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(r){const e=new Nr(r.seconds,r.nanoseconds);return Ln.fromTimestamp(e)}function Tu(r,e){const t=(e.baseMutations||[]).map(u=>gd(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>gd(r.fe,u)),a=Nr.fromMillis(e.localWriteTimeMs);return new f(e.batchId,a,t,o)}function vd(r){const e=yl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?yl(r.lastLimboFreeSnapshotVersion):Ln.min();let o;var a;return void 0!==r.query.documents?(qn(1===(a=r.query).documents.length),o=Ao(Pc(jp(a.documents[0])))):o=Ao(Rm(r.query)),new kl(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,fo.fromBase64String(r.resumeToken))}function km(r,e){const t=Ka(e.snapshotVersion),o=Ka(e.lastLimboFreeSnapshotVersion);let a;a=ja(e.target)?Hp(r.fe,e.target):ph(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ua(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function Gp(r){const e=Rm({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?mu(e,e.limit,"L"):e}function Wp(r,e){return new V(e.largestBatchId,gd(r.fe,e.overlayMutation))}function qp(r,e){const t=e.path.lastSegment();return[r,It(e.path.popLast()),t]}function Kp(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ka(o.readTime),documentKey:It(o.documentKey.path),largestBatchId:o.largestBatchId}}class Yp{getBundleMetadata(e,t){return gf(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:yl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return gf(e).put({bundleId:(o=t).id,createTime:Ka(Mo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Fm(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:Gp(a.bundledQuery),readTime:yl(a.readTime)};var a})}saveNamedQuery(e,t){return Fm(e).put({name:(o=t).name,readTime:Ka(Mo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function gf(r){return ho(r,"bundles")}function Fm(r){return ho(r,"namedQueries")}class _d{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new _d(e,t.uid||"")}getOverlay(e,t){return fc(e).get(qp(this.userId,t)).next(o=>o?Wp(this.serializer,o):null)}getOverlays(e,t){const o=As();return vt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,g)=>{const A=new V(t,g);a.push(this.we(e,A))}),vt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(g=>a.add(It(g.getCollectionPath())));const u=[];return a.forEach(g=>{const A=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);u.push(fc(e).J("collectionPathOverlayIndex",A))}),vt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=As(),u=It(t),g=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return fc(e).j("collectionPathOverlayIndex",g).next(A=>{for(const B of A){const z=Wp(this.serializer,B);a.set(z.getKey(),z)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=As();let g;const A=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fc(e).X({index:"collectionGroupOverlayIndex",range:A},(B,z,ee)=>{const Oe=Wp(this.serializer,z);u.size()<a||Oe.largestBatchId===g?(u.set(Oe.getKey(),Oe),g=Oe.largestBatchId):ee.done()}).next(()=>u)}we(e,t){return fc(e).put(function(o,a,u){const[g,A,B]=qp(a,u.mutation.key);return{userId:a,collectionPath:A,documentId:B,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:bu(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function fc(r){return ho(r,"documentOverlays")}class Su{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fi(e.integerValue));else if("doubleValue"in e){const o=Fi(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Q(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ho(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?pr(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Tn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),gn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Fv(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Lm(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=Fv(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}Su.Ve=new Su;class Lv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=Lm(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=Lm(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class Bv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class $v{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class gh{constructor(){this.je=new Lv,this.ze=new Bv(this.je),this.We=new $v(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ya{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ya(this.indexId,this.documentKey,this.arrayValue,o)}}function Gs(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Bm(r.arrayValue,e.arrayValue),0!==t?t:(t=Bm(r.directionalValue,e.directionalValue),0!==t?t:gn.comparator(r.documentKey,e.documentKey)))}function Bm(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Vv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){qn(e.collectionGroup===this.collectionId);const t=Tl(e);if(void 0!==t&&!this.en(t))return!1;const o=ka(e);let a=0,u=0;for(;a<o.length&&this.en(o[a]);++a);if(a===o.length)return!0;if(void 0!==this.Ze){const g=o[a];if(!this.nn(this.Ze,g)||!this.sn(this.Ye[u++],g))return!1;++a}for(;a<o.length;++a)if(u>=this.Ye.length||!this.sn(this.Ye[u++],o[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uv(r){var e,t;if(qn(r instanceof $r||r instanceof Jr),r instanceof $r){if(r instanceof Rc){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>$r.create(r.field,"==",u)))||[];return Jr.create(a,"or")}return r}const o=r.filters.map(a=>Uv(a));return Jr.create(o,r.op)}function J0(r){if(0===r.getFilters().length)return[];const e=yf(Uv(r));return qn(Zp(e)),mf(e)||$m(e)?[e]:e.getFilters()}function mf(r){return r instanceof $r}function $m(r){return r instanceof Jr&&du(r)}function Zp(r){return mf(r)||$m(r)||function(e){if(e instanceof Jr&&dl(e)){for(const t of e.getFilters())if(!mf(t)&&!$m(t))return!1;return!0}return!1}(r)}function yf(r){if(qn(r instanceof $r||r instanceof Jr),r instanceof $r)return r;if(1===r.filters.length)return yf(r.filters[0]);const e=r.filters.map(o=>yf(o));let t=Jr.create(e,r.op);return t=vf(t),Zp(t)?t:(qn(t instanceof Jr),qn(Rl(t)),qn(t.filters.length>1),t.filters.reduce((o,a)=>Xp(o,a)))}function Xp(r,e){let t;return qn(r instanceof $r||r instanceof Jr),qn(e instanceof $r||e instanceof Jr),t=r instanceof $r?e instanceof $r?Jr.create([r,e],"and"):Qp(r,e):e instanceof $r?Qp(e,r):function(o,a){if(qn(o.filters.length>0&&a.filters.length>0),Rl(o)&&Rl(a))return Qh(o,a.getFilters());const u=dl(o)?o:a,g=dl(o)?a:o,A=u.filters.map(B=>Xp(B,g));return Jr.create(A,"or")}(r,e),vf(t)}function Qp(r,e){if(Rl(e))return Qh(e,r.getFilters());{const t=e.filters.map(o=>Xp(r,o));return Jr.create(t,"or")}}function vf(r){if(qn(r instanceof $r||r instanceof Jr),r instanceof $r)return r;const e=r.getFilters();if(1===e.length)return vf(e[0]);if(Zd(r))return r;const t=e.map(a=>vf(a)),o=[];return t.forEach(a=>{a instanceof $r?o.push(a):a instanceof Jr&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:Jr.create(o,r.op)}class jv{constructor(){this.rn=new Ma}addToCollectionParentIndex(e,t){return this.rn.add(t),vt.resolve()}getCollectionParents(e,t){return vt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return vt.resolve()}deleteFieldIndex(e,t){return vt.resolve()}getDocumentsMatchingTarget(e,t){return vt.resolve(null)}getIndexType(e,t){return vt.resolve(0)}getFieldIndexes(e,t){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,t){return vt.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return vt.resolve(ki.min())}updateCollectionGroup(e,t,o){return vt.resolve()}updateIndexEntries(e,t){return vt.resolve()}}class Ma{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Ti(Xr.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Ti(Xr.comparator)).toArray()}}const _f=new Uint8Array(0);class Vm{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Ma,this.un=new fl(o=>Ua(o),(o,a)=>Oc(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:It(a)};return Um(e).put(u)}return vt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[Xl(t),""],!1,!0);return Um(e).j(a).next(u=>{for(const g of u){if(g.collectionId!==t)break;o.push(mn(g.parent))}return o})}addFieldIndex(e,t){const o=Ef(e),a={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var g;delete a.indexId;const u=o.add(a);if(t.indexState){const g=yh(e);return u.next(A=>{g.put(Kp(A,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=Ef(e),a=yh(e),u=mh(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=mh(e);let a=!0;const u=new Map;return vt.forEach(this.cn(t),g=>this.an(e,g).next(A=>{a&&(a=!!A),u.set(g,A)})).next(()=>{if(a){let g=Dr();const A=[];return vt.forEach(u,(B,z)=>{var ee;en("IndexedDbIndexManager",`Using index ${ee=B,`id=${ee.indexId}|cg=${ee.collectionGroup}|f=${ee.fields.map(kr=>`${kr.fieldPath}:${kr.kind}`).join(",")}`} to execute ${Ua(t)}`);const Oe=function(kr,po){const Ai=Tl(po);if(void 0===Ai)return null;for(const Si of sc(kr,Ai.fieldPath))switch(Si.op){case"array-contains-any":return Si.value.arrayValue.values||[];case"array-contains":return[Si.value]}return null}(z,B),wt=function(kr,po){const Ai=new Map;for(const Si of ka(po))for(const Ks of sc(kr,Si.fieldPath))switch(Ks.op){case"==":case"in":Ai.set(Si.fieldPath.canonicalString(),Ks.value);break;case"not-in":case"!=":return Ai.set(Si.fieldPath.canonicalString(),Ks.value),Array.from(Ai.values())}return null}(z,B),Ut=function(kr,po){const Ai=[];let Si=!0;for(const Ks of ka(po)){const Yu=0===Ks.kind?eh(kr,Ks.fieldPath,kr.startAt):nf(kr,Ks.fieldPath,kr.startAt);Ai.push(Yu.value),Si&&(Si=Yu.inclusive)}return new So(Ai,Si)}(z,B),sn=function(kr,po){const Ai=[];let Si=!0;for(const Ks of ka(po)){const Yu=0===Ks.kind?nf(kr,Ks.fieldPath,kr.endAt):eh(kr,Ks.fieldPath,kr.endAt);Ai.push(Yu.value),Si&&(Si=Yu.inclusive)}return new So(Ai,Si)}(z,B),Mn=this.hn(B,z,Ut),On=this.hn(B,z,sn),br=this.ln(B,z,wt),ni=this.fn(B.indexId,Oe,Mn,Ut.inclusive,On,sn.inclusive,br);return vt.forEach(ni,kr=>o.H(kr,t.limit).next(po=>{po.forEach(Ai=>{const Si=gn.fromSegments(Ai.documentKey);g.has(Si)||(g=g.add(Si),A.push(Si))})}))}).next(()=>A)}return vt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:J0(Jr.create(e.filters,"and")).map(o=>Jd(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,g,A){const B=(null!=t?t.length:1)*Math.max(o.length,u.length),z=B/(null!=t?t.length:1),ee=[];for(let Oe=0;Oe<B;++Oe){const wt=t?this.dn(t[Oe/z]):_f,Ut=this.wn(e,wt,o[Oe%z],a),sn=this._n(e,wt,u[Oe%z],g),Mn=A.map(On=>this.wn(e,wt,On,!0));ee.push(...this.createRange(Ut,sn,Mn))}return ee}wn(e,t,o,a){const u=new Ya(e,gn.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Ya(e,gn.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Vv(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let g=null;for(const A of u)o.tn(A)&&(!g||A.fields.length>g.fields.length)&&(g=A);return g})}getIndexType(e,t){let o=2;const a=this.cn(t);return vt.forEach(a,u=>this.an(e,u).next(g=>{g?0!==o&&g.fields.length<function(A){let B=new Ti(Ni.comparator),z=!1;for(const ee of A.filters)for(const Oe of ee.getFlattenedFilters())Oe.field.isKeyField()||("array-contains"===Oe.op||"array-contains-any"===Oe.op?z=!0:B=B.add(Oe.field));for(const ee of A.orderBy)ee.field.isKeyField()||(B=B.add(ee.field));return B.size+(z?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new gh;for(const a of ka(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const g=o.He(a.kind);Su.Ve._e(u,g)}return o.Qe()}dn(e){const t=new gh;return Su.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new gh;return Su.Ve._e(fe(this.databaseId,t),o.He(function(a){const u=ka(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new gh);let u=0;for(const g of ka(e)){const A=o[u++];for(const B of a)if(this.yn(t,g.fieldPath)&&ht(A))a=this.pn(a,g,A);else{const z=B.He(g.kind);Su.Ve._e(A,z)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const g of o.arrayValue.values||[])for(const A of a){const B=new gh;B.seed(A.Qe()),Su.Ve._e(g,B.He(t.kind)),u.push(B)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof $r&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Ef(e),a=yh(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const g=[];return vt.forEach(u,A=>a.get([A.indexId,this.uid]).next(B=>{g.push(function(z,ee){const Oe=ee?new Ql(ee.sequenceNumber,new ki(yl(ee.readTime),new gn(mn(ee.documentKey)),ee.largestBatchId)):Ql.empty(),wt=z.fields.map(([Ut,sn])=>new Sl(Ni.fromServerFormat(Ut),sn));return new Na(z.indexId,z.collectionGroup,wt,Oe)}(A,B))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Jn(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=Ef(e),u=yh(e);return this.Tn(e).next(g=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>vt.forEach(A,B=>u.put(Kp(B.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return vt.forEach(t,(a,u)=>{const g=o.get(a.collectionGroup);return(g?vt.resolve(g):this.getFieldIndexes(e,a.collectionGroup)).next(A=>(o.set(a.collectionGroup,A),vt.forEach(A,B=>this.En(e,a,B).next(z=>{const ee=this.An(u,B);return z.isEqual(ee)?vt.resolve():this.vn(e,u,B,z,ee)}))))})}Rn(e,t,o,a){return mh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return mh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=mh(e);let u=new Ti(Gs);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(g,A)=>{u=u.add(new Ya(o.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>u)}An(e,t){let o=new Ti(Gs);const a=this.mn(t,e);if(null==a)return o;const u=Tl(t);if(null!=u){const g=e.data.field(u.fieldPath);if(ht(g))for(const A of g.arrayValue.values||[])o=o.add(new Ya(t.indexId,e.key,this.dn(A),a))}else o=o.add(new Ya(t.indexId,e.key,_f,a));return o}vn(e,t,o,a,u){en("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(A,B,z,ee,Oe){const wt=A.getIterator(),Ut=B.getIterator();let sn=La(wt),Mn=La(Ut);for(;sn||Mn;){let On=!1,br=!1;if(sn&&Mn){const ni=z(sn,Mn);ni<0?br=!0:ni>0&&(On=!0)}else null!=sn?br=!0:On=!0;On?(ee(Mn),Mn=La(Ut)):br?(Oe(sn),sn=La(wt)):(sn=La(wt),Mn=La(Ut))}}(a,u,Gs,A=>{g.push(this.Rn(e,t,o,A))},A=>{g.push(this.Pn(e,t,o,A))}),vt.waitFor(g)}Tn(e){let t=1;return yh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,A)=>Gs(g,A)).filter((g,A,B)=>!A||0!==Gs(g,B[A-1]));const a=[];a.push(e);for(const g of o){const A=Gs(g,e),B=Gs(g,t);if(0===A)a[0]=e.Je();else if(A>0&&B<0)a.push(g),a.push(g.Je());else if(B>0)break}a.push(t);const u=[];for(let g=0;g<a.length;g+=2){if(this.bn(a[g],a[g+1]))return[];u.push(IDBKeyRange.bound([a[g].indexId,this.uid,a[g].arrayValue,a[g].directionalValue,_f,[]],[a[g+1].indexId,this.uid,a[g+1].arrayValue,a[g+1].directionalValue,_f,[]]))}return u}bn(e,t){return Gs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jp)}getMinOffset(e,t){return vt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||Tn())).next(Jp)}}function Um(r){return ho(r,"collectionParents")}function mh(r){return ho(r,"indexEntries")}function Ef(r){return ho(r,"indexConfiguration")}function yh(r){return ho(r,"indexState")}function Jp(r){qn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;Fa(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ki(e.readTime,e.documentKey,t)}const jm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hm(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],g=IDBKeyRange.only(t.batchId);let A=0;const B=o.X({range:g},(ee,Oe,wt)=>(A++,wt.delete()));u.push(B.next(()=>{qn(1===A)}));const z=[];for(const ee of t.mutations){const Oe=no(e,ee.key.path,t.batchId);u.push(a.delete(Oe)),z.push(ee.key)}return vt.waitFor(u).next(()=>z)}function Tr(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Tn();e=r.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class vh{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){qn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new vh(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).X({index:"userMutationsIndex",range:o},(a,u,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=Ed(e),g=pc(e);return g.add({}).next(A=>{qn("number"==typeof A);const B=new f(A,t,o,a),z=function(wt,Ut,sn){const Mn=sn.baseMutations.map(br=>bu(wt.fe,br)),On=sn.mutations.map(br=>bu(wt.fe,br));return{userId:Ut,batchId:sn.batchId,localWriteTimeMs:sn.localWriteTime.toMillis(),baseMutations:Mn,mutations:On}}(this.serializer,this.userId,B),ee=[];let Oe=new Ti((wt,Ut)=>Jn(wt.canonicalString(),Ut.canonicalString()));for(const wt of a){const Ut=no(this.userId,wt.key.path,A);Oe=Oe.add(wt.key.path.popLast()),ee.push(g.put(z)),ee.push(u.put(Ut,Ts))}return Oe.forEach(wt=>{ee.push(this.indexManager.addToCollectionParentIndex(e,wt))}),e.addOnCommittedListener(()=>{this.Vn[A]=B.keys()}),vt.waitFor(ee).next(()=>B)})}lookupMutationBatch(e,t){return pc(e).get(t).next(o=>o?(qn(o.userId===this.userId),Tu(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?vt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return pc(e).X({index:"userMutationsIndex",range:a},(g,A,B)=>{A.userId===this.userId&&(qn(A.batchId>=o),u=Tu(this.serializer,A)),B.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return pc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,g)=>{o=u.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).j("userMutationsIndex",t).next(o=>o.map(a=>Tu(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Ci(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return Ed(e).X({range:a},(g,A,B)=>{const[z,ee,Oe]=g,wt=mn(ee);if(z===this.userId&&t.path.isEqual(wt))return pc(e).get(Oe).next(Ut=>{if(!Ut)throw Tn();qn(Ut.userId===this.userId),u.push(Tu(this.serializer,Ut))});B.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ti(Jn);const a=[];return t.forEach(u=>{const g=Ci(this.userId,u.path),A=IDBKeyRange.lowerBound(g),B=Ed(e).X({range:A},(z,ee,Oe)=>{const[wt,Ut,sn]=z,Mn=mn(Ut);wt===this.userId&&u.path.isEqual(Mn)?o=o.add(sn):Oe.done()});a.push(B)}),vt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=Ci(this.userId,o),g=IDBKeyRange.lowerBound(u);let A=new Ti(Jn);return Ed(e).X({range:g},(B,z,ee)=>{const[Oe,wt,Ut]=B,sn=mn(wt);Oe===this.userId&&o.isPrefixOf(sn)?sn.length===a&&(A=A.add(Ut)):ee.done()}).next(()=>this.Dn(e,A))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(pc(e).get(u).next(g=>{if(null===g)throw Tn();qn(g.userId===this.userId),o.push(Tu(this.serializer,g))}))}),vt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return Hm(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),vt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return vt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Ed(e).X({range:o},(u,g,A)=>{if(u[0]===this.userId){const B=mn(u[1]);a.push(B)}else A.done()}).next(()=>{qn(0===a.length)})})}containsKey(e,t){return eg(e,this.userId,t)}xn(e){return zm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eg(r,e,t){const o=Ci(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let g=!1;return Ed(r).X({range:u,Y:!0},(A,B,z)=>{const[ee,Oe,wt]=A;ee===e&&Oe===a&&(g=!0),z.done()}).next(()=>g)}function pc(r){return ho(r,"mutations")}function Ed(r){return ho(r,"documentMutations")}function zm(r){return ho(r,"mutationQueues")}class jc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jc(0)}static Mn(){return new jc(-1)}}class Hv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new jc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ln.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Au(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(qn(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return Au(e).X((g,A)=>{const B=vd(A);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(a++,u.push(this.removeTargetData(e,B)))}).next(()=>vt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Au(e).X((o,a)=>{const u=vd(a);t(u)})}$n(e){return Gm(e).get("targetGlobalKey").next(t=>(qn(null!==t),t))}On(e,t){return Gm(e).put("targetGlobalKey",t)}Fn(e,t){return Au(e).put(km(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Ua(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Au(e).X({range:a,index:"queryTargetsIndex"},(g,A,B)=>{const z=vd(A);Oc(t,z.target)&&(u=z,B.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=Hc(e);return t.forEach(g=>{const A=It(g.path);a.push(u.put({targetId:o,path:A})),a.push(this.referenceDelegate.addReference(e,o,g))}),vt.waitFor(a)}removeMatchingKeys(e,t,o){const a=Hc(e);return vt.forEach(t,u=>{const g=It(u.path);return vt.waitFor([a.delete([o,g]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=Hc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=Hc(e);let u=Dr();return a.X({range:o,Y:!0},(g,A,B)=>{const z=mn(g[1]),ee=new gn(z);u=u.add(ee)}).next(()=>u)}containsKey(e,t){const o=It(t.path),a=IDBKeyRange.bound([o],[Xl(o)],!1,!0);let u=0;return Hc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([g,A],B,z)=>{0!==g&&(u++,z.done())}).next(()=>u>0)}le(e,t){return Au(e).get(t).next(o=>o?vd(o):null)}}function Au(r){return ho(r,"targets")}function Gm(r){return ho(r,"targetGlobal")}function Hc(r){return ho(r,"targetDocuments")}function zv([r,e],[t,o]){const a=Jn(r,t);return 0===a?Jn(e,o):a}class Wm{constructor(e){this.Ln=e,this.buffer=new Ti(zv),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();zv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;en("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ne.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){gs(o)?en("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield to(o)}yield t.Qn(3e5)}))}}class Mu{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return vt.resolve(L.ct);const o=new Wm(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(jm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,g,A,B,z;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Oe=>(Oe>this.params.maximumSequenceNumbersToCollect?(en("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Oe}`),a=this.params.maximumSequenceNumbersToCollect):a=Oe,g=Date.now(),this.nthSequenceNumber(e,a))).next(Oe=>(o=Oe,A=Date.now(),this.removeTargets(e,o,t))).next(Oe=>(u=Oe,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(Oe=>(z=Date.now(),rl()<=Ge.in.DEBUG&&en("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ee}ms\n\tDetermined least recently used ${a} in `+(A-g)+`ms\n\tRemoved ${u} targets in `+(B-A)+`ms\n\tRemoved ${Oe} documents in `+(z-B)+`ms\nTotal Duration: ${z-ee}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:Oe})))}}class ng{constructor(e,t){this.db=e,this.garbageCollector=function qm(r,e){return new Mu(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return Id(e,o)}removeReference(e,t,o){return Id(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Id(e,t)}Xn(e,t){return function(o,a){let u=!1;return zm(o).Z(g=>eg(o,g,a).next(A=>(A&&(u=!0),vt.resolve(!A)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(g,A)=>{if(A<=t){const B=this.Xn(e,g).next(z=>{if(!z)return u++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Ln.min()),Hc(e).delete([0,It(g.path)])))});a.push(B)}}).next(()=>vt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Id(e,t)}Yn(e,t){const o=Hc(e);let a,u=L.ct;return o.X({index:"documentTargetsIndex"},([g,A],{path:B,sequenceNumber:z})=>{0===g?(u!==L.ct&&t(new gn(mn(a)),u),u=z,a=B):u=L.ct}).next(()=>{u!==L.ct&&t(new gn(mn(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Id(r,e){return Hc(r).put((o=r.currentSequenceNumber,{targetId:0,path:It(e.path),sequenceNumber:o}));var o}class Km{constructor(){this.changes=new fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?vt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return zc(e).put(o)}removeEntry(e,t,o){return zc(e).delete(function(a,u){const g=a.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],pf(u),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Qr.newInvalidDocument(t);return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(If(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:Qr.newInvalidDocument(t)};return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(If(t))},(a,u)=>{o={document:this.ts(t,u),size:Tr(u)}}).next(()=>o)}getEntries(e,t){let o=zo();return this.ns(e,t,(a,u)=>{const g=this.ts(a,u);o=o.insert(a,g)}).next(()=>o)}ss(e,t){let o=zo(),a=new fi(gn.comparator);return this.ns(e,t,(u,g)=>{const A=this.ts(u,g);o=o.insert(u,A),a=a.insert(u,Tr(g))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return vt.resolve();let a=new Ti(xu);t.forEach(B=>a=a.add(B));const u=IDBKeyRange.bound(If(a.first()),If(a.last())),g=a.getIterator();let A=g.getNext();return zc(e).X({index:"documentKeyIndex",range:u},(B,z,ee)=>{const Oe=gn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;A&&xu(A,Oe)<0;)o(A,null),A=g.getNext();A&&A.isEqual(Oe)&&(o(A,z),A=g.hasNext()?g.getNext():null),A?ee.G(If(A)):ee.done()}).next(()=>{for(;A;)o(A,null),A=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,g=[u.popLast().toArray(),u.lastSegment(),pf(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],A=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).j(IDBKeyRange.bound(g,A,!0)).next(B=>{let z=zo();for(const ee of B){const Oe=this.ts(gn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);Oe.isFoundDocument()&&(hl(t,Oe)||a.has(Oe.key))&&(z=z.insert(Oe.key,Oe))}return z})}getAllFromCollectionGroup(e,t,o,a){let u=zo();const g=Zm(t,o),A=Zm(t,ki.max());return zc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,A,!0)},(B,z,ee)=>{const Oe=this.ts(gn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);u=u.insert(Oe.key,Oe),u.size===a&&ee.done()}).next(()=>u)}newChangeBuffer(e){return new tE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ym(e).get("remoteDocumentGlobalKey").next(t=>(qn(!!t),t))}Zn(e,t){return Ym(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function kv(r,e){let t;if(e.document)t=hf(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=gn.fromSegments(e.noDocument.path),a=yl(e.noDocument.readTime);t=Qr.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tn();{const o=gn.fromSegments(e.unknownDocument.path),a=yl(e.unknownDocument.version);t=Qr.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new Nr(o[0],o[1]);return Ln.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Ln.min()))return o}return Qr.newInvalidDocument(e)}}function Gv(r){return new eE(r)}class tE extends Km{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new fl(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Ti((u,g)=>Jn(u.canonicalString(),g.canonicalString()));return this.changes.forEach((u,g)=>{const A=this.us.get(u);if(t.push(this.os.removeEntry(e,u,A.readTime)),g.isValidDocument()){const B=yd(this.os.serializer,g);a=a.add(u.path.popLast());const z=Tr(B);o+=z-A.size,t.push(this.os.addEntry(e,u,B))}else if(o-=A.size,this.trackRemovals){const B=yd(this.os.serializer,g.convertToNoDocument(Ln.min()));t.push(this.os.addEntry(e,u,B))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),vt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,g)=>{this.us.set(u,{size:g,readTime:o.get(u).readTime})}),o))}}function Ym(r){return ho(r,"remoteDocumentGlobal")}function zc(r){return ho(r,"remoteDocumentsV14")}function If(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zm(r,e){const t=e.documentKey.path.toArray();return[r,pf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xu(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=Jn(t[u],o[u]),a)return a;return a=Jn(t.length,o.length),a||(a=Jn(t[t.length-2],o[o.length-2]),a||Jn(t[t.length-1],o[o.length-1]))}class Wv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rg{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&Fc(o.mutation,a,ns.empty(),Nr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Dr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Dr()){const a=As();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let g=pl();return u.forEach((A,B)=>{g=g.insert(A,B.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=As();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Dr()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((g,A)=>{t.set(g,A)})})}computeViews(e,t,o,a){let u=zo();const g=vu(),A=vu();return t.forEach((B,z)=>{const ee=o.get(z.key);a.has(z.key)&&(void 0===ee||ee.mutation instanceof qa)?u=u.insert(z.key,z):void 0!==ee?(g.set(z.key,ee.mutation.getFieldMask()),Fc(ee.mutation,z,ee.mutation.getFieldMask(),Nr.now())):g.set(z.key,ns.empty())}),this.recalculateAndSaveOverlays(e,u).next(B=>(B.forEach((z,ee)=>g.set(z,ee)),t.forEach((z,ee)=>{var Oe;return A.set(z,new Wv(ee,null!==(Oe=g.get(z))&&void 0!==Oe?Oe:null))}),A))}recalculateAndSaveOverlays(e,t){const o=vu();let a=new fi((g,A)=>g-A),u=Dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const A of g)A.keys().forEach(B=>{const z=t.get(B);if(null===z)return;let ee=o.get(B)||ns.empty();ee=A.applyToLocalView(z,ee),o.set(B,ee);const Oe=(a.get(A.batchId)||Dr()).add(B);a=a.insert(A.batchId,Oe)})}).next(()=>{const g=[],A=a.getReverseIterator();for(;A.hasNext();){const B=A.getNext(),z=B.key,ee=B.value,Oe=rf();ee.forEach(wt=>{if(!u.has(wt)){const Ut=Ga(t.get(wt),o.get(wt));null!==Ut&&Oe.set(wt,Ut),u=u.add(wt)}}),g.push(this.documentOverlayCache.saveOverlays(e,z,Oe))}return vt.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return gn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):gu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const g=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):vt.resolve(As());let A=-1,B=u;return g.next(z=>vt.forEach(z,(ee,Oe)=>(A<Oe.largestBatchId&&(A=Oe.largestBatchId),u.get(ee)?vt.resolve():this.remoteDocumentCache.getEntry(e,ee).next(wt=>{B=B.insert(ee,wt)}))).next(()=>this.populateOverlays(e,z,u)).next(()=>this.computeViews(e,B,z,Dr())).next(ee=>({batchId:A,changes:od(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(o=>{let a=pl();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,a).next(g=>vt.forEach(g,A=>{const B=(z=t,ee=A.child(a),new Ol(ee,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,ee;return this.getDocumentsMatchingCollectionQuery(e,B,o).next(z=>{z.forEach((ee,Oe)=>{u=u.insert(ee,Oe)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((A,B)=>{const z=B.getKey();null===u.get(z)&&(u=u.insert(z,Qr.newInvalidDocument(z)))});let g=pl();return u.forEach((A,B)=>{const z=a.get(A);void 0!==z&&Fc(z.mutation,B,ns.empty(),Nr.now()),hl(t,B)&&(g=g.insert(A,B))}),g})}}class wf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return vt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Mo(o.createTime)}),vt.resolve()}getNamedQuery(e,t){return vt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:Gp(o.bundledQuery),readTime:Mo(o.readTime)}),vt.resolve();var o}}class qv{constructor(){this.overlays=new fi(gn.comparator),this.ls=new Map}getOverlay(e,t){return vt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=As();return vt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),vt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),vt.resolve()}getOverlaysForCollection(e,t,o){const a=As(),u=t.length+1,g=new gn(t.child("")),A=this.overlays.getIteratorFrom(g);for(;A.hasNext();){const B=A.getNext().value,z=B.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===u&&B.largestBatchId>o&&a.set(B.getKey(),B)}return vt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new fi((z,ee)=>z-ee);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let ee=u.get(z.largestBatchId);null===ee&&(ee=As(),u=u.insert(z.largestBatchId,ee)),ee.set(z.getKey(),z)}}const A=As(),B=u.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((z,ee)=>A.set(z,ee)),!(A.size()>=a)););return vt.resolve(A)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const g=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new V(t,o));let u=this.ls.get(t);void 0===u&&(u=Dr(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class Df{constructor(){this.fs=new Ti(ys.ds),this.ws=new Ti(ys._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new ys(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new ys(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new gn(new Xr([])),o=new ys(t,e),a=new ys(t,e+1),u=[];return this.ws.forEachInRange([o,a],g=>{this.ys(g),u.push(g.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gn(new Xr([])),o=new ys(t,e),a=new ys(t,e+1);let u=Dr();return this.ws.forEachInRange([o,a],g=>{u=u.add(g.key)}),u}containsKey(e){const t=new ys(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ys{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gn.comparator(e.key,t.key)||Jn(e.As,t.As)}static _s(e,t){return Jn(e.As,t.As)||gn.comparator(e.key,t.key)}}class Kv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ti(ys.ds)}checkEmpty(e){return vt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const g=new f(u,t,o,a);this.mutationQueue.push(g);for(const A of a)this.Rs=this.Rs.add(new ys(A.key,u)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return vt.resolve(g)}lookupMutationBatch(e,t){return vt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return vt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ys(t,0),a=new ys(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],g=>{const A=this.Ps(g.As);u.push(A)}),vt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ti(Jn);return t.forEach(a=>{const u=new ys(a,0),g=new ys(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,g],A=>{o=o.add(A.As)})}),vt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;gn.isDocumentKey(u)||(u=u.child(""));const g=new ys(new gn(u),0);let A=new Ti(Jn);return this.Rs.forEachWhile(B=>{const z=B.key.path;return!!o.isPrefixOf(z)&&(z.length===a&&(A=A.add(B.As)),!0)},g),vt.resolve(this.Vs(A))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){qn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return vt.forEach(t.mutations,a=>{const u=new ys(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new ys(t,0),a=this.Rs.firstAfterOrEqual(o);return vt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return vt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Yv{constructor(e){this.Ds=e,this.docs=new fi(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,g=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return vt.resolve(o?o.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let o=zo();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Qr.newInvalidDocument(a))}),vt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=zo();const g=t.path,A=new gn(g.child("")),B=this.docs.getIteratorFrom(A);for(;B.hasNext();){const{key:z,value:{document:ee}}=B.getNext();if(!g.isPrefixOf(z.path))break;z.path.length>g.length+1||Fa(Ki(ee),o)<=0||(a.has(ee.key)||hl(t,ee))&&(u=u.insert(ee.key,ee.mutableCopy()))}return vt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){Tn()}Cs(e,t){return vt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Zv(this)}getSize(e){return vt.resolve(this.size)}}class Zv extends Km{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),vt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xv{constructor(e){this.persistence=e,this.xs=new fl(t=>Ua(t),Oc),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Df,this.targetCount=0,this.Ms=jc.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),vt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,vt.resolve()}updateTargetData(e,t){return this.Fn(t),vt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((g,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.xs.delete(g),u.push(this.removeMatchingKeysForTargetId(e,A.targetId)),a++)}),vt.waitFor(u).next(()=>a)}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return vt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),vt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(g=>{u.push(a.markPotentiallyOrphaned(e,g))}),vt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),vt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return vt.resolve(o)}containsKey(e,t){return vt.resolve(this.ks.containsKey(t))}}class bf{constructor(e,t){this.$s={},this.overlays={},this.Os=new L(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xv(this),this.indexManager=new jv,this.remoteDocumentCache=new Yv(o=>this.referenceDelegate.Ls(o)),this.serializer=new Nv(t),this.qs=new wf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Kv(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){en("MemoryPersistence","Starting transaction:",e);const a=new Qv(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return vt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Qv extends os{constructor(e){super(),this.currentSequenceNumber=e}}class _h{constructor(e){this.persistence=e,this.Qs=new Df,this.js=null}static zs(e){return new _h(e)}get Ws(){if(this.js)return this.js;throw Tn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),vt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),vt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),vt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.Ws,o=>{const a=gn.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,Ln.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return vt.or([()=>vt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ig{constructor(e){this.serializer=e}O(e,t,o,a){const u=new da("createOrUpgrade",t);var A;o<1&&a>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zr,{unique:!0}),A.createObjectStore("documentMutations"),Jv(e),function(A){A.createObjectStore("remoteDocuments")}(e));let g=vt.resolve();return o<3&&a>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),Jv(e)),g=g.next(()=>function(A){const B=A.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ln.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",z)}(u))),o<4&&a>=4&&(0!==o&&(g=g.next(()=>function(A,B){return B.store("mutations").j().next(z=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zr,{unique:!0});const ee=B.store("mutations"),Oe=z.map(wt=>ee.put(wt));return vt.waitFor(Oe)})}(e,u))),g=g.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(g=g.next(()=>this.Ys(u))),o<6&&a>=6&&(g=g.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(g=g.next(()=>this.Zs(u))),o<8&&a>=8&&(g=g.next(()=>this.ti(e,u))),o<9&&a>=9&&(g=g.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(g=g.next(()=>this.ei(u))),o<11&&a>=11&&(g=g.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(g=g.next(()=>{!function(A){const B=A.createObjectStore("documentOverlays",{keyPath:au});B.createIndex("collectionPathOverlayIndex",Wd,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",qd,{unique:!1})}(e)})),o<13&&a>=13&&(g=g.next(()=>function(A){const B=A.createObjectStore("remoteDocumentsV14",{keyPath:ts});B.createIndex("documentKeyIndex",jo),B.createIndex("collectionGroupIndex",Ss)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(g=g.next(()=>this.si(e,u))),o<15&&a>=15&&(g=g.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Ml}).createIndex("sequenceNumberIndex",Yh,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Xu}).createIndex("documentKeyIndex",Qu,{unique:!1})}(e))),g}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=Tr(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>vt.forEach(a,u=>{const g=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",g).next(A=>vt.forEach(A,B=>{qn(B.userId===u.userId);const z=Tu(this.serializer,B);return Hm(e,u.userId,z).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((g,A)=>{const B=new Xr(g),z=[0,It(B)];u.push(t.get(z).next(ee=>ee?vt.resolve():t.put({targetId:0,path:It(B),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>vt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:al});const o=t.store("collectionParents"),a=new Ma,u=g=>{if(a.add(g)){const A=g.lastSegment(),B=g.popLast();return o.put({collectionId:A,parent:It(B)})}};return t.store("remoteDocuments").X({Y:!0},(g,A)=>{const B=new Xr(g);return u(B.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([g,A,B],z)=>{const ee=mn(A);return u(ee.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=vd(a),g=km(this.serializer,u);return t.put(g)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,g)=>{const A=t.store("remoteDocumentsV14"),B=(z=g,z.document?new gn(Xr.fromString(z.document.name).popFirst(5)):z.noDocument?gn.fromSegments(z.noDocument.path):z.unknownDocument?gn.fromSegments(z.unknownDocument.path):Tn()).path.toArray();var z;const ee={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};a.push(A.put(ee))}).next(()=>vt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=Gv(this.serializer),u=new bf(_h.zs,this.serializer.fe);return o.j().next(g=>{const A=new Map;return g.forEach(B=>{var z;let ee=null!==(z=A.get(B.userId))&&void 0!==z?z:Dr();Tu(this.serializer,B).keys().forEach(Oe=>ee=ee.add(Oe)),A.set(B.userId,ee)}),vt.forEach(A,(B,z)=>{const ee=new bi(z),Oe=_d.de(this.serializer,ee),wt=u.getIndexManager(ee),Ut=vh.de(ee,this.serializer,wt,u.referenceDelegate);return new rg(a,Ut,Oe,wt).recalculateAndSaveOverlaysForDocumentKeys(new lu(t,L.ct),B).next()})})}}function Jv(r){r.createObjectStore("targetDocuments",{keyPath:ss}).createIndex("documentTargetsIndex",Ac,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sc,{unique:!0}),r.createObjectStore("targetGlobal")}const Ih="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class og{constructor(e,t,o,a,u,g,A,B,z,ee,Oe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=g,this.document=A,this.ri=z,this.oi=ee,this.ui=Oe,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=wt=>Promise.resolve(),!og.D())throw new jt(Et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ng(this,a),this.di=t+"main",this.serializer=new Nv(B),this.wi=new Vo(this.di,this.ui,new ig(this.serializer)),this.Bs=new Hv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Gv(this.serializer),this.qs=new Yp,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ee&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(Et.FAILED_PRECONDITION,Ih);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new L(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,ne.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ne.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ne.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(gs(e))return en("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return en("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Cf(e).get("owner").next(t=>vt.resolve(this.Ri(t)))}Pi(e){return gc(e).delete(this.clientId)}bi(){var e=this;return(0,ne.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=ho(o,"clientMetadata");return a.j().next(u=>{const g=e.Si(u,18e5),A=u.filter(B=>-1===g.indexOf(B));return vt.forEach(A,B=>a.delete(B.clientId)).next(()=>A)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?vt.resolve(!0):Cf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new jt(Et.FAILED_PRECONDITION,Ih);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&en("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ne.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new lu(t,L.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return vh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vm(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return _d.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){en("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(g=this.ui)?Yd:14===g?ec:13===g?Jl:12===g?Kd:11===g?Mc:void Tn();var g;let A;return this.wi.runTransaction(e,a,u,B=>(A=new lu(B,this.Os?this.Os.next():L.ct),"readwrite-primary"===t?this.Ti(A).next(z=>!!z||this.Ei(A)).next(z=>{if(!z)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new jt(Et.FAILED_PRECONDITION,sl);return o(A)}).next(z=>this.vi(A).next(()=>z)):this.Oi(A).next(()=>o(A)))).then(B=>(A.raiseOnCommittedEvent(),B))}Oi(e){return Cf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new jt(Et.FAILED_PRECONDITION,Ih)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cf(e).put("owner",t)}static D(){return Vo.D()}Ai(e){const t=Cf(e);return t.get("owner").next(o=>this.Ri(o)?(en("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):vt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ei(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return en("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ei("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cf(r){return ho(r,"owner")}function gc(r){return ho(r,"clientMetadata")}function Tf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class sg{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Dr(),a=Dr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new sg(e,t.fromCache,o,a)}}class ag{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(rd(t))return vt.resolve(null);let o=Ao(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=mu(t,null,"F"),o=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const g=Dr(...u);return this.Ui.getDocuments(e,g).next(A=>this.indexManager.getMinOffset(e,o).next(B=>{const z=this.ji(t,A);return this.zi(t,z,g,B.readTime)?this.Ki(e,mu(t,null,"F")):this.Wi(e,z,t,B)}))})))}Gi(e,t,o,a){return rd(t)||a.isEqual(Ln.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const g=this.ji(t,u);return this.zi(t,g,o,a)?this.Qi(e,t):(rl()<=Ge.in.DEBUG&&en("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yu(t)),this.Wi(e,g,t,Cc(a,-1)))})}ji(e,t){let o=new Ti(nh(e));return t.forEach((a,u)=>{hl(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return rl()<=Ge.in.DEBUG&&en("QueryEngine","Using full collection scan to execute query:",yu(t)),this.Ui.getDocumentsMatchingQuery(e,t,ki.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(g=>{u=u.insert(g.key,g)}),u))}}class e_{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new fi(Jn),this.Yi=new fl(u=>Ua(u),Oc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Xm(r,e,t,o){return new e_(r,e,t,o)}function wh(r,e){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,ne.Z)(function*(r,e){const t=wn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const g=[],A=[];let B=Dr();for(const z of a){g.push(z.batchId);for(const ee of z.mutations)B=B.add(ee.key)}for(const z of u){A.push(z.batchId);for(const ee of z.mutations)B=B.add(ee.key)}return t.localDocuments.getDocuments(o,B).next(z=>({er:z,removedBatchIds:g,addedBatchIds:A}))})})}),Gc.apply(this,arguments)}function wd(r){const e=wn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Dh(r,e,t){let o=Dr(),a=Dr();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let g=zo();return t.forEach((A,B)=>{const z=u.get(A);B.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(A)),B.isNoDocument()&&B.version.isEqual(Ln.min())?(e.removeEntry(A,B.readTime),g=g.insert(A,B)):!z.isValidDocument()||B.version.compareTo(z.version)>0||0===B.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(B),g=g.insert(A,B)):en("LocalStore","Ignoring outdated watch update for ",A,". Current version:",z.version," Watch version:",B.version)}),{nr:g,sr:a}})}function Qm(r,e){const t=wn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Wc(r,e){const t=wn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,vt.resolve(a)):t.Bs.allocateTargetId(o).next(g=>(a=new kl(e,g,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function qc(r,e,t){return bh.apply(this,arguments)}function bh(){return bh=(0,ne.Z)(function*(r,e,t){const o=wn(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,g=>o.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!gs(g))throw g;en("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),bh.apply(this,arguments)}function Ch(r,e,t){const o=wn(r);let a=Ln.min(),u=Dr();return o.persistence.runTransaction("Execute query","readonly",g=>function(A,B,z){const ee=wn(A),Oe=ee.Yi.get(z);return void 0!==Oe?vt.resolve(ee.Ji.get(Oe)):ee.Bs.getTargetData(B,z)}(o,g,Ao(e)).next(A=>{if(A)return a=A.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(g,A.targetId).next(B=>{u=B})}).next(()=>o.Hi.getDocumentsMatchingQuery(g,e,t?a:Ln.min(),t?u:Dr())).next(A=>(ey(o,th(e),A),{documents:A,ir:u})))}function Sf(r,e){const t=wn(r),o=wn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(g=>g?g.target:null))}function Jm(r,e){const t=wn(r),o=t.Xi.get(e)||Ln.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Cc(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(ey(t,e,a),a))}function ey(r,e,t){let o=r.Xi.get(e)||Ln.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function ug(){return ug=(0,ne.Z)(function*(r,e,t,o){const a=wn(r);let u=Dr(),g=zo();for(const z of t){const ee=e.rr(z.metadata.name);z.document&&(u=u.add(ee));const Oe=e.ur(z);Oe.setReadTime(e.cr(z.metadata.readTime)),g=g.insert(ee,Oe)}const A=a.Zi.newChangeBuffer({trackRemovals:!0}),B=yield Wc(a,(z=o,Ao(Pc(Xr.fromString(`__bundle__/docs/${z}`)))));var z;return a.persistence.runTransaction("Apply bundle documents","readwrite",z=>Dh(z,A,g).next(ee=>(A.apply(z),ee)).next(ee=>a.Bs.removeMatchingKeysForTargetId(z,B.targetId).next(()=>a.Bs.addMatchingKeys(z,u,B.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(z,ee.nr,ee.sr)).next(()=>ee.nr)))}),ug.apply(this,arguments)}function ny(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,ne.Z)(function*(r,e,t=Dr()){const o=yield Wc(r,Ao(Gp(e.bundledQuery))),a=wn(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const g=Mo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return a.qs.saveNamedQuery(u,e);const A=o.withResumeToken(fo.EMPTY_BYTE_STRING,g);return a.Ji=a.Ji.insert(A.targetId,A),a.Bs.updateTargetData(u,A).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),Af.apply(this,arguments)}function ry(r,e){return`firestore_clients_${r}_${e}`}function iy(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function na(r,e){return`firestore_targets_${r}_${e}`}class Mf{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,g="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(u=new jt(a.error.code,a.error.message))),g?new Mf(e,t,a.state,u):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Th{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new jt(o.error.code,o.error.message))),u?new Th(e,o.state,a):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=sd();for(let g=0;a&&g<o.activeTargetIds.length;++g)a=Ke(o.activeTargetIds[g]),u=u.add(o.activeTargetIds[g]);return a?new dg(e,u):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sh{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sh(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xf{constructor(){this.activeTargetIds=sd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hg{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new fi(Jn),this.started=!1,this.yr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=ry(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new xf),this.Tr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ne.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(ry(e.persistenceKey,a));if(u){const g=dg.ar(a,u);g&&(e.gr=e.gr.insert(g.clientId,g))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(na(this.persistenceKey,e));if(o){const a=Th.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(na(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return en("SharedClientState","READ",e,t),t}setItem(e,t){en("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){en("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(en("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ne.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let g=L.ct;if(null!=u)try{const A=JSON.parse(u);qn("number"==typeof A),g=A}catch(A){Ei("SharedClientState","Failed to read sequence number from WebStorage",A)}return g}(o.newValue);a!==L.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new Mf(this.currentUser,e,t,o),u=iy(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=iy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=na(this.persistenceKey,e),u=new Th(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return dg.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return Mf.ar(new bi(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return Th.ar(a,t)}br(e){return Sh.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);en("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),g=[],A=[];return u.forEach(B=>{a.has(B)||g.push(B)}),a.forEach(B=>{u.has(B)||A.push(B)}),this.syncEngine.Wr(g,A).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=sd();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class oy{constructor(){this.Hr=new xf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t_{Yr(e){}shutdown(){}}class fg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){en("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){en("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rf=null;function pg(){return null===Rf?Rf=268435456+Math.round(2147483648*Math.random()):Rf++,"0x"+Rf.toString(16)}const gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const qs="WebChannelConnection";class r_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const g=pg(),A=this.To(e,t);en("RestConnection",`Sending RPC '${e}' ${g}:`,A,o);const B={};return this.Eo(B,a,u),this.Ao(e,A,B,o).then(z=>(en("RestConnection",`Received RPC '${e}' ${g}: `,z),z),z=>{throw Br("RestConnection",`RPC '${e}' ${g} failed with error: `,z,"url: ",A,"request:",o),z})}vo(e,t,o,a,u,g){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+es,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${gg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=pg();return new Promise((g,A)=>{const B=new nl;B.setWithCredentials(!0),B.listenOnce(zi.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case fs.NO_ERROR:const ee=B.getResponseJson();en(qs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ee)),g(ee);break;case fs.TIMEOUT:en(qs,`RPC '${e}' ${u} timed out`),A(new jt(Et.DEADLINE_EXCEEDED,"Request time out"));break;case fs.HTTP_ERROR:const Oe=B.getStatus();if(en(qs,`RPC '${e}' ${u} failed with status:`,Oe,"response text:",B.getResponseText()),Oe>0){let wt=B.getResponseJson();Array.isArray(wt)&&(wt=wt[0]);const Ut=null==wt?void 0:wt.error;if(Ut&&Ut.status&&Ut.message){const sn=function(Mn){const On=Mn.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(On)>=0?On:Et.UNKNOWN}(Ut.status);A(new jt(sn,Ut.message))}else A(new jt(Et.UNKNOWN,"Server responded with status "+B.getStatus()))}else A(new jt(Et.UNAVAILABLE,"Connection failed."));break;default:Tn()}}finally{en(qs,`RPC '${e}' ${u} completed.`)}});const z=JSON.stringify(a);en(qs,`RPC '${e}' ${u} sending request:`,a),B.send(t,"POST",z,o,15)})}Ro(e,t,o){const a=pg(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=hs(),A=Bo(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(B.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(B.xmlHttpFactory=new To({})),this.Eo(B.initMessageHeaders,t,o),B.encodeInitMessageHeaders=!0;const ee=u.join("");en(qs,`Creating RPC '${e}' stream ${a}: ${ee}`,B);const Oe=g.createWebChannel(ee,B);let wt=!1,Ut=!1;const sn=new n_({ro:On=>{Ut?en(qs,`Not sending because RPC '${e}' stream ${a} is closed:`,On):(wt||(en(qs,`Opening RPC '${e}' stream ${a} transport.`),Oe.open(),wt=!0),en(qs,`RPC '${e}' stream ${a} sending:`,On),Oe.send(On))},oo:()=>Oe.close()}),Mn=(On,br,ni)=>{On.listen(br,kr=>{try{ni(kr)}catch(po){setTimeout(()=>{throw po},0)}})};return Mn(Oe,wa.EventType.OPEN,()=>{Ut||en(qs,`RPC '${e}' stream ${a} transport opened.`)}),Mn(Oe,wa.EventType.CLOSE,()=>{Ut||(Ut=!0,en(qs,`RPC '${e}' stream ${a} transport closed`),sn.wo())}),Mn(Oe,wa.EventType.ERROR,On=>{Ut||(Ut=!0,Br(qs,`RPC '${e}' stream ${a} transport errored:`,On),sn.wo(new jt(Et.UNAVAILABLE,"The operation could not be completed")))}),Mn(Oe,wa.EventType.MESSAGE,On=>{var br;if(!Ut){const ni=On.data[0];qn(!!ni);const po=ni.error||(null===(br=ni[0])||void 0===br?void 0:br.error);if(po){en(qs,`RPC '${e}' stream ${a} received error:`,po);const Ai=po.status;let Si=function(Yu){const wm=ct[Yu];if(void 0!==wm)return Bn(wm)}(Ai),Ks=po.message;void 0===Si&&(Si=Et.INTERNAL,Ks="Unknown error status: "+Ai+" with message "+po.message),Ut=!0,sn.wo(new jt(Si,Ks)),Oe.close()}else en(qs,`RPC '${e}' stream ${a} received:`,ni),sn._o(ni)}}),Mn(A,bo.STAT_EVENT,On=>{On.stat===Co.PROXY?en(qs,`RPC '${e}' stream ${a} detected buffering proxy`):On.stat===Co.NOPROXY&&en(qs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{sn.fo()},0),sn}}function sy(){return typeof window<"u"?window:null}function Of(){return typeof document<"u"?document:null}function ga(r){return new Sm(r,!0)}class Ah{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&en("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ay{constructor(e,t,o,a,u,g,A,B){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=A,this.listener=B,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ah(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ne.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ne.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,ne.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Et.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Et.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new jt(Et.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,ne.Z)(function*(){e.state=0,e.start()}))}tu(e){return en("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(en("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i_ extends ay{constructor(e,t,o,a,u,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,g),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function xv(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Tn(),a=e.targetChange.targetIds||[],u=function(B,z){return B.useProto3Json?(qn(void 0===z||"string"==typeof z),fo.fromBase64String(z||"")):(qn(void 0===z||z instanceof Uint8Array),fo.fromUint8Array(z||new Uint8Array))}(r,e.targetChange.resumeToken),g=e.targetChange.cause,A=g&&function(B){const z=void 0===B.code?Et.UNKNOWN:Bn(B.code);return new jt(z,B.message||"")}(g);t=new uh(o,a,u,A||null)}else if("documentChange"in e){const o=e.documentChange,a=Nl(r,o.document.name),u=Mo(o.document.updateTime),g=o.document.createTime?Mo(o.document.createTime):Ln.min(),A=new io({mapValue:{fields:o.document.fields}}),B=Qr.newFoundDocument(a,u,g,A);t=new wu(o.targetIds||[],o.removedTargetIds||[],B.key,B)}else if("documentDelete"in e){const o=e.documentDelete,a=Nl(r,o.document),u=o.readTime?Mo(o.readTime):Ln.min(),g=Qr.newNoDocument(a,u);t=new wu([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,a=Nl(r,o.document);t=new wu([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Tn();{const o=e.filter,{count:a=0,unchangedNames:u}=o,g=new ze(a,u);t=new dd(o.targetId,g)}}var B;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return Ln.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ln.min():u.readTime?Mo(u.readTime):Ln.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=pd(this.serializer),t.addTarget=function(a,u){let g;const A=u.target;if(g=ja(A)?{documents:Hp(a,A)}:{query:ph(a,A)},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=Am(a,u.resumeToken);const B=df(a,u.expectedCount);null!==B&&(g.expectedCount=B)}else if(u.snapshotVersion.compareTo(Ln.min())>0){g.readTime=fd(a,u.snapshotVersion.toTimestamp());const B=df(a,u.expectedCount);null!==B&&(g.expectedCount=B)}return g}(this.serializer,e);const o=function Rv(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class ly extends ay{constructor(e,t,o,a,u,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,g),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Cu(r,e){return r&&r.length>0?(qn(void 0!==e),r.map(t=>function(o,a){let u=Mo(o.updateTime?o.updateTime:a);return u.isEqual(Ln.min())&&(u=Mo(a)),new zs(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Mo(e.commitTime);return this.listener.cu(o,t)}return qn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>bu(this.serializer,o))};this.Wo(t)}}class o_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new jt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new jt(Et.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.vo(e,t,o,u,g,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(Et.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class yg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ei(t),this.mu=!1):en("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class a_{constructor(e,t,o,a,u){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(A=>{o.enqueueAndForget((0,ne.Z)(function*(){var B;yc(g)&&(en("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,ne.Z)(function*(z){const ee=wn(z);ee.vu.add(4),yield mc(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield Mh(ee)}),function(z){return B.apply(this,arguments)})(g))}))}),this.bu=new yg(o,a)}}function Mh(r){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,ne.Z)(function*(r){if(yc(r))for(const e of r.Ru)yield e(!0)}),Dd.apply(this,arguments)}function mc(r){return bd.apply(this,arguments)}function bd(){return bd=(0,ne.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),bd.apply(this,arguments)}function vg(r,e){const t=wn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Nf(t)?Pf(t):Td(t).Ko()&&cy(t,e))}function Ru(r,e){const t=wn(r),o=Td(t);t.Au.delete(e),o.Ko()&&_g(t,e),0===t.Au.size&&(o.Ko()?o.jo():yc(t)&&t.bu.set("Unknown"))}function cy(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ln.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Td(r).su(e)}function _g(r,e){r.Vu.qt(e),Td(r).iu(e)}function Pf(r){r.Vu=new hd({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Td(r).start(),r.bu.gu()}function Nf(r){return yc(r)&&!Td(r).Uo()&&r.Au.size>0}function yc(r){return 0===wn(r).vu.size}function kf(r){r.Vu=void 0}function vc(r){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,ne.Z)(function*(r){r.Au.forEach((e,t)=>{cy(r,e)})}),Cd.apply(this,arguments)}function Ff(r,e){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,ne.Z)(function*(r,e){kf(r),Nf(r)?(r.bu.Iu(e),Pf(r)):r.bu.set("Unknown")}),Ou.apply(this,arguments)}function l_(r,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ne.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof uh&&2===e.state&&e.cause)try{yield(o=(0,ne.Z)(function*(a,u){const g=u.cause;for(const A of u.targetIds)a.Au.has(A)&&(yield a.remoteSyncer.rejectListen(A,g),a.Au.delete(A),a.Vu.removeTarget(A))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){en("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield xh(r,o)}else if(e instanceof wu?r.Vu.Ht(e):e instanceof dd?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Ln.min()))try{const o=yield wd(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const g=a.Vu.ce(u);return g.targetChanges.forEach((A,B)=>{if(A.resumeToken.approximateByteSize()>0){const z=a.Au.get(B);z&&a.Au.set(B,z.withResumeToken(A.resumeToken,u))}}),g.targetMismatches.forEach((A,B)=>{const z=a.Au.get(A);if(!z)return;a.Au.set(A,z.withResumeToken(fo.EMPTY_BYTE_STRING,z.snapshotVersion)),_g(a,A);const ee=new kl(z.target,A,B,z.sequenceNumber);cy(a,ee)}),a.remoteSyncer.applyRemoteEvent(g)}(r,t))}catch(o){en("RemoteStore","Failed to raise snapshot:",o),yield xh(r,o)}var o}),Lf.apply(this,arguments)}function xh(r,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,ne.Z)(function*(r,e,t){if(!gs(e))throw e;r.vu.add(1),yield mc(r),r.bu.set("Offline"),t||(t=()=>wd(r.localStore)),r.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){en("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Mh(r)}))}),Eg.apply(this,arguments)}function uy(r,e){return e().catch(t=>xh(r,t,e))}function Fl(r){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,ne.Z)(function*(r){const e=wn(r),t=Kc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nE(e);)try{const a=yield Qm(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,c_(e,a)}catch(a){yield xh(e,a)}dy(e)&&hy(e)}),Ig.apply(this,arguments)}function nE(r){return yc(r)&&r.Eu.length<10}function c_(r,e){r.Eu.push(e);const t=Kc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function dy(r){return yc(r)&&!Kc(r).Uo()&&r.Eu.length>0}function hy(r){Kc(r).start()}function u_(r){return wg.apply(this,arguments)}function wg(){return wg=(0,ne.Z)(function*(r){Kc(r).hu()}),wg.apply(this,arguments)}function d_(r){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ne.Z)(function*(r){const e=Kc(r);for(const t of r.Eu)e.uu(t.mutations)}),Dg.apply(this,arguments)}function fy(r,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,ne.Z)(function*(r,e,t){const o=r.Eu.shift(),a=D.from(o,e,t);yield uy(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Fl(r)}),Rh.apply(this,arguments)}function h_(r,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,ne.Z)(function*(r,e){var t;e&&Kc(r).ou&&(yield(t=(0,ne.Z)(function*(o,a){if(yn(u=a.code)&&u!==Et.ABORTED){const g=o.Eu.shift();Kc(o).Qo(),yield uy(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield Fl(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),dy(r)&&hy(r)}),Oh.apply(this,arguments)}function py(r,e){return bg.apply(this,arguments)}function bg(){return bg=(0,ne.Z)(function*(r,e){const t=wn(r);t.asyncQueue.verifyOperationInProgress(),en("RemoteStore","RemoteStore received new credentials");const o=yc(t);t.vu.add(3),yield mc(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mh(t)}),bg.apply(this,arguments)}function Cg(r,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,ne.Z)(function*(r,e){const t=wn(r);e?(t.vu.delete(2),yield Mh(t)):e||(t.vu.add(2),yield mc(t),t.bu.set("Unknown"))}),Tg.apply(this,arguments)}function Td(r){return r.Su||(r.Su=function(e,t,o){const a=wn(e);return a.fu(),new i_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:vc.bind(null,r),ao:Ff.bind(null,r),nu:l_.bind(null,r)}),r.Ru.push(function(){var e=(0,ne.Z)(function*(t){t?(r.Su.Qo(),Nf(r)?Pf(r):r.bu.set("Unknown")):(yield r.Su.stop(),kf(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Kc(r){return r.Du||(r.Du=function(e,t,o){const a=wn(e);return a.fu(),new ly(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:u_.bind(null,r),ao:h_.bind(null,r),au:d_.bind(null,r),cu:fy.bind(null,r)}),r.Ru.push(function(){var e=(0,ne.Z)(function*(t){t?(r.Du.Qo(),yield Fl(r)):(yield r.Du.stop(),r.Eu.length>0&&(en("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Sg{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,a,u){const g=Date.now()+o,A=new Sg(e,t,g,a,u);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(Et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pu(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),gs(r))return new jt(Et.UNAVAILABLE,`${e}: ${r}`);throw r}class Nu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||gn.comparator(t.key,o.key):(t,o)=>gn.comparator(t.key,o.key),this.keyedMap=pl(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Nu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class gy{constructor(){this.Cu=new fi(gn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Tn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ph{constructor(e,t,o,a,u,g,A,B,z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=g,this.syncStateChanged=A,this.excludesMetadataChanges=B,this.hasCachedResults=z}static fromInitialDocuments(e,t,o,a,u){const g=[];return t.forEach(A=>{g.push({type:0,doc:A})}),new Ph(e,t,Nu.emptySet(t),g,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class my{constructor(){this.Nu=void 0,this.listeners=[]}}class rE{constructor(){this.queries=new fl(e=>id(e),za),this.onlineState="Unknown",this.ku=new Set}}function Sd(r,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,ne.Z)(function*(r,e){const t=wn(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new my),a)try{u.Nu=yield t.onListen(o)}catch(g){const A=Pu(g,`Initialization of query '${yu(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&ku(t)}),Ag.apply(this,arguments)}function Mg(r,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,ne.Z)(function*(r,e){const t=wn(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const g=u.listeners.indexOf(e);g>=0&&(u.listeners.splice(g,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),Nh.apply(this,arguments)}function f_(r,e){const t=wn(r);let o=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const A of g.listeners)A.$u(a)&&(o=!0);g.Nu=a}}o&&ku(t)}function Ll(r,e,t){const o=wn(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function ku(r){r.ku.forEach(e=>{e.next()})}class vs{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new Ph(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fu{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class kh{constructor(e){this.serializer=e}rr(e){return Nl(this.serializer,e)}ur(e){return e.metadata.exists?hf(this.serializer,e.document,!1):Qr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Mo(e)}}class Za{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bf(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Xr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new kh(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const g of a.metadata.queries){const A=(t.get(g)||Dr()).add(u);t.set(g,A)}}return t}complete(){var e=this;return(0,ne.Z)(function*(){const t=yield function ty(r,e,t,o){return ug.apply(this,arguments)}(e.localStore,new kh(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield ny(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Bf(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Lu{constructor(e){this.key=e}}class Bu{constructor(e){this.key=e}}class $u{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dr(),this.mutatedKeys=Dr(),this.tc=nh(e),this.ec=new Nu(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new gy,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,g=a,A=!1;const B="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,Oe)=>{const wt=a.get(ee),Ut=hl(this.query,Oe)?Oe:null,sn=!!wt&&this.mutatedKeys.has(wt.key),Mn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let On=!1;wt&&Ut?wt.data.isEqual(Ut.data)?sn!==Mn&&(o.track({type:3,doc:Ut}),On=!0):this.rc(wt,Ut)||(o.track({type:2,doc:Ut}),On=!0,(B&&this.tc(Ut,B)>0||z&&this.tc(Ut,z)<0)&&(A=!0)):!wt&&Ut?(o.track({type:0,doc:Ut}),On=!0):wt&&!Ut&&(o.track({type:1,doc:wt}),On=!0,(B||z)&&(A=!0)),On&&(Ut?(g=g.add(Ut),u=Mn?u.add(ee):u.delete(ee)):(g=g.delete(ee),u=u.delete(ee)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ee="F"===this.query.limitType?g.last():g.first();g=g.delete(ee.key),u=u.delete(ee.key),o.track({type:1,doc:ee})}return{ec:g,ic:o,zi:A,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((z,ee)=>function(Oe,wt){const Ut=sn=>{switch(sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tn()}};return Ut(Oe)-Ut(wt)}(z.type,ee.type)||this.tc(z.doc,ee.doc)),this.oc(o);const g=t?this.uc():[],A=0===this.Zu.size&&this.current?1:0,B=A!==this.Xu;return this.Xu=A,0!==u.length||B?{snapshot:new Ph(this.query,e.ec,a,u,e.mutatedKeys,0===A,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Bu(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Lu(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Dr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ph.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ad{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Md{constructor(e){this.key=e,this.fc=!1}}class xd{constructor(e,t,o,a,u,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new fl(A=>id(A),za),this._c=new Map,this.mc=new Set,this.gc=new fi(gn.comparator),this.yc=new Map,this.Ic=new Df,this.Tc={},this.Ec=new Map,this.Ac=jc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Rd(r,e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,ne.Z)(function*(r,e){const t=tp(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const g=yield Wc(t.localStore,Ao(e)),A=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,a=yield Zc(t,e,o,"current"===A,g.resumeToken),t.isPrimaryClient&&vg(t.remoteStore,g)}return a}),Yc.apply(this,arguments)}function Zc(r,e,t,o,a){return $f.apply(this,arguments)}function $f(){return $f=(0,ne.Z)(function*(r,e,t,o,a){r.Rc=(Oe,wt,Ut)=>{return(sn=(0,ne.Z)(function*(Mn,On,br,ni){let kr=On.view.sc(br);kr.zi&&(kr=yield Ch(Mn.localStore,On.query,!1).then(({documents:Si})=>On.view.sc(Si,kr)));const po=ni&&ni.targetChanges.get(On.targetId),Ai=On.view.applyChanges(kr,Mn.isPrimaryClient,po);return Fg(Mn,On.targetId,Ai.cc),Ai.snapshot}),function(Mn,On,br,ni){return sn.apply(this,arguments)})(r,Oe,wt,Ut);var sn};const u=yield Ch(r.localStore,e,!0),g=new $u(e,u.ir),A=g.sc(u.documents),B=hc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),z=g.applyChanges(A,r.isPrimaryClient,B);Fg(r,t,z.cc);const ee=new Ad(e,t,g);return r.wc.set(e,ee),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),z.snapshot}),$f.apply(this,arguments)}function yy(r,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ne.Z)(function*(r,e){const t=wn(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!za(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield qc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ru(t.remoteStore,o.targetId),_c(t,o.targetId)}).catch(to))):(_c(t,o.targetId),yield qc(t.localStore,o.targetId,!0))}),Vf.apply(this,arguments)}function Uf(){return Uf=(0,ne.Z)(function*(r,e,t){const o=np(r);try{const a=yield function(u,g){const A=wn(u),B=Nr.now(),z=g.reduce((wt,Ut)=>wt.add(Ut.key),Dr());let ee,Oe;return A.persistence.runTransaction("Locally write mutations","readwrite",wt=>{let Ut=zo(),sn=Dr();return A.Zi.getEntries(wt,z).next(Mn=>{Ut=Mn,Ut.forEach((On,br)=>{br.isValidDocument()||(sn=sn.add(On))})}).next(()=>A.localDocuments.getOverlayedDocuments(wt,Ut)).next(Mn=>{ee=Mn;const On=[];for(const br of g){const ni=Iu(br,ee.get(br.key).overlayedDocument);null!=ni&&On.push(new qa(br.key,ni,$a(ni.value.mapValue),Li.exists(!0)))}return A.mutationQueue.addMutationBatch(wt,B,On,g)}).next(Mn=>{Oe=Mn;const On=Mn.applyToLocalDocumentSet(ee,sn);return A.documentOverlayCache.saveOverlays(wt,Mn.batchId,On)})}).then(()=>({batchId:Oe.batchId,changes:od(ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,g,A){let B=u.Tc[u.currentUser.toKey()];B||(B=new fi(Jn)),B=B.insert(g,A),u.Tc[u.currentUser.toKey()]=B}(o,a.batchId,t),yield vl(o,a.changes),yield Fl(o.remoteStore)}catch(a){const u=Pu(a,"Failed to persist write");t.reject(u)}}),Uf.apply(this,arguments)}function xg(r,e){return jf.apply(this,arguments)}function jf(){return jf=(0,ne.Z)(function*(r,e){const t=wn(r);try{const o=yield function cg(r,e){const t=wn(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const g=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const A=[];e.targetChanges.forEach((ee,Oe)=>{const wt=a.get(Oe);if(!wt)return;A.push(t.Bs.removeMatchingKeys(u,ee.removedDocuments,Oe).next(()=>t.Bs.addMatchingKeys(u,ee.addedDocuments,Oe)));let Ut=wt.withSequenceNumber(u.currentSequenceNumber);var sn,Mn,On;null!==e.targetMismatches.get(Oe)?Ut=Ut.withResumeToken(fo.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):ee.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(ee.resumeToken,o)),a=a.insert(Oe,Ut),Mn=Ut,On=ee,(0===(sn=wt).resumeToken.approximateByteSize()||Mn.snapshotVersion.toMicroseconds()-sn.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&A.push(t.Bs.updateTargetData(u,Ut))});let B=zo(),z=Dr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(u,ee))}),A.push(Dh(u,g,e.documentUpdates).next(ee=>{B=ee.nr,z=ee.sr})),!o.isEqual(Ln.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(u).next(Oe=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));A.push(ee)}return vt.waitFor(A).next(()=>g.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,B,z)).next(()=>B)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const g=t.yc.get(u);g&&(qn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.fc=!0:a.modifiedDocuments.size>0?qn(g.fc):a.removedDocuments.size>0&&(qn(g.fc),g.fc=!1))}),yield vl(t,o,e)}catch(o){yield to(o)}}),jf.apply(this,arguments)}function Rg(r,e,t){const o=wn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,g)=>{const A=g.view.Mu(e);A.snapshot&&a.push(A.snapshot)}),function(u,g){const A=wn(u);A.onlineState=g;let B=!1;A.queries.forEach((z,ee)=>{for(const Oe of ee.listeners)Oe.Mu(g)&&(B=!0)}),B&&ku(A)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function _y(r,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,ne.Z)(function*(r,e,t){const o=wn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let g=new fi(gn.comparator);g=g.insert(u,Qr.newNoDocument(u,Ln.min()));const A=Dr().add(u),B=new ml(Ln.min(),new Map,new fi(Jn),g,A);yield xg(o,B),o.gc=o.gc.remove(u),o.yc.delete(e),Pd(o)}else yield qc(o.localStore,e,!1).then(()=>_c(o,e,t)).catch(to)}),Og.apply(this,arguments)}function p_(r,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,ne.Z)(function*(r,e){const t=wn(r),o=e.batch.batchId;try{const a=yield function lg(r,e){const t=wn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(g,A,B,z){const ee=B.batch,Oe=ee.keys();let wt=vt.resolve();return Oe.forEach(Ut=>{wt=wt.next(()=>z.getEntry(A,Ut)).next(sn=>{const Mn=B.docVersions.get(Ut);qn(null!==Mn),sn.version.compareTo(Mn)<0&&(ee.applyToRemoteDocument(sn,B),sn.isValidDocument()&&(sn.setReadTime(B.commitVersion),z.addEntry(sn)))})}),wt.next(()=>g.mutationQueue.removeMutationBatch(A,ee))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let A=Dr();for(let B=0;B<g.mutationResults.length;++B)g.mutationResults[B].transformResults.length>0&&(A=A.add(g.batch.mutations[B].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);Od(t,o,null),kg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield vl(t,a)}catch(a){yield to(a)}}),Hf.apply(this,arguments)}function g_(r,e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,ne.Z)(function*(r,e,t){const o=wn(r);try{const a=yield function(u,g){const A=wn(u);return A.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let z;return A.mutationQueue.lookupMutationBatch(B,g).next(ee=>(qn(null!==ee),z=ee.keys(),A.mutationQueue.removeMutationBatch(B,ee))).next(()=>A.mutationQueue.performConsistencyCheck(B)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(B,z,g)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,z)).next(()=>A.localDocuments.getDocuments(B,z))})}(o.localStore,e);Od(o,e,t),kg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield vl(o,a)}catch(a){yield to(a)}}),Pg.apply(this,arguments)}function Fh(){return Fh=(0,ne.Z)(function*(r,e){const t=wn(r);yc(t.remoteStore)||en("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const g=wn(u);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>g.mutationQueue.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=Pu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Fh.apply(this,arguments)}function kg(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Od(r,e,t){const o=wn(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function _c(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||zf(r,o)})}function zf(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Ru(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Pd(r))}function Fg(r,e,t){for(const o of t)o instanceof Lu?(r.Ic.addReference(o.key,e),Gf(r,o)):o instanceof Bu?(en("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||zf(r,o.key)):Tn()}function Gf(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(en("SyncEngine","New document in limbo: "+t),r.mc.add(o),Pd(r))}function Pd(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new gn(Xr.fromString(e)),o=r.Ac.next();r.yc.set(o,new Md(t)),r.gc=r.gc.insert(t,o),vg(r.remoteStore,new kl(Ao(Pc(t.path)),o,"TargetPurposeLimboResolution",L.ct))}}function vl(r,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ne.Z)(function*(r,e,t){const o=wn(r),a=[],u=[],g=[];var A;o.wc.isEmpty()||(o.wc.forEach((A,B)=>{g.push(o.Rc(B,e,t).then(z=>{if((z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,null!=z&&z.fromCache?"not-current":"current"),z){a.push(z);const ee=sg.Li(B.targetId,z);u.push(ee)}}))}),yield Promise.all(g),o.dc.nu(a),yield(A=(0,ne.Z)(function*(B,z){const ee=wn(B);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",Oe=>vt.forEach(z,wt=>vt.forEach(wt.Fi,Ut=>ee.persistence.referenceDelegate.addReference(Oe,wt.targetId,Ut)).next(()=>vt.forEach(wt.Bi,Ut=>ee.persistence.referenceDelegate.removeReference(Oe,wt.targetId,Ut)))))}catch(Oe){if(!gs(Oe))throw Oe;en("LocalStore","Failed to update sequence numbers: "+Oe)}for(const Oe of z){const wt=Oe.targetId;if(!Oe.fromCache){const Ut=ee.Ji.get(wt),Mn=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);ee.Ji=ee.Ji.insert(wt,Mn)}}}),function(B,z){return A.apply(this,arguments)})(o.localStore,u))}),Wf.apply(this,arguments)}function Lg(r,e){return qf.apply(this,arguments)}function qf(){return qf=(0,ne.Z)(function*(r,e){const t=wn(r);if(!t.currentUser.isEqual(e)){en("SyncEngine","User change. New user:",e.toKey());const o=yield wh(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(g=>{g.forEach(A=>{A.reject(new jt(Et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield vl(t,o.er)}var a}),qf.apply(this,arguments)}function Ey(r,e){const t=wn(r),o=t.yc.get(e);if(o&&o.fc)return Dr().add(o.key);{let a=Dr();const u=t._c.get(e);if(!u)return a;for(const g of u){const A=t.wc.get(g);a=a.unionWith(A.view.nc)}return a}}function Bg(r,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ne.Z)(function*(r,e){const t=wn(r),o=yield Ch(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&Fg(t,e.targetId,a.cc),a}),Kf.apply(this,arguments)}function m_(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,ne.Z)(function*(r,e){const t=wn(r);return Jm(t.localStore,e).then(o=>vl(t,o))}),Yf.apply(this,arguments)}function Iy(r,e,t,o){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,ne.Z)(function*(r,e,t,o){const a=wn(r),u=yield function(g,A){const B=wn(g),z=wn(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",ee=>z.Sn(ee,A).next(Oe=>Oe?B.localDocuments.getDocuments(ee,Oe):vt.resolve(null)))}(a.localStore,e);var A;null!==u?("pending"===t?yield Fl(a.remoteStore):"acknowledged"===t||"rejected"===t?(Od(a,e,o||null),kg(a,e),A=e,wn(wn(a.localStore).mutationQueue).Cn(A)):Tn(),yield vl(a,u)):en("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zf.apply(this,arguments)}function $g(){return $g=(0,ne.Z)(function*(r,e){const t=wn(r);if(tp(t),np(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Vg(t,o.toArray());t.vc=!0,yield Cg(t.remoteStore,!0);for(const u of a)vg(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):a=a.then(()=>(_c(t,g),qc(t.localStore,g,!0))),Ru(t.remoteStore,g)}),yield a,yield Vg(t,o),function(u){const g=wn(u);g.yc.forEach((A,B)=>{Ru(g.remoteStore,B)}),g.Ic.Ts(),g.yc=new Map,g.gc=new fi(gn.comparator)}(t),t.vc=!1,yield Cg(t.remoteStore,!1)}}),$g.apply(this,arguments)}function Vg(r,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ne.Z)(function*(r,e,t){const o=wn(r),a=[],u=[];for(const g of e){let A;const B=o._c.get(g);if(B&&0!==B.length){A=yield Wc(o.localStore,Ao(B[0]));for(const z of B){const ee=o.wc.get(z),Oe=yield Bg(o,ee);Oe.snapshot&&u.push(Oe.snapshot)}}else{const z=yield Sf(o.localStore,g);A=yield Wc(o.localStore,z),yield Zc(o,Qf(z),g,!1,A.resumeToken)}a.push(A)}return o.dc.nu(u),a}),Xf.apply(this,arguments)}function Qf(r){return fu(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ug(r){const e=wn(r);return wn(wn(e.localStore).persistence).$i()}function Dy(r,e,t,o){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,ne.Z)(function*(r,e,t,o){const a=wn(r);if(a.vc)return void en("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const g=yield Jm(a.localStore,th(u[0])),A=ml.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fo.EMPTY_BYTE_STRING);yield vl(a,g,A);break}case"rejected":yield qc(a.localStore,e,!0),_c(a,e,o);break;default:Tn()}}),Jf.apply(this,arguments)}function by(r,e,t){return ep.apply(this,arguments)}function ep(){return ep=(0,ne.Z)(function*(r,e,t){const o=tp(r);if(o.vc){for(const a of e){if(o._c.has(a)){en("SyncEngine","Adding an already active target "+a);continue}const u=yield Sf(o.localStore,a),g=yield Wc(o.localStore,u);yield Zc(o,Qf(u),g.targetId,!1,g.resumeToken),vg(o.remoteStore,g)}for(const a of t)o._c.has(a)&&(yield qc(o.localStore,a,!1).then(()=>{Ru(o.remoteStore,a),_c(o,a)}).catch(to))}}),ep.apply(this,arguments)}function tp(r){const e=wn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_y.bind(null,e),e.dc.nu=f_.bind(null,e.eventManager),e.dc.Pc=Ll.bind(null,e.eventManager),e}function np(r){const e=wn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g_.bind(null,e),e}class Nd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ne.Z)(function*(){t.serializer=ga(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Xm(this.persistence,new ag,e.initialUser,this.serializer)}createPersistence(e){return new bf(_h.zs,this.serializer)}createSharedClientState(e){return new oy}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bl extends Nd{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ne.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield np(o.Vc.syncEngine),yield Fl(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Xm(this.persistence,new ag,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new tg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new S(t,this.persistence);return new y(e.asyncQueue,o)}createPersistence(e){const t=Tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new og(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,sy(),Of(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oy}}class Ty extends Bl{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ne.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof hg&&(o.sharedClientState.syncEngine={jr:Iy.bind(null,a),zr:Dy.bind(null,a),Wr:by.bind(null,a),$i:Ug.bind(null,a),Qr:m_.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,ne.Z)(function*(g){yield function wy(r,e){return $g.apply(this,arguments)}(o.Vc.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=sy();if(!hg.D(t))throw new jt(Et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hg(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class kd{initialize(e,t){var o=this;return(0,ne.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Rg(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=Lg.bind(null,o.syncEngine),yield Cg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rE}createDatastore(e){const t=ga(e.databaseInfo.databaseId),o=new r_(e.databaseInfo);return new o_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=A=>Rg(this.syncEngine,A,0),g=fg.D()?new fg:new t_,new a_(t,o,a,u,g);var t,o,a,u,g}createSyncEngine(e,t){return function(o,a,u,g,A,B,z){const ee=new xd(o,a,u,g,A,B);return z&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ne.Z)(function*(t){const o=wn(t);en("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield mc(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ip(r,e=10240){let t=0;return{read:()=>(0,ne.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ne.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $l{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jg{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Rr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ne.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ne.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ne.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new Fu(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ne.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ne.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class y_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new jt(Et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,ne.Z)(function*(u,g){const A=wn(u),B=pd(A.serializer)+"/documents",z={documents:g.map(Ut=>Du(A.serializer,Ut))},ee=yield A.vo("BatchGetDocuments",B,z,g.length),Oe=new Map;ee.forEach(Ut=>{const sn=function ff(r,e){return"found"in e?function(t,o){qn(!!o.found);const a=Nl(t,o.found.name),u=Mo(o.found.updateTime),g=o.found.createTime?Mo(o.found.createTime):Ln.min(),A=new io({mapValue:{fields:o.found.fields}});return Qr.newFoundDocument(a,u,g,A)}(r,e):"missing"in e?function(t,o){qn(!!o.missing),qn(!!o.readTime);const a=Nl(t,o.missing),u=Mo(o.readTime);return Qr.newNoDocument(a,u)}(r,e):Tn()}(A.serializer,Ut);Oe.set(sn.key.toString(),sn)});const wt=[];return g.forEach(Ut=>{const sn=Oe.get(Ut.toString());qn(!!sn),wt.push(sn)}),wt}),function(u,g){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=gn.fromPath(a);e.mutations.push(new d(u,e.precondition(u)))}),yield(o=(0,ne.Z)(function*(a,u){const g=wn(a),A=pd(g.serializer)+"/documents",B={writes:u.map(z=>bu(g.serializer,z))};yield g.Io("Commit",A,B)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tn();t=Ln.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new jt(Et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ln.min())?Li.exists(!1):Li.updateTime(t):Li.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ln.min()))throw new jt(Et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Li.updateTime(t)}return Li.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hg{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new Ah(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ne.Z)(function*(){const t=new y_(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!K(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yn(t)}return!1}}class iE{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=bi.UNAUTHENTICATED,this.clientId=ua.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ne.Z)(function*(A){en("FirestoreClient","Received user=",A.uid),yield u.authCredentialListener(A),u.user=A});return function(A){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(en("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=Pu(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function zg(r,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ne.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),en("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,ne.Z)(function*(u){o.isEqual(u)||(yield wh(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Gg.apply(this,arguments)}function Wg(r,e){return op.apply(this,arguments)}function op(){return op=(0,ne.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Go(r);en("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>py(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>py(e.remoteStore,u)),r._onlineComponents=e}),op.apply(this,arguments)}function Sy(r){return"FirebaseError"===r.name?r.code===Et.FAILED_PRECONDITION||r.code===Et.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Go(r){return sp.apply(this,arguments)}function sp(){return sp=(0,ne.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){en("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Sy(t))throw t;Br("Error using user provided cache. Falling back to memory cache: "+t),yield zg(r,new Nd)}}else en("FirestoreClient","Using default OfflineComponentProvider"),yield zg(r,new Nd);return r._offlineComponents}),sp.apply(this,arguments)}function ap(r){return qg.apply(this,arguments)}function qg(){return qg=(0,ne.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(en("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wg(r,r._uninitializedComponentsProvider._online)):(en("FirestoreClient","Using default OnlineComponentProvider"),yield Wg(r,new kd))),r._onlineComponents}),qg.apply(this,arguments)}function Kg(r){return Go(r).then(e=>e.persistence)}function lp(r){return Go(r).then(e=>e.localStore)}function Yg(r){return ap(r).then(e=>e.remoteStore)}function cp(r){return ap(r).then(e=>e.syncEngine)}function Fd(r){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,ne.Z)(function*(r){const e=yield ap(r),t=e.eventManager;return t.onListen=Rd.bind(null,e.syncEngine),t.onUnlisten=yy.bind(null,e.syncEngine),t}),Zg.apply(this,arguments)}function __(r,e,t={}){const o=new Rr;return r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(a,u,g,A,B){const z=new $l({next:Oe=>{u.enqueueAndForget(()=>Mg(a,ee));const wt=Oe.docs.has(g);!wt&&Oe.fromCache?B.reject(new jt(Et.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Oe.fromCache&&A&&"server"===A.source?B.reject(new jt(Et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Oe)},error:Oe=>B.reject(Oe)}),ee=new vs(Pc(g.path),z,{includeMetadataChanges:!0,Ku:!0});return Sd(a,ee)}(yield Fd(r),r.asyncQueue,e,t,o)})),o.promise}function up(r,e,t={}){const o=new Rr;return r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(a,u,g,A,B){const z=new $l({next:Oe=>{u.enqueueAndForget(()=>Mg(a,ee)),Oe.fromCache&&"server"===A.source?B.reject(new jt(Et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Oe)},error:Oe=>B.reject(Oe)}),ee=new vs(g,z,{includeMetadataChanges:!0,Ku:!0});return Sd(a,ee)}(yield Fd(r),r.asyncQueue,e,t,o)})),o.promise}function Xa(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Qa=new Map;function dp(r,e,t){if(!t)throw new jt(Et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Xg(r,e,t,o){if(!0===e&&!0===o)throw new jt(Et.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ry(r){if(!gn.isDocumentKey(r))throw new jt(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Oy(r){if(gn.isDocumentKey(r))throw new jt(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Tn()}function ei(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new jt(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(r);throw new jt(Et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function fp(r,e){if(e<=0)throw new jt(Et.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Ld{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new jt(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jt(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xa(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new jt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new jt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new jt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new jt(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new jt(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ld(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dl;switch(t.type){case"firstParty":return new Zl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new jt(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qa.get(e);t&&(en("ComponentProvider","Removing Datastore"),Qa.delete(e),t.terminate())}(this),Promise.resolve()}}class Zi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}}class xs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class _l extends xs{constructor(e,t,o){super(e,t,Pc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new gn(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function Jg(r,e,...t){if(r=(0,Be.m9)(r),dp("collection","path",e),r instanceof Lh){const o=Xr.fromString(e,...t);return Oy(o),new _l(r,null,o)}{if(!(r instanceof Zi||r instanceof _l))throw new jt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Xr.fromString(e,...t));return Oy(o),new _l(r.firestore,null,o)}}function gp(r,e,...t){if(r=(0,Be.m9)(r),1===arguments.length&&(e=ua.A()),dp("doc","path",e),r instanceof Lh){const o=Xr.fromString(e,...t);return Ry(o),new Zi(r,null,new gn(o))}{if(!(r instanceof Zi||r instanceof _l))throw new jt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Xr.fromString(e,...t));return Ry(o),new Zi(r.firestore,r instanceof _l?r.converter:null,new gn(o))}}function em(r,e){return r=(0,Be.m9)(r),e=(0,Be.m9)(e),(r instanceof Zi||r instanceof _l)&&(e instanceof Zi||e instanceof _l)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function mp(r,e){return r=(0,Be.m9)(r),e=(0,Be.m9)(e),r instanceof xs&&e instanceof xs&&r.firestore===e.firestore&&za(r._query,e._query)&&r.converter===e.converter}class tm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ah(this,"async_queue_retry"),this.Xc=()=>{const t=Of();t&&en("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Of();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Of();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Rr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ne.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!gs(t))throw t;en("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(u){let g=u.message||"";return u.stack&&(g=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),g}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Sg.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&Tn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ne.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Bd(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class nm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wi extends Lh{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new tm,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rm(this),this._firestoreClient.terminate()}}function xo(r){return r._firestoreClient||rm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function rm(r){var e,t,o;const a=r._freezeSettings(),u=(A=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new cl(r._databaseId,A,r._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,Xa(z.experimentalLongPollingOptions),z.useFetchStreams));var A,z;r._firestoreClient=new iE(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function ky(r,e,t){const o=new Rr;return r.asyncQueue.enqueue((0,ne.Z)(function*(){try{yield zg(r,t),yield Wg(r,e),o.resolve()}catch(a){const u=a;if(!Sy(u))throw u;Br("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function Fy(r){if(r._initialized||r._terminated)throw new jt(Et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(fo.fromBase64String(e))}catch(t){throw new jt(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ec{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new jt(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._methodName=e}}class yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new jt(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new jt(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}const O_=/^__.*__$/;class Ly{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new pa(e,this.data,t,this.fieldTransforms)}}class im{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function om(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tn()}}class $h{constructor(e,t,o,a,u,g){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new $h(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(om(this.ca)&&O_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class By{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||ga(e)}ya(e,t,o,a=!1){return new $h({ca:e,methodName:t,ga:o,path:Ni.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(r){const e=r._freezeSettings(),t=ga(r._databaseId);return new By(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Vh(r,e,t,o,a,u={}){const g=r.ya(u.merge||u.mergeFields?2:0,e,t,a);_p("Data must be an object, but it was:",g,o);const A=k_(o,g);let B,z;if(u.merge)B=new ns(g.fieldMask),z=g.fieldTransforms;else if(u.mergeFields){const ee=[];for(const Oe of u.mergeFields){const wt=Ep(e,Oe,t);if(!g.contains(wt))throw new jt(Et.INVALID_ARGUMENT,`Field '${wt}' is specified in your field mask but missing from your input data.`);Vy(ee,wt)||ee.push(wt)}B=new ns(ee),z=g.fieldTransforms.filter(Oe=>B.covers(Oe.field))}else B=null,z=g.fieldTransforms;return new Ly(new io(A),B,z)}class $d extends Uu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function sm(r,e,t){return new $h({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vp extends Uu{_toFieldTransform(e){return new _u(e.path,new Pl)}isEqual(e){return e instanceof vp}}class $y extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=sm(this,e,!0),o=this.pa.map(u=>Ic(u,t)),a=new cc(o);return new _u(e.path,a)}isEqual(e){return this===e}}class ju extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=sm(this,e,!0),o=this.pa.map(u=>Ic(u,t)),a=new uc(o);return new _u(e.path,a)}isEqual(e){return this===e}}class P_ extends Uu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new fa(e.serializer,Ms(e.serializer,this.Ia));return new _u(e.path,t)}isEqual(e){return this===e}}function am(r,e,t,o){const a=r.ya(1,e,t);_p("Data must be an object, but it was:",a,o);const u=[],g=io.empty();Ca(o,(B,z)=>{const ee=Ip(e,B,t);z=(0,Be.m9)(z);const Oe=a.da(ee);if(z instanceof $d)u.push(ee);else{const wt=Ic(z,Oe);null!=wt&&(u.push(ee),g.set(ee,wt))}});const A=new ns(u);return new im(g,A,a.fieldTransforms)}function Qc(r,e,t,o,a,u){const g=r.ya(1,e,t),A=[Ep(e,o,t)],B=[a];if(u.length%2!=0)throw new jt(Et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let wt=0;wt<u.length;wt+=2)A.push(Ep(e,u[wt])),B.push(u[wt+1]);const z=[],ee=io.empty();for(let wt=A.length-1;wt>=0;--wt)if(!Vy(z,A[wt])){const Ut=A[wt];let sn=B[wt];sn=(0,Be.m9)(sn);const Mn=g.da(Ut);if(sn instanceof $d)z.push(Ut);else{const On=Ic(sn,Mn);null!=On&&(z.push(Ut),ee.set(Ut,On))}}const Oe=new ns(z);return new im(ee,Oe,g.fieldTransforms)}function N_(r,e,t,o=!1){return Ic(t,r.ya(o?4:3,e))}function Ic(r,e){if(lm(r=(0,Be.m9)(r)))return _p("Unsupported field value:",e,r),k_(r,e);if(r instanceof Uu)return function(t,o){if(!om(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const g of t){let A=Ic(g,o.wa(u));null==A&&(A={nullValue:"NULL_VALUE"}),a.push(A),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,Be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ms(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Nr.fromDate(t);return{timestampValue:fd(o.serializer,a)}}if(t instanceof Nr){const a=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fd(o.serializer,a)}}if(t instanceof yp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:Am(o.serializer,t._byteString)};if(t instanceof Zi){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${hp(t)}`)}(r,e)}function k_(r,e){const t={};return tc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(r,(o,a)=>{const u=Ic(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function lm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Nr||r instanceof yp||r instanceof jl||r instanceof Zi||r instanceof Uu)}function _p(r,e,t){if(!lm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=hp(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ep(r,e,t){if((e=(0,Be.m9)(e))instanceof Ec)return e._internalPath;if("string"==typeof e)return Ip(r,e);throw wp("Field path arguments must be of type string or ",r,!1,void 0,t)}const fr=new RegExp("[~\\*/\\[\\]]");function Ip(r,e,t){if(e.search(fr)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wp(r,e,t,o,a){const u=o&&!o.isEmpty(),g=void 0!==a;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let B="";return(u||g)&&(B+=" (found",u&&(B+=` in field ${o}`),g&&(B+=` in document ${a}`),B+=")"),new jt(Et.INVALID_ARGUMENT,A+r+B)}function Vy(r,e){return r.some(t=>t.isEqual(e))}class Hl{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new F_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class F_ extends Hl{data(){return super.data()}}function Hu(r,e){return"string"==typeof e?Ip(r,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}function Uh(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new jt(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oo{}class Dp extends oo{}function wc(r,e,...t){let o=[];e instanceof oo&&o.push(e),o=o.concat(t),function(a){const u=a.filter(A=>A instanceof zu).length,g=a.filter(A=>A instanceof Vd).length;if(u>1||u>0&&g>0)throw new jt(Et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Vd extends Dp{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Vd(e,t,o)}_apply(e){const t=this._parse(e);return jd(e._query,t),new xs(e.firestore,e.converter,kc(e._query,t))}_parse(e){const t=Xc(e.firestore);return function(a,u,g,A,B,z,ee){let Oe;if(B.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new jt(Et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Ud(ee,z);const wt=[];for(const Ut of ee)wt.push(Hy(A,a,Ut));Oe={arrayValue:{values:wt}}}else Oe=Hy(A,a,ee)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Ud(ee,z),Oe=N_(g,"where",ee,"in"===z||"not-in"===z);return $r.create(B,z,Oe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class zu extends oo{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zu(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const g=a.getFlattenedFilters();for(const A of g)jd(u,A),u=kc(u,A)}(e._query,t),new xs(e.firestore,e.converter,kc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bp extends Dp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new jt(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new jt(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Va(a,u);return function(A,B){if(null===Nc(A)){const z=pu(A);null!==z&&zy(0,z,B.field)}}(o,g),g}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Ol(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Cp extends Dp{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Cp(e,t,o)}_apply(e){return new xs(e.firestore,e.converter,mu(e._query,this._limit,this._limitType))}}class Tp extends Dp{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Tp(e,t,o)}_apply(e){const t=cm(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(a=t,new Ol((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Gu extends Dp{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Gu(e,t,o)}_apply(e){const t=cm(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(a=t,new Ol((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function cm(r,e,t,o){if(t[0]=(0,Be.m9)(t[0]),t[0]instanceof Hl)return function(a,u,g,A,B){if(!A)throw new jt(Et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const ee of Ha(a))if(ee.field.isKeyField())z.push(fe(u,A.key));else{const Oe=A.data.field(ee.field);if(xl(Oe))throw new jt(Et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Oe){const wt=ee.field.canonicalString();throw new jt(Et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}z.push(Oe)}return new So(z,B)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Xc(r.firestore);return function(u,g,A,B,z,ee){const Oe=u.explicitOrderBy;if(z.length>Oe.length)throw new jt(Et.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let Ut=0;Ut<z.length;Ut++){const sn=z[Ut];if(Oe[Ut].field.isKeyField()){if("string"!=typeof sn)throw new jt(Et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof sn}`);if(!gu(u)&&-1!==sn.indexOf("/"))throw new jt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${sn}' contains a slash.`);const Mn=u.path.child(Xr.fromString(sn));if(!gn.isDocumentKey(Mn))throw new jt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Mn}' is not because it contains an odd number of segments.`);const On=new gn(Mn);wt.push(fe(g,On))}else{const Mn=N_(A,B,sn);wt.push(Mn)}}return new So(wt,ee)}(r._query,r.firestore._databaseId,a,e,t,o)}}function Hy(r,e,t){if("string"==typeof(t=(0,Be.m9)(t))){if(""===t)throw new jt(Et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gu(e)&&-1!==t.indexOf("/"))throw new jt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Xr.fromString(t));if(!gn.isDocumentKey(o))throw new jt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return fe(r,new gn(o))}if(t instanceof Zi)return fe(r,t._key);throw new jt(Et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(t)}.`)}function Ud(r,e){if(!Array.isArray(r)||0===r.length)throw new jt(Et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jd(r,e){if(e.isInequality()){const o=pu(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new jt(Et.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Nc(r);null!==u&&zy(0,a,u)}const t=function(o,a){for(const u of o)for(const g of u.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new jt(Et.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function zy(r,e,t){if(!t.isEqual(e))throw new jt(Et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class um{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Ca(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new yp(Fi(e.latitude),Fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=nc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(as(e));default:return null}}convertTimestamp(e){const t=Sa(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Xr.fromString(e);qn(Nm(o));const a=new Js(o.get(1),o.get(3)),u=new gn(o.popFirst(5));return a.isEqual(t)||Ei(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Hh(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Wy extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,t)}}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Hl{constructor(e,t,o,a,u,g){super(e,t,o,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Hu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Sp extends Jc{data(e={}){return super.data(e)}}class Wu{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hd(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Sp(this._firestore,this._userDataWriter,o.key,o,new Hd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jt(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Sp(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hd(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const A=new Sp(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hd(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,z=-1;return 0!==g.type&&(B=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),1!==g.type&&(u=u.add(g.doc),z=u.indexOf(g.doc.key)),{type:Ky(g.type),doc:A,oldIndex:B,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ky(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tn()}}function zh(r,e){return r instanceof Jc&&e instanceof Jc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Wu&&e instanceof Wu&&r._firestore===e._firestore&&mp(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class eu extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,t)}}function Zy(r,e,t){r=ei(r,Zi);const o=ei(r.firestore,Wi),a=Hh(r.converter,e,t);return zl(o,[Vh(Xc(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Li.none())])}function Y_(r,e,t,...o){r=ei(r,Zi);const a=ei(r.firestore,Wi),u=Xc(a);let g;return g="string"==typeof(e=(0,Be.m9)(e))||e instanceof Ec?Qc(u,"updateDoc",r._key,e,t,o):am(u,"updateDoc",r._key,e),zl(a,[g.toMutation(r._key,Li.exists(!0))])}function Qy(r,...e){var t,o,a;r=(0,Be.m9)(r);let u={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Bd(e[g])||(u=e[g],g++);const A={includeMetadataChanges:u.includeMetadataChanges};if(Bd(e[g])){const Oe=e[g];e[g]=null===(t=Oe.next)||void 0===t?void 0:t.bind(Oe),e[g+1]=null===(o=Oe.error)||void 0===o?void 0:o.bind(Oe),e[g+2]=null===(a=Oe.complete)||void 0===a?void 0:a.bind(Oe)}let B,z,ee;if(r instanceof Zi)z=ei(r.firestore,Wi),ee=Pc(r._key.path),B={next:Oe=>{e[g]&&e[g](dm(z,r,Oe))},error:e[g+1],complete:e[g+2]};else{const Oe=ei(r,xs);z=ei(Oe.firestore,Wi),ee=Oe._query;const wt=new eu(z);B={next:Ut=>{e[g]&&e[g](new Wu(z,wt,Oe,Ut))},error:e[g+1],complete:e[g+2]},Uh(r._query)}return function(Oe,wt,Ut,sn){const Mn=new $l(sn),On=new vs(wt,Mn,Ut);return Oe.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Sd(yield Fd(Oe),On)})),()=>{Mn.Dc(),Oe.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Mg(yield Fd(Oe),On)}))}}(xo(z),ee,A,B)}function zl(r,e){return function(t,o){const a=new Rr;return t.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function vy(r,e,t){return Uf.apply(this,arguments)}(yield cp(t),o,a)})),a.promise}(xo(r),e)}function dm(r,e,t){const o=t.docs.get(e._key),a=new eu(r);return new Jc(r,a,e._key,o,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}const l0={maxAttempts:5};class hm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xc(e)}set(e,t,o){this._verifyNotCommitted();const a=tu(e,this._firestore),u=Hh(a.converter,t,o),g=Vh(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(g.toMutation(a._key,Li.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=tu(e,this._firestore);let g;return g="string"==typeof(t=(0,Be.m9)(t))||t instanceof Ec?Qc(this._dataReader,"WriteBatch.update",u._key,t,o,a):am(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(g.toMutation(u._key,Li.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tu(e,this._firestore);return this._mutations=this._mutations.concat(new v(t._key,Li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(Et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tu(r,e){if((r=(0,Be.m9)(r)).firestore!==e)throw new jt(Et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class c0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xc(e)}get(e){const t=tu(e,this._firestore),o=new Wy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Tn();const u=a[0];if(u.isFoundDocument())return new Hl(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new Hl(this._firestore,o,t._key,null,t.converter);throw Tn()})}set(e,t,o){const a=tu(e,this._firestore),u=Hh(a.converter,t,o),g=Vh(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,g),this}update(e,t,o,...a){const u=tu(e,this._firestore);let g;return g="string"==typeof(t=(0,Be.m9)(t))||t instanceof Ec?Qc(this._dataReader,"Transaction.update",u._key,t,o,a):am(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,g),this}delete(e){const t=tu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tu(e,this._firestore),o=new eu(this._firestore);return super.get(e).then(a=>new Jc(this._firestore,o,t._key,a._document,new Hd(!1,!1),t.converter))}}!function(r,e=!0){es=at.SDK_VERSION,(0,at._registerComponent)(new Xe.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),g=new Wi(new Vs(t.getProvider("auth-internal")),new ol(t.getProvider("app-check-internal")),function(A,B){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new jt(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(A.options.projectId,B)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,at.registerVersion)(Kl,"3.12.0",r),(0,at.registerVersion)(Kl,"3.12.0","esm2017")}();function fm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function ov(){if(typeof Uint8Array>"u")throw new jt("unimplemented","Uint8Arrays are not available in this environment.")}function sv(){if(!function Zh(){return typeof atob<"u"}())throw new jt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qu{constructor(e){this._delegate=e}static fromBase64String(e){return sv(),new qu(jl.fromBase64String(e))}static fromUint8Array(e){return ov(),new qu(jl.fromUint8Array(e))}toBase64(){return sv(),this._delegate.toBase64()}toUint8Array(){return ov(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wh(r){return function av(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class pm{enableIndexedDbPersistence(e,t){return function Ny(r,e){Fy(r=ei(r,Wi));const t=xo(r);if(t._uninitializedComponentsProvider)throw new jt(Et.FAILED_PRECONDITION,"SDK cache is already specified.");Br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new kd;return ky(t,a,new Bl(a,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function b_(r){Fy(r=ei(r,Wi));const e=xo(r);if(e._uninitializedComponentsProvider)throw new jt(Et.FAILED_PRECONDITION,"SDK cache is already specified.");Br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new kd;return ky(e,o,new Ty(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C_(r){if(r._initialized&&!r._terminated)throw new jt(Et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{yield(t=(0,ne.Z)(function*(o){if(!Vo.D())return Promise.resolve();const a=o+"main";yield Vo.delete(a)}),function(o){return t.apply(this,arguments)})(Tf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lv{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Js||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Qg(r,e,t,o={}){var a;const u=(r=ei(r,Lh))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Br("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,A;if("string"==typeof o.mockUserToken)g=o.mockUserToken,A=bi.MOCK_USER;else{g=(0,Be.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new jt(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new bi(B)}r._authCredentials=new Pa(new ca(g,A))}}(this._delegate,e,t,o)}enableNetwork(){return function S_(r){return function Ay(r){return r.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Kg(r),t=yield Yg(r);return e.setNetworkEnabled(!0),function(o){const a=wn(o);return a.vu.delete(0),Mh(a)}(t)}))}(xo(r=ei(r,Wi)))}(this._delegate)}disableNetwork(){return function A_(r){return function v_(r){return r.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Kg(r),t=yield Yg(r);return e.setNetworkEnabled(!1),(o=(0,ne.Z)(function*(a){const u=wn(a);u.vu.add(0),yield mc(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(xo(r=ei(r,Wi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Xg("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function T_(r){return function(e){const t=new Rr;return e.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function Ng(r,e){return Fh.apply(this,arguments)}(yield cp(e),t)})),t.promise}(xo(r=ei(r,Wi)))}(this._delegate)}onSnapshotsInSync(e){return function X_(r,e){return function Vl(r,e){const t=new $l(e);return r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return o=yield Fd(r),a=t,wn(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return o=yield Fd(r),a=t,void wn(o).ku.delete(a);var o,a}))}}(xo(r=ei(r,Wi)),Bd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new jt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nu(this,Jg(this._delegate,e))}catch(t){throw ra(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,gp(this._delegate,e))}catch(t){throw ra(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function pp(r,e){if(r=ei(r,Lh),dp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jt(Et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(r,null,(t=e,new Ol(Xr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ra(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function u0(r,e,t){r=ei(r,Wi);const o=Object.assign(Object.assign({},l0),t);return function(a){if(a.maxAttempts<1)throw new jt(Et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,g){const A=new Rr;return a.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){const B=yield function Vu(r){return ap(r).then(e=>e.datastore)}(a);new Hg(a.asyncQueue,B,g,u,A).run()})),A.promise}(xo(r),a=>e(new c0(r,a)),o)}(this._delegate,t=>e(new cv(this,t)))}batch(){return xo(this._delegate),new mm(new hm(this._delegate,e=>zl(this._delegate,e)))}loadBundle(e){return function M_(r,e){const t=xo(r=ei(r,Wi)),o=new nm;return function E_(r,e,t,o){const a=function(u,g){let A;return A="string"==typeof u?ta().encode(u):u,B=function(B,z){if(B instanceof Uint8Array)return ip(B,z);if(B instanceof ArrayBuffer)return ip(new Uint8Array(B),z);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new jg(B,g);var B}(t,ga(e));r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){!function Cy(r,e,t){const o=wn(r);var a;(a=(0,ne.Z)(function*(u,g,A){try{const B=yield g.getMetadata();if(yield function(wt,Ut){const sn=wn(wt),Mn=Mo(Ut.createTime);return sn.persistence.runTransaction("hasNewerBundle","readonly",On=>sn.qs.getBundleMetadata(On,Ut.id)).then(On=>!!On&&On.createTime.compareTo(Mn)>=0)}(u.localStore,B))return yield g.close(),A._completeWith({taskState:"Success",documentsLoaded:(wt=B).totalDocuments,bytesLoaded:wt.totalBytes,totalDocuments:wt.totalDocuments,totalBytes:wt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Bf(B));const z=new Za(B,u.localStore,g.serializer);let ee=yield g.bc();for(;ee;){const wt=yield z.zu(ee);wt&&A._updateProgress(wt),ee=yield g.bc()}const Oe=yield z.complete();return yield vl(u,Oe.Ju,void 0),yield function(wt,Ut){const sn=wn(wt);return sn.persistence.runTransaction("Save bundle","readwrite",Mn=>sn.qs.saveBundleMetadata(Mn,Ut))}(u.localStore,B),A._completeWith(Oe.progress),Promise.resolve(Oe.Hu)}catch(B){return Br("SyncEngine",`Loading bundle failed with ${B}`),A._failWith(B),Promise.resolve(new Set)}var wt}),function(u,g,A){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield cp(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function x_(r,e){return function I_(r,e){return r.asyncQueue.enqueue((0,ne.Z)(function*(){return function(t,o){const a=wn(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield lp(r),e)}))}(xo(r=ei(r,Wi)),e).then(t=>t?new xs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class Ap extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class cv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}get(e){const t=ru(e);return this._delegate.get(t).then(o=>new Ku(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=ru(e);return o?(fm("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=ru(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}}class mm{constructor(e){this._delegate=e}set(e,t,o){const a=ru(e);return o?(fm("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=ru(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ja{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qh(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ja.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Ja(e,new Ap(e),t),a.set(t,u)),u}}Ja.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}static forPath(e,t,o){if(e.length%2!=0)throw new jt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new Zi(t._delegate,o,new gn(e)))}static forKey(e,t,o){return new xa(t,new Zi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new nu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nu(this.firestore,Jg(this._delegate,e))}catch(t){throw ra(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Be.m9)(e))instanceof Zi&&em(this._delegate,e)}set(e,t){t=fm("DocumentReference.set",t);try{return t?Zy(this._delegate,e,t):Zy(this._delegate,e)}catch(o){throw ra(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Y_(this._delegate,e):Y_(this._delegate,e,t,...o)}catch(a){throw ra(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Z_(r){return zl(ei(r.firestore,Wi),[new v(r._key,Li.none())])}(this._delegate)}onSnapshot(...e){const t=_0(e),o=ym(e,a=>new Ku(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Qy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Yy(r){r=ei(r,Zi);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return function My(r,e){const t=new Rr;return r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(o=(0,ne.Z)(function*(a,u,g){try{const A=yield function(B,z){const ee=wn(B);return ee.persistence.runTransaction("read document","readonly",Oe=>ee.localDocuments.getDocument(Oe,z))}(a,u);A.isFoundDocument()?g.resolve(A):A.isNoDocument()?g.resolve(null):g.reject(new jt(Et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const B=Pu(A,`Failed to get document '${u} from cache`);g.reject(B)}}),function(a,u,g){return o.apply(this,arguments)})(yield lp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new Jc(e,o,r._key,a,new Hd(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Gh(r){r=ei(r,Zi);const e=ei(r.firestore,Wi);return __(xo(e),r._key,{source:"server"}).then(t=>dm(e,r,t))}(this._delegate):function G_(r){r=ei(r,Zi);const e=ei(r.firestore,Wi);return __(xo(e),r._key).then(t=>dm(e,r,t))}(this._delegate),t.then(o=>new Ku(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}function ra(r,e,t){return r.message=r.message.replace(e,t),r}function _0(r){for(const e of r)if("object"==typeof e&&!Wh(e))return e;return{}}function ym(r,e){var t,o;let a;return a=Wh(r[0])?r[0]:Wh(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Ku{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zh(this._delegate,e._delegate)}}class qh extends Ku{data(e){const t=this._delegate.data(e);return function wl(r,e){r||Tn()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}where(e,t,o){try{return new Rs(this.firestore,wc(this._delegate,function L_(r,e,t){const o=e,a=Hu("where",r);return Vd._create(a,o,t)}(e,t,o)))}catch(a){throw ra(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,wc(this._delegate,function V_(r,e="asc"){const t=e,o=Hu("orderBy",r);return bp._create(o,t)}(e,t)))}catch(o){throw ra(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,wc(this._delegate,function U_(r){return fp("limit",r),Cp._create("limit",r,"F")}(e)))}catch(t){throw ra(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,wc(this._delegate,function jh(r){return fp("limitToLast",r),Cp._create("limitToLast",r,"L")}(e)))}catch(t){throw ra(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,wc(this._delegate,function j_(...r){return Tp._create("startAt",r,!0)}(...e)))}catch(t){throw ra(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,wc(this._delegate,function H_(...r){return Tp._create("startAfter",r,!1)}(...e)))}catch(t){throw ra(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,wc(this._delegate,function Uy(...r){return Gu._create("endBefore",r,!1)}(...e)))}catch(t){throw ra(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,wc(this._delegate,function jy(...r){return Gu._create("endAt",r,!0)}(...e)))}catch(t){throw ra(t,"endAt()","Query.endAt()")}}isEqual(e){return mp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function q_(r){r=ei(r,xs);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return function xy(r,e){const t=new Rr;return r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(o=(0,ne.Z)(function*(a,u,g){try{const A=yield Ch(a,u,!0),B=new $u(u,A.ir),z=B.sc(A.documents),ee=B.applyChanges(z,!1);g.resolve(ee.snapshot)}catch(A){const B=Pu(A,`Failed to execute query '${u} against cache`);g.reject(B)}}),function(a,u,g){return o.apply(this,arguments)})(yield lp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Wu(e,o,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function K_(r){r=ei(r,xs);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return up(t,r._query,{source:"server"}).then(a=>new Wu(e,o,r,a))}(this._delegate):function W_(r){r=ei(r,xs);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return Uh(r._query),up(t,r._query).then(a=>new Wu(e,o,r,a))}(this._delegate),t.then(o=>new Mp(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=_0(e),o=ym(e,a=>new Mp(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Qy(this._delegate,t,o)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new E0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new qh(this._firestore,o))})}isEqual(e){return zh(this._delegate,e._delegate)}}class nu extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?gp(this._delegate):gp(this._delegate,e))}catch(t){throw ra(t,"doc()","CollectionReference.doc()")}}add(e){return function Xy(r,e){const t=ei(r.firestore,Wi),o=gp(r),a=Hh(r.converter,e);return zl(t,[Vh(Xc(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,Li.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return em(this._delegate,e._delegate)}withConverter(e){return new nu(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}function ru(r){return ei(r,Zi)}class xp{constructor(...e){this._delegate=new Ec(...e)}static documentId(){return new xp(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,Be.m9)(e))instanceof Ec&&this._delegate._internalPath.isEqual(e._internalPath)}}class iu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function h0(){return new vp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new iu(e)}static delete(){const e=function d0(){return new $d("deleteField")}();return e._methodName="FieldValue.delete",new iu(e)}static arrayUnion(...e){const t=function f0(...r){return new $y("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new iu(t)}static arrayRemove(...e){const t=function p0(...r){return new ju("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new iu(t)}static increment(e){const t=function g0(r){return new P_("increment",r)}(e);return t._methodName="FieldValue.increment",new iu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uv={Firestore:lv,GeoPoint:yp,Timestamp:Nr,Blob:qu,Transaction:cv,WriteBatch:mm,DocumentReference:xa,DocumentSnapshot:Ku,Query:Rs,QueryDocumentSnapshot:qh,QuerySnapshot:Mp,CollectionReference:nu,FieldPath:xp,FieldValue:iu,setLogLevel:function gm(r){!function il(r){$o.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function w0(r){(function I0(r,e){r.INTERNAL.registerComponent(new Xe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},uv)))})(r,(e,t)=>new lv(e,t,new pm)),r.registerVersion("@firebase/firestore-compat","0.3.9")}(me.Z);var ou=F(1205),D0=F(6217),dv=F(9260);function vm(r,e){return function dE(r,e=h.z){return new W.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,e)}function _m(r,e){return vm(r,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function Em(r,e){return _m(r,e).pipe((0,le.O)(void 0),he(),(0,se.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,A)=>{const B=a.find(ee=>ee.doc.ref.isEqual(g.ref)),z=null==t?void 0:t.payload.docs.find(ee=>ee.ref.isEqual(g.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(g.metadata)||!B&&z&&JSON.stringify(z.metadata)===JSON.stringify(g.metadata)||u.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:g}})}),u}))}function hv(r,e,t){return Em(r,t).pipe((0,ae.R)((o,a)=>function C0(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function fv(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Rp(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Rp(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Rp(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,Me.x)(),(0,se.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Rp(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function pv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class gv{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Em(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,le.O)(void 0),he(),(0,pe.h)(([o,a])=>a.length>0||!o),(0,se.U)(([o,a])=>a),Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=pv(e);return hv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return _m(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Ee.iC)}get(e){return(0,te.D)(this.query.get(e)).pipe(Ee.iC)}add(e){return this.ref.add(e)}doc(e){return new mv(this.ref.doc(e),this.afs)}}class mv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=zd(o,t);return new gv(a,u,this.afs)}snapshotChanges(){return function b0(r,e){return vm(r,e).pipe((0,le.O)(void 0),he(),(0,se.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,te.D)(this.ref.get(e)).pipe(Ee.iC)}}class T0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Em(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,pe.h)(t=>t.length>0),Ee.iC):Em(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=pv(e);return hv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return _m(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Ee.iC)}get(e){return(0,te.D)(this.query.get(e)).pipe(Ee.iC)}}const yv=new m.OlP("angularfire2.enableFirestorePersistence"),vv=new m.OlP("angularfire2.firestore.persistenceSettings"),S0=new m.OlP("angularfire2.firestore.settings"),A0=new m.OlP("angularfire2.firestore.use-emulator");function zd(r,e=(t=>t)){return{query:e(r),ref:r}}let Im=(()=>{class r{constructor(t,o,a,u,g,A,B,z,ee,Oe,wt,Ut,sn,Mn,On,br,ni){this.schedulers=B;const kr=(0,qe.on)(t,A,o),po=ee;Oe&&(0,ou.nw)(kr,A,wt,sn,Mn,On,Ut,br),[this.firestore,this.persistenceEnabled$]=(0,qe.cc)(`${kr.name}.firestore`,"AngularFirestore",kr.name,()=>{const Ai=A.runOutsideAngular(()=>kr.firestore());if(u&&Ai.settings(u),po&&Ai.useEmulator(...po),a&&!(0,gt.PM)(g)){const Si=()=>{try{return(0,te.D)(Ai.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(Ks){return typeof console<"u"&&console.warn(Ks),(0,Te.of)(!1)}};return[Ai,A.runOutsideAngular(Si)]}return[Ai,(0,Te.of)(!1)]},[u,po,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:g}=zd(a,o),A=this.schedulers.ngZone.run(()=>u);return new gv(A,g,this)}collectionGroup(t,o){const a=o||(g=>g),u=this.firestore.collectionGroup(t);return new T0(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new mv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(qe.Dh),m.LFG(qe.xv,8),m.LFG(yv,8),m.LFG(S0,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Ee.HU),m.LFG(vv,8),m.LFG(A0,8),m.LFG(ou.zQ,8),m.LFG(ou.Qv,8),m.LFG(ou.L6,8),m.LFG(ou._Q,8),m.LFG(ou.rT,8),m.LFG(ou.lh,8),m.LFG(ou.f7,8),m.LFG(D0.nm,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),_v=(()=>{class r{constructor(){dv.Z.registerVersion("angularfire",Ee.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:yv,useValue:!0},{provide:vv,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({providers:[Im]}),r})()},2011:(ln,st,F)=>{"use strict";F.d(st,{Dh:()=>xe,GT:()=>Ee,cc:()=>pe,hO:()=>Me,on:()=>he,pX:()=>Te,xv:()=>Ae});var m=F(4650),h=F(9260),W=F(4976);ln=F.hmd(ln);const te=["ngOnDestroy"],Te=(me,ne,at,Xe={})=>new Proxy(me,{get:(Ge,Be)=>at.runOutsideAngular(()=>{var mt;if(me[Be])return!(null===(mt=null==Xe?void 0:Xe.spy)||void 0===mt)&&mt.get&&Xe.spy.get(Be,me[Be]),me[Be];if(te.indexOf(Be)>-1)return()=>{};const be=ne.toPromise().then(ve=>{const Ce=ve&&ve[Be];return"function"==typeof Ce?Ce.bind(ve):Ce&&Ce.then?Ce.then(Ue=>at.run(()=>Ue)):at.run(()=>Ce)});return new Proxy(()=>{},{get:(ve,Ce)=>be[Ce],apply:(ve,Ce,Ue)=>be.then(Le=>{var Ze;const Ye=Le&&Le(...Ue);return!(null===(Ze=null==Xe?void 0:Xe.spy)||void 0===Ze)&&Ze.apply&&Xe.spy.apply(Be,Ue,Ye),Ye})})})}),Ee=(me,ne)=>{ne.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(Xe=>{Object.defineProperty(me.prototype,Xe,Object.getOwnPropertyDescriptor(at.prototype||at,Xe))})})};class le{constructor(ne){return ne}}const xe=new m.OlP("angularfire2.app.options"),Ae=new m.OlP("angularfire2.app.name");function he(me,ne,at){const Ge="object"==typeof at&&at||{};Ge.name=Ge.name||"string"==typeof at&&at||"[DEFAULT]";const mt=h.Z.apps.filter(be=>be&&be.name===Ge.name)[0]||ne.runOutsideAngular(()=>h.Z.initializeApp(me,Ge));try{JSON.stringify(me)!==JSON.stringify(mt.options)&&se("error",`${mt.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(mt)}const se=(me,...ne)=>{(0,m.X6Q)()&&typeof console<"u"&&console[me](...ne)},ae={provide:le,useFactory:he,deps:[xe,m.R0b,[new m.FiY,Ae]]};let Me=(()=>{class me{constructor(at){h.Z.registerVersion("angularfire",W.q4.full,"core"),h.Z.registerVersion("angularfire",W.q4.full,"app-compat"),h.Z.registerVersion("angular",m.q4F.full,at.toString())}static initializeApp(at,Xe){return{ngModule:me,providers:[{provide:xe,useValue:at},{provide:Ae,useValue:Xe}]}}}return me.\u0275fac=function(at){return new(at||me)(m.LFG(m.Lbi))},me.\u0275mod=m.oAB({type:me}),me.\u0275inj=m.cJS({providers:[ae]}),me})();function pe(me,ne,at,Xe,Ge){const[,Be,mt]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===me)||[];if(Be)return function qe(me,ne){try{return me.toString()===ne.toString()}catch{return me===ne}}(Ge,mt)||(Ie("error",`${ne} was already initialized on the ${at} Firebase App with different settings.${gt?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Ge,was:mt})),Be;{const be=Xe();return globalThis.\u0275AngularfireInstanceCache.push([me,be,Ge]),be}}const gt=!!ln.hot,Ie=(me,...ne)=>{(0,m.X6Q)()&&typeof console<"u"&&console[me](...ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ln,st,F)=>{"use strict";F.d(st,{q4:()=>fi,iC:()=>ea,HU:()=>as,vb:()=>Fi,JM:()=>Sa});var m=F(4650),h=F(259),W=F(5861),te=F(6881),Te=F(2090),Ee=F(4859),le=F(1877);const xe=(T,P)=>P.some(H=>T instanceof H);let Ae,he;const Me=new WeakMap,pe=new WeakMap,qe=new WeakMap,gt=new WeakMap,Ie=new WeakMap;let at={get(T,P,H){if(T instanceof IDBTransaction){if("done"===P)return pe.get(T);if("objectStoreNames"===P)return T.objectStoreNames||qe.get(T);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return mt(T[P])},set:(T,P,H)=>(T[P]=H,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function Be(T){return"function"==typeof T?function Ge(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(be(this),P),mt(Me.get(this))}:function(...P){return mt(T.apply(be(this),P))}:function(P,...H){const fe=T.call(be(this),P,...H);return qe.set(fe,P.sort?P.sort():[P]),mt(fe)}}(T):(T instanceof IDBTransaction&&function ne(T){if(pe.has(T))return;const P=new Promise((H,fe)=>{const Je=()=>{T.removeEventListener("complete",ht),T.removeEventListener("error",Mt),T.removeEventListener("abort",Mt)},ht=()=>{H(),Je()},Mt=()=>{fe(T.error||new DOMException("AbortError","AbortError")),Je()};T.addEventListener("complete",ht),T.addEventListener("error",Mt),T.addEventListener("abort",Mt)});pe.set(T,P)}(T),xe(T,function se(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,at):T)}function mt(T){if(T instanceof IDBRequest)return function me(T){const P=new Promise((H,fe)=>{const Je=()=>{T.removeEventListener("success",ht),T.removeEventListener("error",Mt)},ht=()=>{H(mt(T.result)),Je()},Mt=()=>{fe(T.error),Je()};T.addEventListener("success",ht),T.addEventListener("error",Mt)});return P.then(H=>{H instanceof IDBCursor&&Me.set(H,T)}).catch(()=>{}),Ie.set(P,T),P}(T);if(gt.has(T))return gt.get(T);const P=Be(T);return P!==T&&(gt.set(T,P),Ie.set(P,T)),P}const be=T=>Ie.get(T),Ue=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],Ze=new Map;function Ye(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Ze.get(P))return Ze.get(P);const H=P.replace(/FromIndex$/,""),fe=P!==H,Je=Le.includes(H);if(!(H in(fe?IDBIndex:IDBObjectStore).prototype)||!Je&&!Ue.includes(H))return;const ht=function(){var Mt=(0,W.Z)(function*(_n,...pn){const Un=this.transaction(_n,Je?"readwrite":"readonly");let pr=Un.store;return fe&&(pr=pr.index(pn.shift())),(yield Promise.all([pr[H](...pn),Je&&Un.done]))[0]});return function(pn){return Mt.apply(this,arguments)}}();return Ze.set(P,ht),ht}!function Xe(T){at=T(at)}(T=>({...T,get:(P,H,fe)=>Ye(P,H)||T.get(P,H,fe),has:(P,H)=>!!Ye(P,H)||T.has(P,H)}));const We="@firebase/installations",ut="0.6.4",nt=1e4,_e=`w:${ut}`,De="FIS_v2",we="https://firebaseinstallations.googleapis.com/v1",et=36e5,cn=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qt(T){return T instanceof Te.ZR&&T.code.includes("request-failed")}function ot({projectId:T}){return`${we}/projects/${T}/installations`}function At(T){return{token:T.token,requestStatus:2,expiresIn:Nn(T.expiresIn),creationTime:Date.now()}}function xt(T,P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,W.Z)(function*(T,P){const fe=(yield P.json()).error;return cn.create("request-failed",{requestName:T,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function Xt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Zt(T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,W.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Nn(T){return Number(T.replace("s","000"))}function Jt(){return(Jt=(0,W.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:H}){const fe=ot(T),Je=Xt(T),ht=P.getImmediate({optional:!0});if(ht){const Un=yield ht.getHeartbeatsHeader();Un&&Je.append("x-firebase-client",Un)}const _n={method:"POST",headers:Je,body:JSON.stringify({fid:H,authVersion:De,appId:T.appId,sdkVersion:_e})},pn=yield Zt(()=>fetch(fe,_n));if(pn.ok){const Un=yield pn.json();return{fid:Un.fid||H,registrationStatus:2,refreshToken:Un.refreshToken,authToken:At(Un.authToken)}}throw yield xt("Create Installation",pn)})).apply(this,arguments)}function Cn(T){return new Promise(P=>{setTimeout(P,T)})}const lr=/^[cdef][\w-]{21}$/,Gr="";function ri(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const H=function Pn(T){return function Vr(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return lr.test(H)?H:Gr}catch{return Gr}}function zn(T){return`${T.appName}!${T.appId}`}const zt=new Map;function un(T,P){const H=zn(T);cr(H,P),function Lr(T,P){const H=function Wr(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=T=>{cr(T.data.key,T.data.fid)}),Mr}();H&&H.postMessage({key:T,fid:P}),function yr(){0===zt.size&&Mr&&(Mr.close(),Mr=null)}()}(H,P)}function cr(T,P){const H=zt.get(T);if(H)for(const fe of H)fe(P)}let Mr=null;const qr="firebase-installations-database",Kn=1,Gn="firebase-installations-store";let ir=null;function ti(){return ir||(ir=function ve(T,P,{blocked:H,upgrade:fe,blocking:Je,terminated:ht}={}){const Mt=indexedDB.open(T,P),_n=mt(Mt);return fe&&Mt.addEventListener("upgradeneeded",pn=>{fe(mt(Mt.result),pn.oldVersion,pn.newVersion,mt(Mt.transaction))}),H&&Mt.addEventListener("blocked",()=>H()),_n.then(pn=>{ht&&pn.addEventListener("close",()=>ht()),Je&&pn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),_n}(qr,Kn,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Gn)}})),ir}function vr(T,P){return St.apply(this,arguments)}function St(){return(St=(0,W.Z)(function*(T,P){const H=zn(T),Je=(yield ti()).transaction(Gn,"readwrite"),ht=Je.objectStore(Gn),Mt=yield ht.get(H);return yield ht.put(P,H),yield Je.done,(!Mt||Mt.fid!==P.fid)&&un(T,P.fid),P})).apply(this,arguments)}function ke(T){return $e.apply(this,arguments)}function $e(){return($e=(0,W.Z)(function*(T){const P=zn(T),fe=(yield ti()).transaction(Gn,"readwrite");yield fe.objectStore(Gn).delete(P),yield fe.done})).apply(this,arguments)}function kt(T,P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,W.Z)(function*(T,P){const H=zn(T),Je=(yield ti()).transaction(Gn,"readwrite"),ht=Je.objectStore(Gn),Mt=yield ht.get(H),_n=P(Mt);return void 0===_n?yield ht.delete(H):yield ht.put(_n,H),yield Je.done,_n&&(!Mt||Mt.fid!==_n.fid)&&un(T,_n.fid),_n})).apply(this,arguments)}function ue(T){return ce.apply(this,arguments)}function ce(){return ce=(0,W.Z)(function*(T){let P;const H=yield kt(T.appConfig,fe=>{const Je=function Pe(T){return je(T||{fid:ri(),registrationStatus:0})}(fe),ht=function ft(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(cn.create("app-offline"))};const H={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},fe=function rt(T,P){return Wt.apply(this,arguments)}(T,H);return{installationEntry:H,registrationPromise:fe}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Ve(T)}:{installationEntry:P}}(T,Je);return P=ht.registrationPromise,ht.installationEntry});return H.fid===Gr?{installationEntry:yield P}:{installationEntry:H,registrationPromise:P}}),ce.apply(this,arguments)}function Wt(){return Wt=(0,W.Z)(function*(T,P){try{const H=yield function bn(T,P){return Jt.apply(this,arguments)}(T,P);return vr(T.appConfig,H)}catch(H){throw Qt(H)&&409===H.customData.serverCode?yield ke(T.appConfig):yield vr(T.appConfig,{fid:P.fid,registrationStatus:0}),H}}),Wt.apply(this,arguments)}function Ve(T){return Se.apply(this,arguments)}function Se(){return(Se=(0,W.Z)(function*(T){let P=yield oe(T.appConfig);for(;1===P.registrationStatus;)yield Cn(100),P=yield oe(T.appConfig);if(0===P.registrationStatus){const{installationEntry:H,registrationPromise:fe}=yield ue(T);return fe||H}return P})).apply(this,arguments)}function oe(T){return kt(T,P=>{if(!P)throw cn.create("installation-not-found");return je(P)})}function je(T){return function Ct(T){return 1===T.registrationStatus&&T.registrationTime+nt<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function fn(){return(fn=(0,W.Z)(function*({appConfig:T,heartbeatServiceProvider:P},H){const fe=function jn(T,{fid:P}){return`${ot(T)}/${P}/authTokens:generate`}(T,H),Je=function on(T,{refreshToken:P}){const H=Xt(T);return H.append("Authorization",function Vn(T){return`${De} ${T}`}(P)),H}(T,H),ht=P.getImmediate({optional:!0});if(ht){const Un=yield ht.getHeartbeatsHeader();Un&&Je.append("x-firebase-client",Un)}const _n={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:_e,appId:T.appId}})},pn=yield Zt(()=>fetch(fe,_n));if(pn.ok)return At(yield pn.json());throw yield xt("Generate Auth Token",pn)})).apply(this,arguments)}function Zn(T){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,W.Z)(function*(T,P=!1){let H;const fe=yield kt(T.appConfig,ht=>{if(!tr(ht))throw cn.create("not-registered");const Mt=ht.authToken;if(!P&&function En(T){return 2===T.requestStatus&&!function or(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+et}(T)}(Mt))return ht;if(1===Mt.requestStatus)return H=function Tt(T,P){return pt.apply(this,arguments)}(T,P),ht;{if(!navigator.onLine)throw cn.create("app-offline");const _n=function nr(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}(ht);return H=function vn(T,P){return Sn.apply(this,arguments)}(T,_n),_n}});return H?yield H:fe.authToken}),Ir.apply(this,arguments)}function pt(){return(pt=(0,W.Z)(function*(T,P){let H=yield Ht(T.appConfig);for(;1===H.authToken.requestStatus;)yield Cn(100),H=yield Ht(T.appConfig);const fe=H.authToken;return 0===fe.requestStatus?Zn(T,P):fe})).apply(this,arguments)}function Ht(T){return kt(T,P=>{if(!tr(P))throw cn.create("not-registered");return function Yn(T){return 1===T.requestStatus&&T.requestTime+nt<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function Sn(){return Sn=(0,W.Z)(function*(T,P){try{const H=yield function qt(T,P){return fn.apply(this,arguments)}(T,P),fe=Object.assign(Object.assign({},P),{authToken:H});return yield vr(T.appConfig,fe),H}catch(H){if(!Qt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const fe=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield vr(T.appConfig,fe)}else yield ke(T.appConfig);throw H}}),Sn.apply(this,arguments)}function tr(T){return void 0!==T&&2===T.registrationStatus}function qi(){return(qi=(0,W.Z)(function*(T){const P=T,{installationEntry:H,registrationPromise:fe}=yield ue(P);return fe?fe.catch(console.error):Zn(P).catch(console.error),H.fid})).apply(this,arguments)}function xi(){return xi=(0,W.Z)(function*(T,P=!1){const H=T;return yield function pi(T){return dn.apply(this,arguments)}(H),(yield Zn(H,P)).token}),xi.apply(this,arguments)}function dn(){return(dn=(0,W.Z)(function*(T){const{registrationPromise:P}=yield ue(T);P&&(yield P)})).apply(this,arguments)}function de(T){return cn.create("missing-app-config-values",{valueName:T})}const Re="installations",Fe=T=>{const P=T.getProvider("app").getImmediate(),H=function Z(T){if(!T||!T.options)throw de("App Configuration");if(!T.name)throw de("App Name");const P=["projectId","apiKey","appId"];for(const H of P)if(!T.options[H])throw de(H);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:H,heartbeatServiceProvider:(0,te._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Ne=T=>{const P=T.getProvider("app").getImmediate(),H=(0,te._getProvider)(P,Re).getImmediate();return{getId:()=>function kn(T){return qi.apply(this,arguments)}(H),getToken:Je=>function Mi(T){return xi.apply(this,arguments)}(H,Je)}};(function yt(){(0,te._registerComponent)(new Ee.wA(Re,Fe,"PUBLIC")),(0,te._registerComponent)(new Ee.wA("installations-internal",Ne,"PRIVATE"))})(),(0,te.registerVersion)(We,ut),(0,te.registerVersion)(We,ut,"esm2017");const Dt="@firebase/remote-config",xn=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yi{constructor(P,H,fe,Je){this.client=P,this.storage=H,this.storageCache=fe,this.logger=Je}isCachedDataFresh(P,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-H,Je=fe<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Je}.`),Je}fetch(P){var H=this;return(0,W.Z)(function*(){const[fe,Je]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Je&&H.isCachedDataFresh(P.cacheMaxAgeMillis,fe))return Je;P.eTag=Je&&Je.eTag;const ht=yield H.client.fetch(P),Mt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ht.status&&Mt.push(H.storage.setLastSuccessfulFetchResponse(ht)),yield Promise.all(Mt),ht})()}}function ao(T=navigator){return T.languages&&T.languages[0]||T.language}class lo{constructor(P,H,fe,Je,ht,Mt){this.firebaseInstallations=P,this.sdkVersion=H,this.namespace=fe,this.projectId=Je,this.apiKey=ht,this.appId=Mt}fetch(P){var H=this;return(0,W.Z)(function*(){const[fe,Je]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},pn={sdk_version:H.sdkVersion,app_instance_id:fe,app_instance_id_token:Je,app_id:H.appId,language_code:ao()},Un={method:"POST",headers:_n,body:JSON.stringify(pn)},pr=fetch(Mt,Un),mr=new Promise((Qr,So)=>{P.signal.addEventListener(()=>{const ic=new Error("The operation was aborted.");ic.name="AbortError",So(ic)})});let Hs;try{yield Promise.race([pr,mr]),Hs=yield pr}catch(Qr){let So="fetch-client-network";throw"AbortError"===(null==Qr?void 0:Qr.name)&&(So="fetch-timeout"),xn.create(So,{originalErrorMessage:null==Qr?void 0:Qr.message})}let Yi=Hs.status;const ul=Hs.headers.get("ETag")||void 0;let io,$a;if(200===Hs.status){let Qr;try{Qr=yield Hs.json()}catch(So){throw xn.create("fetch-client-parse",{originalErrorMessage:null==So?void 0:So.message})}io=Qr.entries,$a=Qr.state}if("INSTANCE_STATE_UNSPECIFIED"===$a?Yi=500:"NO_CHANGE"===$a?Yi=304:("NO_TEMPLATE"===$a||"EMPTY_CONFIG"===$a)&&(io={}),304!==Yi&&200!==Yi)throw xn.create("fetch-status",{httpStatus:Yi});return{status:Yi,eTag:ul,config:io}})()}}class Qi{constructor(P,H){this.client=P,this.storage=H}fetch(P){var H=this;return(0,W.Z)(function*(){const fe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(P,fe)})()}attemptFetch(P,{throttleEndTimeMillis:H,backoffCount:fe}){var Je=this;return(0,W.Z)(function*(){yield function Os(T,P){return new Promise((H,fe)=>{const Je=Math.max(P-Date.now(),0),ht=setTimeout(H,Je);T.addEventListener(()=>{clearTimeout(ht),fe(xn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,H);try{const ht=yield Je.client.fetch(P);return yield Je.storage.deleteThrottleMetadata(),ht}catch(ht){if(!function qo(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(ht))throw ht;const Mt={throttleEndTimeMillis:Date.now()+(0,Te.$s)(fe),backoffCount:fe+1};return yield Je.storage.setThrottleMetadata(Mt),Je.attemptFetch(P,Mt)}})()}}class ia{constructor(P,H,fe,Je,ht){this.app=P,this._client=H,this._storageCache=fe,this._storage=Je,this._logger=ht,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ko(T,P){const H=T.target.error||void 0;return xn.create(P,{originalErrorMessage:H&&(null==H?void 0:H.message)})}const $i="app_namespace_store";class ks{constructor(P,H,fe,Je=function wi(){return new Promise((T,P)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=fe=>{P(Ko(fe,"storage-open"))},H.onsuccess=fe=>{T(fe.target.result)},H.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(H){P(xn.create("storage-open",{originalErrorMessage:null==H?void 0:H.message}))}})}()){this.appId=P,this.appName=H,this.namespace=fe,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var H=this;return(0,W.Z)(function*(){const fe=yield H.openDbPromise;return new Promise((Je,ht)=>{const _n=fe.transaction([$i],"readonly").objectStore($i),pn=H.createCompositeKey(P);try{const Un=_n.get(pn);Un.onerror=pr=>{ht(Ko(pr,"storage-get"))},Un.onsuccess=pr=>{const mr=pr.target.result;Je(mr?mr.value:void 0)}}catch(Un){ht(xn.create("storage-get",{originalErrorMessage:null==Un?void 0:Un.message}))}})})()}set(P,H){var fe=this;return(0,W.Z)(function*(){const Je=yield fe.openDbPromise;return new Promise((ht,Mt)=>{const pn=Je.transaction([$i],"readwrite").objectStore($i),Un=fe.createCompositeKey(P);try{const pr=pn.put({compositeKey:Un,value:H});pr.onerror=mr=>{Mt(Ko(mr,"storage-set"))},pr.onsuccess=()=>{ht()}}catch(pr){Mt(xn.create("storage-set",{originalErrorMessage:null==pr?void 0:pr.message}))}})})()}delete(P){var H=this;return(0,W.Z)(function*(){const fe=yield H.openDbPromise;return new Promise((Je,ht)=>{const _n=fe.transaction([$i],"readwrite").objectStore($i),pn=H.createCompositeKey(P);try{const Un=_n.delete(pn);Un.onerror=pr=>{ht(Ko(pr,"storage-delete"))},Un.onsuccess=()=>{Je()}}catch(Un){ht(xn.create("storage-delete",{originalErrorMessage:null==Un?void 0:Un.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Yo{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,W.Z)(function*(){const H=P.storage.getLastFetchStatus(),fe=P.storage.getLastSuccessfulFetchTimestampMillis(),Je=P.storage.getActiveConfig(),ht=yield H;ht&&(P.lastFetchStatus=ht);const Mt=yield fe;Mt&&(P.lastSuccessfulFetchTimestampMillis=Mt);const _n=yield Je;_n&&(P.activeConfig=_n)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function vo(){return _o.apply(this,arguments)}function _o(){return(_o=(0,W.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function yo(){(0,te._registerComponent)(new Ee.wA("remote-config",function T(P,{instanceIdentifier:H}){const fe=P.getProvider("app").getImmediate(),Je=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!(0,Te.hl)())throw xn.create("indexed-db-unavailable");const{projectId:ht,apiKey:Mt,appId:_n}=fe.options;if(!ht)throw xn.create("registration-project-id");if(!Mt)throw xn.create("registration-api-key");if(!_n)throw xn.create("registration-app-id");const pn=new ks(_n,fe.name,H=H||"firebase"),Un=new Yo(pn),pr=new le.Yd(Dt);pr.logLevel=le.in.ERROR;const mr=new lo(Je,te.SDK_VERSION,H,ht,Mt,_n),Hs=new Qi(mr,pn),Yi=new yi(Hs,pn,Un,pr),ul=new ia(fe,Yi,Un,pn,pr);return function Qn(T){const P=(0,Te.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(ul),ul},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(Dt,"0.4.4"),(0,te.registerVersion)(Dt,"0.4.4","esm2017")}();const Es=(T,P)=>P.some(H=>T instanceof H);let Eo,Ui;const Is=new WeakMap,ji=new WeakMap,si=new WeakMap,Di=new WeakMap,Po=new WeakMap;let ko={get(T,P,H){if(T instanceof IDBTransaction){if("done"===P)return ji.get(T);if("objectStoreNames"===P)return T.objectStoreNames||si.get(T);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return vi(T[P])},set:(T,P,H)=>(T[P]=H,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function ma(T){return"function"==typeof T?function ws(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oo(){return Ui||(Ui=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(_i(this),P),vi(Is.get(this))}:function(...P){return vi(T.apply(_i(this),P))}:function(P,...H){const fe=T.call(_i(this),P,...H);return si.set(fe,P.sort?P.sort():[P]),vi(fe)}}(T):(T instanceof IDBTransaction&&function No(T){if(ji.has(T))return;const P=new Promise((H,fe)=>{const Je=()=>{T.removeEventListener("complete",ht),T.removeEventListener("error",Mt),T.removeEventListener("abort",Mt)},ht=()=>{H(),Je()},Mt=()=>{fe(T.error||new DOMException("AbortError","AbortError")),Je()};T.addEventListener("complete",ht),T.addEventListener("error",Mt),T.addEventListener("abort",Mt)});ji.set(T,P)}(T),Es(T,function is(){return Eo||(Eo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ko):T)}function vi(T){if(T instanceof IDBRequest)return function ai(T){const P=new Promise((H,fe)=>{const Je=()=>{T.removeEventListener("success",ht),T.removeEventListener("error",Mt)},ht=()=>{H(vi(T.result)),Je()},Mt=()=>{fe(T.error),Je()};T.addEventListener("success",ht),T.addEventListener("error",Mt)});return P.then(H=>{H instanceof IDBCursor&&Is.set(H,T)}).catch(()=>{}),Po.set(P,T),P}(T);if(Di.has(T))return Di.get(T);const P=ma(T);return P!==T&&(Di.set(T,P),Po.set(P,T)),P}const _i=T=>Po.get(T);function Fo(T,P,{blocked:H,upgrade:fe,blocking:Je,terminated:ht}={}){const Mt=indexedDB.open(T,P),_n=vi(Mt);return fe&&Mt.addEventListener("upgradeneeded",pn=>{fe(vi(Mt.result),pn.oldVersion,pn.newVersion,vi(Mt.transaction))}),H&&Mt.addEventListener("blocked",()=>H()),_n.then(pn=>{ht&&pn.addEventListener("close",()=>ht()),Je&&pn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),_n}function di(T,{blocked:P}={}){const H=indexedDB.deleteDatabase(T);return P&&H.addEventListener("blocked",()=>P()),vi(H).then(()=>{})}const Ys=["get","getKey","getAll","getAllKeys","count"],co=["put","add","delete","clear"],Zo=new Map;function cs(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Zo.get(P))return Zo.get(P);const H=P.replace(/FromIndex$/,""),fe=P!==H,Je=co.includes(H);if(!(H in(fe?IDBIndex:IDBObjectStore).prototype)||!Je&&!Ys.includes(H))return;const ht=function(){var Mt=(0,W.Z)(function*(_n,...pn){const Un=this.transaction(_n,Je?"readwrite":"readonly");let pr=Un.store;return fe&&(pr=pr.index(pn.shift())),(yield Promise.all([pr[H](...pn),Je&&Un.done]))[0]});return function(pn){return Mt.apply(this,arguments)}}();return Zo.set(P,ht),ht}!function Vi(T){ko=T(ko)}(T=>({...T,get:(P,H,fe)=>cs(P,H)||T.get(P,H,fe),has:(P,H)=>!!cs(P,H)||T.has(P,H)}));const sr="/firebase-messaging-sw.js",us="/firebase-cloud-messaging-push-scope",Ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ds="https://fcmregistrations.googleapis.com/v1",_="google.c.a.c_id",U="google.c.a.c_l",I="google.c.a.ts",$="google.c.a.e";var C=(()=>{return(T=C||(C={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",C;var T})();function x(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(T){const H=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(H),Je=new Uint8Array(fe.length);for(let ht=0;ht<fe.length;++ht)Je[ht]=fe.charCodeAt(ht);return Je}const q="fcm_token_details_db",it=5,rn="fcm_token_object_Store";function Cr(){return Cr=(0,W.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ht=>ht.name).includes(q))return null;let P=null;return(yield Fo(q,it,{upgrade:(fe=(0,W.Z)(function*(Je,ht,Mt,_n){var pn;if(ht<2||!Je.objectStoreNames.contains(rn))return;const Un=_n.objectStore(rn),pr=yield Un.index("fcmSenderId").get(T);if(yield Un.clear(),pr)if(2===ht){const mr=pr;if(!mr.auth||!mr.p256dh||!mr.endpoint)return;P={token:mr.fcmToken,createTime:null!==(pn=mr.createTime)&&void 0!==pn?pn:Date.now(),subscriptionOptions:{auth:mr.auth,p256dh:mr.p256dh,endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:"string"==typeof mr.vapidKey?mr.vapidKey:x(mr.vapidKey)}}}else if(3===ht){const mr=pr;P={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:x(mr.auth),p256dh:x(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:x(mr.vapidKey)}}}else if(4===ht){const mr=pr;P={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:x(mr.auth),p256dh:x(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:x(mr.vapidKey)}}}}),function(ht,Mt,_n,pn){return fe.apply(this,arguments)})})).close(),yield di(q),yield di("fcm_vapid_details_db"),yield di("undefined"),function Ri(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var fe}),Cr.apply(this,arguments)}const li="firebase-messaging-database",Lo=1,Yr="firebase-messaging-store";let Fs=null;function Oi(){return Fs||(Fs=Fo(li,Lo,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Yr)}})),Fs}function Io(T){return wo.apply(this,arguments)}function wo(){return wo=(0,W.Z)(function*(T){const P=Zs(T),fe=yield(yield Oi()).transaction(Yr).objectStore(Yr).get(P);if(fe)return fe;{const Je=yield function Er(T){return Cr.apply(this,arguments)}(T.appConfig.senderId);if(Je)return yield Ls(T,Je),Je}}),wo.apply(this,arguments)}function Ls(T,P){return Do.apply(this,arguments)}function Do(){return(Do=(0,W.Z)(function*(T,P){const H=Zs(T),Je=(yield Oi()).transaction(Yr,"readwrite");return yield Je.objectStore(Yr).put(P,H),yield Je.done,P})).apply(this,arguments)}function oa(){return(oa=(0,W.Z)(function*(T){const P=Zs(T),fe=(yield Oi()).transaction(Yr,"readwrite");yield fe.objectStore(Yr).delete(P),yield fe.done})).apply(this,arguments)}function Zs({appConfig:T}){return T.appId}const Pi=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xo(T,P){return va.apply(this,arguments)}function va(){return(va=(0,W.Z)(function*(T,P){const H=yield Oa(T),fe=Cs(P),Je={method:"POST",headers:H,body:JSON.stringify(fe)};let ht;try{ht=yield(yield fetch(Bs(T.appConfig),Je)).json()}catch(Mt){throw Pi.create("token-subscribe-failed",{errorInfo:null==Mt?void 0:Mt.toString()})}if(ht.error)throw Pi.create("token-subscribe-failed",{errorInfo:ht.error.message});if(!ht.token)throw Pi.create("token-subscribe-no-token");return ht.token})).apply(this,arguments)}function Qs(){return(Qs=(0,W.Z)(function*(T,P){const H=yield Oa(T),fe=Cs(P.subscriptionOptions),Je={method:"PATCH",headers:H,body:JSON.stringify(fe)};let ht;try{ht=yield(yield fetch(`${Bs(T.appConfig)}/${P.token}`,Je)).json()}catch(Mt){throw Pi.create("token-update-failed",{errorInfo:null==Mt?void 0:Mt.toString()})}if(ht.error)throw Pi.create("token-update-failed",{errorInfo:ht.error.message});if(!ht.token)throw Pi.create("token-update-no-token");return ht.token})).apply(this,arguments)}function sa(T,P){return _a.apply(this,arguments)}function _a(){return(_a=(0,W.Z)(function*(T,P){const fe={method:"DELETE",headers:yield Oa(T)};try{const ht=yield(yield fetch(`${Bs(T.appConfig)}/${P}`,fe)).json();if(ht.error)throw Pi.create("token-unsubscribe-failed",{errorInfo:ht.error.message})}catch(Je){throw Pi.create("token-unsubscribe-failed",{errorInfo:null==Je?void 0:Je.toString()})}})).apply(this,arguments)}function Bs({projectId:T}){return`${ds}/projects/${T}/registrations`}function Oa(T){return bs.apply(this,arguments)}function bs(){return(bs=(0,W.Z)(function*({appConfig:T,installations:P}){const H=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Cs({p256dh:T,auth:P,endpoint:H,vapidKey:fe}){const Je={web:{endpoint:H,auth:P,p256dh:T}};return fe!==Ds&&(Je.web.applicationPubKey=fe),Je}const aa=6048e5;function $s(){return $s=(0,W.Z)(function*(T){const P=yield function ql(T,P){return Jo.apply(this,arguments)}(T.swRegistration,T.vapidKey),H={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:x(P.getKey("auth")),p256dh:x(P.getKey("p256dh"))},fe=yield Io(T.firebaseDependencies);if(fe){if(function el(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}(fe.subscriptionOptions,H))return Date.now()>=fe.createTime+aa?function Pr(T,P){return la.apply(this,arguments)}(T,{token:fe.token,createTime:Date.now(),subscriptionOptions:H}):fe.token;try{yield sa(T.firebaseDependencies,fe.token)}catch(Je){console.warn(Je)}return El(T.firebaseDependencies,H)}return El(T.firebaseDependencies,H)}),$s.apply(this,arguments)}function eo(){return eo=(0,W.Z)(function*(T){const P=yield Io(T.firebaseDependencies);P&&(yield sa(T.firebaseDependencies,P.token),yield function ya(T){return oa.apply(this,arguments)}(T.firebaseDependencies));const H=yield T.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),eo.apply(this,arguments)}function la(){return la=(0,W.Z)(function*(T,P){try{const H=yield function Xs(T,P){return Qs.apply(this,arguments)}(T.firebaseDependencies,P),fe=Object.assign(Object.assign({},P),{token:H,createTime:Date.now()});return yield Ls(T.firebaseDependencies,fe),H}catch(H){throw yield function Hi(T){return eo.apply(this,arguments)}(T),H}}),la.apply(this,arguments)}function El(T,P){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,W.Z)(function*(T,P){const fe={token:yield Xo(T,P),createTime:Date.now(),subscriptionOptions:P};return yield Ls(T,fe),fe.token})).apply(this,arguments)}function Jo(){return(Jo=(0,W.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(P)})})).apply(this,arguments)}function Hr(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function tl(T,P){if(!P.notification)return;T.notification={};const H=P.notification.title;H&&(T.notification.title=H);const fe=P.notification.body;fe&&(T.notification.body=fe);const Je=P.notification.image;Je&&(T.notification.image=Je);const ht=P.notification.icon;ht&&(T.notification.icon=ht)}(P,T),function Ia(T,P){P.data&&(T.data=P.data)}(P,T),function O(T,P){var H,fe,Je,ht,Mt;if(!(P.fcmOptions||null!==(H=P.notification)&&void 0!==H&&H.click_action))return;T.fcmOptions={};const _n=null!==(Je=null===(fe=P.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Je?Je:null===(ht=P.notification)||void 0===ht?void 0:ht.click_action;_n&&(T.fcmOptions.link=_n);const pn=null===(Mt=P.fcmOptions)||void 0===Mt?void 0:Mt.analytics_label;pn&&(T.fcmOptions.analyticsLabel=pn)}(P,T),P}function k(T,P){const H=[];for(let fe=0;fe<T.length;fe++)H.push(T.charAt(fe)),fe<P.length&&H.push(P.charAt(fe));return H.join("")}function ye(T){return Pi.create("missing-app-config-values",{valueName:T})}k("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),k("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rt{constructor(P,H,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function Y(T){if(!T||!T.options)throw ye("App Configuration Object");if(!T.name)throw ye("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:H}=T;for(const fe of P)if(!H[fe])throw ye(fe);return{appName:T.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Je,installations:H,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Lt(T){return In.apply(this,arguments)}function In(){return(In=(0,W.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(sr,{scope:us}),T.swRegistration.update().catch(()=>{})}catch(P){throw Pi.create("failed-service-worker-registration",{browserErrorMessage:null==P?void 0:P.message})}})).apply(this,arguments)}function wr(){return(wr=(0,W.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield Lt(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Pi.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function ar(){return(ar=(0,W.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=Ds)})).apply(this,arguments)}function Zr(){return Zr=(0,W.Z)(function*(T,P){if(!navigator)throw Pi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pi.create("permission-blocked");return yield function hr(T,P){return ar.apply(this,arguments)}(T,null==P?void 0:P.vapidKey),yield function dr(T,P){return wr.apply(this,arguments)}(T,null==P?void 0:P.serviceWorkerRegistration),function Ea(T){return $s.apply(this,arguments)}(T)}),Zr.apply(this,arguments)}function hs(){return(hs=(0,W.Z)(function*(T,P,H){const fe=function Bo(T){switch(T){case C.NOTIFICATION_CLICKED:return"notification_open";case C.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:H[_],message_name:H[U],message_time:H[I],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zi(){return zi=(0,W.Z)(function*(T,P){const H=P.data;if(!H.isFirebaseMessaging)return;T.onMessageHandler&&H.messageType===C.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Hr(H)):T.onMessageHandler.next(Hr(H)));const fe=H.data;(function G(T){return"object"==typeof T&&!!T&&_ in T})(fe)&&"1"===fe[$]&&(yield function hi(T,P,H){return hs.apply(this,arguments)}(T,H.messageType,fe))}),zi.apply(this,arguments)}const bo="@firebase/messaging",To=T=>{const P=new Rt(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function fs(T,P){return zi.apply(this,arguments)}(P,H)),P},wa=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:fe=>function oi(T,P){return Zr.apply(this,arguments)}(P,fe)}};function Il(){return ps.apply(this,arguments)}function ps(){return(ps=(0,W.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nl(){(0,te._registerComponent)(new Ee.wA("messaging",To,"PUBLIC")),(0,te._registerComponent)(new Ee.wA("messaging-internal",wa,"PRIVATE")),(0,te.registerVersion)(bo,"0.12.4"),(0,te.registerVersion)(bo,"0.12.4","esm2017")}();const Br="analytics",Yl="firebase_id",Tn="origin",qn=6e4,wl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wn="https://www.googletagmanager.com/gtag/js",Et=new le.Yd("@firebase/analytics"),Rr=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ca(T){if(!T.startsWith(wn)){const P=Rr.create("invalid-gtag-resource",{gtagURL:T});return Et.warn(P.message),""}return T}function Dl(T){return Promise.all(T.map(P=>P.catch(H=>H)))}function Da(){return(Da=(0,W.Z)(function*(T,P,H,fe,Je,ht){const Mt=fe[Je];try{if(Mt)yield P[Mt];else{const pn=(yield Dl(H)).find(Un=>Un.measurementId===Je);pn&&(yield P[pn.appId])}}catch(_n){Et.error(_n)}T("config",Je,ht)})).apply(this,arguments)}function bl(){return(bl=(0,W.Z)(function*(T,P,H,fe,Je){try{let ht=[];if(Je&&Je.send_to){let Mt=Je.send_to;Array.isArray(Mt)||(Mt=[Mt]);const _n=yield Dl(H);for(const pn of Mt){const Un=_n.find(mr=>mr.measurementId===pn),pr=Un&&P[Un.appId];if(!pr){ht=[];break}ht.push(pr)}}0===ht.length&&(ht=Object.values(P)),yield Promise.all(ht),T("event",fe,Je||{})}catch(ht){Et.error(ht)}})).apply(this,arguments)}const Us=30,Ln=new class Nr{constructor(P={},H=1e3){this.throttleMetadata=P,this.intervalMillis=H}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,H){this.throttleMetadata[P]=H}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function Cl(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function ci(){return(ci=(0,W.Z)(function*(T){var P;const{appId:H,apiKey:fe}=T,Je={method:"GET",headers:Cl(fe)},ht=wl.replace("{app-id}",H),Mt=yield fetch(ht,Je);if(200!==Mt.status&&304!==Mt.status){let _n="";try{const pn=yield Mt.json();null!==(P=pn.error)&&void 0!==P&&P.message&&(_n=pn.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:Mt.status,responseMessage:_n})}return Mt.json()})).apply(this,arguments)}function gn(){return(gn=(0,W.Z)(function*(T,P=Ln,H){const{appId:fe,apiKey:Je,measurementId:ht}=T.options;if(!fe)throw Rr.create("no-app-id");if(!Je){if(ht)return{measurementId:ht,appId:fe};throw Rr.create("no-api-key")}const Mt=P.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new Sl;return setTimeout((0,W.Z)(function*(){_n.abort()}),void 0!==H?H:qn),Na({appId:fe,apiKey:Je,measurementId:ht},Mt,_n,P)})).apply(this,arguments)}function Na(T,P,H){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,W.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:H},fe,Je=Ln){var ht;const{appId:Mt,measurementId:_n}=T;try{yield function ka(T,P){return new Promise((H,fe)=>{const Je=Math.max(P-Date.now(),0),ht=setTimeout(H,Je);T.addEventListener(()=>{clearTimeout(ht),fe(Rr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(fe,P)}catch(pn){if(_n)return Et.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${null==pn?void 0:pn.message}]`),{appId:Mt,measurementId:_n};throw pn}try{const pn=yield function Xr(T){return ci.apply(this,arguments)}(T);return Je.deleteThrottleMetadata(Mt),pn}catch(pn){const Un=pn;if(!function bc(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Un)){if(Je.deleteThrottleMetadata(Mt),_n)return Et.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${null==Un?void 0:Un.message}]`),{appId:Mt,measurementId:_n};throw pn}const pr=503===Number(null===(ht=null==Un?void 0:Un.customData)||void 0===ht?void 0:ht.httpStatus)?(0,Te.$s)(H,Je.intervalMillis,Us):(0,Te.$s)(H,Je.intervalMillis),mr={throttleEndTimeMillis:Date.now()+pr,backoffCount:H+1};return Je.setThrottleMetadata(Mt,mr),Et.debug(`Calling attemptFetch again in ${pr} millis`),Na(T,mr,fe,Je)}}),Tl.apply(this,arguments)}class Sl{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let ba,Tc;function Cc(){return(Cc=(0,W.Z)(function*(T,P,H,fe,Je){if(Je&&Je.global)T("event",H,fe);else{const ht=yield P;T("event",H,Object.assign(Object.assign({},fe),{send_to:ht}))}})).apply(this,arguments)}function js(){return(js=(0,W.Z)(function*(){if(!(0,Te.hl)())return Et.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(T){return Et.warn(Rr.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function b(){return b=(0,W.Z)(function*(T,P,H,fe,Je,ht,Mt){var _n;const pn=function Ni(T){return gn.apply(this,arguments)}(T);pn.then(Yi=>{H[Yi.measurementId]=Yi.appId,T.options.measurementId&&Yi.measurementId!==T.options.measurementId&&Et.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yi=>Et.error(Yi)),P.push(pn);const Un=function Uo(){return js.apply(this,arguments)}().then(Yi=>{if(Yi)return fe.getId()}),[pr,mr]=yield Promise.all([pn,Un]);(function Jn(T){const P=window.document.getElementsByTagName("script");for(const H of Object.values(P))if(H.src&&H.src.includes(wn)&&H.src.includes(T))return H;return null})(ht)||function Vs(T,P){const H=function Pa(T,P){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(T,P)),H}("firebase-js-sdk-policy",{createScriptURL:ca}),fe=document.createElement("script"),Je=`${wn}?l=${T}&id=${P}`;fe.src=H?null==H?void 0:H.createScriptURL(Je):Je,fe.async=!0,document.head.appendChild(fe)}(ht,pr.measurementId),Tc&&(Je("consent","default",Tc),function ha(T){Tc=T}(void 0)),Je("js",new Date);const Hs=null!==(_n=null==Mt?void 0:Mt.config)&&void 0!==_n?_n:{};return Hs[Tn]="firebase",Hs.update=!0,null!=mr&&(Hs[Yl]=mr),Je("config",pr.measurementId,Hs),ba&&(Je("set",ba),function gs(T){ba=T}(void 0)),pr.measurementId}),b.apply(this,arguments)}class y{constructor(P){this.app=P}_delete(){return delete S[this.app.options.appId],Promise.resolve()}}let S={},L=[];const K={};let It,tn,Q="dataLayer",Ke="gtag",An=!1;function Ci(T,P,H){!function zr(){const T=[];if((0,Te.ru)()&&T.push("This is a browser extension environment."),(0,Te.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((fe,Je)=>`(${Je+1}) ${fe}`).join(" "),H=Rr.create("invalid-analytics-context",{errorInfo:P});Et.warn(H.message)}}();const fe=T.options.appId;if(!fe)throw Rr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Rr.create("no-api-key");Et.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=S[fe])throw Rr.create("already-exists",{id:fe});if(!An){!function su(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(Q);const{wrappedGtag:ht,gtagCore:Mt}=function ua(T,P,H,fe,Je){let ht=function(...Mt){window[fe].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(ht=window[Je]),window[Je]=function uo(T,P,H,fe){function ht(){return ht=(0,W.Z)(function*(Mt,..._n){try{if("event"===Mt){const[pn,Un]=_n;yield function ol(T,P,H,fe,Je){return bl.apply(this,arguments)}(T,P,H,pn,Un)}else if("config"===Mt){const[pn,Un]=_n;yield function Zl(T,P,H,fe,Je,ht){return Da.apply(this,arguments)}(T,P,H,fe,pn,Un)}else if("consent"===Mt){const[pn]=_n;T("consent","update",pn)}else if("get"===Mt){const[pn,Un,pr]=_n;T("get",pn,Un,pr)}else if("set"===Mt){const[pn]=_n;T("set",pn)}else T(Mt,..._n)}catch(pn){Et.error(pn)}}),ht.apply(this,arguments)}return function Je(Mt){return ht.apply(this,arguments)}}(ht,T,P,H),{gtagCore:ht,wrappedGtag:window[Je]}}(S,L,K,Q,Ke);tn=ht,It=Mt,An=!0}return S[fe]=function w(T,P,H,fe,Je,ht,Mt){return b.apply(this,arguments)}(T,L,K,P,It,Q,H),new y(T)}function ts(){return jo.apply(this,arguments)}function jo(){return(jo=(0,W.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const au="@firebase/analytics";!function qd(){(0,te._registerComponent)(new Ee.wA(Br,(P,{options:H})=>Ci(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,te._registerComponent)(new Ee.wA("analytics-internal",function T(P){try{const H=P.getProvider(Br).getImmediate();return{logEvent:(fe,Je,ht)=>function Xu(T,P,H,fe){T=(0,Te.m9)(T),function Ql(T,P,H,fe,Je){return Cc.apply(this,arguments)}(tn,S[T.app.options.appId],P,H,fe).catch(Je=>Et.error(Je))}(H,fe,Je,ht)}}catch(H){throw Rr.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,te.registerVersion)(au,"0.10.0"),(0,te.registerVersion)(au,"0.10.0","esm2017")}();var Mc=F(4408),Jl=F(7565);const Yd=new class ec extends Jl.v{}(class Kd extends Mc.o{constructor(P,H){super(P,H),this.scheduler=P,this.work=H}schedule(P,H=0){return H>0?super.schedule(P,H):(this.delay=H,this.state=P,this.scheduler.flush(this),this)}execute(P,H){return H>0||this.closed?super.execute(P,H):this._execute(P,H)}requestAsyncId(P,H,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(P,H,fe):(P.flush(this),0)}});var ho=F(4986),cu=F(8505),Ca=F(9468),tc=F(5363);const fi=new m.GfV("7.5.0"),Ta="__angularfire_symbol__analyticsIsSupportedValue",ro="__angularfire_symbol__analyticsIsSupported",Ti="__angularfire_symbol__remoteConfigIsSupportedValue",ll="__angularfire_symbol__remoteConfigIsSupported",La="__angularfire_symbol__messagingIsSupportedValue",ns="__angularfire_symbol__messagingIsSupported";function Sa(T,P,H){if(P){if(1===P.length)return P[0];const ht=P.filter(Mt=>Mt.app===H);if(1===ht.length)return ht[0]}return H.container.getProvider(T).getImmediate({optional:!0})}globalThis[ro]||(globalThis[ro]=ts().then(T=>globalThis[Ta]=T).catch(()=>globalThis[Ta]=!1)),globalThis[ns]||(globalThis[ns]=Il().then(T=>globalThis[La]=T).catch(()=>globalThis[La]=!1)),globalThis[ll]||(globalThis[ll]=vo().then(T=>globalThis[Ti]=T).catch(()=>globalThis[Ti]=!1));const Fi=(T,P)=>{const H=P?[P]:(0,h.C6)(),fe=[];return H.forEach(Je=>{Je.container.getProvider(T).instances.forEach(Mt=>{fe.includes(Mt)||fe.push(Mt)})}),fe};function Ho(){}class xl{constructor(P,H=Yd){this.zone=P,this.delegate=H}now(){return this.delegate.now()}schedule(P,H,fe){const Je=this.zone;return this.delegate.schedule(function(Mt){Je.runGuarded(()=>{P.apply(this,[Mt])})},H,fe)}}class nc{constructor(P){this.zone=P,this.task=null}call(P,H){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho)),H.pipe((0,cu.b)({next:fe,complete:fe,error:fe})).subscribe(P).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class T{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=H.run(()=>new xl(Zone.current,ho.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(H){return new(H||T)(m.LFG(m.R0b))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function cl(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function ea(T){return cl(),function rc(T){return function(H){return(H=H.lift(new nc(T.ngZone))).pipe((0,Ca.R)(T.outsideAngular),(0,tc.Q)(T.insideAngular))}}(cl())(T)}},2090:(ln,st,F)=>{"use strict";F.d(st,{$s:()=>ke,BH:()=>Be,G6:()=>_e,L:()=>Ae,LL:()=>bt,Pz:()=>Ge,Sg:()=>mt,UG:()=>Ce,US:()=>Ee,ZB:()=>ae,ZR:()=>Bt,aH:()=>Xe,b$:()=>Ze,eu:()=>we,hl:()=>De,jU:()=>Ue,m9:()=>Ot,ne:()=>zn,pd:()=>ri,r3:()=>Dn,ru:()=>Le,tV:()=>he,uI:()=>ve,vZ:()=>Jt,w1:()=>We,xO:()=>lr,xb:()=>Vn,z$:()=>be,zI:()=>et,zd:()=>Gr});const te=function(ue){const ce=[];let Pe=0;for(let ft=0;ft<ue.length;ft++){let rt=ue.charCodeAt(ft);rt<128?ce[Pe++]=rt:rt<2048?(ce[Pe++]=rt>>6|192,ce[Pe++]=63&rt|128):55296==(64512&rt)&&ft+1<ue.length&&56320==(64512&ue.charCodeAt(ft+1))?(rt=65536+((1023&rt)<<10)+(1023&ue.charCodeAt(++ft)),ce[Pe++]=rt>>18|240,ce[Pe++]=rt>>12&63|128,ce[Pe++]=rt>>6&63|128,ce[Pe++]=63&rt|128):(ce[Pe++]=rt>>12|224,ce[Pe++]=rt>>6&63|128,ce[Pe++]=63&rt|128)}return ce},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ce){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,ft=[];for(let rt=0;rt<ue.length;rt+=3){const Wt=ue[rt],Ve=rt+1<ue.length,Se=Ve?ue[rt+1]:0,oe=rt+2<ue.length,je=oe?ue[rt+2]:0;let fn=(15&Se)<<2|je>>6,jn=63&je;oe||(jn=64,Ve||(fn=64)),ft.push(Pe[Wt>>2],Pe[(3&Wt)<<4|Se>>4],Pe[fn],Pe[jn])}return ft.join("")},encodeString(ue,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(ue):this.encodeByteArray(te(ue),ce)},decodeString(ue,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(ue):function(ue){const ce=[];let Pe=0,ft=0;for(;Pe<ue.length;){const rt=ue[Pe++];if(rt<128)ce[ft++]=String.fromCharCode(rt);else if(rt>191&&rt<224){const Wt=ue[Pe++];ce[ft++]=String.fromCharCode((31&rt)<<6|63&Wt)}else if(rt>239&&rt<365){const oe=((7&rt)<<18|(63&ue[Pe++])<<12|(63&ue[Pe++])<<6|63&ue[Pe++])-65536;ce[ft++]=String.fromCharCode(55296+(oe>>10)),ce[ft++]=String.fromCharCode(56320+(1023&oe))}else{const Wt=ue[Pe++],Ve=ue[Pe++];ce[ft++]=String.fromCharCode((15&rt)<<12|(63&Wt)<<6|63&Ve)}}return ce.join("")}(this.decodeStringToByteArray(ue,ce))},decodeStringToByteArray(ue,ce){this.init_();const Pe=ce?this.charToByteMapWebSafe_:this.charToByteMap_,ft=[];for(let rt=0;rt<ue.length;){const Wt=Pe[ue.charAt(rt++)],Se=rt<ue.length?Pe[ue.charAt(rt)]:0;++rt;const je=rt<ue.length?Pe[ue.charAt(rt)]:64;++rt;const qt=rt<ue.length?Pe[ue.charAt(rt)]:64;if(++rt,null==Wt||null==Se||null==je||null==qt)throw new le;ft.push(Wt<<2|Se>>4),64!==je&&(ft.push(Se<<4&240|je>>2),64!==qt&&ft.push(je<<6&192|qt))}return ft},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(ue){return function(ue){const ce=te(ue);return Ee.encodeByteArray(ce,!0)}(ue).replace(/\./g,"")},he=function(ue){try{return Ee.decodeString(ue,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function ae(ue,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ce}for(const Pe in ce)!ce.hasOwnProperty(Pe)||!Me(Pe)||(ue[Pe]=ae(ue[Pe],ce[Pe]));return ue}function Me(ue){return"__proto__"!==ue}const me=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=ue&&he(ue[1]);return ce&&JSON.parse(ce)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},Xe=()=>{var ue;return null===(ue=me())||void 0===ue?void 0:ue.config},Ge=ue=>{var ce;return null===(ce=me())||void 0===ce?void 0:ce[`_${ue}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Pe)=>{this.resolve=ce,this.reject=Pe})}wrapCallback(ce){return(Pe,ft)=>{Pe?this.reject(Pe):this.resolve(ft),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Pe):ce(Pe,ft))}}}function mt(ue,ce){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ft=ce||"demo-project",rt=ue.iat||0,Wt=ue.sub||ue.user_id;if(!Wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${ft}`,aud:ft,iat:rt,exp:rt+3600,auth_time:rt,sub:Wt,user_id:Wt,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(Ve)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Ce(){var ue;const ce=null===(ue=me())||void 0===ue?void 0:ue.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function Le(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const ue=be();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function _e(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((ue,ce)=>{try{let Pe=!0;const ft="validate-browser-context-for-indexeddb-analytics-module",rt=self.indexedDB.open(ft);rt.onsuccess=()=>{rt.result.close(),Pe||self.indexedDB.deleteDatabase(ft),ue(!0)},rt.onupgradeneeded=()=>{Pe=!1},rt.onerror=()=>{var Wt;ce((null===(Wt=rt.error)||void 0===Wt?void 0:Wt.message)||"")}}catch(Pe){ce(Pe)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bt extends Error{constructor(ce,Pe,ft){super(Pe),this.code=ce,this.customData=ft,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(ce,Pe,ft){this.service=ce,this.serviceName=Pe,this.errors=ft}create(ce,...Pe){const ft=Pe[0]||{},rt=`${this.service}/${ce}`,Wt=this.errors[ce],Ve=Wt?function cn(ue,ce){return ue.replace(Qt,(Pe,ft)=>{const rt=ce[ft];return null!=rt?String(rt):`<${ft}?>`})}(Wt,ft):"Error";return new Bt(rt,`${this.serviceName}: ${Ve} (${rt}).`,ft)}}const Qt=/\{\$([^}]+)}/g;function Dn(ue,ce){return Object.prototype.hasOwnProperty.call(ue,ce)}function Vn(ue){for(const ce in ue)if(Object.prototype.hasOwnProperty.call(ue,ce))return!1;return!0}function Jt(ue,ce){if(ue===ce)return!0;const Pe=Object.keys(ue),ft=Object.keys(ce);for(const rt of Pe){if(!ft.includes(rt))return!1;const Wt=ue[rt],Ve=ce[rt];if(Cn(Wt)&&Cn(Ve)){if(!Jt(Wt,Ve))return!1}else if(Wt!==Ve)return!1}for(const rt of ft)if(!Pe.includes(rt))return!1;return!0}function Cn(ue){return null!==ue&&"object"==typeof ue}function lr(ue){const ce=[];for(const[Pe,ft]of Object.entries(ue))Array.isArray(ft)?ft.forEach(rt=>{ce.push(encodeURIComponent(Pe)+"="+encodeURIComponent(rt))}):ce.push(encodeURIComponent(Pe)+"="+encodeURIComponent(ft));return ce.length?"&"+ce.join("&"):""}function Gr(ue){const ce={};return ue.replace(/^\?/,"").split("&").forEach(ft=>{if(ft){const[rt,Wt]=ft.split("=");ce[decodeURIComponent(rt)]=decodeURIComponent(Wt)}}),ce}function ri(ue){const ce=ue.indexOf("?");if(!ce)return"";const Pe=ue.indexOf("#",ce);return ue.substring(ce,Pe>0?Pe:void 0)}function zn(ue,ce){const Pe=new zt(ue,ce);return Pe.subscribe.bind(Pe)}class zt{constructor(ce,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{ce(this)}).catch(ft=>{this.error(ft)})}next(ce){this.forEachObserver(Pe=>{Pe.next(ce)})}error(ce){this.forEachObserver(Pe=>{Pe.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Pe,ft){let rt;if(void 0===ce&&void 0===Pe&&void 0===ft)throw new Error("Missing Observer.");rt=function Gt(ue,ce){if("object"!=typeof ue||null===ue)return!1;for(const Pe of ce)if(Pe in ue&&"function"==typeof ue[Pe])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Pe,complete:ft},void 0===rt.next&&(rt.next=Fr),void 0===rt.error&&(rt.error=Fr),void 0===rt.complete&&(rt.complete=Fr);const Wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?rt.error(this.finalError):rt.complete()}catch{}}),this.observers.push(rt),Wt}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,ce)}sendOne(ce,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Pe(this.observers[ce])}catch(ft){typeof console<"u"&&console.error&&console.error(ft)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fr(){}const ir=1e3,ti=2,vr=144e5,St=.5;function ke(ue,ce=ir,Pe=ti){const ft=ce*Math.pow(Pe,ue),rt=Math.round(St*ft*(Math.random()-.5)*2);return Math.min(vr,ft+rt)}function Ot(ue){return ue&&ue._delegate?ue._delegate:ue}},8127:(ln,st,F)=>{"use strict";F.d(st,{c:()=>gt});var m=F(4110),h=F(6655);let W;const Te=Ie=>Ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=Ie=>(void 0===W&&(W=void 0===Ie.style.animationName&&void 0!==Ie.style.webkitAnimationName?"-webkit-":""),W),le=(Ie,me,ne)=>{const at=me.startsWith("animation")?Ee(Ie):"";Ie.style.setProperty(at+me,ne)},xe=(Ie,me)=>{const ne=me.startsWith("animation")?Ee(Ie):"";Ie.style.removeProperty(ne+me)},se=[],qe=(Ie=[],me)=>{if(void 0!==me){const ne=Array.isArray(me)?me:[me];return[...Ie,...ne]}return Ie},gt=Ie=>{let me,ne,at,Xe,Ge,Be,Ue,De,we,et,lt,Qt,ot,mt=[],be=[],ve=[],Ce=!1,Le={},Ze=[],Ye=[],We={},ut=0,nt=!1,_e=!1,Bt=!0,bt=!1,cn=!0,At=!1;const xt=Ie,Nt=[],Xt=[],on=[],Zt=[],Dn=[],Nn=[],Vn=[],bn=[],Jt=[],Cn=[],Vr="function"==typeof AnimationEffect||void 0!==m.w&&"function"==typeof m.w.AnimationEffect,lr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Vr,ri=()=>Cn,Gt=(ie,Fe)=>((null!=Fe&&Fe.oneTimeCallback?Xt:Nt).push({c:ie,o:Fe}),ot),cr=()=>{if(lr)Cn.forEach(ie=>{ie.cancel()}),Cn.length=0;else{const ie=on.slice();(0,h.r)(()=>{ie.forEach(Fe=>{xe(Fe,"animation-name"),xe(Fe,"animation-duration"),xe(Fe,"animation-timing-function"),xe(Fe,"animation-iteration-count"),xe(Fe,"animation-delay"),xe(Fe,"animation-play-state"),xe(Fe,"animation-fill-mode"),xe(Fe,"animation-direction")})})}},Lr=()=>{Dn.forEach(ie=>{null!=ie&&ie.parentNode&&ie.parentNode.removeChild(ie)}),Dn.length=0},kt=()=>void 0!==Ge?Ge:Ue?Ue.getFill():"both",Ot=()=>void 0!==we?we:void 0!==Be?Be:Ue?Ue.getDirection():"normal",ue=()=>nt?"linear":void 0!==at?at:Ue?Ue.getEasing():"linear",ce=()=>_e?0:void 0!==et?et:void 0!==ne?ne:Ue?Ue.getDuration():0,Pe=()=>void 0!==Xe?Xe:Ue?Ue.getIterations():1,ft=()=>void 0!==lt?lt:void 0!==me?me:Ue?Ue.getDelay():0,Ht=()=>{0!==ut&&(ut--,0===ut&&((()=>{Hn(),bn.forEach(Dt=>Dt()),Jt.forEach(Dt=>Dt());const ie=Bt?1:0,Fe=Ze,Ne=Ye,yt=We;on.forEach(Dt=>{const Pt=Dt.classList;Fe.forEach(Vt=>Pt.add(Vt)),Ne.forEach(Vt=>Pt.remove(Vt));for(const Vt in yt)yt.hasOwnProperty(Vt)&&le(Dt,Vt,yt[Vt])}),Nt.forEach(Dt=>Dt.c(ie,ot)),Xt.forEach(Dt=>Dt.c(ie,ot)),Xt.length=0,cn=!0,Bt&&(bt=!0),Bt=!0})(),Ue&&Ue.animationFinish()))},vn=(ie=!0)=>{Lr();const Fe=(Ie=>(Ie.forEach(me=>{for(const ne in me)if(me.hasOwnProperty(ne)){const at=me[ne];if("easing"===ne)me["animation-timing-function"]=at,delete me[ne];else{const Xe=Te(ne);Xe!==ne&&(me[Xe]=at,delete me[ne])}}}),Ie))(mt);on.forEach(Ne=>{if(Fe.length>0){const yt=((Ie=[])=>Ie.map(me=>{const ne=me.offset,at=[];for(const Xe in me)me.hasOwnProperty(Xe)&&"offset"!==Xe&&at.push(`${Xe}: ${me[Xe]};`);return`${100*ne}% { ${at.join(" ")} }`}).join(" "))(Fe);Qt=void 0!==Ie?Ie:(Ie=>{let me=se.indexOf(Ie);return me<0&&(me=se.push(Ie)-1),`ion-animation-${me}`})(yt);const Dt=((Ie,me,ne)=>{var at;const Xe=(Ie=>{const me=void 0!==Ie.getRootNode?Ie.getRootNode():Ie;return me.head||me})(ne),Ge=Ee(ne),Be=Xe.querySelector("#"+Ie);if(Be)return Be;const mt=(null!==(at=ne.ownerDocument)&&void 0!==at?at:document).createElement("style");return mt.id=Ie,mt.textContent=`@${Ge}keyframes ${Ie} { ${me} } @${Ge}keyframes ${Ie}-alt { ${me} }`,Xe.appendChild(mt),mt})(Qt,yt,Ne);Dn.push(Dt),le(Ne,"animation-duration",`${ce()}ms`),le(Ne,"animation-timing-function",ue()),le(Ne,"animation-delay",`${ft()}ms`),le(Ne,"animation-fill-mode",kt()),le(Ne,"animation-direction",Ot());const Pt=Pe()===1/0?"infinite":Pe().toString();le(Ne,"animation-iteration-count",Pt),le(Ne,"animation-play-state","paused"),ie&&le(Ne,"animation-name",`${Dt.id}-alt`),(0,h.r)(()=>{le(Ne,"animation-name",Dt.id||null)})}})},tr=(ie=!0)=>{(()=>{Nn.forEach(yt=>yt()),Vn.forEach(yt=>yt());const ie=be,Fe=ve,Ne=Le;on.forEach(yt=>{const Dt=yt.classList;ie.forEach(Pt=>Dt.add(Pt)),Fe.forEach(Pt=>Dt.remove(Pt));for(const Pt in Ne)Ne.hasOwnProperty(Pt)&&le(yt,Pt,Ne[Pt])})})(),mt.length>0&&(lr?(on.forEach(ie=>{const Fe=ie.animate(mt,{id:xt,delay:ft(),duration:ce(),easing:ue(),iterations:Pe(),fill:kt(),direction:Ot()});Fe.pause(),Cn.push(Fe)}),Cn.length>0&&(Cn[0].onfinish=()=>{Ht()})):vn(ie)),Ce=!0},En=ie=>{if(ie=Math.min(Math.max(ie,0),.9999),lr)Cn.forEach(Fe=>{Fe.currentTime=Fe.effect.getComputedTiming().delay+ce()*ie,Fe.pause()});else{const Fe=`-${ce()*ie}ms`;on.forEach(Ne=>{mt.length>0&&(le(Ne,"animation-delay",Fe),le(Ne,"animation-play-state","paused"))})}},or=ie=>{Cn.forEach(Fe=>{Fe.effect.updateTiming({delay:ft(),duration:ce(),easing:ue(),iterations:Pe(),fill:kt(),direction:Ot()})}),void 0!==ie&&En(ie)},nr=(ie=!0,Fe)=>{(0,h.r)(()=>{on.forEach(Ne=>{le(Ne,"animation-name",Qt||null),le(Ne,"animation-duration",`${ce()}ms`),le(Ne,"animation-timing-function",ue()),le(Ne,"animation-delay",void 0!==Fe?`-${Fe*ce()}ms`:`${ft()}ms`),le(Ne,"animation-fill-mode",kt()||null),le(Ne,"animation-direction",Ot()||null);const yt=Pe()===1/0?"infinite":Pe().toString();le(Ne,"animation-iteration-count",yt),ie&&le(Ne,"animation-name",`${Qt}-alt`),(0,h.r)(()=>{le(Ne,"animation-name",Qt||null)})})})},Yn=(ie=!1,Fe=!0,Ne)=>(ie&&Zt.forEach(yt=>{yt.update(ie,Fe,Ne)}),lr?or(Ne):nr(Fe,Ne),ot),xi=()=>{Ce&&(lr?Cn.forEach(ie=>{ie.pause()}):on.forEach(ie=>{le(ie,"animation-play-state","paused")}),At=!0)},dn=()=>{De=void 0,Ht()},Hn=()=>{De&&clearTimeout(De)},ui=ie=>new Promise(Fe=>{null!=ie&&ie.sync&&(_e=!0,Gt(()=>_e=!1,{oneTimeCallback:!0})),Ce||tr(),bt&&(lr?(En(0),or()):nr(),bt=!1),cn&&(ut=Zt.length+1,cn=!1),Gt(()=>Fe(),{oneTimeCallback:!0}),Zt.forEach(Ne=>{Ne.play()}),lr?(Cn.forEach(ie=>{ie.play()}),(0===mt.length||0===on.length)&&Ht()):(()=>{if(Hn(),(0,h.r)(()=>{on.forEach(ie=>{mt.length>0&&le(ie,"animation-play-state","running")})}),0===mt.length||0===on.length)Ht();else{const ie=ft()||0,Fe=ce()||0,Ne=Pe()||1;isFinite(Ne)&&(De=setTimeout(dn,ie+Fe*Ne+100)),((Ie,me)=>{let ne;const at={passive:!0},Ge=Be=>{Ie===Be.target&&(ne&&ne(),Hn(),(0,h.r)(()=>{on.forEach(ie=>{xe(ie,"animation-duration"),xe(ie,"animation-delay"),xe(ie,"animation-play-state")}),(0,h.r)(Ht)}))};Ie&&(Ie.addEventListener("webkitAnimationEnd",Ge,at),Ie.addEventListener("animationend",Ge,at),ne=()=>{Ie.removeEventListener("webkitAnimationEnd",Ge,at),Ie.removeEventListener("animationend",Ge,at)})})(on[0])}})(),At=!1}),Z=(ie,Fe)=>{const Ne=mt[0];return void 0===Ne||void 0!==Ne.offset&&0!==Ne.offset?mt=[{offset:0,[ie]:Fe},...mt]:Ne[ie]=Fe,ot};return ot={parentAnimation:Ue,elements:on,childAnimations:Zt,id:xt,animationFinish:Ht,from:Z,to:(ie,Fe)=>{const Ne=mt[mt.length-1];return void 0===Ne||void 0!==Ne.offset&&1!==Ne.offset?mt=[...mt,{offset:1,[ie]:Fe}]:Ne[ie]=Fe,ot},fromTo:(ie,Fe,Ne)=>Z(ie,Fe).to(ie,Ne),parent:ie=>(Ue=ie,ot),play:ui,pause:()=>(Zt.forEach(ie=>{ie.pause()}),xi(),ot),stop:()=>{Zt.forEach(ie=>{ie.stop()}),Ce&&(cr(),Ce=!1),nt=!1,_e=!1,cn=!0,we=void 0,et=void 0,lt=void 0,ut=0,bt=!1,Bt=!0,At=!1},destroy:ie=>(Zt.forEach(Fe=>{Fe.destroy(ie)}),(ie=>{cr(),ie&&Lr()})(ie),on.length=0,Zt.length=0,mt.length=0,Nt.length=0,Xt.length=0,Ce=!1,cn=!0,ot),keyframes:ie=>{const Fe=mt!==ie;return mt=ie,Fe&&(ie=>{lr?ri().forEach(Fe=>{if(Fe.effect.setKeyframes)Fe.effect.setKeyframes(ie);else{const Ne=new KeyframeEffect(Fe.effect.target,ie,Fe.effect.getTiming());Fe.effect=Ne}}):vn()})(mt),ot},addAnimation:ie=>{if(null!=ie)if(Array.isArray(ie))for(const Fe of ie)Fe.parent(ot),Zt.push(Fe);else ie.parent(ot),Zt.push(ie);return ot},addElement:ie=>{if(null!=ie)if(1===ie.nodeType)on.push(ie);else if(ie.length>=0)for(let Fe=0;Fe<ie.length;Fe++)on.push(ie[Fe]);else console.error("Invalid addElement value");return ot},update:Yn,fill:ie=>(Ge=ie,Yn(!0),ot),direction:ie=>(Be=ie,Yn(!0),ot),iterations:ie=>(Xe=ie,Yn(!0),ot),duration:ie=>(!lr&&0===ie&&(ie=1),ne=ie,Yn(!0),ot),easing:ie=>(at=ie,Yn(!0),ot),delay:ie=>(me=ie,Yn(!0),ot),getWebAnimations:ri,getKeyframes:()=>mt,getFill:kt,getDirection:Ot,getDelay:ft,getIterations:Pe,getEasing:ue,getDuration:ce,afterAddRead:ie=>(bn.push(ie),ot),afterAddWrite:ie=>(Jt.push(ie),ot),afterClearStyles:(ie=[])=>{for(const Fe of ie)We[Fe]="";return ot},afterStyles:(ie={})=>(We=ie,ot),afterRemoveClass:ie=>(Ye=qe(Ye,ie),ot),afterAddClass:ie=>(Ze=qe(Ze,ie),ot),beforeAddRead:ie=>(Nn.push(ie),ot),beforeAddWrite:ie=>(Vn.push(ie),ot),beforeClearStyles:(ie=[])=>{for(const Fe of ie)Le[Fe]="";return ot},beforeStyles:(ie={})=>(Le=ie,ot),beforeRemoveClass:ie=>(ve=qe(ve,ie),ot),beforeAddClass:ie=>(be=qe(be,ie),ot),onFinish:Gt,isRunning:()=>0!==ut&&!At,progressStart:(ie=!1,Fe)=>(Zt.forEach(Ne=>{Ne.progressStart(ie,Fe)}),xi(),nt=ie,Ce||tr(),Yn(!1,!0,Fe),ot),progressStep:ie=>(Zt.forEach(Fe=>{Fe.progressStep(ie)}),En(ie),ot),progressEnd:(ie,Fe,Ne)=>(nt=!1,Zt.forEach(yt=>{yt.progressEnd(ie,Fe,Ne)}),void 0!==Ne&&(et=Ne),bt=!1,Bt=!0,0===ie?(we="reverse"===Ot()?"normal":"reverse","reverse"===we&&(Bt=!1),lr?(Yn(),En(1-Fe)):(lt=(1-Fe)*ce()*-1,Yn(!1,!1))):1===ie&&(lr?(Yn(),En(Fe)):(lt=Fe*ce()*-1,Yn(!1,!1))),void 0!==ie&&(Gt(()=>{et=void 0,we=void 0,lt=void 0},{oneTimeCallback:!0}),Ue||ui()),ot)}}},3982:(ln,st,F)=>{"use strict";F.d(st,{E:()=>he,a:()=>m,s:()=>xe});const m=se=>{try{if(se instanceof le)return se.value;if(!te()||"string"!=typeof se||""===se)return se;if(se.includes("onload="))return"";const ae=document.createDocumentFragment(),Me=document.createElement("div");ae.appendChild(Me),Me.innerHTML=se,Ee.forEach(Ie=>{const me=ae.querySelectorAll(Ie);for(let ne=me.length-1;ne>=0;ne--){const at=me[ne];at.parentNode?at.parentNode.removeChild(at):ae.removeChild(at);const Xe=W(at);for(let Ge=0;Ge<Xe.length;Ge++)h(Xe[Ge])}});const pe=W(ae);for(let Ie=0;Ie<pe.length;Ie++)h(pe[Ie]);const qe=document.createElement("div");qe.appendChild(ae);const gt=qe.querySelector("div");return null!==gt?gt.innerHTML:qe.innerHTML}catch(ae){return console.error(ae),""}},h=se=>{if(se.nodeType&&1!==se.nodeType)return;if(typeof NamedNodeMap<"u"&&!(se.attributes instanceof NamedNodeMap))return void se.remove();for(let Me=se.attributes.length-1;Me>=0;Me--){const pe=se.attributes.item(Me),qe=pe.name;if(!Te.includes(qe.toLowerCase())){se.removeAttribute(qe);continue}const gt=pe.value,Ie=se[qe];(null!=gt&&gt.toLowerCase().includes("javascript:")||null!=Ie&&Ie.toLowerCase().includes("javascript:"))&&se.removeAttribute(qe)}const ae=W(se);for(let Me=0;Me<ae.length;Me++)h(ae[Me])},W=se=>null!=se.children?se.children:se.childNodes,te=()=>{var se;const ae=window,Me=null===(se=null==ae?void 0:ae.Ionic)||void 0===se?void 0:se.config;return!Me||(Me.get?Me.get("sanitizerEnabled",!0):!0===Me.sanitizerEnabled||void 0===Me.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],Ee=["script","style","iframe","meta","link","object","embed"];class le{constructor(ae){this.value=ae}}const xe=se=>{const ae=window,Me=ae.Ionic;if(!Me||!Me.config||"Object"===Me.config.constructor.name)return ae.Ionic=ae.Ionic||{},ae.Ionic.config=Object.assign(Object.assign({},ae.Ionic.config),se),ae.Ionic.config},he=!1},5381:(ln,st,F)=>{"use strict";F.d(st,{C:()=>Te,a:()=>W,d:()=>te});var m=F(5861),h=F(6655);const W=function(){var Ee=(0,m.Z)(function*(le,xe,Ae,he,se,ae){var Me;if(le)return le.attachViewToDom(xe,Ae,se,he);if(!(ae||"string"==typeof Ae||Ae instanceof HTMLElement))throw new Error("framework delegate is missing");const pe="string"==typeof Ae?null===(Me=xe.ownerDocument)||void 0===Me?void 0:Me.createElement(Ae):Ae;return he&&he.forEach(qe=>pe.classList.add(qe)),se&&Object.assign(pe,se),xe.appendChild(pe),yield new Promise(qe=>(0,h.c)(pe,qe)),pe});return function(xe,Ae,he,se,ae,Me){return Ee.apply(this,arguments)}}(),te=(Ee,le)=>{if(le){if(Ee)return Ee.removeViewFromDom(le.parentElement,le);le.remove()}return Promise.resolve()},Te=()=>{let Ee,le;return{attachViewToDom:function(){var he=(0,m.Z)(function*(se,ae,Me={},pe=[]){var qe,gt;if(Ee=se,ae){const me="string"==typeof ae?null===(qe=Ee.ownerDocument)||void 0===qe?void 0:qe.createElement(ae):ae;pe.forEach(ne=>me.classList.add(ne)),Object.assign(me,Me),Ee.appendChild(me),yield new Promise(ne=>(0,h.c)(me,ne))}else if(Ee.children.length>0&&("ION-MODAL"===Ee.tagName||"ION-POPOVER"===Ee.tagName)&&!Ee.children[0].classList.contains("ion-delegate-host")){const ne=null===(gt=Ee.ownerDocument)||void 0===gt?void 0:gt.createElement("div");ne.classList.add("ion-delegate-host"),pe.forEach(at=>ne.classList.add(at)),ne.append(...Ee.children),Ee.appendChild(ne)}const Ie=document.querySelector("ion-app")||document.body;return le=document.createComment("ionic teleport"),Ee.parentNode.insertBefore(le,Ee),Ie.appendChild(Ee),Ee});return function(ae,Me){return he.apply(this,arguments)}}(),removeViewFromDom:()=>(Ee&&le&&(le.parentNode.insertBefore(Ee,le),le.remove()),Promise.resolve())}}},4349:(ln,st,F)=>{"use strict";F.d(st,{G:()=>Te});class h{constructor(le,xe,Ae,he,se){this.id=xe,this.name=Ae,this.disableScroll=se,this.priority=1e6*he+xe,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(le,xe,Ae,he){this.id=xe,this.disable=Ae,this.disableScroll=he,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",Te=new class m{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var xe;return new h(this,this.newID(),le.name,null!==(xe=le.priority)&&void 0!==xe?xe:0,!!le.disableScroll)}createBlocker(le={}){return new W(this,this.newID(),le.disable,!!le.disableScroll)}start(le,xe,Ae){return this.canStart(le)?(this.requestedStart.set(xe,Ae),!0):(this.requestedStart.delete(xe),!1)}capture(le,xe,Ae){if(!this.start(le,xe,Ae))return!1;const he=this.requestedStart;let se=-1e4;if(he.forEach(ae=>{se=Math.max(se,ae)}),se===Ae){this.capturedId=xe,he.clear();const ae=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(ae),!0}return he.delete(xe),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,xe){let Ae=this.disabledGestures.get(le);void 0===Ae&&(Ae=new Set,this.disabledGestures.set(le,Ae)),Ae.add(xe)}enableGesture(le,xe){const Ae=this.disabledGestures.get(le);void 0!==Ae&&Ae.delete(xe)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const xe=this.disabledGestures.get(le);return!!(xe&&xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(ln,st,F)=>{"use strict";F.r(st),F.d(st,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>h,startHardwareBackButton:()=>W});var m=F(5861);const h=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const Ee=document;let le=!1;Ee.addEventListener("backbutton",()=>{if(le)return;let xe=0,Ae=[];const he=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Me,pe){Ae.push({priority:Me,handler:pe,id:xe++})}}});Ee.dispatchEvent(he);const se=function(){var Me=(0,m.Z)(function*(pe){try{if(null!=pe&&pe.handler){const qe=pe.handler(ae);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return Me.apply(this,arguments)}}(),ae=()=>{if(Ae.length>0){let Me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ae.forEach(pe=>{pe.priority>=Me.priority&&(Me=pe)}),le=!0,Ae=Ae.filter(pe=>pe.id!==Me.id),se(Me).then(()=>le=!1)}};ae()})},te=100,Te=99},6655:(ln,st,F)=>{"use strict";F.d(st,{a:()=>xe,b:()=>Ae,c:()=>W,d:()=>gt,e:()=>qe,f:()=>pe,g:()=>he,h:()=>Me,i:()=>le,j:()=>Ge,k:()=>Te,l:()=>Ie,m:()=>te,n:()=>ae,o:()=>me,p:()=>Xe,q:()=>Be,r:()=>se,s:()=>mt,t:()=>m,u:()=>ne,v:()=>at});const m=(be,ve=0)=>new Promise(Ce=>{h(be,ve,Ce)}),h=(be,ve=0,Ce)=>{let Ue,Le;const Ze={passive:!0},We=()=>{Ue&&Ue()},ut=nt=>{(void 0===nt||be===nt.target)&&(We(),Ce(nt))};return be&&(be.addEventListener("webkitTransitionEnd",ut,Ze),be.addEventListener("transitionend",ut,Ze),Le=setTimeout(ut,ve+500),Ue=()=>{Le&&(clearTimeout(Le),Le=void 0),be.removeEventListener("webkitTransitionEnd",ut,Ze),be.removeEventListener("transitionend",ut,Ze)}),We},W=(be,ve)=>{be.componentOnReady?be.componentOnReady().then(Ce=>ve(Ce)):se(()=>ve(be))},te=be=>void 0!==be.componentOnReady,Te=(be,ve=[])=>{const Ce={};return ve.forEach(Ue=>{be.hasAttribute(Ue)&&(null!==be.getAttribute(Ue)&&(Ce[Ue]=be.getAttribute(Ue)),be.removeAttribute(Ue))}),Ce},Ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],le=(be,ve)=>{let Ce=Ee;return ve&&ve.length>0&&(Ce=Ce.filter(Ue=>!ve.includes(Ue))),Te(be,Ce)},xe=(be,ve,Ce,Ue)=>{var Le;if(typeof window<"u"){const Ze=window,Ye=null===(Le=null==Ze?void 0:Ze.Ionic)||void 0===Le?void 0:Le.config;if(Ye){const We=Ye.get("_ael");if(We)return We(be,ve,Ce,Ue);if(Ye._ael)return Ye._ael(be,ve,Ce,Ue)}}return be.addEventListener(ve,Ce,Ue)},Ae=(be,ve,Ce,Ue)=>{var Le;if(typeof window<"u"){const Ze=window,Ye=null===(Le=null==Ze?void 0:Ze.Ionic)||void 0===Le?void 0:Le.config;if(Ye){const We=Ye.get("_rel");if(We)return We(be,ve,Ce,Ue);if(Ye._rel)return Ye._rel(be,ve,Ce,Ue)}}return be.removeEventListener(ve,Ce,Ue)},he=(be,ve=be)=>be.shadowRoot||ve,se=be=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(be):"function"==typeof requestAnimationFrame?requestAnimationFrame(be):setTimeout(be),ae=be=>!!be.shadowRoot&&!!be.attachShadow,Me=be=>{const ve=be.closest("ion-item");return ve?ve.querySelector("ion-label"):null},pe=be=>{if(be.focus(),be.classList.contains("ion-focusable")){const ve=be.closest("ion-app");ve&&ve.setFocus([be])}},qe=(be,ve)=>{let Ce;const Ue=be.getAttribute("aria-labelledby"),Le=be.id;let Ze=null!==Ue&&""!==Ue.trim()?Ue:ve+"-lbl",Ye=null!==Ue&&""!==Ue.trim()?document.getElementById(Ue):Me(be);return Ye?(null===Ue&&(Ye.id=Ze),Ce=Ye.textContent,Ye.setAttribute("aria-hidden","true")):""!==Le.trim()&&(Ye=document.querySelector(`label[for="${Le}"]`),Ye&&(""!==Ye.id?Ze=Ye.id:Ye.id=Ze=`${Le}-lbl`,Ce=Ye.textContent)),{label:Ye,labelId:Ze,labelText:Ce}},gt=(be,ve,Ce,Ue,Le)=>{if(be||ae(ve)){let Ze=ve.querySelector("input.aux-input");Ze||(Ze=ve.ownerDocument.createElement("input"),Ze.type="hidden",Ze.classList.add("aux-input"),ve.appendChild(Ze)),Ze.disabled=Le,Ze.name=Ce,Ze.value=Ue||""}},Ie=(be,ve,Ce)=>Math.max(be,Math.min(ve,Ce)),me=(be,ve)=>{if(!be){const Ce="ASSERT: "+ve;throw console.error(Ce),new Error(Ce)}},ne=be=>be.timeStamp||Date.now(),at=be=>{if(be){const ve=be.changedTouches;if(ve&&ve.length>0){const Ce=ve[0];return{x:Ce.clientX,y:Ce.clientY}}if(void 0!==be.pageX)return{x:be.pageX,y:be.pageY}}return{x:0,y:0}},Xe=be=>{const ve="rtl"===document.dir;switch(be){case"start":return ve;case"end":return!ve;default:throw new Error(`"${be}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ge=(be,ve)=>{const Ce=be._original||be;return{_original:be,emit:Be(Ce.emit.bind(Ce),ve)}},Be=(be,ve=0)=>{let Ce;return(...Ue)=>{clearTimeout(Ce),Ce=setTimeout(be,ve,...Ue)}},mt=(be,ve)=>{if(null!=be||(be={}),null!=ve||(ve={}),be===ve)return!0;const Ce=Object.keys(be);if(Ce.length!==Object.keys(ve).length)return!1;for(const Ue of Ce)if(!(Ue in ve)||be[Ue]!==ve[Ue])return!1;return!0}},1898:(ln,st,F)=>{"use strict";F.r(st),F.d(st,{GESTURE_CONTROLLER:()=>m.G,createGesture:()=>Ae});var m=F(4349);const h=(Me,pe,qe,gt)=>{const Ie=W(Me)?{capture:!!gt.capture,passive:!!gt.passive}:!!gt.capture;let me,ne;return Me.__zone_symbol__addEventListener?(me="__zone_symbol__addEventListener",ne="__zone_symbol__removeEventListener"):(me="addEventListener",ne="removeEventListener"),Me[me](pe,qe,Ie),()=>{Me[ne](pe,qe,Ie)}},W=Me=>{if(void 0===te)try{const pe=Object.defineProperty({},"passive",{get:()=>{te=!0}});Me.addEventListener("optsTest",()=>{},pe)}catch{te=!1}return!!te};let te;const le=Me=>Me instanceof Document?Me:Me.ownerDocument,Ae=Me=>{let pe=!1,qe=!1,gt=!0,Ie=!1;const me=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Me),ne=me.canStart,at=me.onWillStart,Xe=me.onStart,Ge=me.onEnd,Be=me.notCaptured,mt=me.onMove,be=me.threshold,ve=me.passive,Ce=me.blurOnStart,Ue={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Le=((Me,pe,qe)=>{const gt=qe*(Math.PI/180),Ie="x"===Me,me=Math.cos(gt),ne=pe*pe;let at=0,Xe=0,Ge=!1,Be=0;return{start(mt,be){at=mt,Xe=be,Be=0,Ge=!0},detect(mt,be){if(!Ge)return!1;const ve=mt-at,Ce=be-Xe,Ue=ve*ve+Ce*Ce;if(Ue<ne)return!1;const Le=Math.sqrt(Ue),Ze=(Ie?ve:Ce)/Le;return Be=Ze>me?1:Ze<-me?-1:0,Ge=!1,!0},isGesture:()=>0!==Be,getDirection:()=>Be}})(me.direction,me.threshold,me.maxAngle),Ze=m.G.createGesture({name:Me.gestureName,priority:Me.gesturePriority,disableScroll:Me.disableScroll}),ut=()=>{pe&&(Ie=!1,mt&&mt(Ue))},nt=()=>!!Ze.capture()&&(pe=!0,gt=!1,Ue.startX=Ue.currentX,Ue.startY=Ue.currentY,Ue.startTime=Ue.currentTime,at?at(Ue).then(De):De(),!0),De=()=>{Ce&&(()=>{if(typeof document<"u"){const bt=document.activeElement;null!=bt&&bt.blur&&bt.blur()}})(),Xe&&Xe(Ue),gt=!0},we=()=>{pe=!1,qe=!1,Ie=!1,gt=!0,Ze.release()},et=bt=>{const cn=pe,Qt=gt;if(we(),Qt){if(he(Ue,bt),cn)return void(Ge&&Ge(Ue));Be&&Be(Ue)}},lt=((Me,pe,qe,gt,Ie)=>{let me,ne,at,Xe,Ge,Be,mt,be=0;const ve=_e=>{be=Date.now()+2e3,pe(_e)&&(!ne&&qe&&(ne=h(Me,"touchmove",qe,Ie)),at||(at=h(_e.target,"touchend",Ue,Ie)),Xe||(Xe=h(_e.target,"touchcancel",Ue,Ie)))},Ce=_e=>{be>Date.now()||pe(_e)&&(!Be&&qe&&(Be=h(le(Me),"mousemove",qe,Ie)),mt||(mt=h(le(Me),"mouseup",Le,Ie)))},Ue=_e=>{Ze(),gt&&gt(_e)},Le=_e=>{Ye(),gt&&gt(_e)},Ze=()=>{ne&&ne(),at&&at(),Xe&&Xe(),ne=at=Xe=void 0},Ye=()=>{Be&&Be(),mt&&mt(),Be=mt=void 0},We=()=>{Ze(),Ye()},ut=(_e=!0)=>{_e?(me||(me=h(Me,"touchstart",ve,Ie)),Ge||(Ge=h(Me,"mousedown",Ce,Ie))):(me&&me(),Ge&&Ge(),me=Ge=void 0,We())};return{enable:ut,stop:We,destroy:()=>{ut(!1),gt=qe=pe=void 0}}})(me.el,bt=>{const cn=ae(bt);return!(qe||!gt||(se(bt,Ue),Ue.startX=Ue.currentX,Ue.startY=Ue.currentY,Ue.startTime=Ue.currentTime=cn,Ue.velocityX=Ue.velocityY=Ue.deltaX=Ue.deltaY=0,Ue.event=bt,ne&&!1===ne(Ue))||(Ze.release(),!Ze.start()))&&(qe=!0,0===be?nt():(Le.start(Ue.startX,Ue.startY),!0))},bt=>{pe?!Ie&&gt&&(Ie=!0,he(Ue,bt),requestAnimationFrame(ut)):(he(Ue,bt),Le.detect(Ue.currentX,Ue.currentY)&&(!Le.isGesture()||!nt())&&Bt())},et,{capture:!1,passive:ve}),Bt=()=>{we(),lt.stop(),Be&&Be(Ue)};return{enable(bt=!0){bt||(pe&&et(void 0),we()),lt.enable(bt)},destroy(){Ze.destroy(),lt.destroy()}}},he=(Me,pe)=>{if(!pe)return;const qe=Me.currentX,gt=Me.currentY,Ie=Me.currentTime;se(pe,Me);const me=Me.currentX,ne=Me.currentY,Xe=(Me.currentTime=ae(pe))-Ie;if(Xe>0&&Xe<100){const Be=(ne-gt)/Xe;Me.velocityX=(me-qe)/Xe*.7+.3*Me.velocityX,Me.velocityY=.7*Be+.3*Me.velocityY}Me.deltaX=me-Me.startX,Me.deltaY=ne-Me.startY,Me.event=pe},se=(Me,pe)=>{let qe=0,gt=0;if(Me){const Ie=Me.changedTouches;if(Ie&&Ie.length>0){const me=Ie[0];qe=me.clientX,gt=me.clientY}else void 0!==Me.pageX&&(qe=Me.pageX,gt=Me.pageY)}pe.currentX=qe,pe.currentY=gt},ae=Me=>Me.timeStamp||Date.now()},4083:(ln,st,F)=>{"use strict";F.d(st,{B:()=>se,H:()=>We,a:()=>qi,b:()=>oe,c:()=>bt,d:()=>At,e:()=>ui,f:()=>ot,g:()=>cn,h:()=>Ze,i:()=>ke,j:()=>ae,p:()=>xi,r:()=>Tt,w:()=>_r});var m=F(5861);let W,te,Te,Ee=!1,le=!1,xe=!1,Ae=!1,he=!1;const se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ae=Z=>{const de=new URL(Z,kn.$resourcesUrl$);return de.origin!==nr.location.origin?de.href:de.pathname},ne="s-id",at="sty-id",Be="http://www.w3.org/1999/xlink",mt={},Ue=Z=>"object"==(Z=typeof Z)||"function"===Z;function Le(Z){var de,Re,ie;return null!==(ie=null===(Re=null===(de=Z.head)||void 0===de?void 0:de.querySelector('meta[name="csp-nonce"]'))||void 0===Re?void 0:Re.getAttribute("content"))&&void 0!==ie?ie:void 0}const Ze=(Z,de,...Re)=>{let ie=null,Fe=null,Ne=null,yt=!1,Dt=!1;const Pt=[],Vt=Fn=>{for(let xn=0;xn<Fn.length;xn++)ie=Fn[xn],Array.isArray(ie)?Vt(ie):null!=ie&&"boolean"!=typeof ie&&((yt="function"!=typeof Z&&!Ue(ie))&&(ie=String(ie)),yt&&Dt?Pt[Pt.length-1].$text$+=ie:Pt.push(yt?Ye(null,ie):ie),Dt=yt)};if(Vt(Re),de){de.key&&(Fe=de.key),de.name&&(Ne=de.name);{const Fn=de.className||de.class;Fn&&(de.class="object"!=typeof Fn?Fn:Object.keys(Fn).filter(xn=>Fn[xn]).join(" "))}}if("function"==typeof Z)return Z(null===de?{}:de,Pt,nt);const nn=Ye(Z,null);return nn.$attrs$=de,Pt.length>0&&(nn.$children$=Pt),nn.$key$=Fe,nn.$name$=Ne,nn},Ye=(Z,de)=>({$flags$:0,$tag$:Z,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),We={},nt={forEach:(Z,de)=>Z.map(_e).forEach(de),map:(Z,de)=>Z.map(_e).map(de).map(De)},_e=Z=>({vattrs:Z.$attrs$,vchildren:Z.$children$,vkey:Z.$key$,vname:Z.$name$,vtag:Z.$tag$,vtext:Z.$text$}),De=Z=>{if("function"==typeof Z.vtag){const Re=Object.assign({},Z.vattrs);return Z.vkey&&(Re.key=Z.vkey),Z.vname&&(Re.name=Z.vname),Ze(Z.vtag,Re,...Z.vchildren||[])}const de=Ye(Z.vtag,Z.vtext);return de.$attrs$=Z.vattrs,de.$children$=Z.vchildren,de.$key$=Z.vkey,de.$name$=Z.vname,de},et=(Z,de,Re,ie,Fe,Ne,yt)=>{let Dt,Pt,Vt,nn;if(1===Ne.nodeType){for(Dt=Ne.getAttribute("c-id"),Dt&&(Pt=Dt.split("."),(Pt[0]===yt||"0"===Pt[0])&&(Vt={$flags$:0,$hostId$:Pt[0],$nodeId$:Pt[1],$depth$:Pt[2],$index$:Pt[3],$tag$:Ne.tagName.toLowerCase(),$elm$:Ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push(Vt),Ne.removeAttribute("c-id"),Z.$children$||(Z.$children$=[]),Z.$children$[Vt.$index$]=Vt,Z=Vt,ie&&"0"===Vt.$depth$&&(ie[Vt.$index$]=Vt.$elm$))),nn=Ne.childNodes.length-1;nn>=0;nn--)et(Z,de,Re,ie,Fe,Ne.childNodes[nn],yt);if(Ne.shadowRoot)for(nn=Ne.shadowRoot.childNodes.length-1;nn>=0;nn--)et(Z,de,Re,ie,Fe,Ne.shadowRoot.childNodes[nn],yt)}else if(8===Ne.nodeType)Pt=Ne.nodeValue.split("."),(Pt[1]===yt||"0"===Pt[1])&&(Dt=Pt[0],Vt={$flags$:0,$hostId$:Pt[1],$nodeId$:Pt[2],$depth$:Pt[3],$index$:Pt[4],$elm$:Ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Dt?(Vt.$elm$=Ne.nextSibling,Vt.$elm$&&3===Vt.$elm$.nodeType&&(Vt.$text$=Vt.$elm$.textContent,de.push(Vt),Ne.remove(),Z.$children$||(Z.$children$=[]),Z.$children$[Vt.$index$]=Vt,ie&&"0"===Vt.$depth$&&(ie[Vt.$index$]=Vt.$elm$))):Vt.$hostId$===yt&&("s"===Dt?(Vt.$tag$="slot",Ne["s-sn"]=Pt[5]?Vt.$name$=Pt[5]:"",Ne["s-sr"]=!0,ie&&(Vt.$elm$=Yn.createElement(Vt.$tag$),Vt.$name$&&Vt.$elm$.setAttribute("name",Vt.$name$),Ne.parentNode.insertBefore(Vt.$elm$,Ne),Ne.remove(),"0"===Vt.$depth$&&(ie[Vt.$index$]=Vt.$elm$)),Re.push(Vt),Z.$children$||(Z.$children$=[]),Z.$children$[Vt.$index$]=Vt):"r"===Dt&&(ie?Ne.remove():(Fe["s-cr"]=Ne,Ne["s-cn"]=!0))));else if(Z&&"style"===Z.$tag$){const Fn=Ye(null,Ne.textContent);Fn.$elm$=Ne,Fn.$index$="0",Z.$children$=[Fn]}},lt=(Z,de)=>{if(1===Z.nodeType){let Re=0;for(;Re<Z.childNodes.length;Re++)lt(Z.childNodes[Re],de);if(Z.shadowRoot)for(Re=0;Re<Z.shadowRoot.childNodes.length;Re++)lt(Z.shadowRoot.childNodes[Re],de)}else if(8===Z.nodeType){const Re=Z.nodeValue.split(".");"o"===Re[0]&&(de.set(Re[1]+"."+Re[2],Z),Z.nodeValue="",Z["s-en"]=Re[3])}},bt=Z=>or.push(Z),cn=Z=>Ir(Z).$modeName$,ot=Z=>Ir(Z).$hostElement$,At=(Z,de,Re)=>{const ie=ot(Z);return{emit:Fe=>xt(ie,de,{bubbles:!!(4&Re),composed:!!(2&Re),cancelable:!!(1&Re),detail:Fe})}},xt=(Z,de,Re)=>{const ie=kn.ce(de,Re);return Z.dispatchEvent(ie),ie},Nt=new WeakMap,Xt=(Z,de,Re)=>{let ie=En.get(Z);pi&&Re?(ie=ie||new CSSStyleSheet,"string"==typeof ie?ie=de:ie.replaceSync(de)):ie=de,En.set(Z,ie)},on=(Z,de,Re,ie)=>{var Fe;let Ne=Dn(de,Re);const yt=En.get(Ne);if(Z=11===Z.nodeType?Z:Yn,yt)if("string"==typeof yt){let Pt,Dt=Nt.get(Z=Z.head||Z);if(Dt||Nt.set(Z,Dt=new Set),!Dt.has(Ne)){if(Z.host&&(Pt=Z.querySelector(`[${at}="${Ne}"]`)))Pt.innerHTML=yt;else{Pt=Yn.createElement("style"),Pt.innerHTML=yt;const Vt=null!==(Fe=kn.$nonce$)&&void 0!==Fe?Fe:Le(Yn);null!=Vt&&Pt.setAttribute("nonce",Vt),Z.insertBefore(Pt,Z.querySelector("link"))}Dt&&Dt.add(Ne)}}else Z.adoptedStyleSheets.includes(yt)||(Z.adoptedStyleSheets=[...Z.adoptedStyleSheets,yt]);return Ne},Dn=(Z,de)=>"sc-"+(de&&32&Z.$flags$?Z.$tagName$+"-"+de:Z.$tagName$),Nn=Z=>Z.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Vn=(Z,de,Re,ie,Fe,Ne)=>{if(Re!==ie){let yt=Ht(Z,de),Dt=de.toLowerCase();if("class"===de){const Pt=Z.classList,Vt=Jt(Re),nn=Jt(ie);Pt.remove(...Vt.filter(Fn=>Fn&&!nn.includes(Fn))),Pt.add(...nn.filter(Fn=>Fn&&!Vt.includes(Fn)))}else if("style"===de){for(const Pt in Re)(!ie||null==ie[Pt])&&(Pt.includes("-")?Z.style.removeProperty(Pt):Z.style[Pt]="");for(const Pt in ie)(!Re||ie[Pt]!==Re[Pt])&&(Pt.includes("-")?Z.style.setProperty(Pt,ie[Pt]):Z.style[Pt]=ie[Pt])}else if("key"!==de)if("ref"===de)ie&&ie(Z);else if(yt||"o"!==de[0]||"n"!==de[1]){const Pt=Ue(ie);if((yt||Pt&&null!==ie)&&!Fe)try{if(Z.tagName.includes("-"))Z[de]=ie;else{const nn=null==ie?"":ie;"list"===de?yt=!1:(null==Re||Z[de]!=nn)&&(Z[de]=nn)}}catch{}let Vt=!1;Dt!==(Dt=Dt.replace(/^xlink\:?/,""))&&(de=Dt,Vt=!0),null==ie||!1===ie?(!1!==ie||""===Z.getAttribute(de))&&(Vt?Z.removeAttributeNS(Be,de):Z.removeAttribute(de)):(!yt||4&Ne||Fe)&&!Pt&&(ie=!0===ie?"":ie,Vt?Z.setAttributeNS(Be,de,ie):Z.setAttribute(de,ie))}else de="-"===de[2]?de.slice(3):Ht(nr,Dt)?Dt.slice(2):Dt[2]+de.slice(3),Re&&kn.rel(Z,de,Re,!1),ie&&kn.ael(Z,de,ie,!1)}},bn=/\s/,Jt=Z=>Z?Z.split(bn):[],Cn=(Z,de,Re,ie)=>{const Fe=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,Ne=Z&&Z.$attrs$||mt,yt=de.$attrs$||mt;for(ie in Ne)ie in yt||Vn(Fe,ie,Ne[ie],void 0,Re,de.$flags$);for(ie in yt)Vn(Fe,ie,Ne[ie],yt[ie],Re,de.$flags$)},Vr=(Z,de,Re,ie)=>{const Fe=de.$children$[Re];let yt,Dt,Pt,Ne=0;if(Ee||(xe=!0,"slot"===Fe.$tag$&&(W&&ie.classList.add(W+"-s"),Fe.$flags$|=Fe.$children$?2:1)),null!==Fe.$text$)yt=Fe.$elm$=Yn.createTextNode(Fe.$text$);else if(1&Fe.$flags$)yt=Fe.$elm$=Yn.createTextNode("");else{if(Ae||(Ae="svg"===Fe.$tag$),yt=Fe.$elm$=Yn.createElementNS(Ae?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Fe.$flags$?"slot-fb":Fe.$tag$),Ae&&"foreignObject"===Fe.$tag$&&(Ae=!1),Cn(null,Fe,Ae),(Z=>null!=Z)(W)&&yt["s-si"]!==W&&yt.classList.add(yt["s-si"]=W),Fe.$children$)for(Ne=0;Ne<Fe.$children$.length;++Ne)Dt=Vr(Z,Fe,Ne,yt),Dt&&yt.appendChild(Dt);"svg"===Fe.$tag$?Ae=!1:"foreignObject"===yt.tagName&&(Ae=!0)}return yt["s-hn"]=Te,3&Fe.$flags$&&(yt["s-sr"]=!0,yt["s-cr"]=te,yt["s-sn"]=Fe.$name$||"",Pt=Z&&Z.$children$&&Z.$children$[Re],Pt&&Pt.$tag$===Fe.$tag$&&Z.$elm$&&lr(Z.$elm$,!1)),yt},lr=(Z,de)=>{kn.$flags$|=1;const Re=Z.childNodes;for(let ie=Re.length-1;ie>=0;ie--){const Fe=Re[ie];Fe["s-hn"]!==Te&&Fe["s-ol"]&&(un(Fe).insertBefore(Fe,zt(Fe)),Fe["s-ol"].remove(),Fe["s-ol"]=void 0,xe=!0),de&&lr(Fe,de)}kn.$flags$&=-2},Gr=(Z,de,Re,ie,Fe,Ne)=>{let Dt,yt=Z["s-cr"]&&Z["s-cr"].parentNode||Z;for(yt.shadowRoot&&yt.tagName===Te&&(yt=yt.shadowRoot);Fe<=Ne;++Fe)ie[Fe]&&(Dt=Vr(null,Re,Fe,Z),Dt&&(ie[Fe].$elm$=Dt,yt.insertBefore(Dt,zt(de))))},ri=(Z,de,Re)=>{for(let ie=de;ie<=Re;++ie){const Fe=Z[ie];if(Fe){const Ne=Fe.$elm$;Wr(Fe),Ne&&(le=!0,Ne["s-ol"]?Ne["s-ol"].remove():lr(Ne,!0),Ne.remove())}}},zn=(Z,de)=>Z.$tag$===de.$tag$&&("slot"===Z.$tag$?Z.$name$===de.$name$:Z.$key$===de.$key$),zt=Z=>Z&&Z["s-ol"]||Z,un=Z=>(Z["s-ol"]?Z["s-ol"]:Z).parentNode,Gt=(Z,de)=>{const Re=de.$elm$=Z.$elm$,ie=Z.$children$,Fe=de.$children$,Ne=de.$tag$,yt=de.$text$;let Dt;null===yt?(Ae="svg"===Ne||"foreignObject"!==Ne&&Ae,"slot"===Ne||Cn(Z,de,Ae),null!==ie&&null!==Fe?((Z,de,Re,ie)=>{let Kr,ii,Fe=0,Ne=0,yt=0,Dt=0,Pt=de.length-1,Vt=de[0],nn=de[Pt],Fn=ie.length-1,xn=ie[0],Xn=ie[Fn];for(;Fe<=Pt&&Ne<=Fn;)if(null==Vt)Vt=de[++Fe];else if(null==nn)nn=de[--Pt];else if(null==xn)xn=ie[++Ne];else if(null==Xn)Xn=ie[--Fn];else if(zn(Vt,xn))Gt(Vt,xn),Vt=de[++Fe],xn=ie[++Ne];else if(zn(nn,Xn))Gt(nn,Xn),nn=de[--Pt],Xn=ie[--Fn];else if(zn(Vt,Xn))("slot"===Vt.$tag$||"slot"===Xn.$tag$)&&lr(Vt.$elm$.parentNode,!1),Gt(Vt,Xn),Z.insertBefore(Vt.$elm$,nn.$elm$.nextSibling),Vt=de[++Fe],Xn=ie[--Fn];else if(zn(nn,xn))("slot"===Vt.$tag$||"slot"===Xn.$tag$)&&lr(nn.$elm$.parentNode,!1),Gt(nn,xn),Z.insertBefore(nn.$elm$,Vt.$elm$),nn=de[--Pt],xn=ie[++Ne];else{for(yt=-1,Dt=Fe;Dt<=Pt;++Dt)if(de[Dt]&&null!==de[Dt].$key$&&de[Dt].$key$===xn.$key$){yt=Dt;break}yt>=0?(ii=de[yt],ii.$tag$!==xn.$tag$?Kr=Vr(de&&de[Ne],Re,yt,Z):(Gt(ii,xn),de[yt]=void 0,Kr=ii.$elm$),xn=ie[++Ne]):(Kr=Vr(de&&de[Ne],Re,Ne,Z),xn=ie[++Ne]),Kr&&un(Vt.$elm$).insertBefore(Kr,zt(Vt.$elm$))}Fe>Pt?Gr(Z,null==ie[Fn+1]?null:ie[Fn+1].$elm$,Re,ie,Ne,Fn):Ne>Fn&&ri(de,Fe,Pt)})(Re,ie,de,Fe):null!==Fe?(null!==Z.$text$&&(Re.textContent=""),Gr(Re,null,de,Fe,0,Fe.length-1)):null!==ie&&ri(ie,0,ie.length-1),Ae&&"svg"===Ne&&(Ae=!1)):(Dt=Re["s-cr"])?Dt.parentNode.textContent=yt:Z.$text$!==yt&&(Re.data=yt)},Fr=Z=>{const de=Z.childNodes;let Re,ie,Fe,Ne,yt,Dt;for(ie=0,Fe=de.length;ie<Fe;ie++)if(Re=de[ie],1===Re.nodeType){if(Re["s-sr"])for(yt=Re["s-sn"],Re.hidden=!1,Ne=0;Ne<Fe;Ne++)if(Dt=de[Ne].nodeType,de[Ne]["s-hn"]!==Re["s-hn"]||""!==yt){if(1===Dt&&yt===de[Ne].getAttribute("slot")){Re.hidden=!0;break}}else if(1===Dt||3===Dt&&""!==de[Ne].textContent.trim()){Re.hidden=!0;break}Fr(Re)}},cr=[],Lr=Z=>{let de,Re,ie,Fe,Ne,yt,Dt=0;const Pt=Z.childNodes,Vt=Pt.length;for(;Dt<Vt;Dt++){if(de=Pt[Dt],de["s-sr"]&&(Re=de["s-cr"])&&Re.parentNode)for(ie=Re.parentNode.childNodes,Fe=de["s-sn"],yt=ie.length-1;yt>=0;yt--)Re=ie[yt],!Re["s-cn"]&&!Re["s-nr"]&&Re["s-hn"]!==de["s-hn"]&&(Mr(Re,Fe)?(Ne=cr.find(nn=>nn.$nodeToRelocate$===Re),le=!0,Re["s-sn"]=Re["s-sn"]||Fe,Ne?Ne.$slotRefNode$=de:cr.push({$slotRefNode$:de,$nodeToRelocate$:Re}),Re["s-sr"]&&cr.map(nn=>{Mr(nn.$nodeToRelocate$,Re["s-sn"])&&(Ne=cr.find(Fn=>Fn.$nodeToRelocate$===Re),Ne&&!nn.$slotRefNode$&&(nn.$slotRefNode$=Ne.$slotRefNode$))})):cr.some(nn=>nn.$nodeToRelocate$===Re)||cr.push({$nodeToRelocate$:Re}));1===de.nodeType&&Lr(de)}},Mr=(Z,de)=>1===Z.nodeType?null===Z.getAttribute("slot")&&""===de||Z.getAttribute("slot")===de:Z["s-sn"]===de||""===de,Wr=Z=>{Z.$attrs$&&Z.$attrs$.ref&&Z.$attrs$.ref(null),Z.$children$&&Z.$children$.map(Wr)},qr=(Z,de)=>{de&&!Z.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(Re=>Z.$onRenderResolve$=Re))},Kn=(Z,de)=>{if(Z.$flags$|=16,!(4&Z.$flags$))return qr(Z,Z.$ancestorComponent$),_r(()=>Gn(Z,de));Z.$flags$|=512},Gn=(Z,de)=>{const ie=Z.$lazyInstance$;let Fe;return de&&(Z.$flags$|=256,Z.$queuedListeners$&&(Z.$queuedListeners$.map(([Ne,yt])=>kt(ie,Ne,yt)),Z.$queuedListeners$=null),Fe=kt(ie,"componentWillLoad")),Fe=ir(Fe,()=>kt(ie,"componentWillRender")),ir(Fe,()=>ti(Z,ie,de))},ir=(Z,de)=>Z instanceof Promise?Z.then(de):de(),ti=function(){var Z=(0,m.Z)(function*(de,Re,ie){const Fe=de.$hostElement$,yt=Fe["s-rc"];ie&&(Z=>{const de=Z.$cmpMeta$,Re=Z.$hostElement$,ie=de.$flags$,Ne=on(Re.shadowRoot?Re.shadowRoot:Re.getRootNode(),de,Z.$modeName$);10&ie&&(Re["s-sc"]=Ne,Re.classList.add(Ne+"-h"),2&ie&&Re.classList.add(Ne+"-s"))})(de);vr(de,Re),yt&&(yt.map(Pt=>Pt()),Fe["s-rc"]=void 0);{const Pt=Fe["s-p"],Vt=()=>St(de);0===Pt.length?Vt():(Promise.all(Pt).then(Vt),de.$flags$|=4,Pt.length=0)}});return function(Re,ie,Fe){return Z.apply(this,arguments)}}(),vr=(Z,de,Re)=>{try{de=de.render&&de.render(),Z.$flags$&=-17,Z.$flags$|=2,((Z,de)=>{const Re=Z.$hostElement$,ie=Z.$cmpMeta$,Fe=Z.$vnode$||Ye(null,null),Ne=(Z=>Z&&Z.$tag$===We)(de)?de:Ze(null,null,de);if(Te=Re.tagName,ie.$attrsToReflect$&&(Ne.$attrs$=Ne.$attrs$||{},ie.$attrsToReflect$.map(([yt,Dt])=>Ne.$attrs$[Dt]=Re[yt])),Ne.$tag$=null,Ne.$flags$|=4,Z.$vnode$=Ne,Ne.$elm$=Fe.$elm$=Re.shadowRoot||Re,W=Re["s-sc"],te=Re["s-cr"],Ee=0!=(1&ie.$flags$),le=!1,Gt(Fe,Ne),kn.$flags$|=1,xe){Lr(Ne.$elm$);let yt,Dt,Pt,Vt,nn,Fn,xn=0;for(;xn<cr.length;xn++)yt=cr[xn],Dt=yt.$nodeToRelocate$,Dt["s-ol"]||(Pt=Yn.createTextNode(""),Pt["s-nr"]=Dt,Dt.parentNode.insertBefore(Dt["s-ol"]=Pt,Dt));for(xn=0;xn<cr.length;xn++)if(yt=cr[xn],Dt=yt.$nodeToRelocate$,yt.$slotRefNode$){for(Vt=yt.$slotRefNode$.parentNode,nn=yt.$slotRefNode$.nextSibling,Pt=Dt["s-ol"];Pt=Pt.previousSibling;)if(Fn=Pt["s-nr"],Fn&&Fn["s-sn"]===Dt["s-sn"]&&Vt===Fn.parentNode&&(Fn=Fn.nextSibling,!Fn||!Fn["s-nr"])){nn=Fn;break}(!nn&&Vt!==Dt.parentNode||Dt.nextSibling!==nn)&&Dt!==nn&&(!Dt["s-hn"]&&Dt["s-ol"]&&(Dt["s-hn"]=Dt["s-ol"].parentNode.nodeName),Vt.insertBefore(Dt,nn))}else 1===Dt.nodeType&&(Dt.hidden=!0)}le&&Fr(Ne.$elm$),kn.$flags$&=-2,cr.length=0})(Z,de)}catch(ie){vn(ie,Z.$hostElement$)}return null},St=Z=>{const Re=Z.$hostElement$,Fe=Z.$lazyInstance$,Ne=Z.$ancestorComponent$;kt(Fe,"componentDidRender"),64&Z.$flags$?kt(Fe,"componentDidUpdate"):(Z.$flags$|=64,Ot(Re),kt(Fe,"componentDidLoad"),Z.$onReadyResolve$(Re),Ne||$e()),Z.$onInstanceResolve$(Re),Z.$onRenderResolve$&&(Z.$onRenderResolve$(),Z.$onRenderResolve$=void 0),512&Z.$flags$&&Ur(()=>Kn(Z,!1)),Z.$flags$&=-517},ke=Z=>{{const de=Ir(Z),Re=de.$hostElement$.isConnected;return Re&&2==(18&de.$flags$)&&Kn(de,!1),Re}},$e=Z=>{Ot(Yn.documentElement),Ur(()=>xt(nr,"appload",{detail:{namespace:"ionic"}}))},kt=(Z,de,Re)=>{if(Z&&Z[de])try{return Z[de](Re)}catch(ie){vn(ie)}},Ot=Z=>Z.classList.add("hydrated"),Pe=(Z,de,Re)=>{if(de.$members$){Z.watchers&&(de.$watchers$=Z.watchers);const ie=Object.entries(de.$members$),Fe=Z.prototype;if(ie.map(([Ne,[yt]])=>{31&yt||2&Re&&32&yt?Object.defineProperty(Fe,Ne,{get(){return((Z,de)=>Ir(this).$instanceValues$.get(de))(0,Ne)},set(Dt){((Z,de,Re,ie)=>{const Fe=Ir(Z),Ne=Fe.$hostElement$,yt=Fe.$instanceValues$.get(de),Dt=Fe.$flags$,Pt=Fe.$lazyInstance$;Re=((Z,de)=>null==Z||Ue(Z)?Z:4&de?"false"!==Z&&(""===Z||!!Z):2&de?parseFloat(Z):1&de?String(Z):Z)(Re,ie.$members$[de][0]);const Vt=Number.isNaN(yt)&&Number.isNaN(Re);if((!(8&Dt)||void 0===yt)&&Re!==yt&&!Vt&&(Fe.$instanceValues$.set(de,Re),Pt)){if(ie.$watchers$&&128&Dt){const Fn=ie.$watchers$[de];Fn&&Fn.map(xn=>{try{Pt[xn](Re,yt,de)}catch(Xn){vn(Xn,Ne)}})}2==(18&Dt)&&Kn(Fe,!1)}})(this,Ne,Dt,de)},configurable:!0,enumerable:!0}):1&Re&&64&yt&&Object.defineProperty(Fe,Ne,{value(...Dt){const Pt=Ir(this);return Pt.$onInstancePromise$.then(()=>Pt.$lazyInstance$[Ne](...Dt))}})}),1&Re){const Ne=new Map;Fe.attributeChangedCallback=function(yt,Dt,Pt){kn.jmp(()=>{const Vt=Ne.get(yt);if(this.hasOwnProperty(Vt))Pt=this[Vt],delete this[Vt];else if(Fe.hasOwnProperty(Vt)&&"number"==typeof this[Vt]&&this[Vt]==Pt)return;this[Vt]=(null!==Pt||"boolean"!=typeof this[Vt])&&Pt})},Z.observedAttributes=ie.filter(([yt,Dt])=>15&Dt[0]).map(([yt,Dt])=>{const Pt=Dt[1]||yt;return Ne.set(Pt,yt),512&Dt[0]&&de.$attrsToReflect$.push([yt,Pt]),Pt})}}return Z},ft=function(){var Z=(0,m.Z)(function*(de,Re,ie,Fe,Ne){if(!(32&Re.$flags$)){Re.$flags$|=32;{if((Ne=tr(ie)).then){const Vt=()=>{};Ne=yield Ne,Vt()}Ne.isProxied||(ie.$watchers$=Ne.watchers,Pe(Ne,ie,2),Ne.isProxied=!0);const Pt=()=>{};Re.$flags$|=8;try{new Ne(Re)}catch(Vt){vn(Vt)}Re.$flags$&=-9,Re.$flags$|=128,Pt(),rt(Re.$lazyInstance$)}if(Ne.style){let Pt=Ne.style;"string"!=typeof Pt&&(Pt=Pt[Re.$modeName$=(Z=>or.map(de=>de(Z)).find(de=>!!de))(de)]);const Vt=Dn(ie,Re.$modeName$);if(!En.has(Vt)){const nn=()=>{};Xt(Vt,Pt,!!(1&ie.$flags$)),nn()}}}const yt=Re.$ancestorComponent$,Dt=()=>Kn(Re,!0);yt&&yt["s-rc"]?yt["s-rc"].push(Dt):Dt()});return function(Re,ie,Fe,Ne,yt){return Z.apply(this,arguments)}}(),rt=Z=>{kt(Z,"connectedCallback")},Ve=Z=>{const de=Z["s-cr"]=Yn.createComment("");de["s-cn"]=!0,Z.insertBefore(de,Z.firstChild)},oe=(Z,de={})=>{var Re;const Fe=[],Ne=de.exclude||[],yt=nr.customElements,Dt=Yn.head,Pt=Dt.querySelector("meta[charset]"),Vt=Yn.createElement("style"),nn=[],Fn=Yn.querySelectorAll(`[${at}]`);let xn,Xn=!0,Kr=0;for(Object.assign(kn,de),kn.$resourcesUrl$=new URL(de.resourcesUrl||"./",Yn.baseURI).href,kn.$flags$|=2;Kr<Fn.length;Kr++)Xt(Fn[Kr].getAttribute(at),Nn(Fn[Kr].innerHTML),!0);Z.map(ii=>{ii[1].map(tt=>{const He={$flags$:tt[0],$tagName$:tt[1],$members$:tt[2],$listeners$:tt[3]};He.$members$=tt[2],He.$listeners$=tt[3],He.$attrsToReflect$=[],He.$watchers$={};const dt=He.$tagName$,Ft=class extends HTMLElement{constructor(Kt){super(Kt),pt(Kt=this,He),1&He.$flags$&&Kt.attachShadow({mode:"open",delegatesFocus:!!(16&He.$flags$)})}connectedCallback(){xn&&(clearTimeout(xn),xn=null),Xn?nn.push(this):kn.jmp(()=>(Z=>{if(!(1&kn.$flags$)){const de=Ir(Z),Re=de.$cmpMeta$,ie=()=>{};if(1&de.$flags$)je(Z,de,Re.$listeners$),rt(de.$lazyInstance$);else{let Fe;if(de.$flags$|=1,Fe=Z.getAttribute(ne),Fe){if(1&Re.$flags$){const Ne=on(Z.shadowRoot,Re,Z.getAttribute("s-mode"));Z.classList.remove(Ne+"-h",Ne+"-s")}((Z,de,Re,ie)=>{const Ne=Z.shadowRoot,yt=[],Pt=Ne?[]:null,Vt=ie.$vnode$=Ye(de,null);kn.$orgLocNodes$||lt(Yn.body,kn.$orgLocNodes$=new Map),Z[ne]=Re,Z.removeAttribute(ne),et(Vt,yt,[],Pt,Z,Z,Re),yt.map(nn=>{const Fn=nn.$hostId$+"."+nn.$nodeId$,xn=kn.$orgLocNodes$.get(Fn),Xn=nn.$elm$;xn&&Mi&&""===xn["s-en"]&&xn.parentNode.insertBefore(Xn,xn.nextSibling),Ne||(Xn["s-hn"]=de,xn&&(Xn["s-ol"]=xn,Xn["s-ol"]["s-nr"]=Xn)),kn.$orgLocNodes$.delete(Fn)}),Ne&&Pt.map(nn=>{nn&&Ne.appendChild(nn)})})(Z,Re.$tagName$,Fe,de)}Fe||12&Re.$flags$&&Ve(Z);{let Ne=Z;for(;Ne=Ne.parentNode||Ne.host;)if(1===Ne.nodeType&&Ne.hasAttribute("s-id")&&Ne["s-p"]||Ne["s-p"]){qr(de,de.$ancestorComponent$=Ne);break}}Re.$members$&&Object.entries(Re.$members$).map(([Ne,[yt]])=>{if(31&yt&&Z.hasOwnProperty(Ne)){const Dt=Z[Ne];delete Z[Ne],Z[Ne]=Dt}}),ft(Z,de,Re)}ie()}})(this))}disconnectedCallback(){kn.jmp(()=>(Z=>{if(!(1&kn.$flags$)){const de=Ir(this),Re=de.$lazyInstance$;de.$rmListeners$&&(de.$rmListeners$.map(ie=>ie()),de.$rmListeners$=void 0),kt(Re,"disconnectedCallback")}})())}componentOnReady(){return Ir(this).$onReadyPromise$}};He.$lazyBundleId$=ii[0],!Ne.includes(dt)&&!yt.get(dt)&&(Fe.push(dt),yt.define(dt,Pe(Ft,He,1)))})});{Vt.innerHTML=Fe+"{visibility:hidden}.hydrated{visibility:inherit}",Vt.setAttribute("data-styles","");const ii=null!==(Re=kn.$nonce$)&&void 0!==Re?Re:Le(Yn);null!=ii&&Vt.setAttribute("nonce",ii),Dt.insertBefore(Vt,Pt?Pt.nextSibling:Dt.firstChild)}Xn=!1,nn.length?nn.map(ii=>ii.connectedCallback()):kn.jmp(()=>xn=setTimeout($e,30))},je=(Z,de,Re,ie)=>{Re&&Re.map(([Fe,Ne,yt])=>{const Dt=qt(Z,Fe),Pt=Ct(de,yt),Vt=fn(Fe);kn.ael(Dt,Ne,Pt,Vt),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>kn.rel(Dt,Ne,Pt,Vt))})},Ct=(Z,de)=>Re=>{try{256&Z.$flags$?Z.$lazyInstance$[de](Re):(Z.$queuedListeners$=Z.$queuedListeners$||[]).push([de,Re])}catch(ie){vn(ie)}},qt=(Z,de)=>4&de?Yn:8&de?nr:16&de?Yn.body:Z,fn=Z=>0!=(2&Z),Zn=new WeakMap,Ir=Z=>Zn.get(Z),Tt=(Z,de)=>Zn.set(de.$lazyInstance$=Z,de),pt=(Z,de)=>{const Re={$flags$:0,$hostElement$:Z,$cmpMeta$:de,$instanceValues$:new Map};return Re.$onInstancePromise$=new Promise(ie=>Re.$onInstanceResolve$=ie),Re.$onReadyPromise$=new Promise(ie=>Re.$onReadyResolve$=ie),Z["s-p"]=[],Z["s-rc"]=[],je(Z,Re,de.$listeners$),Zn.set(Z,Re)},Ht=(Z,de)=>de in Z,vn=(Z,de)=>(0,console.error)(Z,de),Sn=new Map,tr=(Z,de,Re)=>{const ie=Z.$tagName$.replace(/-/g,"_"),Fe=Z.$lazyBundleId$,Ne=Sn.get(Fe);return Ne?Ne[ie]:F(863)(`./${Fe}.entry.js`).then(yt=>(Sn.set(Fe,yt),yt[ie]),vn)},En=new Map,or=[],nr=typeof window<"u"?window:{},Yn=nr.document||{head:{}},kn={$flags$:0,$resourcesUrl$:"",jmp:Z=>Z(),raf:Z=>requestAnimationFrame(Z),ael:(Z,de,Re,ie)=>Z.addEventListener(de,Re,ie),rel:(Z,de,Re,ie)=>Z.removeEventListener(de,Re,ie),ce:(Z,de)=>new CustomEvent(Z,de)},qi=Z=>{Object.assign(kn,Z)},Mi=!0,xi=Z=>Promise.resolve(Z),pi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),dn=[],Hn=[],xr=(Z,de)=>Re=>{Z.push(Re),he||(he=!0,de&&4&kn.$flags$?Ur(ur):kn.raf(ur))},gi=Z=>{for(let de=0;de<Z.length;de++)try{Z[de](performance.now())}catch(Re){vn(Re)}Z.length=0},ur=()=>{gi(dn),gi(Hn),(he=dn.length>0)&&kn.raf(ur)},Ur=Z=>xi().then(Z),ui=xr(dn,!1),_r=xr(Hn,!0)},4110:(ln,st,F)=>{"use strict";F.d(st,{d:()=>h,w:()=>m});const m=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},394:(ln,st,F)=>{"use strict";F.d(st,{m:()=>se});var m=F(5861),h=F(7593),W=F(6655),te=F(5273),Te=F(8127);const Ee=ae=>(0,Te.c)().duration(ae?400:300),le=ae=>{let Me,pe;const qe=ae.width+8,gt=(0,Te.c)(),Ie=(0,Te.c)();ae.isEndSide?(Me=qe+"px",pe="0px"):(Me=-qe+"px",pe="0px"),gt.addElement(ae.menuInnerEl).fromTo("transform",`translateX(${Me})`,`translateX(${pe})`);const ne="ios"===(0,te.b)(ae),at=ne?.2:.25;return Ie.addElement(ae.backdropEl).fromTo("opacity",.01,at),Ee(ne).addAnimation([gt,Ie])},xe=ae=>{let Me,pe;const qe=(0,te.b)(ae),gt=ae.width;ae.isEndSide?(Me=-gt+"px",pe=gt+"px"):(Me=gt+"px",pe=-gt+"px");const Ie=(0,Te.c)().addElement(ae.menuInnerEl).fromTo("transform",`translateX(${pe})`,"translateX(0px)"),me=(0,Te.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`),ne=(0,Te.c)().addElement(ae.backdropEl).fromTo("opacity",.01,.32);return Ee("ios"===qe).addAnimation([Ie,me,ne])},Ae=ae=>{const Me=(0,te.b)(ae),pe=ae.width*(ae.isEndSide?-1:1)+"px",qe=(0,Te.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`);return Ee("ios"===Me).addAnimation(qe)},se=(()=>{const ae=new Map,Me=[],pe=function(){var De=(0,m.Z)(function*(we){const et=yield Xe(we);return!!et&&et.open()});return function(et){return De.apply(this,arguments)}}(),qe=function(){var De=(0,m.Z)(function*(we){const et=yield void 0!==we?Xe(we):Ge();return void 0!==et&&et.close()});return function(et){return De.apply(this,arguments)}}(),gt=function(){var De=(0,m.Z)(function*(we){const et=yield Xe(we);return!!et&&et.toggle()});return function(et){return De.apply(this,arguments)}}(),Ie=function(){var De=(0,m.Z)(function*(we,et){const lt=yield Xe(et);return lt&&(lt.disabled=!we),lt});return function(et,lt){return De.apply(this,arguments)}}(),me=function(){var De=(0,m.Z)(function*(we,et){const lt=yield Xe(et);return lt&&(lt.swipeGesture=we),lt});return function(et,lt){return De.apply(this,arguments)}}(),ne=function(){var De=(0,m.Z)(function*(we){if(null!=we){const et=yield Xe(we);return void 0!==et&&et.isOpen()}return void 0!==(yield Ge())});return function(et){return De.apply(this,arguments)}}(),at=function(){var De=(0,m.Z)(function*(we){const et=yield Xe(we);return!!et&&!et.disabled});return function(et){return De.apply(this,arguments)}}(),Xe=function(){var De=(0,m.Z)(function*(we){return yield _e(),"start"===we||"end"===we?nt(Bt=>Bt.side===we&&!Bt.disabled)||nt(Bt=>Bt.side===we):null!=we?nt(lt=>lt.menuId===we):nt(lt=>!lt.disabled)||(Me.length>0?Me[0].el:void 0)});return function(et){return De.apply(this,arguments)}}(),Ge=function(){var De=(0,m.Z)(function*(){return yield _e(),Ye()});return function(){return De.apply(this,arguments)}}(),Be=function(){var De=(0,m.Z)(function*(){return yield _e(),We()});return function(){return De.apply(this,arguments)}}(),mt=function(){var De=(0,m.Z)(function*(){return yield _e(),ut()});return function(){return De.apply(this,arguments)}}(),be=(De,we)=>{ae.set(De,we)},Ue=De=>{const we=De.side;Me.filter(et=>et.side===we&&et!==De).forEach(et=>et.disabled=!0)},Le=function(){var De=(0,m.Z)(function*(we,et,lt){if(ut())return!1;if(et){const Bt=yield Ge();Bt&&we.el!==Bt&&(yield Bt.setOpen(!1,!1))}return we._setOpen(et,lt)});return function(et,lt,Bt){return De.apply(this,arguments)}}(),Ye=()=>nt(De=>De._isOpen),We=()=>Me.map(De=>De.el),ut=()=>Me.some(De=>De.isAnimating),nt=De=>{const we=Me.find(De);if(void 0!==we)return we.el},_e=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(De=>new Promise(we=>(0,W.c)(De,we))));return be("reveal",Ae),be("push",xe),be("overlay",le),typeof document<"u"&&document.addEventListener("ionBackButton",De=>{const we=Ye();we&&De.detail.register(h.MENU_BACK_BUTTON_PRIORITY,()=>we.close())}),{registerAnimation:be,get:Xe,getMenus:Be,getOpen:Ge,isEnabled:at,swipeGesture:me,isAnimating:mt,isOpen:ne,enable:Ie,toggle:gt,close:qe,open:pe,_getOpenSync:Ye,_createAnimation:(De,we)=>{const et=ae.get(De);if(!et)throw new Error("animation not registered");return et(we)},_register:De=>{Me.indexOf(De)<0&&(De.disabled||Ue(De),Me.push(De))},_unregister:De=>{const we=Me.indexOf(De);we>-1&&Me.splice(we,1)},_setOpen:Le,_setActiveMenu:Ue}})()},1178:(ln,st,F)=>{"use strict";F.d(st,{a:()=>h,b:()=>W,p:()=>m});const m=(te,...Te)=>console.warn(`[Ionic Warning]: ${te}`,...Te),h=(te,...Te)=>console.error(`[Ionic Error]: ${te}`,...Te),W=(te,...Te)=>console.error(`<${te.tagName.toLowerCase()}> must be used inside ${Te.join(" or ")}.`)},8967:(ln,st,F)=>{"use strict";F.d(st,{L:()=>te,a:()=>Te,b:()=>Ee,c:()=>le,d:()=>xe,e:()=>be,g:()=>Ue,l:()=>Be,s:()=>ve,t:()=>se,w:()=>mt});var m=F(5861),h=F(4083),W=F(6655);const te="ionViewWillEnter",Te="ionViewDidEnter",Ee="ionViewWillLeave",le="ionViewDidLeave",xe="ionViewWillUnload",se=Le=>new Promise((Ze,Ye)=>{(0,h.w)(()=>{ae(Le),Me(Le).then(We=>{We.animation&&We.animation.destroy(),pe(Le),Ze(We)},We=>{pe(Le),Ye(We)})})}),ae=Le=>{const Ze=Le.enteringEl,Ye=Le.leavingEl;Ce(Ze,Ye,Le.direction),Le.showGoBack?Ze.classList.add("can-go-back"):Ze.classList.remove("can-go-back"),ve(Ze,!1),Ze.style.setProperty("pointer-events","none"),Ye&&(ve(Ye,!1),Ye.style.setProperty("pointer-events","none"))},Me=function(){var Le=(0,m.Z)(function*(Ze){const Ye=yield qe(Ze);return Ye&&h.B.isBrowser?gt(Ye,Ze):Ie(Ze)});return function(Ye){return Le.apply(this,arguments)}}(),pe=Le=>{const Ze=Le.enteringEl,Ye=Le.leavingEl;Ze.classList.remove("ion-page-invisible"),Ze.style.removeProperty("pointer-events"),void 0!==Ye&&(Ye.classList.remove("ion-page-invisible"),Ye.style.removeProperty("pointer-events"))},qe=function(){var Le=(0,m.Z)(function*(Ze){return Ze.leavingEl&&Ze.animated&&0!==Ze.duration?Ze.animationBuilder?Ze.animationBuilder:"ios"===Ze.mode?(yield Promise.resolve().then(F.bind(F,746))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,1198))).mdTransitionAnimation:void 0});return function(Ye){return Le.apply(this,arguments)}}(),gt=function(){var Le=(0,m.Z)(function*(Ze,Ye){yield me(Ye,!0);const We=Ze(Ye.baseEl,Ye);Xe(Ye.enteringEl,Ye.leavingEl);const ut=yield at(We,Ye);return Ye.progressCallback&&Ye.progressCallback(void 0),ut&&Ge(Ye.enteringEl,Ye.leavingEl),{hasCompleted:ut,animation:We}});return function(Ye,We){return Le.apply(this,arguments)}}(),Ie=function(){var Le=(0,m.Z)(function*(Ze){const Ye=Ze.enteringEl,We=Ze.leavingEl;return yield me(Ze,!1),Xe(Ye,We),Ge(Ye,We),{hasCompleted:!0}});return function(Ye){return Le.apply(this,arguments)}}(),me=function(){var Le=(0,m.Z)(function*(Ze,Ye){(void 0!==Ze.deepWait?Ze.deepWait:Ye)&&(yield Promise.all([be(Ze.enteringEl),be(Ze.leavingEl)])),yield ne(Ze.viewIsReady,Ze.enteringEl)});return function(Ye,We){return Le.apply(this,arguments)}}(),ne=function(){var Le=(0,m.Z)(function*(Ze,Ye){Ze&&(yield Ze(Ye))});return function(Ye,We){return Le.apply(this,arguments)}}(),at=(Le,Ze)=>{const Ye=Ze.progressCallback,We=new Promise(ut=>{Le.onFinish(nt=>ut(1===nt))});return Ye?(Le.progressStart(!0),Ye(Le)):Le.play(),We},Xe=(Le,Ze)=>{Be(Ze,Ee),Be(Le,te)},Ge=(Le,Ze)=>{Be(Le,Te),Be(Ze,le)},Be=(Le,Ze)=>{if(Le){const Ye=new CustomEvent(Ze,{bubbles:!1,cancelable:!1});Le.dispatchEvent(Ye)}},mt=()=>new Promise(Le=>(0,W.r)(()=>(0,W.r)(()=>Le()))),be=function(){var Le=(0,m.Z)(function*(Ze){const Ye=Ze;if(Ye){if(null!=Ye.componentOnReady){if(null!=(yield Ye.componentOnReady()))return}else if(null!=Ye.__registerHost)return void(yield new Promise(ut=>(0,W.r)(ut)));yield Promise.all(Array.from(Ye.children).map(be))}});return function(Ye){return Le.apply(this,arguments)}}(),ve=(Le,Ze)=>{Ze?(Le.setAttribute("aria-hidden","true"),Le.classList.add("ion-page-hidden")):(Le.hidden=!1,Le.removeAttribute("aria-hidden"),Le.classList.remove("ion-page-hidden"))},Ce=(Le,Ze,Ye)=>{void 0!==Le&&(Le.style.zIndex="back"===Ye?"99":"101"),void 0!==Ze&&(Ze.style.zIndex="100")},Ue=Le=>Le.classList.contains("ion-page")?Le:Le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Le},5273:(ln,st,F)=>{"use strict";F.d(st,{a:()=>se,b:()=>ut,c:()=>W,g:()=>he,i:()=>nt});var m=F(4083);class h{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,we){const et=this.m.get(De);return void 0!==et?et:we}getBoolean(De,we=!1){const et=this.m.get(De);return void 0===et?we:"string"==typeof et?"true"===et:!!et}getNumber(De,we){const et=parseFloat(this.m.get(De));return isNaN(et)?void 0!==we?we:NaN:et}set(De,we){this.m.set(De,we)}}const W=new h,Ae="ionic-persist-config",he=_e=>ae(_e),se=(_e,De)=>("string"==typeof _e&&(De=_e,_e=void 0),he(_e).includes(De)),ae=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let De=_e.Ionic.platforms;return null==De&&(De=_e.Ionic.platforms=Me(_e),De.forEach(we=>_e.document.documentElement.classList.add(`plt-${we}`))),De},Me=_e=>{const De=W.get("platform");return Object.keys(Ye).filter(we=>{const et=null==De?void 0:De[we];return"function"==typeof et?et(_e):Ye[we](_e)})},qe=_e=>!!(Le(_e,/iPad/i)||Le(_e,/Macintosh/i)&&Ge(_e)),me=_e=>Le(_e,/android|sink/i),Ge=_e=>Ze(_e,"(any-pointer:coarse)"),mt=_e=>be(_e)||ve(_e),be=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),ve=_e=>{const De=_e.Capacitor;return!(null==De||!De.isNative)},Le=(_e,De)=>De.test(_e.navigator.userAgent),Ze=(_e,De)=>{var we;return null===(we=_e.matchMedia)||void 0===we?void 0:we.call(_e,De).matches},Ye={ipad:qe,iphone:_e=>Le(_e,/iPhone/i),ios:_e=>Le(_e,/iPhone|iPod/i)||qe(_e),android:me,phablet:_e=>{const De=_e.innerWidth,we=_e.innerHeight,et=Math.min(De,we),lt=Math.max(De,we);return et>390&&et<520&&lt>620&&lt<800},tablet:_e=>{const De=_e.innerWidth,we=_e.innerHeight,et=Math.min(De,we),lt=Math.max(De,we);return qe(_e)||(_e=>me(_e)&&!Le(_e,/mobile/i))(_e)||et>460&&et<820&&lt>780&&lt<1400},cordova:be,capacitor:ve,electron:_e=>Le(_e,/electron/i),pwa:_e=>{var De;return!!(null!==(De=_e.matchMedia)&&void 0!==De&&De.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:Ge,mobileweb:_e=>Ge(_e)&&!mt(_e),desktop:_e=>!Ge(_e),hybrid:mt};let We;const ut=_e=>_e&&(0,m.g)(_e)||We,nt=(_e={})=>{if(typeof window>"u")return;const De=window.document,we=window,et=we.Ionic=we.Ionic||{},lt={};_e._ael&&(lt.ael=_e._ael),_e._rel&&(lt.rel=_e._rel),_e._ce&&(lt.ce=_e._ce),(0,m.a)(lt);const Bt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(_e=>{try{const De=_e.sessionStorage.getItem(Ae);return null!==De?JSON.parse(De):{}}catch{return{}}})(we)),{persistConfig:!1}),et.config),(_e=>{const De={};return _e.location.search.slice(1).split("&").map(we=>we.split("=")).map(([we,et])=>[decodeURIComponent(we),decodeURIComponent(et)]).filter(([we])=>((_e,De)=>_e.substr(0,De.length)===De)(we,"ionic:")).map(([we,et])=>[we.slice("ionic:".length),et]).forEach(([we,et])=>{De[we]=et}),De})(we)),_e);W.reset(Bt),W.getBoolean("persistConfig")&&((_e,De)=>{try{_e.sessionStorage.setItem(Ae,JSON.stringify(De))}catch{return}})(we,Bt),ae(we),et.config=W,et.mode=We=W.get("mode",De.documentElement.getAttribute("mode")||(se(we,"ios")?"ios":"md")),W.set("mode",We),De.documentElement.setAttribute("mode",We),De.documentElement.classList.add(We),W.getBoolean("_testing")&&W.set("animated",!1);const bt=Qt=>{var ot;return null===(ot=Qt.tagName)||void 0===ot?void 0:ot.startsWith("ION-")},cn=Qt=>["ios","md"].includes(Qt);(0,m.c)(Qt=>{for(;Qt;){const ot=Qt.mode||Qt.getAttribute("mode");if(ot){if(cn(ot))return ot;bt(Qt)&&console.warn('Invalid ionic mode: "'+ot+'", expected: "ios" or "md"')}Qt=Qt.parentElement}return We})}},746:(ln,st,F)=>{"use strict";F.r(st),F.d(st,{iosTransitionAnimation:()=>Me,shadow:()=>le});var m=F(8127),h=F(8967);F(4110),F(4083);const Ee=pe=>document.querySelector(`${pe}.ion-cloned-element`),le=pe=>pe.shadowRoot||pe,xe=pe=>{const qe="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),gt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const Ie=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ie?Ie.querySelector(gt):null}return pe.querySelector(gt)},Ae=(pe,qe)=>{const gt="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let Ie=[];if(null!=gt){const me=gt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=me&&(Ie=me.querySelectorAll("ion-buttons"))}else Ie=pe.querySelectorAll("ion-buttons");for(const me of Ie){const ne=me.closest("ion-header"),at=ne&&!ne.classList.contains("header-collapse-condense-inactive"),Xe=me.querySelector("ion-back-button"),Ge=me.classList.contains("buttons-collapse");if(null!==Xe&&("start"===me.slot||""===me.slot)&&(Ge&&at&&qe||!Ge))return Xe}return null},se=(pe,qe,gt,Ie,me,ne)=>{const at=qe?`calc(100% - ${ne.right+4}px)`:ne.left-4+"px",Xe=qe?"7px":"-7px",Ge=qe?"-4px":"4px",Be=qe?"-4px":"4px",mt=qe?"right":"left",be=qe?"left":"right",Ue=gt?[{offset:0,opacity:1,transform:`translate3d(${Ge}, ${ne.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Xe}, ${me.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Xe}, ${me.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ge}, ${ne.top-46}px, 0) scale(1)`}],Ye=gt?[{offset:0,opacity:1,transform:`translate3d(${Be}, ${ne.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Be}, ${ne.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Be}, ${ne.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Be}, ${ne.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Be}, ${ne.top-46}px, 0) scale(1)`}],We=(0,m.c)(),ut=(0,m.c)(),nt=Ee("ion-back-button"),_e=le(nt).querySelector(".button-text"),De=le(nt).querySelector("ion-icon");nt.text=Ie.text,nt.mode=Ie.mode,nt.icon=Ie.icon,nt.color=Ie.color,nt.disabled=Ie.disabled,nt.style.setProperty("display","block"),nt.style.setProperty("position","fixed"),ut.addElement(De),We.addElement(_e),We.beforeStyles({"transform-origin":`${mt} center`}).beforeAddWrite(()=>{Ie.style.setProperty("display","none"),nt.style.setProperty(mt,at)}).afterAddWrite(()=>{Ie.style.setProperty("display",""),nt.style.setProperty("display","none"),nt.style.removeProperty(mt)}).keyframes(Ue),ut.beforeStyles({"transform-origin":`${be} center`}).keyframes(Ye),pe.addAnimation([We,ut])},ae=(pe,qe,gt,Ie,me,ne)=>{const at=qe?`calc(100% - ${me.right}px)`:`${me.left}px`,Xe=qe?"-18px":"18px",Ge=qe?"right":"left",be=gt?[{offset:0,opacity:0,transform:`translate3d(${Xe}, ${ne.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${me.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${me.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Xe}, ${ne.top-4}px, 0) scale(0.5)`}],ve=Ee("ion-title"),Ce=(0,m.c)();ve.innerText=Ie.innerText,ve.size=Ie.size,ve.color=Ie.color,Ce.addElement(ve),Ce.beforeStyles({"transform-origin":`${Ge} center`,height:"46px",display:"",position:"relative",[Ge]:at}).beforeAddWrite(()=>{Ie.style.setProperty("display","none")}).afterAddWrite(()=>{Ie.style.setProperty("display",""),ve.style.setProperty("display","none")}).keyframes(be),pe.addAnimation(Ce)},Me=(pe,qe)=>{var gt;try{const Ie="cubic-bezier(0.32,0.72,0,1)",me="opacity",ne="transform",at="0%",Ge="rtl"===pe.ownerDocument.dir,Be=Ge?"-99.5%":"99.5%",mt=Ge?"33%":"-33%",be=qe.enteringEl,ve=qe.leavingEl,Ce="back"===qe.direction,Ue=be.querySelector(":scope > ion-content"),Le=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ze=be.querySelectorAll(":scope > ion-header > ion-toolbar"),Ye=(0,m.c)(),We=(0,m.c)();if(Ye.addElement(be).duration((null!==(gt=qe.duration)&&void 0!==gt?gt:0)||540).easing(qe.easing||Ie).fill("both").beforeRemoveClass("ion-page-invisible"),ve&&null!=pe){const De=(0,m.c)();De.addElement(pe),Ye.addAnimation(De)}if(Ue||0!==Ze.length||0!==Le.length?(We.addElement(Ue),We.addElement(Le)):We.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ye.addAnimation(We),Ce?We.beforeClearStyles([me]).fromTo("transform",`translateX(${mt})`,`translateX(${at})`).fromTo(me,.8,1):We.beforeClearStyles([me]).fromTo("transform",`translateX(${Be})`,`translateX(${at})`),Ue){const De=le(Ue).querySelector(".transition-effect");if(De){const we=De.querySelector(".transition-cover"),et=De.querySelector(".transition-shadow"),lt=(0,m.c)(),Bt=(0,m.c)(),bt=(0,m.c)();lt.addElement(De).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bt.addElement(we).beforeClearStyles([me]).fromTo(me,0,.1),bt.addElement(et).beforeClearStyles([me]).fromTo(me,.03,.7),lt.addAnimation([Bt,bt]),We.addAnimation([lt])}}const ut=be.querySelector("ion-header.header-collapse-condense"),{forward:nt,backward:_e}=((pe,qe,gt,Ie,me)=>{const ne=Ae(Ie,gt),at=xe(me),Xe=xe(Ie),Ge=Ae(me,gt),Be=null!==ne&&null!==at&&!gt,mt=null!==Xe&&null!==Ge&&gt;if(Be){const be=at.getBoundingClientRect(),ve=ne.getBoundingClientRect();ae(pe,qe,gt,at,be,ve),se(pe,qe,gt,ne,be,ve)}else if(mt){const be=Xe.getBoundingClientRect(),ve=Ge.getBoundingClientRect();ae(pe,qe,gt,Xe,be,ve),se(pe,qe,gt,Ge,be,ve)}return{forward:Be,backward:mt}})(Ye,Ge,Ce,be,ve);if(Ze.forEach(De=>{const we=(0,m.c)();we.addElement(De),Ye.addAnimation(we);const et=(0,m.c)();et.addElement(De.querySelector("ion-title"));const lt=(0,m.c)(),Bt=Array.from(De.querySelectorAll("ion-buttons,[menuToggle]")),bt=De.closest("ion-header"),cn=null==bt?void 0:bt.classList.contains("header-collapse-condense-inactive");let Qt;Qt=Bt.filter(Ce?Xt=>{const on=Xt.classList.contains("buttons-collapse");return on&&!cn||!on}:Xt=>!Xt.classList.contains("buttons-collapse")),lt.addElement(Qt);const ot=(0,m.c)();ot.addElement(De.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const At=(0,m.c)();At.addElement(le(De).querySelector(".toolbar-background"));const xt=(0,m.c)(),Nt=De.querySelector("ion-back-button");if(Nt&&xt.addElement(Nt),we.addAnimation([et,lt,ot,At,xt]),lt.fromTo(me,.01,1),ot.fromTo(me,.01,1),Ce)cn||et.fromTo("transform",`translateX(${mt})`,`translateX(${at})`).fromTo(me,.01,1),ot.fromTo("transform",`translateX(${mt})`,`translateX(${at})`),xt.fromTo(me,.01,1);else if(ut||et.fromTo("transform",`translateX(${Be})`,`translateX(${at})`).fromTo(me,.01,1),ot.fromTo("transform",`translateX(${Be})`,`translateX(${at})`),At.beforeClearStyles([me,"transform"]),(null==bt?void 0:bt.translucent)?At.fromTo("transform",Ge?"translateX(-100%)":"translateX(100%)","translateX(0px)"):At.fromTo(me,.01,"var(--opacity)"),nt||xt.fromTo(me,.01,1),Nt&&!nt){const on=(0,m.c)();on.addElement(le(Nt).querySelector(".button-text")).fromTo("transform",Ge?"translateX(-100px)":"translateX(100px)","translateX(0px)"),we.addAnimation(on)}}),ve){const De=(0,m.c)(),we=ve.querySelector(":scope > ion-content"),et=ve.querySelectorAll(":scope > ion-header > ion-toolbar"),lt=ve.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(we||0!==et.length||0!==lt.length?(De.addElement(we),De.addElement(lt)):De.addElement(ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ye.addAnimation(De),Ce){De.beforeClearStyles([me]).fromTo("transform",`translateX(${at})`,Ge?"translateX(-100%)":"translateX(100%)");const Bt=(0,h.g)(ve);Ye.afterAddWrite(()=>{"normal"===Ye.getDirection()&&Bt.style.setProperty("display","none")})}else De.fromTo("transform",`translateX(${at})`,`translateX(${mt})`).fromTo(me,1,.8);if(we){const Bt=le(we).querySelector(".transition-effect");if(Bt){const bt=Bt.querySelector(".transition-cover"),cn=Bt.querySelector(".transition-shadow"),Qt=(0,m.c)(),ot=(0,m.c)(),At=(0,m.c)();Qt.addElement(Bt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(bt).beforeClearStyles([me]).fromTo(me,.1,0),At.addElement(cn).beforeClearStyles([me]).fromTo(me,.7,.03),Qt.addAnimation([ot,At]),De.addAnimation([Qt])}}et.forEach(Bt=>{const bt=(0,m.c)();bt.addElement(Bt);const cn=(0,m.c)();cn.addElement(Bt.querySelector("ion-title"));const Qt=(0,m.c)(),ot=Bt.querySelectorAll("ion-buttons,[menuToggle]"),At=Bt.closest("ion-header"),xt=null==At?void 0:At.classList.contains("header-collapse-condense-inactive"),Nt=Array.from(ot).filter(Vn=>{const bn=Vn.classList.contains("buttons-collapse");return bn&&!xt||!bn});Qt.addElement(Nt);const Xt=(0,m.c)(),on=Bt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");on.length>0&&Xt.addElement(on);const Zt=(0,m.c)();Zt.addElement(le(Bt).querySelector(".toolbar-background"));const Dn=(0,m.c)(),Nn=Bt.querySelector("ion-back-button");if(Nn&&Dn.addElement(Nn),bt.addAnimation([cn,Qt,Xt,Dn,Zt]),Ye.addAnimation(bt),Dn.fromTo(me,.99,0),Qt.fromTo(me,.99,0),Xt.fromTo(me,.99,0),Ce){if(xt||cn.fromTo("transform",`translateX(${at})`,Ge?"translateX(-100%)":"translateX(100%)").fromTo(me,.99,0),Xt.fromTo("transform",`translateX(${at})`,Ge?"translateX(-100%)":"translateX(100%)"),Zt.beforeClearStyles([me,"transform"]),(null==At?void 0:At.translucent)?Zt.fromTo("transform","translateX(0px)",Ge?"translateX(-100%)":"translateX(100%)"):Zt.fromTo(me,"var(--opacity)",0),Nn&&!_e){const bn=(0,m.c)();bn.addElement(le(Nn).querySelector(".button-text")).fromTo("transform",`translateX(${at})`,`translateX(${(Ge?-124:124)+"px"})`),bt.addAnimation(bn)}}else xt||cn.fromTo("transform",`translateX(${at})`,`translateX(${mt})`).fromTo(me,.99,0).afterClearStyles([ne,me]),Xt.fromTo("transform",`translateX(${at})`,`translateX(${mt})`).afterClearStyles([ne,me]),Dn.afterClearStyles([me]),cn.afterClearStyles([me]),Qt.afterClearStyles([me])})}return Ye}catch(Ie){throw Ie}}},1198:(ln,st,F)=>{"use strict";F.r(st),F.d(st,{mdTransitionAnimation:()=>Te});var m=F(8127),h=F(8967);F(4110),F(4083);const Te=(Ee,le)=>{var xe,Ae,he;const Me="back"===le.direction,qe=le.leavingEl,gt=(0,h.g)(le.enteringEl),Ie=gt.querySelector("ion-toolbar"),me=(0,m.c)();if(me.addElement(gt).fill("both").beforeRemoveClass("ion-page-invisible"),Me?me.duration((null!==(xe=le.duration)&&void 0!==xe?xe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):me.duration((null!==(Ae=le.duration)&&void 0!==Ae?Ae:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ie){const ne=(0,m.c)();ne.addElement(Ie),me.addAnimation(ne)}if(qe&&Me){me.duration((null!==(he=le.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ne=(0,m.c)();ne.addElement((0,h.g)(qe)).onFinish(at=>{1===at&&ne.elements.length>0&&ne.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),me.addAnimation(ne)}return me}},4357:(ln,st,F)=>{"use strict";F.d(st,{B:()=>bt,G:()=>cn,a:()=>se,b:()=>ae,c:()=>gt,d:()=>Qt,e:()=>ot,f:()=>Ye,g:()=>ut,h:()=>De,i:()=>et,j:()=>me,k:()=>ne,m:()=>pe,n:()=>Ae,o:()=>Ge,q:()=>Le,s:()=>Bt,t:()=>Ie});var m=F(5861),h=F(5273),W=F(5381),te=F(7593),Te=F(6655),Ee=F(1178);let le=0,xe=0;const Ae=new WeakMap,he=At=>({create:xt=>at(At,xt),dismiss:(xt,Nt,Xt)=>Ce(document,xt,Nt,At,Xt),getTop:()=>(0,m.Z)(function*(){return Le(document,At)})()}),se=he("ion-alert"),ae=he("ion-action-sheet"),pe=he("ion-modal"),gt=he("ion-popover"),Ie=he("ion-toast"),me=At=>{typeof document<"u"&&ve(document);const xt=le++;At.overlayIndex=xt},ne=At=>(At.hasAttribute("id")||(At.id="ion-overlay-"+ ++xe),At.id),at=(At,xt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(At).then(()=>{const Nt=document.createElement(At);return Nt.classList.add("overlay-hidden"),Object.assign(Nt,Object.assign(Object.assign({},xt),{hasController:!0})),nt(document).appendChild(Nt),new Promise(Xt=>(0,Te.c)(Nt,Xt))}):Promise.resolve(),Xe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ge=(At,xt)=>{let Nt=At.querySelector(Xe);const Xt=null==Nt?void 0:Nt.shadowRoot;Xt&&(Nt=Xt.querySelector(Xe)||Nt),Nt?(0,Te.f)(Nt):xt.focus()},mt=(At,xt)=>{const Nt=Array.from(At.querySelectorAll(Xe));let Xt=Nt.length>0?Nt[Nt.length-1]:null;const on=null==Xt?void 0:Xt.shadowRoot;on&&(Xt=on.querySelector(Xe)||Xt),Xt?Xt.focus():xt.focus()},ve=At=>{0===le&&(le=1,At.addEventListener("focus",xt=>{((At,xt)=>{const Nt=Le(xt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Xt=At.target;Nt&&Xt&&!Nt.classList.contains("ion-disable-focus-trap")&&(Nt.shadowRoot?(()=>{if(Nt.contains(Xt))Nt.lastFocus=Xt;else{const Dn=Nt.lastFocus;Ge(Nt,Nt),Dn===xt.activeElement&&mt(Nt,Nt),Nt.lastFocus=xt.activeElement}})():(()=>{if(Nt===Xt)Nt.lastFocus=void 0;else{const Dn=(0,Te.g)(Nt);if(!Dn.contains(Xt))return;const Nn=Dn.querySelector(".ion-overlay-wrapper");if(!Nn)return;if(Nn.contains(Xt))Nt.lastFocus=Xt;else{const Vn=Nt.lastFocus;Ge(Nn,Nt),Vn===xt.activeElement&&mt(Nn,Nt),Nt.lastFocus=xt.activeElement}}})())})(xt,At)},!0),At.addEventListener("ionBackButton",xt=>{const Nt=Le(At);null!=Nt&&Nt.backdropDismiss&&xt.detail.register(te.OVERLAY_BACK_BUTTON_PRIORITY,()=>Nt.dismiss(void 0,bt))}),At.addEventListener("keydown",xt=>{if("Escape"===xt.key){const Nt=Le(At);null!=Nt&&Nt.backdropDismiss&&Nt.dismiss(void 0,bt)}}))},Ce=(At,xt,Nt,Xt,on)=>{const Zt=Le(At,Xt,on);return Zt?Zt.dismiss(xt,Nt):Promise.reject("overlay does not exist")},Le=(At,xt,Nt)=>{const Xt=((At,xt)=>(void 0===xt&&(xt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(At.querySelectorAll(xt)).filter(Nt=>Nt.overlayIndex>0)))(At,xt).filter(on=>!(At=>At.classList.contains("overlay-hidden"))(on));return void 0===Nt?Xt[Xt.length-1]:Xt.find(on=>on.id===Nt)},Ze=(At=!1)=>{const Nt=nt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Nt&&(At?Nt.setAttribute("aria-hidden","true"):Nt.removeAttribute("aria-hidden"))},Ye=function(){var At=(0,m.Z)(function*(xt,Nt,Xt,on,Zt){var Dn,Nn;if(xt.presented)return;Ze(!0),xt.presented=!0,xt.willPresent.emit(),null===(Dn=xt.willPresentShorthand)||void 0===Dn||Dn.emit();const Vn=(0,h.b)(xt),bn=xt.enterAnimation?xt.enterAnimation:h.c.get(Nt,"ios"===Vn?Xt:on);(yield _e(xt,bn,xt.el,Zt))&&(xt.didPresent.emit(),null===(Nn=xt.didPresentShorthand)||void 0===Nn||Nn.emit()),"ION-TOAST"!==xt.el.tagName&&We(xt.el),xt.keyboardClose&&(null===document.activeElement||!xt.el.contains(document.activeElement))&&xt.el.focus()});return function(Nt,Xt,on,Zt,Dn){return At.apply(this,arguments)}}(),We=function(){var At=(0,m.Z)(function*(xt){let Nt=document.activeElement;if(!Nt)return;const Xt=null==Nt?void 0:Nt.shadowRoot;Xt&&(Nt=Xt.querySelector(Xe)||Nt),yield xt.onDidDismiss(),Nt.focus()});return function(Nt){return At.apply(this,arguments)}}(),ut=function(){var At=(0,m.Z)(function*(xt,Nt,Xt,on,Zt,Dn,Nn){var Vn,bn;if(!xt.presented)return!1;Ze(!1),xt.presented=!1;try{xt.el.style.setProperty("pointer-events","none"),xt.willDismiss.emit({data:Nt,role:Xt}),null===(Vn=xt.willDismissShorthand)||void 0===Vn||Vn.emit({data:Nt,role:Xt});const Jt=(0,h.b)(xt),Cn=xt.leaveAnimation?xt.leaveAnimation:h.c.get(on,"ios"===Jt?Zt:Dn);Xt!==cn&&(yield _e(xt,Cn,xt.el,Nn)),xt.didDismiss.emit({data:Nt,role:Xt}),null===(bn=xt.didDismissShorthand)||void 0===bn||bn.emit({data:Nt,role:Xt}),Ae.delete(xt),xt.el.classList.add("overlay-hidden"),xt.el.style.removeProperty("pointer-events"),void 0!==xt.el.lastFocus&&(xt.el.lastFocus=void 0)}catch(Jt){console.error(Jt)}return xt.el.remove(),!0});return function(Nt,Xt,on,Zt,Dn,Nn,Vn){return At.apply(this,arguments)}}(),nt=At=>At.querySelector("ion-app")||At.body,_e=function(){var At=(0,m.Z)(function*(xt,Nt,Xt,on){Xt.classList.remove("overlay-hidden");const Dn=Nt(xt.el,on);(!xt.animated||!h.c.getBoolean("animated",!0))&&Dn.duration(0),xt.keyboardClose&&Dn.beforeAddWrite(()=>{const Vn=Xt.ownerDocument.activeElement;null!=Vn&&Vn.matches("input,ion-input, ion-textarea")&&Vn.blur()});const Nn=Ae.get(xt)||[];return Ae.set(xt,[...Nn,Dn]),yield Dn.play(),!0});return function(Nt,Xt,on,Zt){return At.apply(this,arguments)}}(),De=(At,xt)=>{let Nt;const Xt=new Promise(on=>Nt=on);return we(At,xt,on=>{Nt(on.detail)}),Xt},we=(At,xt,Nt)=>{const Xt=on=>{(0,Te.b)(At,xt,Xt),Nt(on)};(0,Te.a)(At,xt,Xt)},et=At=>"cancel"===At||At===bt,lt=At=>At(),Bt=(At,xt)=>{if("function"==typeof At)return h.c.get("_zoneGate",lt)(()=>{try{return At(xt)}catch(Xt){throw Xt}})},bt="backdrop",cn="gesture",Qt=At=>{let Nt,xt=!1;const Xt=(0,W.C)(),on=(Nn=!1)=>{if(Nt&&!Nn)return{delegate:Nt,inline:xt};const{el:Vn,hasController:bn,delegate:Jt}=At;return xt=null!==Vn.parentNode&&!bn,Nt=xt?Jt||Xt:Jt,{inline:xt,delegate:Nt}};return{attachViewToDom:function(){var Nn=(0,m.Z)(function*(Vn){const{delegate:bn}=on(!0);if(bn)return yield bn.attachViewToDom(At.el,Vn);const{hasController:Jt}=At;if(Jt&&void 0!==Vn)throw new Error("framework delegate is missing");return null});return function(bn){return Nn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Nn}=on();Nn&&void 0!==At.el&&Nn.removeViewFromDom(At.el.parentElement,At.el)}}},ot=()=>{let At;const xt=()=>{At&&(At(),At=void 0)};return{addClickListener:(Xt,on)=>{xt();const Zt=void 0!==on?document.getElementById(on):null;Zt?At=((Nn,Vn)=>{const bn=()=>{Vn.present()};return Nn.addEventListener("click",bn),()=>{Nn.removeEventListener("click",bn)}})(Zt,Xt):(0,Ee.p)(`A trigger element with the ID "${on}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Xt)},removeClickListener:xt}}},3543:(ln,st,F)=>{"use strict";var m=F(1481),h=F(4650),W=F(1194),te=F(650);const Te=[{path:"home",loadChildren:()=>Promise.all([F.e(7151),F.e(8592),F.e(4851)]).then(F.bind(F,4851)).then(pe=>pe.HomePageModule)},{path:"",loadChildren:()=>F.e(174).then(F.bind(F,5652)).then(pe=>pe.TabsPageModule)},{path:"track-details/:_id",loadChildren:()=>Promise.all([F.e(7151),F.e(3670),F.e(2086),F.e(8592),F.e(3626)]).then(F.bind(F,3626)).then(pe=>pe.TrackDetailsPageModule)},{path:"login",loadChildren:()=>Promise.all([F.e(7151),F.e(8592),F.e(6235)]).then(F.bind(F,6235)).then(pe=>pe.LoginPageModule)},{path:"add-track",loadChildren:()=>Promise.all([F.e(7151),F.e(3670),F.e(2086),F.e(8592),F.e(7843)]).then(F.bind(F,7843)).then(pe=>pe.AddTrackPageModule)},{path:"add-comment",loadChildren:()=>Promise.all([F.e(7151),F.e(3670),F.e(8592),F.e(8731)]).then(F.bind(F,8731)).then(pe=>pe.AddCommentPageModule)},{path:"signup",loadChildren:()=>Promise.all([F.e(7151),F.e(8592),F.e(3426)]).then(F.bind(F,3426)).then(pe=>pe.SignupPageModule)},{path:"edit-track",loadChildren:()=>Promise.all([F.e(7151),F.e(3670),F.e(2086),F.e(8592),F.e(6154)]).then(F.bind(F,6154)).then(pe=>pe.EditTrackPageModule)}];let Ee=(()=>{class pe{}return pe.\u0275fac=function(gt){return new(gt||pe)},pe.\u0275mod=h.oAB({type:pe}),pe.\u0275inj=h.cJS({imports:[W.Bz.forRoot(Te,{preloadingStrategy:W.wm}),W.Bz]}),pe})(),le=(()=>{class pe{constructor(){}}return pe.\u0275fac=function(gt){return new(gt||pe)},pe.\u0275cmp=h.Xpm({type:pe,selectors:[["app-root"]],decls:2,vars:0,template:function(gt,Ie){1&gt&&(h.TgZ(0,"ion-app"),h._UZ(1,"ion-router-outlet"),h.qZA())},dependencies:[te.dr,te.jP]}),pe})();var xe=F(529),Ae=F(2011),he=F(1205),se=F(1762);const ae_firebase={apiKey:"AIzaSyBCqW1Je309w12lwr8wNWUB6aEdg8RleKI",authDomain:"aspotic-4a772.firebaseapp.com",projectId:"aspotic-4a772",storageBucket:"aspotic-4a772.appspot.com",messagingSenderId:"807555290163",appId:"1:807555290163:web:cfb17134549c11f6a3ff46"};let Me=(()=>{class pe{}return pe.\u0275fac=function(gt){return new(gt||pe)},pe.\u0275mod=h.oAB({type:pe,bootstrap:[le]}),pe.\u0275inj=h.cJS({providers:[{provide:W.wN,useClass:te.r4}],imports:[m.b2,te.Pc.forRoot(),Ee,xe.JF,Ae.hO.initializeApp(ae_firebase),se.yb,he.ww,se.yb,Ae.hO]}),pe})();(0,h.G48)(),m.q6().bootstrapModule(Me).catch(pe=>console.log(pe))},1135:(ln,st,F)=>{"use strict";F.d(st,{X:()=>h});var m=F(7579);class h extends m.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const Te=super._subscribe(te);return!Te.closed&&te.next(this._value),Te}getValue(){const{hasError:te,thrownError:Te,_value:Ee}=this;if(te)throw Te;return this._throwIfClosed(),Ee}next(te){super.next(this._value=te)}}},9751:(ln,st,F)=>{"use strict";F.d(st,{y:()=>xe});var m=F(2961),h=F(727),W=F(8822),te=F(9635),Te=F(2416),Ee=F(576),le=F(2806);let xe=(()=>{class ae{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const qe=new ae;return qe.source=this,qe.operator=pe,qe}subscribe(pe,qe,gt){const Ie=function se(ae){return ae&&ae instanceof m.Lv||function he(ae){return ae&&(0,Ee.m)(ae.next)&&(0,Ee.m)(ae.error)&&(0,Ee.m)(ae.complete)}(ae)&&(0,h.Nn)(ae)}(pe)?pe:new m.Hp(pe,qe,gt);return(0,le.x)(()=>{const{operator:me,source:ne}=this;Ie.add(me?me.call(Ie,ne):ne?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(pe){try{return this._subscribe(pe)}catch(qe){pe.error(qe)}}forEach(pe,qe){return new(qe=Ae(qe))((gt,Ie)=>{const me=new m.Hp({next:ne=>{try{pe(ne)}catch(at){Ie(at),me.unsubscribe()}},error:Ie,complete:gt});this.subscribe(me)})}_subscribe(pe){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(pe)}[W.L](){return this}pipe(...pe){return(0,te.U)(pe)(this)}toPromise(pe){return new(pe=Ae(pe))((qe,gt)=>{let Ie;this.subscribe(me=>Ie=me,me=>gt(me),()=>qe(Ie))})}}return ae.create=Me=>new ae(Me),ae})();function Ae(ae){var Me;return null!==(Me=null!=ae?ae:Te.v.Promise)&&void 0!==Me?Me:Promise}},7579:(ln,st,F)=>{"use strict";F.d(st,{x:()=>le});var m=F(9751),h=F(727);const te=(0,F(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=F(8737),Ee=F(2806);let le=(()=>{class Ae extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ae=new xe(this,this);return ae.operator=se,ae}_throwIfClosed(){if(this.closed)throw new te}next(se){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(se)}})}error(se){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ae}=this;for(;ae.length;)ae.shift().error(se)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ae,isStopped:Me,observers:pe}=this;return ae||Me?h.Lc:(this.currentObservers=null,pe.push(se),new h.w0(()=>{this.currentObservers=null,(0,Te.P)(pe,se)}))}_checkFinalizedStatuses(se){const{hasError:ae,thrownError:Me,isStopped:pe}=this;ae?se.error(Me):pe&&se.complete()}asObservable(){const se=new m.y;return se.source=this,se}}return Ae.create=(he,se)=>new xe(he,se),Ae})();class xe extends le{constructor(he,se){super(),this.destination=he,this.source=se}next(he){var se,ae;null===(ae=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ae||ae.call(se,he)}error(he){var se,ae;null===(ae=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ae||ae.call(se,he)}complete(){var he,se;null===(se=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===se||se.call(he)}_subscribe(he){var se,ae;return null!==(ae=null===(se=this.source)||void 0===se?void 0:se.subscribe(he))&&void 0!==ae?ae:h.Lc}}},2961:(ln,st,F)=>{"use strict";F.d(st,{Hp:()=>gt,Lv:()=>ae});var m=F(576),h=F(727),W=F(2416),te=F(7849);function Te(){}const Ee=Ae("C",void 0,void 0);function Ae(Xe,Ge,Be){return{kind:Xe,value:Ge,error:Be}}var he=F(3410),se=F(2806);class ae extends h.w0{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,h.Nn)(Ge)&&Ge.add(this)):this.destination=at}static create(Ge,Be,mt){return new gt(Ge,Be,mt)}next(Ge){this.isStopped?ne(function xe(Xe){return Ae("N",Xe,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?ne(function le(Xe){return Ae("E",void 0,Xe)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?ne(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function pe(Xe,Ge){return Me.call(Xe,Ge)}class qe{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:Be}=this;if(Be.next)try{Be.next(Ge)}catch(mt){Ie(mt)}}error(Ge){const{partialObserver:Be}=this;if(Be.error)try{Be.error(Ge)}catch(mt){Ie(mt)}else Ie(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(Be){Ie(Be)}}}class gt extends ae{constructor(Ge,Be,mt){let be;if(super(),(0,m.m)(Ge)||!Ge)be={next:null!=Ge?Ge:void 0,error:null!=Be?Be:void 0,complete:null!=mt?mt:void 0};else{let ve;this&&W.v.useDeprecatedNextContext?(ve=Object.create(Ge),ve.unsubscribe=()=>this.unsubscribe(),be={next:Ge.next&&pe(Ge.next,ve),error:Ge.error&&pe(Ge.error,ve),complete:Ge.complete&&pe(Ge.complete,ve)}):be=Ge}this.destination=new qe(be)}}function Ie(Xe){W.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Xe):(0,te.h)(Xe)}function ne(Xe,Ge){const{onStoppedNotification:Be}=W.v;Be&&he.z.setTimeout(()=>Be(Xe,Ge))}const at={closed:!0,next:Te,error:function me(Xe){throw Xe},complete:Te}},727:(ln,st,F)=>{"use strict";F.d(st,{Lc:()=>Ee,w0:()=>Te,Nn:()=>le});var m=F(576);const W=(0,F(3888).d)(Ae=>function(se){Ae(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ae,Me)=>`${Me+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var te=F(8737);class Te{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const pe of se)pe.remove(this);else se.remove(this);const{initialTeardown:ae}=this;if((0,m.m)(ae))try{ae()}catch(pe){he=pe instanceof W?pe.errors:[pe]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const pe of Me)try{xe(pe)}catch(qe){he=null!=he?he:[],qe instanceof W?he=[...he,...qe.errors]:he.push(qe)}}if(he)throw new W(he)}}add(he){var se;if(he&&he!==this)if(this.closed)xe(he);else{if(he instanceof Te){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(he)}}_hasParent(he){const{_parentage:se}=this;return se===he||Array.isArray(se)&&se.includes(he)}_addParent(he){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(he),se):se?[se,he]:he}_removeParent(he){const{_parentage:se}=this;se===he?this._parentage=null:Array.isArray(se)&&(0,te.P)(se,he)}remove(he){const{_finalizers:se}=this;se&&(0,te.P)(se,he),he instanceof Te&&he._removeParent(this)}}Te.EMPTY=(()=>{const Ae=new Te;return Ae.closed=!0,Ae})();const Ee=Te.EMPTY;function le(Ae){return Ae instanceof Te||Ae&&"closed"in Ae&&(0,m.m)(Ae.remove)&&(0,m.m)(Ae.add)&&(0,m.m)(Ae.unsubscribe)}function xe(Ae){(0,m.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(ln,st,F)=>{"use strict";F.d(st,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(ln,st,F)=>{"use strict";F.d(st,{z:()=>Te});var m=F(8189),W=F(7669),te=F(8996);function Te(...Ee){return function h(){return(0,m.J)(1)}()((0,te.D)(Ee,(0,W.yG)(Ee)))}},515:(ln,st,F)=>{"use strict";F.d(st,{E:()=>h});const h=new(F(9751).y)(Te=>Te.complete())},8996:(ln,st,F)=>{"use strict";F.d(st,{D:()=>Ge});var m=F(8421),h=F(5363),W=F(9468),Ee=F(9751),xe=F(2202),Ae=F(576),he=F(9672);function ae(Be,mt){if(!Be)throw new Error("Iterable cannot be null");return new Ee.y(be=>{(0,he.f)(be,mt,()=>{const ve=Be[Symbol.asyncIterator]();(0,he.f)(be,mt,()=>{ve.next().then(Ce=>{Ce.done?be.complete():be.next(Ce.value)})},0,!0)})})}var Me=F(3670),pe=F(8239),qe=F(1144),gt=F(6495),Ie=F(2206),me=F(4532),ne=F(3260);function Ge(Be,mt){return mt?function Xe(Be,mt){if(null!=Be){if((0,Me.c)(Be))return function te(Be,mt){return(0,m.Xf)(Be).pipe((0,W.R)(mt),(0,h.Q)(mt))}(Be,mt);if((0,qe.z)(Be))return function le(Be,mt){return new Ee.y(be=>{let ve=0;return mt.schedule(function(){ve===Be.length?be.complete():(be.next(Be[ve++]),be.closed||this.schedule())})})}(Be,mt);if((0,pe.t)(Be))return function Te(Be,mt){return(0,m.Xf)(Be).pipe((0,W.R)(mt),(0,h.Q)(mt))}(Be,mt);if((0,Ie.D)(Be))return ae(Be,mt);if((0,gt.T)(Be))return function se(Be,mt){return new Ee.y(be=>{let ve;return(0,he.f)(be,mt,()=>{ve=Be[xe.h](),(0,he.f)(be,mt,()=>{let Ce,Ue;try{({value:Ce,done:Ue}=ve.next())}catch(Le){return void be.error(Le)}Ue?be.complete():be.next(Ce)},0,!0)}),()=>(0,Ae.m)(null==ve?void 0:ve.return)&&ve.return()})}(Be,mt);if((0,ne.L)(Be))return function at(Be,mt){return ae((0,ne.Q)(Be),mt)}(Be,mt)}throw(0,me.z)(Be)}(Be,mt):(0,m.Xf)(Be)}},8421:(ln,st,F)=>{"use strict";F.d(st,{Xf:()=>Me});var m=F(655),h=F(1144),W=F(8239),te=F(9751),Te=F(3670),Ee=F(2206),le=F(4532),xe=F(6495),Ae=F(3260),he=F(576),se=F(7849),ae=F(8822);function Me(Xe){if(Xe instanceof te.y)return Xe;if(null!=Xe){if((0,Te.c)(Xe))return function pe(Xe){return new te.y(Ge=>{const Be=Xe[ae.L]();if((0,he.m)(Be.subscribe))return Be.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,h.z)(Xe))return function qe(Xe){return new te.y(Ge=>{for(let Be=0;Be<Xe.length&&!Ge.closed;Be++)Ge.next(Xe[Be]);Ge.complete()})}(Xe);if((0,W.t)(Xe))return function gt(Xe){return new te.y(Ge=>{Xe.then(Be=>{Ge.closed||(Ge.next(Be),Ge.complete())},Be=>Ge.error(Be)).then(null,se.h)})}(Xe);if((0,Ee.D)(Xe))return me(Xe);if((0,xe.T)(Xe))return function Ie(Xe){return new te.y(Ge=>{for(const Be of Xe)if(Ge.next(Be),Ge.closed)return;Ge.complete()})}(Xe);if((0,Ae.L)(Xe))return function ne(Xe){return me((0,Ae.Q)(Xe))}(Xe)}throw(0,le.z)(Xe)}function me(Xe){return new te.y(Ge=>{(function at(Xe,Ge){var Be,mt,be,ve;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Be=(0,m.KL)(Xe);!(mt=yield Be.next()).done;)if(Ge.next(mt.value),Ge.closed)return}catch(Ce){be={error:Ce}}finally{try{mt&&!mt.done&&(ve=Be.return)&&(yield ve.call(Be))}finally{if(be)throw be.error}}Ge.complete()})})(Xe,Ge).catch(Be=>Ge.error(Be))})}},6451:(ln,st,F)=>{"use strict";F.d(st,{T:()=>Ee});var m=F(8189),h=F(8421),W=F(515),te=F(7669),Te=F(8996);function Ee(...le){const xe=(0,te.yG)(le),Ae=(0,te._6)(le,1/0),he=le;return he.length?1===he.length?(0,h.Xf)(he[0]):(0,m.J)(Ae)((0,Te.D)(he,xe)):W.E}},9646:(ln,st,F)=>{"use strict";F.d(st,{of:()=>W});var m=F(7669),h=F(8996);function W(...te){const Te=(0,m.yG)(te);return(0,h.D)(te,Te)}},5403:(ln,st,F)=>{"use strict";F.d(st,{x:()=>h});var m=F(2961);function h(te,Te,Ee,le,xe){return new W(te,Te,Ee,le,xe)}class W extends m.Lv{constructor(Te,Ee,le,xe,Ae,he){super(Te),this.onFinalize=Ae,this.shouldUnsubscribe=he,this._next=Ee?function(se){try{Ee(se)}catch(ae){Te.error(ae)}}:super._next,this._error=xe?function(se){try{xe(se)}catch(ae){Te.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(se){Te.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4351:(ln,st,F)=>{"use strict";F.d(st,{b:()=>W});var m=F(5577),h=F(576);function W(te,Te){return(0,h.m)(Te)?(0,m.z)(te,Te,1):(0,m.z)(te,1)}},6590:(ln,st,F)=>{"use strict";F.d(st,{d:()=>W});var m=F(4482),h=F(5403);function W(te){return(0,m.e)((Te,Ee)=>{let le=!1;Te.subscribe((0,h.x)(Ee,xe=>{le=!0,Ee.next(xe)},()=>{le||Ee.next(te),Ee.complete()}))})}},1884:(ln,st,F)=>{"use strict";F.d(st,{x:()=>te});var m=F(4671),h=F(4482),W=F(5403);function te(Ee,le=m.y){return Ee=null!=Ee?Ee:Te,(0,h.e)((xe,Ae)=>{let he,se=!0;xe.subscribe((0,W.x)(Ae,ae=>{const Me=le(ae);(se||!Ee(he,Me))&&(se=!1,he=Me,Ae.next(ae))}))})}function Te(Ee,le){return Ee===le}},9300:(ln,st,F)=>{"use strict";F.d(st,{h:()=>W});var m=F(4482),h=F(5403);function W(te,Te){return(0,m.e)((Ee,le)=>{let xe=0;Ee.subscribe((0,h.x)(le,Ae=>te.call(Te,Ae,xe++)&&le.next(Ae)))})}},590:(ln,st,F)=>{"use strict";F.d(st,{P:()=>le});var m=F(6805),h=F(9300),W=F(5698),te=F(6590),Te=F(8068),Ee=F(4671);function le(xe,Ae){const he=arguments.length>=2;return se=>se.pipe(xe?(0,h.h)((ae,Me)=>xe(ae,Me,se)):Ee.y,(0,W.q)(1),he?(0,te.d)(Ae):(0,Te.T)(()=>new m.K))}},4004:(ln,st,F)=>{"use strict";F.d(st,{U:()=>W});var m=F(4482),h=F(5403);function W(te,Te){return(0,m.e)((Ee,le)=>{let xe=0;Ee.subscribe((0,h.x)(le,Ae=>{le.next(te.call(Te,Ae,xe++))}))})}},8189:(ln,st,F)=>{"use strict";F.d(st,{J:()=>W});var m=F(5577),h=F(4671);function W(te=1/0){return(0,m.z)(h.y,te)}},5577:(ln,st,F)=>{"use strict";F.d(st,{z:()=>xe});var m=F(4004),h=F(8421),W=F(4482),te=F(9672),Te=F(5403),le=F(576);function xe(Ae,he,se=1/0){return(0,le.m)(he)?xe((ae,Me)=>(0,m.U)((pe,qe)=>he(ae,pe,Me,qe))((0,h.Xf)(Ae(ae,Me))),se):("number"==typeof he&&(se=he),(0,W.e)((ae,Me)=>function Ee(Ae,he,se,ae,Me,pe,qe,gt){const Ie=[];let me=0,ne=0,at=!1;const Xe=()=>{at&&!Ie.length&&!me&&he.complete()},Ge=mt=>me<ae?Be(mt):Ie.push(mt),Be=mt=>{pe&&he.next(mt),me++;let be=!1;(0,h.Xf)(se(mt,ne++)).subscribe((0,Te.x)(he,ve=>{null==Me||Me(ve),pe?Ge(ve):he.next(ve)},()=>{be=!0},void 0,()=>{if(be)try{for(me--;Ie.length&&me<ae;){const ve=Ie.shift();qe?(0,te.f)(he,qe,()=>Be(ve)):Be(ve)}Xe()}catch(ve){he.error(ve)}}))};return Ae.subscribe((0,Te.x)(he,Ge,()=>{at=!0,Xe()})),()=>{null==gt||gt()}}(ae,Me,Ae,se)))}},5363:(ln,st,F)=>{"use strict";F.d(st,{Q:()=>te});var m=F(9672),h=F(4482),W=F(5403);function te(Te,Ee=0){return(0,h.e)((le,xe)=>{le.subscribe((0,W.x)(xe,Ae=>(0,m.f)(xe,Te,()=>xe.next(Ae),Ee),()=>(0,m.f)(xe,Te,()=>xe.complete(),Ee),Ae=>(0,m.f)(xe,Te,()=>xe.error(Ae),Ee)))})}},5026:(ln,st,F)=>{"use strict";F.d(st,{R:()=>te});var m=F(4482),h=F(5403);function te(Te,Ee){return(0,m.e)(function W(Te,Ee,le,xe,Ae){return(he,se)=>{let ae=le,Me=Ee,pe=0;he.subscribe((0,h.x)(se,qe=>{const gt=pe++;Me=ae?Te(Me,qe,gt):(ae=!0,qe),xe&&se.next(Me)},Ae&&(()=>{ae&&se.next(Me),se.complete()})))}}(Te,Ee,arguments.length>=2,!0))}},3099:(ln,st,F)=>{"use strict";F.d(st,{B:()=>Te});var m=F(8421),h=F(7579),W=F(2961),te=F(4482);function Te(le={}){const{connector:xe=(()=>new h.x),resetOnError:Ae=!0,resetOnComplete:he=!0,resetOnRefCountZero:se=!0}=le;return ae=>{let Me,pe,qe,gt=0,Ie=!1,me=!1;const ne=()=>{null==pe||pe.unsubscribe(),pe=void 0},at=()=>{ne(),Me=qe=void 0,Ie=me=!1},Xe=()=>{const Ge=Me;at(),null==Ge||Ge.unsubscribe()};return(0,te.e)((Ge,Be)=>{gt++,!me&&!Ie&&ne();const mt=qe=null!=qe?qe:xe();Be.add(()=>{gt--,0===gt&&!me&&!Ie&&(pe=Ee(Xe,se))}),mt.subscribe(Be),!Me&&gt>0&&(Me=new W.Hp({next:be=>mt.next(be),error:be=>{me=!0,ne(),pe=Ee(at,Ae,be),mt.error(be)},complete:()=>{Ie=!0,ne(),pe=Ee(at,he),mt.complete()}}),(0,m.Xf)(Ge).subscribe(Me))})(ae)}}function Ee(le,xe,...Ae){if(!0===xe)return void le();if(!1===xe)return;const he=new W.Hp({next:()=>{he.unsubscribe(),le()}});return xe(...Ae).subscribe(he)}},8675:(ln,st,F)=>{"use strict";F.d(st,{O:()=>te});var m=F(7272),h=F(7669),W=F(4482);function te(...Te){const Ee=(0,h.yG)(Te);return(0,W.e)((le,xe)=>{(Ee?(0,m.z)(Te,le,Ee):(0,m.z)(Te,le)).subscribe(xe)})}},9468:(ln,st,F)=>{"use strict";F.d(st,{R:()=>h});var m=F(4482);function h(W,te=0){return(0,m.e)((Te,Ee)=>{Ee.add(W.schedule(()=>Te.subscribe(Ee),te))})}},3900:(ln,st,F)=>{"use strict";F.d(st,{w:()=>te});var m=F(8421),h=F(4482),W=F(5403);function te(Te,Ee){return(0,h.e)((le,xe)=>{let Ae=null,he=0,se=!1;const ae=()=>se&&!Ae&&xe.complete();le.subscribe((0,W.x)(xe,Me=>{null==Ae||Ae.unsubscribe();let pe=0;const qe=he++;(0,m.Xf)(Te(Me,qe)).subscribe(Ae=(0,W.x)(xe,gt=>xe.next(Ee?Ee(Me,gt,qe,pe++):gt),()=>{Ae=null,ae()}))},()=>{se=!0,ae()}))})}},5698:(ln,st,F)=>{"use strict";F.d(st,{q:()=>te});var m=F(515),h=F(4482),W=F(5403);function te(Te){return Te<=0?()=>m.E:(0,h.e)((Ee,le)=>{let xe=0;Ee.subscribe((0,W.x)(le,Ae=>{++xe<=Te&&(le.next(Ae),Te<=xe&&le.complete())}))})}},8505:(ln,st,F)=>{"use strict";F.d(st,{b:()=>Te});var m=F(576),h=F(4482),W=F(5403),te=F(4671);function Te(Ee,le,xe){const Ae=(0,m.m)(Ee)||le||xe?{next:Ee,error:le,complete:xe}:Ee;return Ae?(0,h.e)((he,se)=>{var ae;null===(ae=Ae.subscribe)||void 0===ae||ae.call(Ae);let Me=!0;he.subscribe((0,W.x)(se,pe=>{var qe;null===(qe=Ae.next)||void 0===qe||qe.call(Ae,pe),se.next(pe)},()=>{var pe;Me=!1,null===(pe=Ae.complete)||void 0===pe||pe.call(Ae),se.complete()},pe=>{var qe;Me=!1,null===(qe=Ae.error)||void 0===qe||qe.call(Ae,pe),se.error(pe)},()=>{var pe,qe;Me&&(null===(pe=Ae.unsubscribe)||void 0===pe||pe.call(Ae)),null===(qe=Ae.finalize)||void 0===qe||qe.call(Ae)}))}):te.y}},8068:(ln,st,F)=>{"use strict";F.d(st,{T:()=>te});var m=F(6805),h=F(4482),W=F(5403);function te(Ee=Te){return(0,h.e)((le,xe)=>{let Ae=!1;le.subscribe((0,W.x)(xe,he=>{Ae=!0,xe.next(he)},()=>Ae?xe.complete():xe.error(Ee())))})}function Te(){return new m.K}},4408:(ln,st,F)=>{"use strict";F.d(st,{o:()=>Te});var m=F(727);class h extends m.w0{constructor(le,xe){super()}schedule(le,xe=0){return this}}const W={setInterval(Ee,le,...xe){const{delegate:Ae}=W;return null!=Ae&&Ae.setInterval?Ae.setInterval(Ee,le,...xe):setInterval(Ee,le,...xe)},clearInterval(Ee){const{delegate:le}=W;return((null==le?void 0:le.clearInterval)||clearInterval)(Ee)},delegate:void 0};var te=F(8737);class Te extends h{constructor(le,xe){super(le,xe),this.scheduler=le,this.work=xe,this.pending=!1}schedule(le,xe=0){var Ae;if(this.closed)return this;this.state=le;const he=this.id,se=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(se,he,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(se,this.id,xe),this}requestAsyncId(le,xe,Ae=0){return W.setInterval(le.flush.bind(le,this),Ae)}recycleAsyncId(le,xe,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return xe;null!=xe&&W.clearInterval(xe)}execute(le,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(le,xe);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,xe){let he,Ae=!1;try{this.work(le)}catch(se){Ae=!0,he=se||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:le,scheduler:xe}=this,{actions:Ae}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(Ae,this),null!=le&&(this.id=this.recycleAsyncId(xe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,st,F)=>{"use strict";F.d(st,{v:()=>W});var m=F(6063);class h{constructor(Te,Ee=h.now){this.schedulerActionCtor=Te,this.now=Ee}schedule(Te,Ee=0,le){return new this.schedulerActionCtor(this,Te).schedule(le,Ee)}}h.now=m.l.now;class W extends h{constructor(Te,Ee=h.now){super(Te,Ee),this.actions=[],this._active=!1}flush(Te){const{actions:Ee}=this;if(this._active)return void Ee.push(Te);let le;this._active=!0;do{if(le=Te.execute(Te.state,Te.delay))break}while(Te=Ee.shift());if(this._active=!1,le){for(;Te=Ee.shift();)Te.unsubscribe();throw le}}}},4986:(ln,st,F)=>{"use strict";F.d(st,{z:()=>W});var m=F(4408);const W=new(F(7565).v)(m.o)},6063:(ln,st,F)=>{"use strict";F.d(st,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(ln,st,F)=>{"use strict";F.d(st,{z:()=>m});const m={setTimeout(h,W,...te){const{delegate:Te}=m;return null!=Te&&Te.setTimeout?Te.setTimeout(h,W,...te):setTimeout(h,W,...te)},clearTimeout(h){const{delegate:W}=m;return((null==W?void 0:W.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(ln,st,F)=>{"use strict";F.d(st,{h:()=>h});const h=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,st,F)=>{"use strict";F.d(st,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ln,st,F)=>{"use strict";F.d(st,{K:()=>h});const h=(0,F(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(ln,st,F)=>{"use strict";F.d(st,{_6:()=>Ee,jO:()=>te,yG:()=>Te});var m=F(576);function W(le){return le[le.length-1]}function te(le){return(0,m.m)(W(le))?le.pop():void 0}function Te(le){return function h(le){return le&&(0,m.m)(le.schedule)}(W(le))?le.pop():void 0}function Ee(le,xe){return"number"==typeof W(le)?le.pop():xe}},4742:(ln,st,F)=>{"use strict";F.d(st,{D:()=>Te});const{isArray:m}=Array,{getPrototypeOf:h,prototype:W,keys:te}=Object;function Te(le){if(1===le.length){const xe=le[0];if(m(xe))return{args:xe,keys:null};if(function Ee(le){return le&&"object"==typeof le&&h(le)===W}(xe)){const Ae=te(xe);return{args:Ae.map(he=>xe[he]),keys:Ae}}}return{args:le,keys:null}}},8737:(ln,st,F)=>{"use strict";function m(h,W){if(h){const te=h.indexOf(W);0<=te&&h.splice(te,1)}}F.d(st,{P:()=>m})},3888:(ln,st,F)=>{"use strict";function m(h){const te=h(Te=>{Error.call(Te),Te.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}F.d(st,{d:()=>m})},1810:(ln,st,F)=>{"use strict";function m(h,W){return h.reduce((te,Te,Ee)=>(te[Te]=W[Ee],te),{})}F.d(st,{n:()=>m})},2806:(ln,st,F)=>{"use strict";F.d(st,{O:()=>te,x:()=>W});var m=F(2416);let h=null;function W(Te){if(m.v.useDeprecatedSynchronousErrorHandling){const Ee=!h;if(Ee&&(h={errorThrown:!1,error:null}),Te(),Ee){const{errorThrown:le,error:xe}=h;if(h=null,le)throw xe}}else Te()}function te(Te){m.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Te)}},9672:(ln,st,F)=>{"use strict";function m(h,W,te,Te=0,Ee=!1){const le=W.schedule(function(){te(),Ee?h.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(h.add(le),!Ee)return le}F.d(st,{f:()=>m})},4671:(ln,st,F)=>{"use strict";function m(h){return h}F.d(st,{y:()=>m})},1144:(ln,st,F)=>{"use strict";F.d(st,{z:()=>m});const m=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(ln,st,F)=>{"use strict";F.d(st,{D:()=>h});var m=F(576);function h(W){return Symbol.asyncIterator&&(0,m.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(ln,st,F)=>{"use strict";function m(h){return"function"==typeof h}F.d(st,{m:()=>m})},3670:(ln,st,F)=>{"use strict";F.d(st,{c:()=>W});var m=F(8822),h=F(576);function W(te){return(0,h.m)(te[m.L])}},6495:(ln,st,F)=>{"use strict";F.d(st,{T:()=>W});var m=F(2202),h=F(576);function W(te){return(0,h.m)(null==te?void 0:te[m.h])}},8239:(ln,st,F)=>{"use strict";F.d(st,{t:()=>h});var m=F(576);function h(W){return(0,m.m)(null==W?void 0:W.then)}},3260:(ln,st,F)=>{"use strict";F.d(st,{L:()=>te,Q:()=>W});var m=F(655),h=F(576);function W(Te){return(0,m.FC)(this,arguments,function*(){const le=Te.getReader();try{for(;;){const{value:xe,done:Ae}=yield(0,m.qq)(le.read());if(Ae)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(xe)}}finally{le.releaseLock()}})}function te(Te){return(0,h.m)(null==Te?void 0:Te.getReader)}},4482:(ln,st,F)=>{"use strict";F.d(st,{A:()=>h,e:()=>W});var m=F(576);function h(te){return(0,m.m)(null==te?void 0:te.lift)}function W(te){return Te=>{if(h(Te))return Te.lift(function(Ee){try{return te(Ee,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ln,st,F)=>{"use strict";F.d(st,{Z:()=>te});var m=F(4004);const{isArray:h}=Array;function te(Te){return(0,m.U)(Ee=>function W(Te,Ee){return h(Ee)?Te(...Ee):Te(Ee)}(Te,Ee))}},9635:(ln,st,F)=>{"use strict";F.d(st,{U:()=>W,z:()=>h});var m=F(4671);function h(...te){return W(te)}function W(te){return 0===te.length?m.y:1===te.length?te[0]:function(Ee){return te.reduce((le,xe)=>xe(le),Ee)}}},7849:(ln,st,F)=>{"use strict";F.d(st,{h:()=>W});var m=F(2416),h=F(3410);function W(te){h.z.setTimeout(()=>{const{onUnhandledError:Te}=m.v;if(!Te)throw te;Te(te)})}},4532:(ln,st,F)=>{"use strict";function m(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(st,{z:()=>m})},863:(ln,st,F)=>{var m={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[8372,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[1141,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[7066,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function h(W){if(!F.o(m,W))return Promise.resolve().then(()=>{var Ee=new Error("Cannot find module '"+W+"'");throw Ee.code="MODULE_NOT_FOUND",Ee});var te=m[W],Te=te[0];return Promise.all(te.slice(1).map(F.e)).then(()=>F(Te))}h.keys=()=>Object.keys(m),h.id=863,ln.exports=h},655:(ln,st,F)=>{"use strict";function te(We,ut){var nt={};for(var _e in We)Object.prototype.hasOwnProperty.call(We,_e)&&ut.indexOf(_e)<0&&(nt[_e]=We[_e]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(_e=Object.getOwnPropertySymbols(We);De<_e.length;De++)ut.indexOf(_e[De])<0&&Object.prototype.propertyIsEnumerable.call(We,_e[De])&&(nt[_e[De]]=We[_e[De]])}return nt}function Te(We,ut,nt,_e){var et,De=arguments.length,we=De<3?ut:null===_e?_e=Object.getOwnPropertyDescriptor(ut,nt):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)we=Reflect.decorate(We,ut,nt,_e);else for(var lt=We.length-1;lt>=0;lt--)(et=We[lt])&&(we=(De<3?et(we):De>3?et(ut,nt,we):et(ut,nt))||we);return De>3&&we&&Object.defineProperty(ut,nt,we),we}function ae(We,ut,nt,_e){return new(nt||(nt=Promise))(function(we,et){function lt(cn){try{bt(_e.next(cn))}catch(Qt){et(Qt)}}function Bt(cn){try{bt(_e.throw(cn))}catch(Qt){et(Qt)}}function bt(cn){cn.done?we(cn.value):function De(we){return we instanceof nt?we:new nt(function(et){et(we)})}(cn.value).then(lt,Bt)}bt((_e=_e.apply(We,ut||[])).next())})}function Xe(We){return this instanceof Xe?(this.v=We,this):new Xe(We)}function Ge(We,ut,nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,_e=nt.apply(We,ut||[]),we=[];return De={},et("next"),et("throw"),et("return"),De[Symbol.asyncIterator]=function(){return this},De;function et(ot){_e[ot]&&(De[ot]=function(At){return new Promise(function(xt,Nt){we.push([ot,At,xt,Nt])>1||lt(ot,At)})})}function lt(ot,At){try{!function Bt(ot){ot.value instanceof Xe?Promise.resolve(ot.value.v).then(bt,cn):Qt(we[0][2],ot)}(_e[ot](At))}catch(xt){Qt(we[0][3],xt)}}function bt(ot){lt("next",ot)}function cn(ot){lt("throw",ot)}function Qt(ot,At){ot(At),we.shift(),we.length&&lt(we[0][0],we[0][1])}}function mt(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,ut=We[Symbol.asyncIterator];return ut?ut.call(We):(We=function gt(We){var ut="function"==typeof Symbol&&Symbol.iterator,nt=ut&&We[ut],_e=0;if(nt)return nt.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&_e>=We.length&&(We=void 0),{value:We&&We[_e++],done:!We}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),nt={},_e("next"),_e("throw"),_e("return"),nt[Symbol.asyncIterator]=function(){return this},nt);function _e(we){nt[we]=We[we]&&function(et){return new Promise(function(lt,Bt){!function De(we,et,lt,Bt){Promise.resolve(Bt).then(function(bt){we({value:bt,done:lt})},et)}(lt,Bt,(et=We[we](et)).done,et.value)})}}}F.d(st,{FC:()=>Ge,KL:()=>mt,_T:()=>te,gn:()=>Te,mG:()=>ae,qq:()=>Xe})},6895:(ln,st,F)=>{"use strict";F.d(st,{Do:()=>ne,EM:()=>_o,HT:()=>te,JF:()=>Oo,K0:()=>Ee,Mx:()=>xi,O5:()=>de,Ov:()=>Ft,PM:()=>yo,S$:()=>gt,V_:()=>Ae,Ye:()=>at,b0:()=>me,bD:()=>Ns,ez:()=>$i,q:()=>W,sg:()=>ui,tP:()=>xn,uU:()=>jr,w_:()=>Te});var m=F(4650);let h=null;function W(){return h}function te(O){h||(h=O)}class Te{}const Ee=new m.OlP("DocumentToken");let le=(()=>{class O{historyGo(k){throw new Error("Not implemented")}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.Yz7({token:O,factory:function(){return function xe(){return(0,m.LFG)(he)}()},providedIn:"platform"}),O})();const Ae=new m.OlP("Location Initialized");let he=(()=>{class O extends le{constructor(k){super(),this._doc=k,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(k){const Y=W().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",k,!1),()=>Y.removeEventListener("popstate",k)}onHashChange(k){const Y=W().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",k,!1),()=>Y.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,Y,ye){se()?this._history.pushState(k,Y,ye):this._location.hash=ye}replaceState(k,Y,ye){se()?this._history.replaceState(k,Y,ye):this._location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(Ee))},O.\u0275prov=m.Yz7({token:O,factory:function(){return function ae(){return new he((0,m.LFG)(Ee))}()},providedIn:"platform"}),O})();function se(){return!!window.history.pushState}function Me(O,G){if(0==O.length)return G;if(0==G.length)return O;let k=0;return O.endsWith("/")&&k++,G.startsWith("/")&&k++,2==k?O+G.substring(1):1==k?O+G:O+"/"+G}function pe(O){const G=O.match(/#|\?|$/),k=G&&G.index||O.length;return O.slice(0,k-("/"===O[k-1]?1:0))+O.slice(k)}function qe(O){return O&&"?"!==O[0]?"?"+O:O}let gt=(()=>{class O{historyGo(k){throw new Error("Not implemented")}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.Yz7({token:O,factory:function(){return(0,m.f3M)(me)},providedIn:"root"}),O})();const Ie=new m.OlP("appBaseHref");let me=(()=>{class O extends gt{constructor(k,Y){var ye,Rt,Lt;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(ye=null!==(Rt=null!=Y?Y:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Rt?Rt:null===(Lt=(0,m.f3M)(Ee).location)||void 0===Lt?void 0:Lt.origin)&&void 0!==ye?ye:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Me(this._baseHref,k)}path(k=!1){const Y=this._platformLocation.pathname+qe(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&k?`${Y}${ye}`:Y}pushState(k,Y,ye,Rt){const Lt=this.prepareExternalUrl(ye+qe(Rt));this._platformLocation.pushState(k,Y,Lt)}replaceState(k,Y,ye,Rt){const Lt=this.prepareExternalUrl(ye+qe(Rt));this._platformLocation.replaceState(k,Y,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var Y,ye;null===(Y=(ye=this._platformLocation).historyGo)||void 0===Y||Y.call(ye,k)}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(le),m.LFG(Ie,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),ne=(()=>{class O extends gt{constructor(k,Y){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(k){const Y=Me(this._baseHref,k);return Y.length>0?"#"+Y:Y}pushState(k,Y,ye,Rt){let Lt=this.prepareExternalUrl(ye+qe(Rt));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.pushState(k,Y,Lt)}replaceState(k,Y,ye,Rt){let Lt=this.prepareExternalUrl(ye+qe(Rt));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.replaceState(k,Y,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var Y,ye;null===(Y=(ye=this._platformLocation).historyGo)||void 0===Y||Y.call(ye,k)}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(le),m.LFG(Ie,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})(),at=(()=>{class O{constructor(k){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Y=this._locationStrategy.getBaseHref();this._basePath=function mt(O){if(new RegExp("^(https?:)?//").test(O)){const[,k]=O.split(/\/\/[^\/]+/);return k}return O}(pe(Be(Y))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Y=""){return this.path()==this.normalize(k+qe(Y))}normalize(k){return O.stripTrailingSlash(function Ge(O,G){if(!O||!G.startsWith(O))return G;const k=G.substring(O.length);return""===k||["/",";","?","#"].includes(k[0])?k:G}(this._basePath,Be(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Y="",ye=null){this._locationStrategy.pushState(ye,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+qe(Y)),ye)}replaceState(k,Y="",ye=null){this._locationStrategy.replaceState(ye,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+qe(Y)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var Y,ye;null===(Y=(ye=this._locationStrategy).historyGo)||void 0===Y||Y.call(ye,k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(k);var ye;this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(null===(ye=this._urlChangeSubscription)||void 0===ye||ye.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Y){this._urlChangeListeners.forEach(ye=>ye(k,Y))}subscribe(k,Y,ye){return this._subject.subscribe({next:k,error:Y,complete:ye})}}return O.normalizeQueryParams=qe,O.joinWithSlash=Me,O.stripTrailingSlash=pe,O.\u0275fac=function(k){return new(k||O)(m.LFG(gt))},O.\u0275prov=m.Yz7({token:O,factory:function(){return function Xe(){return new at((0,m.LFG)(gt))}()},providedIn:"root"}),O})();function Be(O){return O.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Group=1]="Group",Ye[Ye.List=2]="List",Ye[Ye.PercentSign=3]="PercentSign",Ye[Ye.PlusSign=4]="PlusSign",Ye[Ye.MinusSign=5]="MinusSign",Ye[Ye.Exponential=6]="Exponential",Ye[Ye.SuperscriptingExponent=7]="SuperscriptingExponent",Ye[Ye.PerMille=8]="PerMille",Ye[Ye.Infinity=9]="Infinity",Ye[Ye.NaN=10]="NaN",Ye[Ye.TimeSeparator=11]="TimeSeparator",Ye[Ye.CurrencyDecimal=12]="CurrencyDecimal",Ye[Ye.CurrencyGroup=13]="CurrencyGroup",Ye))();function Bt(O,G){return bn((0,m.cg1)(O)[m.wAp.DateFormat],G)}function bt(O,G){return bn((0,m.cg1)(O)[m.wAp.TimeFormat],G)}function cn(O,G){return bn((0,m.cg1)(O)[m.wAp.DateTimeFormat],G)}function Qt(O,G){const k=(0,m.cg1)(O),Y=k[m.wAp.NumberSymbols][G];if(typeof Y>"u"){if(G===Ye.CurrencyDecimal)return k[m.wAp.NumberSymbols][Ye.Decimal];if(G===Ye.CurrencyGroup)return k[m.wAp.NumberSymbols][Ye.Group]}return Y}function Zt(O){if(!O[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(O,G){for(let k=G;k>-1;k--)if(typeof O[k]<"u")return O[k];throw new Error("Locale data API: locale data undefined")}function Jt(O){const[G,k]=O.split(":");return{hours:+G,minutes:+k}}const Gr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ri={},Pn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=(()=>((zn=zn||{})[zn.Short=0]="Short",zn[zn.ShortGMT=1]="ShortGMT",zn[zn.Long=2]="Long",zn[zn.Extended=3]="Extended",zn))(),zt=(()=>((zt=zt||{})[zt.FullYear=0]="FullYear",zt[zt.Month=1]="Month",zt[zt.Date=2]="Date",zt[zt.Hours=3]="Hours",zt[zt.Minutes=4]="Minutes",zt[zt.Seconds=5]="Seconds",zt[zt.FractionalSeconds=6]="FractionalSeconds",zt[zt.Day=7]="Day",zt))(),un=(()=>((un=un||{})[un.DayPeriods=0]="DayPeriods",un[un.Days=1]="Days",un[un.Months=2]="Months",un[un.Eras=3]="Eras",un))();function Gt(O,G,k,Y){let ye=function rt(O){if(Ve(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[ye,Rt=1,Lt=1]=O.split("-").map(In=>+In);return Fr(ye,Rt-1,Lt)}const k=parseFloat(O);if(!isNaN(O-k))return new Date(k);let Y;if(Y=O.match(Gr))return function Wt(O){const G=new Date(0);let k=0,Y=0;const ye=O[8]?G.setUTCFullYear:G.setFullYear,Rt=O[8]?G.setUTCHours:G.setHours;O[9]&&(k=Number(O[9]+O[10]),Y=Number(O[9]+O[11])),ye.call(G,Number(O[1]),Number(O[2])-1,Number(O[3]));const Lt=Number(O[4]||0)-k,In=Number(O[5]||0)-Y,dr=Number(O[6]||0),wr=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Rt.call(G,Lt,In,dr,wr),G}(Y)}const G=new Date(O);if(!Ve(G))throw new Error(`Unable to convert "${O}" into a date`);return G}(O);G=cr(k,G)||G;let In,Lt=[];for(;G;){if(In=Pn.exec(G),!In){Lt.push(G);break}{Lt=Lt.concat(In.slice(1));const hr=Lt.pop();if(!hr)break;G=hr}}let dr=ye.getTimezoneOffset();Y&&(dr=ce(Y,dr),ye=function ft(O,G,k){const Y=k?-1:1,ye=O.getTimezoneOffset();return function Pe(O,G){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+G),O}(O,Y*(ce(G,ye)-ye))}(ye,Y,!0));let wr="";return Lt.forEach(hr=>{const ar=function ue(O){if(Ot[O])return Ot[O];let G;switch(O){case"G":case"GG":case"GGG":G=Kn(un.Eras,Le.Abbreviated);break;case"GGGG":G=Kn(un.Eras,Le.Wide);break;case"GGGGG":G=Kn(un.Eras,Le.Narrow);break;case"y":G=yr(zt.FullYear,1,0,!1,!0);break;case"yy":G=yr(zt.FullYear,2,0,!0,!0);break;case"yyy":G=yr(zt.FullYear,3,0,!1,!0);break;case"yyyy":G=yr(zt.FullYear,4,0,!1,!0);break;case"Y":G=kt(1);break;case"YY":G=kt(2,!0);break;case"YYY":G=kt(3);break;case"YYYY":G=kt(4);break;case"M":case"L":G=yr(zt.Month,1,1);break;case"MM":case"LL":G=yr(zt.Month,2,1);break;case"MMM":G=Kn(un.Months,Le.Abbreviated);break;case"MMMM":G=Kn(un.Months,Le.Wide);break;case"MMMMM":G=Kn(un.Months,Le.Narrow);break;case"LLL":G=Kn(un.Months,Le.Abbreviated,Ue.Standalone);break;case"LLLL":G=Kn(un.Months,Le.Wide,Ue.Standalone);break;case"LLLLL":G=Kn(un.Months,Le.Narrow,Ue.Standalone);break;case"w":G=$e(1);break;case"ww":G=$e(2);break;case"W":G=$e(1,!0);break;case"d":G=yr(zt.Date,1);break;case"dd":G=yr(zt.Date,2);break;case"c":case"cc":G=yr(zt.Day,1);break;case"ccc":G=Kn(un.Days,Le.Abbreviated,Ue.Standalone);break;case"cccc":G=Kn(un.Days,Le.Wide,Ue.Standalone);break;case"ccccc":G=Kn(un.Days,Le.Narrow,Ue.Standalone);break;case"cccccc":G=Kn(un.Days,Le.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":G=Kn(un.Days,Le.Abbreviated);break;case"EEEE":G=Kn(un.Days,Le.Wide);break;case"EEEEE":G=Kn(un.Days,Le.Narrow);break;case"EEEEEE":G=Kn(un.Days,Le.Short);break;case"a":case"aa":case"aaa":G=Kn(un.DayPeriods,Le.Abbreviated);break;case"aaaa":G=Kn(un.DayPeriods,Le.Wide);break;case"aaaaa":G=Kn(un.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":G=Kn(un.DayPeriods,Le.Abbreviated,Ue.Standalone,!0);break;case"bbbb":G=Kn(un.DayPeriods,Le.Wide,Ue.Standalone,!0);break;case"bbbbb":G=Kn(un.DayPeriods,Le.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":G=Kn(un.DayPeriods,Le.Abbreviated,Ue.Format,!0);break;case"BBBB":G=Kn(un.DayPeriods,Le.Wide,Ue.Format,!0);break;case"BBBBB":G=Kn(un.DayPeriods,Le.Narrow,Ue.Format,!0);break;case"h":G=yr(zt.Hours,1,-12);break;case"hh":G=yr(zt.Hours,2,-12);break;case"H":G=yr(zt.Hours,1);break;case"HH":G=yr(zt.Hours,2);break;case"m":G=yr(zt.Minutes,1);break;case"mm":G=yr(zt.Minutes,2);break;case"s":G=yr(zt.Seconds,1);break;case"ss":G=yr(zt.Seconds,2);break;case"S":G=yr(zt.FractionalSeconds,1);break;case"SS":G=yr(zt.FractionalSeconds,2);break;case"SSS":G=yr(zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=ir(zn.Short);break;case"ZZZZZ":G=ir(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=ir(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=ir(zn.Long);break;default:return null}return Ot[O]=G,G}(hr);wr+=ar?ar(ye,k,dr):"''"===hr?"'":hr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wr}function Fr(O,G,k){const Y=new Date(0);return Y.setFullYear(O,G,k),Y.setHours(0,0,0),Y}function cr(O,G){const k=function ut(O){return(0,m.cg1)(O)[m.wAp.LocaleId]}(O);if(ri[k]=ri[k]||{},ri[k][G])return ri[k][G];let Y="";switch(G){case"shortDate":Y=Bt(O,Ze.Short);break;case"mediumDate":Y=Bt(O,Ze.Medium);break;case"longDate":Y=Bt(O,Ze.Long);break;case"fullDate":Y=Bt(O,Ze.Full);break;case"shortTime":Y=bt(O,Ze.Short);break;case"mediumTime":Y=bt(O,Ze.Medium);break;case"longTime":Y=bt(O,Ze.Long);break;case"fullTime":Y=bt(O,Ze.Full);break;case"short":const ye=cr(O,"shortTime"),Rt=cr(O,"shortDate");Y=Lr(cn(O,Ze.Short),[ye,Rt]);break;case"medium":const Lt=cr(O,"mediumTime"),In=cr(O,"mediumDate");Y=Lr(cn(O,Ze.Medium),[Lt,In]);break;case"long":const dr=cr(O,"longTime"),wr=cr(O,"longDate");Y=Lr(cn(O,Ze.Long),[dr,wr]);break;case"full":const hr=cr(O,"fullTime"),ar=cr(O,"fullDate");Y=Lr(cn(O,Ze.Full),[hr,ar])}return Y&&(ri[k][G]=Y),Y}function Lr(O,G){return G&&(O=O.replace(/\{([^}]+)}/g,function(k,Y){return null!=G&&Y in G?G[Y]:k})),O}function Mr(O,G,k="-",Y,ye){let Rt="";(O<0||ye&&O<=0)&&(ye?O=1-O:(O=-O,Rt=k));let Lt=String(O);for(;Lt.length<G;)Lt="0"+Lt;return Y&&(Lt=Lt.slice(Lt.length-G)),Rt+Lt}function yr(O,G,k=0,Y=!1,ye=!1){return function(Rt,Lt){let In=function qr(O,G){switch(O){case zt.FullYear:return G.getFullYear();case zt.Month:return G.getMonth();case zt.Date:return G.getDate();case zt.Hours:return G.getHours();case zt.Minutes:return G.getMinutes();case zt.Seconds:return G.getSeconds();case zt.FractionalSeconds:return G.getMilliseconds();case zt.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Rt);if((k>0||In>-k)&&(In+=k),O===zt.Hours)0===In&&-12===k&&(In=12);else if(O===zt.FractionalSeconds)return function Wr(O,G){return Mr(O,3).substring(0,G)}(In,G);const dr=Qt(Lt,Ye.MinusSign);return Mr(In,G,dr,Y,ye)}}function Kn(O,G,k=Ue.Format,Y=!1){return function(ye,Rt){return function Gn(O,G,k,Y,ye,Rt){switch(k){case un.Months:return function De(O,G,k){const Y=(0,m.cg1)(O),Rt=bn([Y[m.wAp.MonthsFormat],Y[m.wAp.MonthsStandalone]],G);return bn(Rt,k)}(G,ye,Y)[O.getMonth()];case un.Days:return function _e(O,G,k){const Y=(0,m.cg1)(O),Rt=bn([Y[m.wAp.DaysFormat],Y[m.wAp.DaysStandalone]],G);return bn(Rt,k)}(G,ye,Y)[O.getDay()];case un.DayPeriods:const Lt=O.getHours(),In=O.getMinutes();if(Rt){const wr=function Dn(O){const G=(0,m.cg1)(O);return Zt(G),(G[m.wAp.ExtraData][2]||[]).map(Y=>"string"==typeof Y?Jt(Y):[Jt(Y[0]),Jt(Y[1])])}(G),hr=function Nn(O,G,k){const Y=(0,m.cg1)(O);Zt(Y);const Rt=bn([Y[m.wAp.ExtraData][0],Y[m.wAp.ExtraData][1]],G)||[];return bn(Rt,k)||[]}(G,ye,Y),ar=wr.findIndex(oi=>{if(Array.isArray(oi)){const[Zr,hi]=oi,hs=Lt>=Zr.hours&&In>=Zr.minutes,Bo=Lt<hi.hours||Lt===hi.hours&&In<hi.minutes;if(Zr.hours<hi.hours){if(hs&&Bo)return!0}else if(hs||Bo)return!0}else if(oi.hours===Lt&&oi.minutes===In)return!0;return!1});if(-1!==ar)return hr[ar]}return function nt(O,G,k){const Y=(0,m.cg1)(O),Rt=bn([Y[m.wAp.DayPeriodsFormat],Y[m.wAp.DayPeriodsStandalone]],G);return bn(Rt,k)}(G,ye,Y)[Lt<12?0:1];case un.Eras:return function we(O,G){return bn((0,m.cg1)(O)[m.wAp.Eras],G)}(G,Y)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(ye,Rt,O,G,k,Y)}}function ir(O){return function(G,k,Y){const ye=-1*Y,Rt=Qt(k,Ye.MinusSign),Lt=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(O){case zn.Short:return(ye>=0?"+":"")+Mr(Lt,2,Rt)+Mr(Math.abs(ye%60),2,Rt);case zn.ShortGMT:return"GMT"+(ye>=0?"+":"")+Mr(Lt,1,Rt);case zn.Long:return"GMT"+(ye>=0?"+":"")+Mr(Lt,2,Rt)+":"+Mr(Math.abs(ye%60),2,Rt);case zn.Extended:return 0===Y?"Z":(ye>=0?"+":"")+Mr(Lt,2,Rt)+":"+Mr(Math.abs(ye%60),2,Rt);default:throw new Error(`Unknown zone width "${O}"`)}}}const ti=0,vr=4;function ke(O){return Fr(O.getFullYear(),O.getMonth(),O.getDate()+(vr-O.getDay()))}function $e(O,G=!1){return function(k,Y){let ye;if(G){const Rt=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,Lt=k.getDate();ye=1+Math.floor((Lt+Rt)/7)}else{const Rt=ke(k),Lt=function St(O){const G=Fr(O,ti,1).getDay();return Fr(O,0,1+(G<=vr?vr:vr+7)-G)}(Rt.getFullYear()),In=Rt.getTime()-Lt.getTime();ye=1+Math.round(In/6048e5)}return Mr(ye,O,Qt(Y,Ye.MinusSign))}}function kt(O,G=!1){return function(k,Y){return Mr(ke(k).getFullYear(),O,Qt(Y,Ye.MinusSign),G)}}const Ot={};function ce(O,G){O=O.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(k)?G:k}function Ve(O){return O instanceof Date&&!isNaN(O.valueOf())}function xi(O,G){G=encodeURIComponent(G);for(const k of O.split(";")){const Y=k.indexOf("="),[ye,Rt]=-1==Y?[k,""]:[k.slice(0,Y),k.slice(Y+1)];if(ye.trim()===G)return decodeURIComponent(Rt)}return null}class Ur{constructor(G,k,Y,ye){this.$implicit=G,this.ngForOf=k,this.index=Y,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class O{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,Y,ye){this._viewContainer=k,this._template=Y,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const Y=this._viewContainer;k.forEachOperation((ye,Rt,Lt)=>{if(null==ye.previousIndex)Y.createEmbeddedView(this._template,new Ur(ye.item,this._ngForOf,-1,-1),null===Lt?void 0:Lt);else if(null==Lt)Y.remove(null===Rt?void 0:Rt);else if(null!==Rt){const In=Y.get(Rt);Y.move(In,Lt),_r(In,ye)}});for(let ye=0,Rt=Y.length;ye<Rt;ye++){const In=Y.get(ye).context;In.index=ye,In.count=Rt,In.ngForOf=this._ngForOf}k.forEachIdentityChange(ye=>{_r(Y.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(k,Y){return!0}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function _r(O,G){O.context.$implicit=G.item}let de=(()=>{class O{constructor(k,Y){this._viewContainer=k,this._context=new Re,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){ie("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){ie("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Y){return!0}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b),m.Y36(m.Rgc))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class Re{constructor(){this.$implicit=null,this.ngIf=null}}function ie(O,G){if(G&&!G.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,m.AaK)(G)}'.`)}let xn=(()=>{class O{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const Y=this._viewContainerRef;if(this._viewRef&&Y.remove(Y.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:Rt,ngTemplateOutletInjector:Lt}=this;this._viewRef=Y.createEmbeddedView(ye,Rt,Lt?{injector:Lt}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),O})();function Kr(O,G){return new m.vHH(2100,!1)}class ii{createSubscription(G,k){return G.subscribe({next:k,error:Y=>{throw Y}})}dispose(G){G.unsubscribe()}}class tt{createSubscription(G,k){return G.then(k,Y=>{throw Y})}dispose(G){}}const He=new tt,dt=new ii;let Ft=(()=>{class O{constructor(k){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,Y=>this._updateLatestValue(k,Y))}_selectStrategy(k){if((0,m.QGY)(k))return He;if((0,m.F4k)(k))return dt;throw Kr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,Y){k===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.sBO,16))},O.\u0275pipe=m.Yjl({name:"async",type:O,pure:!1,standalone:!0}),O})();const Bi=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ro=new m.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class O{constructor(k,Y,ye){this.locale=k,this.defaultTimezone=Y,this.defaultOptions=ye}transform(k,Y,ye,Rt){if(null==k||""===k||k!=k)return null;try{var Lt,In,dr,wr,hr;const ar=null!==(Lt=null!=Y?Y:null===(In=this.defaultOptions)||void 0===In?void 0:In.dateFormat)&&void 0!==Lt?Lt:"mediumDate",oi=null!==(dr=null!==(wr=null!=ye?ye:null===(hr=this.defaultOptions)||void 0===hr?void 0:hr.timezone)&&void 0!==wr?wr:this.defaultTimezone)&&void 0!==dr?dr:void 0;return Gt(k,ar,Rt||this.locale,oi)}catch(ar){throw Kr()}}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.soG,16),m.Y36(Bi,24),m.Y36(Ro,24))},O.\u0275pipe=m.Yjl({name:"date",type:O,pure:!0,standalone:!0}),O})(),$i=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=m.oAB({type:O}),O.\u0275inj=m.cJS({}),O})();const Ns="browser",mo="server";function yo(O){return O===mo}let _o=(()=>{class O{}return O.\u0275prov=(0,m.Yz7)({token:O,providedIn:"root",factory:()=>new Es((0,m.LFG)(Ee),window)}),O})();class Es{constructor(G,k){this.document=G,this.window=k,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const k=function Ui(O,G){const k=O.getElementById(G)||O.getElementsByName(G)[0];if(k)return k;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const Y=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ye=Y.currentNode;for(;ye;){const Rt=ye.shadowRoot;if(Rt){const Lt=Rt.getElementById(G)||Rt.querySelector(`[name="${G}"]`);if(Lt)return Lt}ye=Y.nextNode()}}return null}(this.document,G);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=G)}}scrollToElement(G){const k=G.getBoundingClientRect(),Y=k.left+this.window.pageXOffset,ye=k.top+this.window.pageYOffset,Rt=this.offset();this.window.scrollTo(Y-Rt[0],ye-Rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Eo(this.window.history)||Eo(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Eo(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class Oo{}},529:(ln,st,F)=>{"use strict";F.d(st,{JF:()=>ir,WM:()=>he,eN:()=>ut});var m=F(6895),h=F(4650),W=F(9646),te=F(9751),Te=F(4351),Ee=F(9300),le=F(4004);class xe{}class Ae{}class he{constructor(ke){this.normalizedNames=new Map,this.lazyUpdate=null,ke?this.lazyInit="string"==typeof ke?()=>{this.headers=new Map,ke.split("\n").forEach($e=>{const kt=$e.indexOf(":");if(kt>0){const Ot=$e.slice(0,kt),ue=Ot.toLowerCase(),ce=$e.slice(kt+1).trim();this.maybeSetNormalizedName(Ot,ue),this.headers.has(ue)?this.headers.get(ue).push(ce):this.headers.set(ue,[ce])}})}:()=>{this.headers=new Map,Object.entries(ke).forEach(([$e,kt])=>{let Ot;if(Ot="string"==typeof kt?[kt]:"number"==typeof kt?[kt.toString()]:kt.map(ue=>ue.toString()),Ot.length>0){const ue=$e.toLowerCase();this.headers.set(ue,Ot),this.maybeSetNormalizedName($e,ue)}})}:this.headers=new Map}has(ke){return this.init(),this.headers.has(ke.toLowerCase())}get(ke){this.init();const $e=this.headers.get(ke.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ke){return this.init(),this.headers.get(ke.toLowerCase())||null}append(ke,$e){return this.clone({name:ke,value:$e,op:"a"})}set(ke,$e){return this.clone({name:ke,value:$e,op:"s"})}delete(ke,$e){return this.clone({name:ke,value:$e,op:"d"})}maybeSetNormalizedName(ke,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,ke)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ke=>this.applyUpdate(ke)),this.lazyUpdate=null))}copyFrom(ke){ke.init(),Array.from(ke.headers.keys()).forEach($e=>{this.headers.set($e,ke.headers.get($e)),this.normalizedNames.set($e,ke.normalizedNames.get($e))})}clone(ke){const $e=new he;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([ke]),$e}applyUpdate(ke){const $e=ke.name.toLowerCase();switch(ke.op){case"a":case"s":let kt=ke.value;if("string"==typeof kt&&(kt=[kt]),0===kt.length)return;this.maybeSetNormalizedName(ke.name,$e);const Ot=("a"===ke.op?this.headers.get($e):void 0)||[];Ot.push(...kt),this.headers.set($e,Ot);break;case"d":const ue=ke.value;if(ue){let ce=this.headers.get($e);if(!ce)return;ce=ce.filter(Pe=>-1===ue.indexOf(Pe)),0===ce.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,ce)}else this.headers.delete($e),this.normalizedNames.delete($e)}}forEach(ke){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>ke(this.normalizedNames.get($e),this.headers.get($e)))}}class ae{encodeKey(ke){return gt(ke)}encodeValue(ke){return gt(ke)}decodeKey(ke){return decodeURIComponent(ke)}decodeValue(ke){return decodeURIComponent(ke)}}const pe=/%(\d[a-f0-9])/gi,qe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gt(St){return encodeURIComponent(St).replace(pe,(ke,$e)=>{var kt;return null!==(kt=qe[$e])&&void 0!==kt?kt:ke})}function Ie(St){return`${St}`}class me{constructor(ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ke.encoder||new ae,ke.fromString){if(ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Me(St,ke){const $e=new Map;return St.length>0&&St.replace(/^\?/,"").split("&").forEach(Ot=>{const ue=Ot.indexOf("="),[ce,Pe]=-1==ue?[ke.decodeKey(Ot),""]:[ke.decodeKey(Ot.slice(0,ue)),ke.decodeValue(Ot.slice(ue+1))],ft=$e.get(ce)||[];ft.push(Pe),$e.set(ce,ft)}),$e}(ke.fromString,this.encoder)}else ke.fromObject?(this.map=new Map,Object.keys(ke.fromObject).forEach($e=>{const kt=ke.fromObject[$e],Ot=Array.isArray(kt)?kt.map(Ie):[Ie(kt)];this.map.set($e,Ot)})):this.map=null}has(ke){return this.init(),this.map.has(ke)}get(ke){this.init();const $e=this.map.get(ke);return $e?$e[0]:null}getAll(ke){return this.init(),this.map.get(ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ke,$e){return this.clone({param:ke,value:$e,op:"a"})}appendAll(ke){const $e=[];return Object.keys(ke).forEach(kt=>{const Ot=ke[kt];Array.isArray(Ot)?Ot.forEach(ue=>{$e.push({param:kt,value:ue,op:"a"})}):$e.push({param:kt,value:Ot,op:"a"})}),this.clone($e)}set(ke,$e){return this.clone({param:ke,value:$e,op:"s"})}delete(ke,$e){return this.clone({param:ke,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(ke=>{const $e=this.encoder.encodeKey(ke);return this.map.get(ke).map(kt=>$e+"="+this.encoder.encodeValue(kt)).join("&")}).filter(ke=>""!==ke).join("&")}clone(ke){const $e=new me({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(ke),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ke=>this.map.set(ke,this.cloneFrom.map.get(ke))),this.updates.forEach(ke=>{switch(ke.op){case"a":case"s":const $e=("a"===ke.op?this.map.get(ke.param):void 0)||[];$e.push(Ie(ke.value)),this.map.set(ke.param,$e);break;case"d":if(void 0===ke.value){this.map.delete(ke.param);break}{let kt=this.map.get(ke.param)||[];const Ot=kt.indexOf(Ie(ke.value));-1!==Ot&&kt.splice(Ot,1),kt.length>0?this.map.set(ke.param,kt):this.map.delete(ke.param)}}}),this.cloneFrom=this.updates=null)}}class at{constructor(){this.map=new Map}set(ke,$e){return this.map.set(ke,$e),this}get(ke){return this.map.has(ke)||this.map.set(ke,ke.defaultValue()),this.map.get(ke)}delete(ke){return this.map.delete(ke),this}has(ke){return this.map.has(ke)}keys(){return this.map.keys()}}function Ge(St){return typeof ArrayBuffer<"u"&&St instanceof ArrayBuffer}function Be(St){return typeof Blob<"u"&&St instanceof Blob}function mt(St){return typeof FormData<"u"&&St instanceof FormData}class ve{constructor(ke,$e,kt,Ot){let ue;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ke.toUpperCase(),function Xe(St){switch(St){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ot?(this.body=void 0!==kt?kt:null,ue=Ot):ue=kt,ue&&(this.reportProgress=!!ue.reportProgress,this.withCredentials=!!ue.withCredentials,ue.responseType&&(this.responseType=ue.responseType),ue.headers&&(this.headers=ue.headers),ue.context&&(this.context=ue.context),ue.params&&(this.params=ue.params)),this.headers||(this.headers=new he),this.context||(this.context=new at),this.params){const ce=this.params.toString();if(0===ce.length)this.urlWithParams=$e;else{const Pe=$e.indexOf("?");this.urlWithParams=$e+(-1===Pe?"?":Pe<$e.length-1?"&":"")+ce}}else this.params=new me,this.urlWithParams=$e}serializeBody(){return null===this.body?null:Ge(this.body)||Be(this.body)||mt(this.body)||function be(St){return typeof URLSearchParams<"u"&&St instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mt(this.body)?null:Be(this.body)?this.body.type||null:Ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ke={}){var $e;const kt=ke.method||this.method,Ot=ke.url||this.url,ue=ke.responseType||this.responseType,ce=void 0!==ke.body?ke.body:this.body,Pe=void 0!==ke.withCredentials?ke.withCredentials:this.withCredentials,ft=void 0!==ke.reportProgress?ke.reportProgress:this.reportProgress;let rt=ke.headers||this.headers,Wt=ke.params||this.params;const Ve=null!==($e=ke.context)&&void 0!==$e?$e:this.context;return void 0!==ke.setHeaders&&(rt=Object.keys(ke.setHeaders).reduce((Se,oe)=>Se.set(oe,ke.setHeaders[oe]),rt)),ke.setParams&&(Wt=Object.keys(ke.setParams).reduce((Se,oe)=>Se.set(oe,ke.setParams[oe]),Wt)),new ve(kt,Ot,ce,{params:Wt,headers:rt,context:Ve,reportProgress:ft,responseType:ue,withCredentials:Pe})}}var Ce=(()=>((Ce=Ce||{})[Ce.Sent=0]="Sent",Ce[Ce.UploadProgress=1]="UploadProgress",Ce[Ce.ResponseHeader=2]="ResponseHeader",Ce[Ce.DownloadProgress=3]="DownloadProgress",Ce[Ce.Response=4]="Response",Ce[Ce.User=5]="User",Ce))();class Ue{constructor(ke,$e=200,kt="OK"){this.headers=ke.headers||new he,this.status=void 0!==ke.status?ke.status:$e,this.statusText=ke.statusText||kt,this.url=ke.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends Ue{constructor(ke={}){super(ke),this.type=Ce.ResponseHeader}clone(ke={}){return new Le({headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class Ze extends Ue{constructor(ke={}){super(ke),this.type=Ce.Response,this.body=void 0!==ke.body?ke.body:null}clone(ke={}){return new Ze({body:void 0!==ke.body?ke.body:this.body,headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class Ye extends Ue{constructor(ke){super(ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ke.url||"(unknown url)"}`:`Http failure response for ${ke.url||"(unknown url)"}: ${ke.status} ${ke.statusText}`,this.error=ke.error||null}}function We(St,ke){return{body:ke,headers:St.headers,context:St.context,observe:St.observe,params:St.params,reportProgress:St.reportProgress,responseType:St.responseType,withCredentials:St.withCredentials}}let ut=(()=>{class St{constructor($e){this.handler=$e}request($e,kt,Ot={}){let ue;if($e instanceof ve)ue=$e;else{let ft,rt;ft=Ot.headers instanceof he?Ot.headers:new he(Ot.headers),Ot.params&&(rt=Ot.params instanceof me?Ot.params:new me({fromObject:Ot.params})),ue=new ve($e,kt,void 0!==Ot.body?Ot.body:null,{headers:ft,context:Ot.context,params:rt,reportProgress:Ot.reportProgress,responseType:Ot.responseType||"json",withCredentials:Ot.withCredentials})}const ce=(0,W.of)(ue).pipe((0,Te.b)(ft=>this.handler.handle(ft)));if($e instanceof ve||"events"===Ot.observe)return ce;const Pe=ce.pipe((0,Ee.h)(ft=>ft instanceof Ze));switch(Ot.observe||"body"){case"body":switch(ue.responseType){case"arraybuffer":return Pe.pipe((0,le.U)(ft=>{if(null!==ft.body&&!(ft.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ft.body}));case"blob":return Pe.pipe((0,le.U)(ft=>{if(null!==ft.body&&!(ft.body instanceof Blob))throw new Error("Response is not a Blob.");return ft.body}));case"text":return Pe.pipe((0,le.U)(ft=>{if(null!==ft.body&&"string"!=typeof ft.body)throw new Error("Response is not a string.");return ft.body}));default:return Pe.pipe((0,le.U)(ft=>ft.body))}case"response":return Pe;default:throw new Error(`Unreachable: unhandled observe type ${Ot.observe}}`)}}delete($e,kt={}){return this.request("DELETE",$e,kt)}get($e,kt={}){return this.request("GET",$e,kt)}head($e,kt={}){return this.request("HEAD",$e,kt)}jsonp($e,kt){return this.request("JSONP",$e,{params:(new me).append(kt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,kt={}){return this.request("OPTIONS",$e,kt)}patch($e,kt,Ot={}){return this.request("PATCH",$e,We(Ot,kt))}post($e,kt,Ot={}){return this.request("POST",$e,We(Ot,kt))}put($e,kt,Ot={}){return this.request("PUT",$e,We(Ot,kt))}}return St.\u0275fac=function($e){return new($e||St)(h.LFG(xe))},St.\u0275prov=h.Yz7({token:St,factory:St.\u0275fac}),St})();function nt(St,ke){return ke(St)}function _e(St,ke){return($e,kt)=>ke.intercept($e,{handle:Ot=>St(Ot,kt)})}const we=new h.OlP("HTTP_INTERCEPTORS"),et=new h.OlP("HTTP_INTERCEPTOR_FNS");function lt(){let St=null;return(ke,$e)=>{var kt;return null===St&&(St=(null!==(kt=(0,h.f3M)(we,{optional:!0}))&&void 0!==kt?kt:[]).reduceRight(_e,nt)),St(ke,$e)}}let Bt=(()=>{class St extends xe{constructor($e,kt){super(),this.backend=$e,this.injector=kt,this.chain=null}handle($e){if(null===this.chain){const kt=Array.from(new Set(this.injector.get(et)));this.chain=kt.reduceRight((Ot,ue)=>function De(St,ke,$e){return(kt,Ot)=>$e.runInContext(()=>ke(kt,ue=>St(ue,Ot)))}(Ot,ue,this.injector),nt)}return this.chain($e,kt=>this.backend.handle(kt))}}return St.\u0275fac=function($e){return new($e||St)(h.LFG(Ae),h.LFG(h.lqb))},St.\u0275prov=h.Yz7({token:St,factory:St.\u0275fac}),St})();const Nn=/^\)\]\}',?\n/;let bn=(()=>{class St{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new te.y(kt=>{const Ot=this.xhrFactory.build();if(Ot.open($e.method,$e.urlWithParams),$e.withCredentials&&(Ot.withCredentials=!0),$e.headers.forEach((oe,je)=>Ot.setRequestHeader(oe,je.join(","))),$e.headers.has("Accept")||Ot.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const oe=$e.detectContentTypeHeader();null!==oe&&Ot.setRequestHeader("Content-Type",oe)}if($e.responseType){const oe=$e.responseType.toLowerCase();Ot.responseType="json"!==oe?oe:"text"}const ue=$e.serializeBody();let ce=null;const Pe=()=>{if(null!==ce)return ce;const oe=Ot.statusText||"OK",je=new he(Ot.getAllResponseHeaders()),Ct=function Vn(St){return"responseURL"in St&&St.responseURL?St.responseURL:/^X-Request-URL:/m.test(St.getAllResponseHeaders())?St.getResponseHeader("X-Request-URL"):null}(Ot)||$e.url;return ce=new Le({headers:je,status:Ot.status,statusText:oe,url:Ct}),ce},ft=()=>{let{headers:oe,status:je,statusText:Ct,url:qt}=Pe(),fn=null;204!==je&&(fn=typeof Ot.response>"u"?Ot.responseText:Ot.response),0===je&&(je=fn?200:0);let jn=je>=200&&je<300;if("json"===$e.responseType&&"string"==typeof fn){const Zn=fn;fn=fn.replace(Nn,"");try{fn=""!==fn?JSON.parse(fn):null}catch(Ir){fn=Zn,jn&&(jn=!1,fn={error:Ir,text:fn})}}jn?(kt.next(new Ze({body:fn,headers:oe,status:je,statusText:Ct,url:qt||void 0})),kt.complete()):kt.error(new Ye({error:fn,headers:oe,status:je,statusText:Ct,url:qt||void 0}))},rt=oe=>{const{url:je}=Pe(),Ct=new Ye({error:oe,status:Ot.status||0,statusText:Ot.statusText||"Unknown Error",url:je||void 0});kt.error(Ct)};let Wt=!1;const Ve=oe=>{Wt||(kt.next(Pe()),Wt=!0);let je={type:Ce.DownloadProgress,loaded:oe.loaded};oe.lengthComputable&&(je.total=oe.total),"text"===$e.responseType&&Ot.responseText&&(je.partialText=Ot.responseText),kt.next(je)},Se=oe=>{let je={type:Ce.UploadProgress,loaded:oe.loaded};oe.lengthComputable&&(je.total=oe.total),kt.next(je)};return Ot.addEventListener("load",ft),Ot.addEventListener("error",rt),Ot.addEventListener("timeout",rt),Ot.addEventListener("abort",rt),$e.reportProgress&&(Ot.addEventListener("progress",Ve),null!==ue&&Ot.upload&&Ot.upload.addEventListener("progress",Se)),Ot.send(ue),kt.next({type:Ce.Sent}),()=>{Ot.removeEventListener("error",rt),Ot.removeEventListener("abort",rt),Ot.removeEventListener("load",ft),Ot.removeEventListener("timeout",rt),$e.reportProgress&&(Ot.removeEventListener("progress",Ve),null!==ue&&Ot.upload&&Ot.upload.removeEventListener("progress",Se)),Ot.readyState!==Ot.DONE&&Ot.abort()}})}}return St.\u0275fac=function($e){return new($e||St)(h.LFG(m.JF))},St.\u0275prov=h.Yz7({token:St,factory:St.\u0275fac}),St})();const Jt=new h.OlP("XSRF_ENABLED"),Vr=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gr=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ri{}let Pn=(()=>{class St{constructor($e,kt,Ot){this.doc=$e,this.platform=kt,this.cookieName=Ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}}return St.\u0275fac=function($e){return new($e||St)(h.LFG(m.K0),h.LFG(h.Lbi),h.LFG(Vr))},St.\u0275prov=h.Yz7({token:St,factory:St.\u0275fac}),St})();function zn(St,ke){const $e=St.url.toLowerCase();if(!(0,h.f3M)(Jt)||"GET"===St.method||"HEAD"===St.method||$e.startsWith("http://")||$e.startsWith("https://"))return ke(St);const kt=(0,h.f3M)(ri).getToken(),Ot=(0,h.f3M)(Gr);return null!=kt&&!St.headers.has(Ot)&&(St=St.clone({headers:St.headers.set(Ot,kt)})),ke(St)}var un=(()=>((un=un||{})[un.Interceptors=0]="Interceptors",un[un.LegacyInterceptors=1]="LegacyInterceptors",un[un.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",un[un.NoXsrfProtection=3]="NoXsrfProtection",un[un.JsonpSupport=4]="JsonpSupport",un[un.RequestsMadeViaParent=5]="RequestsMadeViaParent",un))();function Gt(St,ke){return{\u0275kind:St,\u0275providers:ke}}function Fr(...St){const ke=[ut,bn,Bt,{provide:xe,useExisting:Bt},{provide:Ae,useExisting:bn},{provide:et,useValue:zn,multi:!0},{provide:Jt,useValue:!0},{provide:ri,useClass:Pn}];for(const $e of St)ke.push(...$e.\u0275providers);return(0,h.MR2)(ke)}const Lr=new h.OlP("LEGACY_INTERCEPTOR_FN");let ir=(()=>{class St{}return St.\u0275fac=function($e){return new($e||St)},St.\u0275mod=h.oAB({type:St}),St.\u0275inj=h.cJS({providers:[Fr(Gt(un.LegacyInterceptors,[{provide:Lr,useFactory:lt},{provide:et,useExisting:Lr,multi:!0}]))]}),St})()},4650:(ln,st,F)=>{"use strict";F.d(st,{$8M:()=>uo,$WT:()=>Yn,$Z:()=>Tf,AFp:()=>UE,ALo:()=>o,AaK:()=>xe,AsE:()=>nm,BQk:()=>Pd,CHM:()=>R,CRH:()=>_E,CZH:()=>wv,CqO:()=>Ey,D6c:()=>Rw,DdM:()=>Rp,EJc:()=>WI,EiD:()=>ta,EpF:()=>Wf,F$t:()=>Vg,F4k:()=>qf,FYo:()=>vd,FiY:()=>zr,G48:()=>fw,Gf:()=>yE,GfV:()=>qp,GkF:()=>vl,Gpc:()=>se,Hsn:()=>Xf,JOm:()=>as,JVY:()=>lf,JZr:()=>gt,KtG:()=>q,L6k:()=>_u,LAX:()=>zs,LFG:()=>ir,LMc:()=>Pw,LSH:()=>ml,Lbi:()=>HI,Lck:()=>ra,MMx:()=>Rs,MR2:()=>fd,NdJ:()=>Bg,O4$:()=>la,OlP:()=>ci,Oqu:()=>tm,P3R:()=>hd,PXZ:()=>aw,Q6J:()=>Ng,QGY:()=>Lg,Qsj:()=>km,R0b:()=>Gl,RDi:()=>sf,Rgc:()=>br,SBq:()=>yl,Sil:()=>KI,Suo:()=>vE,TTD:()=>vo,TgZ:()=>Od,VKq:()=>fv,X6Q:()=>hw,XFs:()=>Jt,Xpm:()=>jn,Xts:()=>Up,Y36:()=>gc,YKP:()=>xa,YNc:()=>Hf,Yjl:()=>tr,Yz7:()=>Qt,Z0I:()=>Nt,ZZ4:()=>X0,_Bn:()=>mm,_UZ:()=>zf,_Vd:()=>yd,_c5:()=>Mw,_uU:()=>mp,aQg:()=>Q0,c2e:()=>zI,cJS:()=>At,cg1:()=>Ic,dDg:()=>rw,dqk:()=>Pn,eBb:()=>cf,eFA:()=>eI,eJc:()=>k0,ekj:()=>up,eoX:()=>ZE,f3M:()=>vr,g9A:()=>HE,h0i:()=>Ja,hGG:()=>xw,hij:()=>Bd,iGM:()=>mE,ifc:()=>ft,ip1:()=>VE,jDz:()=>Mp,kL8:()=>lm,lG2:()=>Sn,lcZ:()=>g,lqb:()=>Cu,lri:()=>KE,mCW:()=>Iu,n5z:()=>Zl,oAB:()=>pt,oxw:()=>wy,pB0:()=>Li,q3G:()=>Gi,q4F:()=>Kp,qLn:()=>fc,qOj:()=>Rh,qZA:()=>_c,qzn:()=>fa,rWj:()=>YE,s9C:()=>Qf,sBO:()=>pw,s_b:()=>Si,soG:()=>Dv,tb:()=>QE,tp0:()=>no,uIk:()=>Bf,vHH:()=>Ie,vpe:()=>sn,wAp:()=>fr,xi3:()=>A,xp6:()=>vh,ynx:()=>Gf,z2F:()=>bv,z3N:()=>ls,zSh:()=>hf,zs3:()=>Mu});var m=F(7579),h=F(727),W=F(9751),te=F(6451),Te=F(3099);function Ee(n){for(let i in n)if(n[i]===Ee)return i;throw Error("Could not find renamed property on target object.")}function le(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Ae(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const he=Ee({__forward_ref__:Ee});function se(n){return n.__forward_ref__=se,n.toString=function(){return xe(this())},n}function ae(n){return Me(n)?n():n}function Me(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===se}function pe(n){return n&&!!n.\u0275providers}const gt="https://g.co/ng/security#xss";class Ie extends Error{constructor(i,s){super(me(i,s)),this.code=i}}function me(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function mt(n,i){throw new Ie(-201,!1)}function et(n,i){null==n&&function lt(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Qt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function At(n){return{providers:n.providers||[],imports:n.imports||[]}}function xt(n){return Xt(n,Dn)||Xt(n,Vn)}function Nt(n){return null!==xt(n)}function Xt(n,i){return n.hasOwnProperty(i)?n[i]:null}function Zt(n){return n&&(n.hasOwnProperty(Nn)||n.hasOwnProperty(bn))?n[Nn]:null}const Dn=Ee({\u0275prov:Ee}),Nn=Ee({\u0275inj:Ee}),Vn=Ee({ngInjectableDef:Ee}),bn=Ee({ngInjectorDef:Ee});var Jt=(()=>((Jt=Jt||{})[Jt.Default=0]="Default",Jt[Jt.Host=1]="Host",Jt[Jt.Self=2]="Self",Jt[Jt.SkipSelf=4]="SkipSelf",Jt[Jt.Optional=8]="Optional",Jt))();let Cn;function lr(n){const i=Cn;return Cn=n,i}function Gr(n,i,s){const l=xt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Jt.Optional?null:void 0!==i?i:void mt(xe(n))}const Pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gt={},Fr="__NG_DI_FLAG__",cr="ngTempTokenPath",Lr="ngTokenPath",Mr=/\n/gm,Wr="\u0275",yr="__source";let qr;function Kn(n){const i=qr;return qr=n,i}function Gn(n,i=Jt.Default){if(void 0===qr)throw new Ie(-203,!1);return null===qr?Gr(n,void 0,i):qr.get(n,i&Jt.Optional?null:void 0,i)}function ir(n,i=Jt.Default){return(function Vr(){return Cn}()||Gn)(ae(n),i)}function vr(n,i=Jt.Default){return ir(n,St(i))}function St(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ke(n){const i=[];for(let s=0;s<n.length;s++){const l=ae(n[s]);if(Array.isArray(l)){if(0===l.length)throw new Ie(900,!1);let c,p=Jt.Default;for(let E=0;E<l.length;E++){const M=l[E],N=kt(M);"number"==typeof N?-1===N?c=M.token:p|=N:c=M}i.push(ir(c,p))}else i.push(ir(l))}return i}function $e(n,i){return n[Fr]=i,n.prototype[Fr]=i,n}function kt(n){return n[Fr]}function ce(n){return{toString:n}.toString()}var Pe=(()=>((Pe=Pe||{})[Pe.OnPush=0]="OnPush",Pe[Pe.Default=1]="Default",Pe))(),ft=(()=>{return(n=ft||(ft={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ft;var n})();const rt={},Wt=[],Ve=Ee({\u0275cmp:Ee}),Se=Ee({\u0275dir:Ee}),oe=Ee({\u0275pipe:Ee}),je=Ee({\u0275mod:Ee}),Ct=Ee({\u0275fac:Ee}),qt=Ee({__NG_ELEMENT_ID__:Ee});let fn=0;function jn(n){return ce(()=>{const i=qi(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ft.Emulated,id:"c"+fn++,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null};Mi(s);const l=n.dependencies;return s.directiveDefs=xi(l,!1),s.pipeDefs=xi(l,!0),s})}function Ir(n){return En(n)||or(n)}function Tt(n){return null!==n}function pt(n){return ce(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vn(n,i){if(null==n)return rt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),s[c]=l,i&&(i[c]=p)}return s}function Sn(n){return ce(()=>{const i=qi(n);return Mi(i),i})}function tr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function En(n){return n[Ve]||null}function or(n){return n[Se]||null}function nr(n){return n[oe]||null}function Yn(n){const i=En(n)||or(n)||nr(n);return null!==i&&i.standalone}function kn(n,i){const s=n[je]||null;if(!s&&!0===i)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return s}function qi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vn(n.inputs,i),outputs:vn(n.outputs)}}function Mi(n){var i;null===(i=n.features)||void 0===i||i.forEach(s=>s(n))}function xi(n,i){if(!n)return null;const s=i?nr:Ir;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(Tt)}const pi=0,dn=1,Hn=2,xr=3,gi=4,ur=5,Ur=6,ui=7,_r=8,Z=9,de=10,Re=11,ie=12,Fe=13,Ne=14,yt=15,Dt=16,Pt=17,Vt=18,nn=19,Fn=20,xn=21,Xn=22,ii=1,tt=2,He=7,dt=8,Ft=9,Kt=10;function Qn(n){return Array.isArray(n)&&"object"==typeof n[ii]}function rr(n){return Array.isArray(n)&&!0===n[ii]}function Sr(n){return 0!=(4&n.flags)}function Bi(n){return n.componentOffset>-1}function Ro(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function so(n){return 0!=(256&n[Hn])}function Ar(n,i){return n.hasOwnProperty(Ct)?n[Ct]:null}class Ji{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function vo(){return _o}function _o(n){return n.type.prototype.ngOnChanges&&(n.setInput=Eo),Es}function Es(){const n=is(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===rt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Eo(n,i,s,l){const c=this.declaredInputs[s],p=is(n)||function Oo(n,i){return n[Ui]=i}(n,{previous:rt,current:null}),E=p.current||(p.current={}),M=p.previous,N=M[c];E[c]=new Ji(N&&N.currentValue,i,M===rt),n[l]=i}vo.ngInherit=!0;const Ui="__ngSimpleChanges__";function is(n){return n[Ui]||null}const si=function(n,i,s){},Di="svg";function ai(n){for(;Array.isArray(n);)n=n[pi];return n}function ko(n,i){return ai(i[n])}function Vi(n,i){return ai(i[n.index])}function ma(n,i){return n.data[i]}function vi(n,i){return n[i]}function _i(n,i){const s=i[n];return Qn(s)?s:s[pi]}function di(n){return 64==(64&n[Hn])}function co(n,i){return null==i?null:n[i]}function Zo(n){n[Vt]=0}function cs(n,i){n[ur]+=i;let s=n,l=n[xr];for(;null!==l&&(1===i&&1===s[ur]||-1===i&&0===s[ur]);)l[ur]+=i,s=l,l=l[xr]}const sr={lFrame:Oa(null),bindingsEnabled:!0};function I(){return sr.bindingsEnabled}function C(){return sr.lFrame.lView}function x(){return sr.lFrame.tView}function R(n){return sr.lFrame.contextLView=n,n[_r]}function q(n){return sr.lFrame.contextLView=null,n}function it(){let n=rn();for(;null!==n&&64===n.type;)n=n.parent;return n}function rn(){return sr.lFrame.currentTNode}function Cr(n,i){const s=sr.lFrame;s.currentTNode=n,s.isParent=i}function Ri(){return sr.lFrame.isParent}function li(){sr.lFrame.isParent=!1}function Oi(){const n=sr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Ls(){return sr.lFrame.bindingIndex++}function Do(n){const i=sr.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Zs(n,i){const s=sr.lFrame;s.bindingIndex=s.bindingRootIndex=n,Pi(i)}function Pi(n){sr.lFrame.currentDirectiveIndex=n}function va(){return sr.lFrame.currentQueryIndex}function Xs(n){sr.lFrame.currentQueryIndex=n}function Qs(n){const i=n[dn];return 2===i.type?i.declTNode:1===i.type?n[Ur]:null}function sa(n,i,s){if(s&Jt.SkipSelf){let c=i,p=n;for(;!(c=c.parent,null!==c||s&Jt.Host||(c=Qs(p),null===c||(p=p[yt],10&c.type))););if(null===c)return!1;i=c,n=p}const l=sr.lFrame=Bs();return l.currentTNode=i,l.lView=n,!0}function _a(n){const i=Bs(),s=n[dn];sr.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Bs(){const n=sr.lFrame,i=null===n?null:n.child;return null===i?Oa(n):i}function Oa(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function bs(){const n=sr.lFrame;return sr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Cs=bs;function aa(){const n=bs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Hi(){return sr.lFrame.selectedIndex}function eo(n){sr.lFrame.selectedIndex=n}function Pr(){const n=sr.lFrame;return ma(n.tView,n.selectedIndex)}function la(){sr.lFrame.currentNamespace=Di}function Hr(n,i){for(let j=i.directiveStart,J=i.directiveEnd;j<J;j++){const Qe=n.data[j].type.prototype,{ngAfterContentInit:_t,ngAfterContentChecked:Yt,ngAfterViewInit:hn,ngAfterViewChecked:Rn,ngOnDestroy:er}=Qe;var s,l,c,p,E,M,N;_t&&(null!==(s=n.contentHooks)&&void 0!==s?s:n.contentHooks=[]).push(-j,_t),Yt&&((null!==(l=n.contentHooks)&&void 0!==l?l:n.contentHooks=[]).push(j,Yt),(null!==(c=n.contentCheckHooks)&&void 0!==c?c:n.contentCheckHooks=[]).push(j,Yt)),hn&&(null!==(p=n.viewHooks)&&void 0!==p?p:n.viewHooks=[]).push(-j,hn),Rn&&((null!==(E=n.viewHooks)&&void 0!==E?E:n.viewHooks=[]).push(j,Rn),(null!==(M=n.viewCheckHooks)&&void 0!==M?M:n.viewCheckHooks=[]).push(j,Rn)),null!=er&&(null!==(N=n.destroyHooks)&&void 0!==N?N:n.destroyHooks=[]).push(j,er)}}function tl(n,i,s){G(n,i,3,s)}function Ia(n,i,s,l){(3&n[Hn])===s&&G(n,i,s,l)}function O(n,i){let s=n[Hn];(3&s)===i&&(s&=2047,s+=1,n[Hn]=s)}function G(n,i,s,l){const p=null!=l?l:-1,E=i.length-1;let M=0;for(let N=void 0!==l?65535&n[Vt]:0;N<E;N++)if("number"==typeof i[N+1]){if(M=i[N],null!=l&&M>=l)break}else i[N]<0&&(n[Vt]+=65536),(M<p||-1==p)&&(k(n,s,i,N),n[Vt]=(4294901760&n[Vt])+N+2),N++}function k(n,i,s,l){const c=s[l]<0,p=s[l+1],M=n[c?-s[l]:s[l]];if(c){if(n[Hn]>>11<n[Vt]>>16&&(3&n[Hn])===i){n[Hn]+=2048,si(4,M,p);try{p.call(M)}finally{si(5,M,p)}}}else{si(4,M,p);try{p.call(M)}finally{si(5,M,p)}}}const Y=-1;class ye{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Zr(n,i,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const p=s[l++],E=s[l++],M=s[l++];n.setAttribute(i,E,M,p)}else{const p=c,E=s[++l];hs(p)?n.setProperty(i,p,E):n.setAttribute(i,p,E),l++}}return l}function hi(n){return 3===n||4===n||6===n}function hs(n){return 64===n.charCodeAt(0)}function Bo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||fs(n,s,c,null,-1===s||2===s?i[++l]:null)}}return n}function fs(n,i,s,l,c){let p=0,E=n.length;if(-1===i)E=-1;else for(;p<n.length;){const M=n[p++];if("number"==typeof M){if(M===i){E=-1;break}if(M>i){E=p-1;break}}}for(;p<n.length;){const M=n[p];if("number"==typeof M)break;if(M===s){if(null===l)return void(null!==c&&(n[p+1]=c));if(l===n[p+1])return void(n[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==E&&(n.splice(E,0,i),p=E+1),n.splice(p++,0,s),null!==l&&n.splice(p++,0,l),null!==c&&n.splice(p++,0,c)}function zi(n){return n!==Y}function bo(n){return 32767&n}function To(n,i){let s=function Co(n){return n>>16}(n),l=i;for(;s>0;)l=l[yt],s--;return l}let wa=!0;function nl(n){const i=wa;return wa=n,i}const ps=255,Kl=5;let bi=0;const es={};function rl(n,i){const s=en(n,i);if(-1!==s)return s;const l=i[dn];l.firstCreatePass&&(n.injectorIndex=i.length,il(l.data,n),il(i,null),il(l.blueprint,null));const c=Ei(n,i),p=n.injectorIndex;if(zi(c)){const E=bo(c),M=To(c,i),N=M[dn].data;for(let j=0;j<8;j++)i[p+j]=M[E+j]|N[E+j]}return i[p+8]=c,p}function il(n,i){n.push(0,0,0,0,0,0,0,0,i)}function en(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ei(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){if(l=bl(c),null===l)return Y;if(s++,c=c[yt],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return Y}function Br(n,i,s){!function $o(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(qt)&&(l=s[qt]),null==l&&(l=s[qt]=bi++);const c=l&ps;i.data[n+(c>>Kl)]|=1<<c}(n,i,s)}function Tn(n,i,s){if(s&Jt.Optional||void 0!==n)return n;mt()}function qn(n,i,s,l){if(s&Jt.Optional&&void 0===l&&(l=null),!(s&(Jt.Self|Jt.Host))){const c=n[Z],p=lr(void 0);try{return c?c.get(i,l,s&Jt.Optional):Gr(i,l,s&Jt.Optional)}finally{lr(p)}}return Tn(l,0,s)}function wl(n,i,s,l=Jt.Default,c){if(null!==n){if(1024&i[Hn]){const E=function ol(n,i,s,l,c){let p=n,E=i;for(;null!==p&&null!==E&&1024&E[Hn]&&!(256&E[Hn]);){const M=wn(p,E,s,l|Jt.Self,es);if(M!==es)return M;let N=p.parent;if(!N){const j=E[xn];if(j){const J=j.get(s,es,l);if(J!==es)return J}N=bl(E),E=E[yt]}p=N}return c}(n,i,s,l,es);if(E!==es)return E}const p=wn(n,i,s,l,es);if(p!==es)return p}return qn(i,s,l,c)}function wn(n,i,s,l,c){const p=function ca(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(qt)?n[qt]:void 0;return"number"==typeof i?i>=0?i&ps:su:i}(s);if("function"==typeof p){if(!sa(i,n,l))return l&Jt.Host?Tn(c,0,l):qn(i,s,l,c);try{const E=p(l);if(null!=E||l&Jt.Optional)return E;mt()}finally{Cs()}}else if("number"==typeof p){let E=null,M=en(n,i),N=Y,j=l&Jt.Host?i[Dt][Ur]:null;for((-1===M||l&Jt.SkipSelf)&&(N=-1===M?Ei(n,i):i[M+8],N!==Y&&Pa(l,!1)?(E=i[dn],M=bo(N),i=To(N,i)):M=-1);-1!==M;){const J=i[dn];if(Dl(p,M,J.data)){const ge=Et(M,i,s,E,l,j);if(ge!==es)return ge}N=i[M+8],N!==Y&&Pa(l,i[dn].data[M+8]===j)&&Dl(p,M,i)?(E=J,M=bo(N),i=To(N,i)):M=-1}}return c}function Et(n,i,s,l,c,p){const E=i[dn],M=E.data[n+8],J=jt(M,E,s,null==l?Bi(M)&&wa:l!=E&&0!=(3&M.type),c&Jt.Host&&p===M);return null!==J?Rr(i,E,J,M):es}function jt(n,i,s,l,c){const p=n.providerIndexes,E=i.data,M=1048575&p,N=n.directiveStart,J=p>>20,Qe=c?M+J:n.directiveEnd;for(let _t=l?M:M+J;_t<Qe;_t++){const Yt=E[_t];if(_t<N&&s===Yt||_t>=N&&Yt.type===s)return _t}if(c){const _t=E[N];if(_t&&jr(_t)&&_t.type===s)return N}return null}function Rr(n,i,s,l){let c=n[s];const p=i.data;if(function Rt(n){return n instanceof ye}(c)){const E=c;E.resolving&&function Xe(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${n}${s}`)}(function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}(p[s]));const M=nl(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?lr(E.injectImpl):null;sa(n,l,Jt.Default);try{c=n[s]=E.factory(void 0,p,n,l),i.firstCreatePass&&s>=l.directiveStart&&function el(n,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(l){var E,M;const ge=_o(i);(null!==(E=s.preOrderHooks)&&void 0!==E?E:s.preOrderHooks=[]).push(n,ge),(null!==(M=s.preOrderCheckHooks)&&void 0!==M?M:s.preOrderCheckHooks=[]).push(n,ge)}var N,j,J;c&&(null!==(N=s.preOrderHooks)&&void 0!==N?N:s.preOrderHooks=[]).push(0-n,c),p&&((null!==(j=s.preOrderHooks)&&void 0!==j?j:s.preOrderHooks=[]).push(n,p),(null!==(J=s.preOrderCheckHooks)&&void 0!==J?J:s.preOrderCheckHooks=[]).push(n,p))}(s,p[s],i)}finally{null!==N&&lr(N),nl(M),E.resolving=!1,Cs()}}return c}function Dl(n,i,s){return!!(s[i+(n>>Kl)]&1<<n)}function Pa(n,i){return!(n&Jt.Self||n&Jt.Host&&i)}class Vs{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return wl(this._tNode,this._lView,i,St(l),s)}}function su(){return new Vs(it(),C())}function Zl(n){return ce(()=>{const i=n.prototype.constructor,s=i[Ct]||Da(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const p=c[Ct]||Da(c);if(p&&p!==s)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function Da(n){return Me(n)?()=>{const i=Da(ae(n));return i&&i()}:Ar(n)}function bl(n){const i=n[dn],s=i.type;return 2===s?i.declTNode:1===s?n[Ur]:null}function uo(n){return function Yl(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const p=s[c];if(hi(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(p===i)return s[c+1];c+=2}}}return null}(it(),n)}const Jn="__parameters__";function Ln(n,i,s){return ce(()=>{const l=function Nr(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...p){if(this instanceof c)return l.apply(this,p),this;const E=new c(...p);return M.annotation=E,M;function M(N,j,J){const ge=N.hasOwnProperty(Jn)?N[Jn]:Object.defineProperty(N,Jn,{value:[]})[Jn];for(;ge.length<=J;)ge.push(null);return(ge[J]=ge[J]||[]).push(E),N}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class ci{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Qt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function to(n,i){n.forEach(s=>Array.isArray(s)?to(s,i):i(s))}function Al(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function vt(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function da(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Uo(n,i,s){let l=w(n,i);return l>=0?n[1|l]=s:(l=~l,function ha(n,i,s,l){let c=n.length;if(c==i)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function js(n,i){const s=w(n,i);if(s>=0)return n[1|s]}function w(n,i){return function y(n,i,s){let l=0,c=n.length>>s;for(;c!==l;){const p=l+(c-l>>1),E=n[p<<s];if(i===E)return p<<s;E>i?c=p:l=p+1}return~(c<<s)}(n,i,1)}const zr=$e(Ln("Optional"),8),no=$e(Ln("SkipSelf"),4);var as=(()=>((as=as||{})[as.Important=1]="Important",as[as.DashCase=2]="DashCase",as))();const Aa=new Map;let ea=0;const ht="__ngContext__";function Mt(n,i){Qn(i)?(n[ht]=i[Fn],function Ba(n){Aa.set(n[Fn],n)}(i)):n[ht]=i}let So;function ic(n,i){return So(n,i)}function Va(n){const i=n[xr];return rr(i)?i[xr]:i}function $r(n){return Rl(n[Fe])}function Jr(n){return Rl(n[gi])}function Rl(n){for(;null!==n&&!rr(n);)n=n[gi];return n}function dl(n,i,s,l,c){if(null!=l){let p,E=!1;rr(l)?p=l:Qn(l)&&(E=!0,l=l[pi]);const M=ai(l);0===n&&null!==s?null==c?sc(i,s,M):ja(i,s,M,c||null,!0):1===n&&null!==s?ja(i,s,M,c||null,!0):2===n?function id(n,i,s){const l=fu(n,i);l&&function nf(n,i,s,l){n.removeChild(i,s,l)}(n,l,i,s)}(i,M,E):3===n&&i.destroyNode(M),null!=p&&function Fp(n,i,s,l,c){const p=s[He];p!==ai(s)&&dl(i,n,l,p,c);for(let M=Kt;M<s.length;M++){const N=s[M];hl(N[dn],N,n,i,l,p)}}(i,n,p,s,c)}}function nd(n,i,s){return n.createElement(i,s)}function ef(n,i){const s=n[Ft],l=s.indexOf(i),c=i[xr];512&i[Hn]&&(i[Hn]&=-513,cs(c,-1)),s.splice(l,1)}function Rc(n,i){if(n.length<=Kt)return;const s=Kt+i,l=n[s];if(l){const c=l[Pt];null!==c&&c!==n&&ef(c,l),i>0&&(n[s-1][gi]=l[gi]);const p=vt(n,Kt+i);!function Qh(n,i){hl(n,i,i[Re],2,null,null),i[pi]=null,i[Ur]=null}(l[dn],l);const E=p[nn];null!==E&&E.detachView(p[dn]),l[xr]=null,l[gi]=null,l[Hn]&=-65}return l}function tf(n,i){if(!(128&i[Hn])){const s=i[Re];s.destroyNode&&hl(n,i,s,3,null,null),function Cm(n){let i=n[Fe];if(!i)return hu(n[dn],n);for(;i;){let s=null;if(Qn(i))s=i[Fe];else{const l=i[Kt];l&&(s=l)}if(!s){for(;i&&!i[gi]&&i!==n;)Qn(i)&&hu(i[dn],i),i=i[xr];null===i&&(i=n),Qn(i)&&hu(i[dn],i),s=i&&i[gi]}i=s}}(i)}}function hu(n,i){if(!(128&i[Hn])){i[Hn]&=-65,i[Hn]|=128,function Jd(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof ye)){const p=s[l+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const M=c[p[E]],N=p[E+1];si(4,M,N);try{N.call(M)}finally{si(5,M,N)}}else{si(4,c,p);try{p.call(c)}finally{si(5,c,p)}}}}}(n,i),function kp(n,i){const s=n.cleanup,l=i[ui];let c=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const E=s[p+3];E>=0?l[c=E]():l[c=-E].unsubscribe(),p+=2}else{const E=l[c=s[p+1]];s[p].call(E)}if(null!==l){for(let p=c+1;p<l.length;p++)(0,l[p])();i[ui]=null}}(n,i),1===i[dn].type&&i[Re].destroy();const s=i[Pt];if(null!==s&&rr(i[xr])){s!==i[xr]&&ef(s,i);const l=i[nn];null!==l&&l.detachView(n)}!function T(n){Aa.delete(n[Fn])}(i)}}function Ua(n,i,s){return function Oc(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[pi];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:p}=n.data[l.directiveStart+c];if(p===ft.None||p===ft.Emulated)return null}return Vi(l,s)}}(n,i.parent,s)}function ja(n,i,s,l,c){n.insertBefore(i,s,l,c)}function sc(n,i,s){n.appendChild(i,s)}function eh(n,i,s,l,c){null!==l?ja(n,i,s,l,c):sc(n,i,s)}function fu(n,i){return n.parentNode(i)}function rd(n,i,s){return pu(n,i,s)}let gu,pl,Dr,ac,pu=function Nc(n,i,s){return 40&n.type?Vi(n,s):null};function Ao(n,i,s,l){const c=Ua(n,l,i),p=i[Re],M=rd(l.parent||i[Ur],l,i);if(null!=c)if(Array.isArray(s))for(let N=0;N<s.length;N++)eh(p,c,s[N],M,!1);else eh(p,c,s,M,!1);void 0!==gu&&gu(p,l,i,s,c)}function kc(n,i){if(null!==i){const s=i.type;if(3&s)return Vi(i,n);if(4&s)return za(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return kc(n,l);{const c=n[i.index];return rr(c)?za(-1,c):ai(c)}}if(32&s)return ic(i,n)()||ai(n[i.index]);{const l=mu(n,i);return null!==l?Array.isArray(l)?l[0]:kc(Va(n[Dt]),l):kc(n,i.next)}}return null}function mu(n,i){return null!==i?n[Dt][Ur].projection[i.projection]:null}function za(n,i){const s=Kt+n+1;if(s<i.length){const l=i[s],c=l[dn].firstChild;if(null!==c)return kc(l,c)}return i[He]}function yu(n,i,s,l,c,p,E){for(;null!=s;){const M=l[s.index],N=s.type;if(E&&0===i&&(M&&Mt(ai(M),l),s.flags|=2),32!=(32&s.flags))if(8&N)yu(n,i,s.child,l,c,p,!1),dl(i,n,c,M,p);else if(32&N){const j=ic(s,l);let J;for(;J=j();)dl(i,n,c,J,p);dl(i,n,c,M,p)}else 16&N?nh(n,i,l,s,c,p):dl(i,n,c,M,p);s=E?s.projectionNext:s.next}}function hl(n,i,s,l,c,p){yu(s,l,n.firstChild,i,c,p,!1)}function nh(n,i,s,l,c,p){const E=s[Dt],N=E[Ur].projection[l.projection];if(Array.isArray(N))for(let j=0;j<N.length;j++)dl(i,n,c,N[j],p);else yu(n,i,N,E[xr],c,p,!0)}function zo(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function rh(n,i,s){const{mergedAttrs:l,classes:c,styles:p}=s;null!==l&&Zr(n,i,l),null!==c&&zo(n,i,c),null!==p&&function Lp(n,i,s){n.setAttribute(i,"style",s)}(n,i,p)}function As(n){var i;return(null===(i=function od(){if(void 0===pl&&(pl=null,Pn.trustedTypes))try{pl=Pn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pl}())||void 0===i?void 0:i.createHTML(n))||n}function sf(n){Dr=n}function oh(n){var i;return(null===(i=function ad(){if(void 0===ac&&(ac=null,Pn.trustedTypes))try{ac=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ac}())||void 0===i?void 0:i.createScriptURL(n))||n}class lc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gt})`}}class ld extends lc{getTypeName(){return"HTML"}}class Pl extends lc{getTypeName(){return"Style"}}class cc extends lc{getTypeName(){return"Script"}}class sh extends lc{getTypeName(){return"URL"}}class uc extends lc{getTypeName(){return"ResourceURL"}}function ls(n){return n instanceof lc?n.changingThisBreaksApplicationSecurity:n}function fa(n,i){const s=function af(n){return n instanceof lc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${gt})`)}return s===i}function lf(n){return new ld(n)}function _u(n){return new Pl(n)}function cf(n){return new cc(n)}function zs(n){return new sh(n)}function Li(n){return new uc(n)}class cd{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(As(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ga{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=As(i),s}}const Fc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Iu(n){return(n=String(n)).match(Fc)?n:"unsafe:"+n}function Wa(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function pa(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const qa=Wa("area,br,col,hr,img,wbr"),ah=Wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=Wa("rp,rt"),f=pa(qa,pa(ah,Wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pa(lh,Wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pa(lh,ah)),D=Wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ze=pa(D,Wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ct=Wa("script,style,template");class $t{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!f.hasOwnProperty(s))return this.sanitizedSomething=!0,!ct.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),E=p.name,M=E.toLowerCase();if(!ze.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let N=p.value;D[M]&&(N=Iu(N)),this.buf.push(" ",E,'="',$n(N),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();f.hasOwnProperty(s)&&!qa.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push($n(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const yn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bn=/([^\#-~ |!])/g;function $n(n){return n.replace(/&/g,"&amp;").replace(yn,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Bn,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ii;function ta(n,i){let s=null;try{Ii=Ii||function dc(n){const i=new Ga(n);return function Eu(){try{return!!(new window.DOMParser).parseFromString(As(""),"text/html")}catch{return!1}}()?new cd(i):i}(n);let l=i?String(i):"";s=Ii.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=s.innerHTML,s=Ii.getInertBodyElement(l)}while(l!==p);return As((new $t).sanitizeChildren(Lc(s)||s))}finally{if(s){const l=Lc(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Lc(n){return"content"in n&&function ch(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Gi=(()=>((Gi=Gi||{})[Gi.NONE=0]="NONE",Gi[Gi.HTML=1]="HTML",Gi[Gi.STYLE=2]="STYLE",Gi[Gi.SCRIPT=3]="SCRIPT",Gi[Gi.URL=4]="URL",Gi[Gi.RESOURCE_URL=5]="RESOURCE_URL",Gi))();function ml(n){const i=dh();return i?i.sanitize(Gi.URL,n)||"":fa(n,"URL")?ls(n):Iu(ne(n))}function hc(n){const i=dh();if(i)return oh(i.sanitize(Gi.RESOURCE_URL,n)||"");if(fa(n,"ResourceURL"))return oh(ls(n));throw new Ie(904,!1)}function hd(n,i,s){return function uf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?hc:ml}(i,s)(n)}function dh(){const n=C();return n&&n[ie]}const Up=new ci("ENVIRONMENT_INITIALIZER"),Tm=new ci("INJECTOR",-1),Sm=new ci("INJECTOR_DEF_TYPES");class df{get(i,s=Gt){if(s===Gt){const l=new Error(`NullInjectorError: No provider for ${xe(i)}!`);throw l.name="NullInjectorError",l}return s}}function fd(n){return{\u0275providers:n}}function Am(...n){return{\u0275providers:Mm(0,n),\u0275fromNgModule:!0}}function Mm(n,...i){const s=[],l=new Set;let c;return to(i,p=>{const E=p;hh(E,s,[],l)&&(c||(c=[]),c.push(E))}),void 0!==c&&Mo(c,s),s}function Mo(n,i){for(let s=0;s<n.length;s++){const{providers:c}=n[s];Du(c,p=>{i.push(p)})}}function hh(n,i,s,l){if(!(n=ae(n)))return!1;let c=null,p=Zt(n);const E=!p&&En(n);if(p||E){if(E&&!E.standalone)return!1;c=n}else{const N=n.ngModule;if(p=Zt(N),!p)return!1;c=N}const M=l.has(c);if(E){if(M)return!1;if(l.add(c),E.dependencies){const N="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const j of N)hh(j,i,s,l)}}else{if(!p)return!1;{if(null!=p.imports&&!M){let j;l.add(c);try{to(p.imports,J=>{hh(J,i,s,l)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&Mo(j,i)}if(!M){const j=Ar(c)||(()=>new c);i.push({provide:c,useFactory:j,deps:Wt},{provide:Sm,useValue:c,multi:!0},{provide:Up,useValue:()=>ir(c),multi:!0})}const N=p.providers;null==N||M||Du(N,J=>{i.push(J)})}}return c!==n&&void 0!==n.providers}function Du(n,i){for(let s of n)pe(s)&&(s=s.\u0275providers),Array.isArray(s)?Du(s,i):i(s)}const Nl=Ee({provide:String,useValue:Ee});function fh(n){return null!==n&&"object"==typeof n&&Nl in n}function $c(n){return"function"==typeof n}const hf=new ci("Set Injector scope."),ff={},xv={};let bu;function gd(){return void 0===bu&&(bu=new df),bu}class Cu{}class Hp extends Cu{get destroyed(){return this._destroyed}constructor(i,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uc(i,E=>this.processProvider(E)),this.records.set(Tm,md(void 0,this)),c.has("environment")&&this.records.set(Cu,md(void 0,this));const p=this.records.get(hf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Sm.multi,Wt,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Kn(this),l=lr(void 0);try{return i()}finally{Kn(s),lr(l)}}get(i,s=Gt,l=Jt.Default){this.assertNotDestroyed(),l=St(l);const c=Kn(this),p=lr(void 0);try{if(!(l&Jt.SkipSelf)){let M=this.records.get(i);if(void 0===M){const N=function Vc(n){return"function"==typeof n||"object"==typeof n&&n instanceof ci}(i)&&xt(i);M=N&&this.injectableDefInScope(N)?md(ph(i),ff):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(l&Jt.Self?gd():this.parent).get(i,s=l&Jt.Optional&&s===Gt?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[cr]=E[cr]||[]).unshift(xe(i)),c)throw E;return function Ot(n,i,s,l){const c=n[cr];throw i[yr]&&c.unshift(i[yr]),n.message=function ue(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Wr?n.slice(2):n;let c=xe(i);if(Array.isArray(i))c=i.map(xe).join(" -> ");else if("object"==typeof i){let p=[];for(let E in i)if(i.hasOwnProperty(E)){let M=i[E];p.push(E+":"+("string"==typeof M?JSON.stringify(M):xe(M)))}c=`{${p.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(Mr,"\n  ")}`}("\n"+n.message,c,s,l),n[Lr]=c,n[cr]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{lr(p),Kn(c)}}resolveInjectorInitializers(){const i=Kn(this),s=lr(void 0);try{const l=this.get(Up.multi,Wt,Jt.Self);for(const c of l)c()}finally{Kn(i),lr(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(xe(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(i){let s=$c(i=ae(i))?i:ae(i&&i.provide);const l=function Rv(n){return fh(n)?md(void 0,n.useValue):md(zp(n),ff)}(i);if($c(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=md(void 0,ff,!0),c.factory=()=>ke(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===ff&&(s.value=xv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Pv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ae(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function ph(n){const i=xt(n),s=null!==i?i.factory:Ar(n);if(null!==s)return s;if(n instanceof ci)throw new Ie(204,!1);if(n instanceof Function)return function Rm(n){const i=n.length;if(i>0)throw da(i,"?"),new Ie(204,!1);const s=function on(n){return n&&(n[Dn]||n[Vn])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ie(204,!1)}function zp(n,i,s){let l;if($c(n)){const c=ae(n);return Ar(c)||ph(c)}if(fh(n))l=()=>ae(n.useValue);else if(function pd(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...ke(n.deps||[]));else if(function jp(n){return!(!n||!n.useExisting)}(n))l=()=>ir(ae(n.useExisting));else{const c=ae(n&&(n.useClass||n.provide));if(!function Ov(n){return!!n.deps}(n))return Ar(c)||ph(c);l=()=>new c(...ke(n.deps))}return l}function md(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Uc(n,i){for(const s of n)Array.isArray(s)?Uc(s,i):s&&pe(s)?Uc(s.\u0275providers,i):i(s)}class Om{}class Pm{}class kv{resolveComponentFactory(i){throw function Nm(n){const i=Error(`No component factory found for ${xe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let yd=(()=>{class n{}return n.NULL=new kv,n})();function pf(){return Ka(it(),C())}function Ka(n,i){return new yl(Vi(n,i))}let yl=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=pf,n})();function Tu(n){return n instanceof yl?n.nativeElement:n}class vd{}let km=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Gp(){const n=C(),s=_i(it().index,n);return(Qn(s)?s:n)[Re]}(),n})(),Wp=(()=>{class n{}return n.\u0275prov=Qt({token:n,providedIn:"root",factory:()=>null}),n})();class qp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Kp=new qp("15.2.9"),Yp={},gf="ngOriginalError";function _d(n){return n[gf]}class fc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&_d(i);for(;s&&_d(s);)s=_d(s);return s||null}}function Gs(n){return n instanceof Function?n():n}function Zp(n,i,s){let l=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=i.length;if(c+p===l||n.charCodeAt(c+p)<=32)return c}s=c+1}}const yf="ng-template";function Xp(n,i,s){let l=0,c=!0;for(;l<n.length;){let p=n[l++];if("string"==typeof p&&c){const E=n[l++];if(s&&"class"===p&&-1!==Zp(E.toLowerCase(),i,0))return!0}else{if(1===p){for(;l<n.length&&"string"==typeof(p=n[l++]);)if(p.toLowerCase()===i)return!0;return!1}"number"==typeof p&&(c=!1)}}return!1}function Qp(n){return 4===n.type&&n.value!==yf}function vf(n,i,s){return i===(4!==n.type||s?n.value:yf)}function jv(n,i,s){let l=4;const c=n.attrs||[],p=function mh(n){for(let i=0;i<n.length;i++)if(hi(n[i]))return i;return n.length}(c);let E=!1;for(let M=0;M<i.length;M++){const N=i[M];if("number"!=typeof N){if(!E)if(4&l){if(l=2|1&l,""!==N&&!vf(n,N,s)||""===N&&1===i.length){if(Ma(l))return!1;E=!0}}else{const j=8&l?N:i[++M];if(8&l&&null!==n.attrs){if(!Xp(n.attrs,j,s)){if(Ma(l))return!1;E=!0}continue}const ge=_f(8&l?"class":N,c,Qp(n),s);if(-1===ge){if(Ma(l))return!1;E=!0;continue}if(""!==j){let Qe;Qe=ge>p?"":c[ge+1].toLowerCase();const _t=8&l?Qe:null;if(_t&&-1!==Zp(_t,j,0)||2&l&&j!==Qe){if(Ma(l))return!1;E=!0}}}}else{if(!E&&!Ma(l)&&!Ma(N))return!1;if(E&&Ma(N))continue;E=!1,l=N|1&l}}return Ma(l)||E}function Ma(n){return 0==(1&n)}function _f(n,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let p=!1;for(;c<i.length;){const E=i[c];if(E===n)return c;if(3===E||6===E)p=!0;else{if(1===E||2===E){let M=i[++c];for(;"string"==typeof M;)M=i[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=p?1:2}return-1}return function Ef(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function Vm(n,i,s=!1){for(let l=0;l<i.length;l++)if(jv(n,i[l],s))return!0;return!1}function yh(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function Jp(n,i){return n?":not("+i.trim()+")":i}function jm(n){let i=n[0],s=1,l=2,c="",p=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&l){const M=n[++s];c+="["+E+(M.length>0?'="'+M+'"':"")+"]"}else 8&l?c+="."+E:4&l&&(c+=" "+E);else""!==c&&!Ma(E)&&(i+=Jp(p,c),c=""),l=E,p=p||!Ma(l);s++}return""!==c&&(i+=Jp(p,c)),i}const Tr={};function vh(n){eg(x(),C(),Hi()+n,!1)}function eg(n,i,s,l){if(!l)if(3==(3&i[Hn])){const p=n.preOrderCheckHooks;null!==p&&tl(i,p,s)}else{const p=n.preOrderHooks;null!==p&&Ia(i,p,0,s)}eo(s)}function Wm(n,i=null,s=null,l){const c=tg(n,i,s,l);return c.resolveInjectorInitializers(),c}function tg(n,i=null,s=null,l,c=new Set){const p=[s||Wt,Am(n)];return l=l||("object"==typeof n?void 0:xe(n)),new Hp(p,i||gd(),l||null,c)}let Mu=(()=>{class n{static create(s,l){if(Array.isArray(s))return Wm({name:""},l,s,"");{var c;const p=null!==(c=s.name)&&void 0!==c?c:"";return Wm({name:p},s.parent,s.providers,p)}}}return n.THROW_IF_NOT_FOUND=Gt,n.NULL=new df,n.\u0275prov=Qt({token:n,providedIn:"any",factory:()=>ir(Tm)}),n.__NG_ELEMENT_ID__=-1,n})();function gc(n,i=Jt.Default){const s=C();return null===s?ir(n,i):wl(it(),s,ae(n),i)}function Tf(){throw new Error("invalid")}function ag(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const p=s[l+1];if(-1!==p){const E=n.data[p];Xs(s[l]),E.contentQueries(2,i[p],p)}}}function wh(n,i,s,l,c,p,E,M,N,j,J){const ge=i.blueprint.slice();return ge[pi]=c,ge[Hn]=76|l,(null!==J||n&&1024&n[Hn])&&(ge[Hn]|=1024),Zo(ge),ge[xr]=ge[yt]=n,ge[_r]=s,ge[de]=E||n&&n[de],ge[Re]=M||n&&n[Re],ge[ie]=N||n&&n[ie]||null,ge[Z]=j||n&&n[Z]||null,ge[Ur]=p,ge[Fn]=function rc(){return ea++}(),ge[xn]=J,ge[Dt]=2==i.type?n[Dt]:ge,ge}function Gc(n,i,s,l,c){let p=n.data[i];if(null===p)p=function lg(n,i,s,l,c){const p=rn(),E=Ri(),N=n.data[i]=function ug(n,i,s,l,c,p){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,s,i,l,c);return null===n.firstChild&&(n.firstChild=N),null!==p&&(E?null==p.child&&null!==N.parent&&(p.child=N):null===p.next&&(p.next=N,N.prev=p)),N}(n,i,s,l,c),function ya(){return sr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=s,p.value=l,p.attrs=c;const E=function Er(){const n=sr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return Cr(p,!0),p}function wd(n,i,s,l){if(0===s)return-1;const c=i.length;for(let p=0;p<s;p++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function cg(n,i,s){_a(i);try{const l=n.viewQuery;null!==l&&Ru(1,l,s);const c=n.template;null!==c&&Qm(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ag(n,i),n.staticViewQueries&&Ru(2,n.viewQuery,s);const p=n.components;null!==p&&function Xm(n,i){for(let s=0;s<i.length;s++)a_(n,i[s])}(i,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[Hn]&=-5,aa()}}function Dh(n,i,s,l){const c=i[Hn];if(128!=(128&c)){_a(i);try{Zo(i),function wo(n){return sr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Qm(n,i,s,2,l);const E=3==(3&c);if(E){const j=n.preOrderCheckHooks;null!==j&&tl(i,j,null)}else{const j=n.preOrderHooks;null!==j&&Ia(i,j,0,null),O(i,0)}if(function s_(n){for(let i=$r(n);null!==i;i=Jr(i)){if(!i[tt])continue;const s=i[Ft];for(let l=0;l<s.length;l++){const c=s[l];512&c[Hn]||cs(c[xr],1),c[Hn]|=512}}}(i),function o_(n){for(let i=$r(n);null!==i;i=Jr(i))for(let s=Kt;s<i.length;s++){const l=i[s],c=l[dn];di(l)&&Dh(c,l,c.template,l[_r])}}(i),null!==n.contentQueries&&ag(n,i),E){const j=n.contentCheckHooks;null!==j&&tl(i,j)}else{const j=n.contentHooks;null!==j&&Ia(i,j,1),O(i,1)}!function sg(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)eo(~c);else{const p=c,E=s[++l],M=s[++l];Zs(E,p),M(2,i[p])}}}finally{eo(-1)}}(n,i);const M=n.components;null!==M&&function e_(n,i){for(let s=0;s<i.length;s++)mg(n,i[s])}(i,M);const N=n.viewQuery;if(null!==N&&Ru(2,N,l),E){const j=n.viewCheckHooks;null!==j&&tl(i,j)}else{const j=n.viewHooks;null!==j&&Ia(i,j,2),O(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Hn]&=-41,512&i[Hn]&&(i[Hn]&=-513,cs(i[xr],-1))}finally{aa()}}}function Qm(n,i,s,l,c){const p=Hi(),E=2&l;try{eo(-1),E&&i.length>Xn&&eg(n,i,Xn,!1),si(E?2:0,c),s(l,c)}finally{eo(p),si(E?3:1,c)}}function Wc(n,i,s){if(Sr(i)){const c=i.directiveEnd;for(let p=i.directiveStart;p<c;p++){const E=n.data[p];E.contentQueries&&E.contentQueries(1,s[p],p)}}}function qc(n,i,s){I()&&(function t_(n,i,s,l){const c=s.directiveStart,p=s.directiveEnd;Bi(s)&&function Of(n,i,s){const l=Vi(i,n),c=Ch(s),p=n[de],E=Dd(n,wh(n,c,null,s.onPush?32:16,l,i,p,p.createRenderer(l,s),null,null,null));n[i.index]=E}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||rl(s,i),Mt(l,i);const E=s.initialInputs;for(let M=c;M<p;M++){const N=n.data[M],j=Rr(i,n,M,s);Mt(j,i),null!==E&&ay(0,M-c,j,N,0,E),jr(N)&&(_i(s.index,i)[_r]=Rr(i,n,M,s))}}(n,i,s,Vi(s,i)),64==(64&s.flags)&&fg(n,i,s))}function bh(n,i,s=Vi){const l=i.localNames;if(null!==l){let c=i.index+1;for(let p=0;p<l.length;p+=2){const E=l[p+1],M=-1===E?s(i,n):n[E];n[c++]=M}}}function Ch(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Sf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Sf(n,i,s,l,c,p,E,M,N,j){const J=Xn+l,ge=J+c,Qe=function Jm(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Tr);return s}(J,ge),_t="function"==typeof j?j():j;return Qe[dn]={type:n,blueprint:Qe,template:s,queries:null,viewQuery:M,declTNode:i,data:Qe.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:_t,incompleteFirstPass:!1}}function ty(n,i,s,l){const c=_g(i);null===s?c.push(l):(c.push(s),n.firstCreatePass&&Pf(n).push(l,c.length-1))}function ny(n,i,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const p=n[c];null===l?Af(s,i,c,p):l.hasOwnProperty(c)&&Af(s,i,l[c],p)}return s}function Af(n,i,s,l){n.hasOwnProperty(s)?n[s].push(i,l):n[s]=[i,l]}function na(n,i,s,l,c,p,E,M){const N=Vi(i,s);let J,j=i.inputs;!M&&null!=j&&(J=j[l])?(kf(n,s,J,l,c),Bi(i)&&function Mf(n,i){const s=_i(i,n);16&s[Hn]||(s[Hn]|=32)}(s,i.index)):3&i.type&&(l=function iy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=E?E(c,i.value||"",l):c,p.setProperty(N,l,c))}function Sh(n,i,s,l){if(I()){const c=null===l?null:{"":-1},p=function pg(n,i){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let E=0;E<s.length;E++){const M=s[E];if(Vm(i,M.selectors,!1))if(l||(l=[]),jr(M))if(null!==M.findHostDirectiveDefs){const N=[];c=c||new Map,M.findHostDirectiveDefs(M,N,c),l.unshift(...N,M),gg(n,i,N.length)}else l.unshift(M),gg(n,i,0);else{var p;c=c||new Map,null===(p=M.findHostDirectiveDefs)||void 0===p||p.call(M,M,l,c),l.push(M)}}return null===l?null:[l,c]}(n,s);let E,M;null===p?E=M=null:[E,M]=p,null!==E&&xf(n,i,s,E,c,M),c&&function n_(n,i,s){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const p=s[i[c+1]];if(null==p)throw new Ie(-301,!1);l.push(i[c],p)}}}(s,l,c)}s.mergedAttrs=Bo(s.mergedAttrs,s.attrs)}function xf(n,i,s,l,c,p){for(let ge=0;ge<l.length;ge++)Br(rl(s,i),n,l[ge].type);!function r_(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,l.length);for(let ge=0;ge<l.length;ge++){const Qe=l[ge];Qe.providersResolver&&Qe.providersResolver(Qe)}let E=!1,M=!1,N=wd(n,i,l.length,null);for(let ge=0;ge<l.length;ge++){const Qe=l[ge];s.mergedAttrs=Bo(s.mergedAttrs,Qe.hostAttrs),sy(n,s,i,N,Qe),qs(N,Qe,c),null!==Qe.contentQueries&&(s.flags|=4),(null!==Qe.hostBindings||null!==Qe.hostAttrs||0!==Qe.hostVars)&&(s.flags|=64);const _t=Qe.type.prototype;var j,J;!E&&(_t.ngOnChanges||_t.ngOnInit||_t.ngDoCheck)&&((null!==(j=n.preOrderHooks)&&void 0!==j?j:n.preOrderHooks=[]).push(s.index),E=!0),M||!_t.ngOnChanges&&!_t.ngDoCheck||((null!==(J=n.preOrderCheckHooks)&&void 0!==J?J:n.preOrderCheckHooks=[]).push(s.index),M=!0),N++}!function ry(n,i,s){const c=i.directiveEnd,p=n.data,E=i.attrs,M=[];let N=null,j=null;for(let J=i.directiveStart;J<c;J++){const ge=p[J],Qe=s?s.get(ge):null,Yt=Qe?Qe.outputs:null;N=ny(ge.inputs,J,N,Qe?Qe.inputs:null),j=ny(ge.outputs,J,j,Yt);const hn=null===N||null===E||Qp(i)?null:i_(N,J,E);M.push(hn)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=M,i.inputs=N,i.outputs=j}(n,s,p)}function fg(n,i,s){const l=s.directiveStart,c=s.directiveEnd,p=s.index,E=function Wl(){return sr.lFrame.currentDirectiveIndex}();try{eo(p);for(let M=l;M<c;M++){const N=n.data[M],j=i[M];Pi(M),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Rf(N,j)}}finally{eo(-1),Pi(E)}}function Rf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function gg(n,i,s){var l;i.componentOffset=s,(null!==(l=n.components)&&void 0!==l?l:n.components=[]).push(i.index)}function qs(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;jr(i)&&(s[""]=n)}}function sy(n,i,s,l,c){n.data[l]=c;const p=c.factory||(c.factory=Ar(c.type)),E=new ye(p,jr(c),gc);n.blueprint[l]=E,s[l]=E,function hg(n,i,s,l,c){const p=c.hostBindings;if(p){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const M=~i.index;(function oy(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=M&&E.push(M),E.push(s,l,p)}}(n,i,l,wd(n,s,c.hostVars,Tr),c)}function ga(n,i,s,l,c,p){const E=Vi(n,i);!function Ah(n,i,s,l,c,p,E){if(null==p)n.removeAttribute(i,c,s);else{const M=null==E?ne(p):E(p,l||"",c);n.setAttribute(i,c,M,s)}}(i[Re],E,p,n.value,s,l,c)}function ay(n,i,s,l,c,p){const E=p[i];if(null!==E){const M=l.setInput;for(let N=0;N<E.length;){const j=E[N++],J=E[N++],ge=E[N++];null!==M?l.setInput(s,ge,j,J):s[J]=ge}}}function i_(n,i,s){let l=null,c=0;for(;c<s.length;){const p=s[c];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===l&&(l=[]);const E=n[p];for(let M=0;M<E.length;M+=2)if(E[M]===i){l.push(p,E[M+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function ly(n,i,s,l){return[n,!0,!1,i,null,0,l,s,null,null]}function mg(n,i){const s=_i(i,n);if(di(s)){const l=s[dn];48&s[Hn]?Dh(l,s,l.template,s[_r]):s[ur]>0&&yg(s)}}function yg(n){for(let l=$r(n);null!==l;l=Jr(l))for(let c=Kt;c<l.length;c++){const p=l[c];if(di(p))if(512&p[Hn]){const E=p[dn];Dh(E,p,E.template,p[_r])}else p[ur]>0&&yg(p)}const s=n[dn].components;if(null!==s)for(let l=0;l<s.length;l++){const c=_i(s[l],n);di(c)&&c[ur]>0&&yg(c)}}function a_(n,i){const s=_i(i,n),l=s[dn];(function Mh(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),cg(l,s,s[_r])}function Dd(n,i){return n[Fe]?n[Ne][gi]=i:n[Fe]=i,n[Ne]=i,i}function mc(n){for(;n;){n[Hn]|=32;const i=Va(n);if(so(n)&&!i)return n;n=i}return null}function bd(n,i,s,l=!0){const c=i[de];c.begin&&c.begin();try{Dh(n,i,n.template,s)}catch(E){throw l&&yc(i,E),E}finally{c.end&&c.end()}}function Ru(n,i,s){Xs(0),i(n,s)}function _g(n){return n[ui]||(n[ui]=[])}function Pf(n){return n.cleanup||(n.cleanup=[])}function yc(n,i){const s=n[Z],l=s?s.get(fc,null):null;l&&l.handleError(i)}function kf(n,i,s,l,c){for(let p=0;p<s.length;){const E=s[p++],M=s[p++],N=i[E],j=n.data[E];null!==j.setInput?j.setInput(N,c,l,M):N[M]=c}}function vc(n,i,s){const l=ko(i,n);!function Zd(n,i,s){n.setValue(i,s)}(n[Re],l,s)}function Cd(n,i,s){let l=s?n.styles:null,c=s?n.classes:null,p=0;if(null!==i)for(let E=0;E<i.length;E++){const M=i[E];"number"==typeof M?p=M:1==p?c=Ae(c,M):2==p&&(l=Ae(l,M+": "+i[++E]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function Ff(n,i,s,l,c=!1){for(;null!==s;){const p=i[s.index];if(null!==p&&l.push(ai(p)),rr(p))for(let M=Kt;M<p.length;M++){const N=p[M],j=N[dn].firstChild;null!==j&&Ff(N[dn],N,j,l)}const E=s.type;if(8&E)Ff(n,i,s.child,l);else if(32&E){const M=ic(s,i);let N;for(;N=M();)l.push(N)}else if(16&E){const M=mu(i,s);if(Array.isArray(M))l.push(...M);else{const N=Va(i[Dt]);Ff(N[dn],N,M,l,!0)}}s=c?s.projectionNext:s.next}return l}class Ou{get rootNodes(){const i=this._lView,s=i[dn];return Ff(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_r]}set context(i){this._lView[_r]=i}get destroyed(){return 128==(128&this._lView[Hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[xr];if(rr(i)){const s=i[dt],l=s?s.indexOf(this):-1;l>-1&&(Rc(i,l),vt(s,l))}this._attachedToViewContainer=!1}tf(this._lView[dn],this._lView)}onDestroy(i){ty(this._lView[dn],this._lView,null,i)}markForCheck(){mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Hn]&=-65}reattach(){this._lView[Hn]|=64}detectChanges(){bd(this._lView[dn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Np(n,i){hl(n,i,i[Re],2,null,null)}(this._lView[dn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=i}}class l_ extends Ou{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;bd(i[dn],i,i[_r],!1)}checkNoChanges(){}get context(){return null}}class Lf extends yd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=En(i);return new Fl(s,this.ngModule)}}function xh(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class uy{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=St(l);const c=this.injector.get(i,Yp,l);return c!==Yp||s===Yp?c:this.parentInjector.get(i,s,l)}}class Fl extends Pm{get inputs(){return xh(this.componentDef.inputs)}get outputs(){return xh(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Ws(n){return n.map(jm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,c){var p;let E=(c=c||this.ngModule)instanceof Cu?c:null===(p=c)||void 0===p?void 0:p.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const M=E?new uy(i,E):i,N=M.get(vd,null);if(null===N)throw new Ie(407,!1);const j=M.get(Wp,null),J=N.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Qe=l?function ey(n,i,s){return n.selectRootElement(i,s===ft.ShadowDom)}(J,l,this.componentDef.encapsulation):nd(J,ge,function Eg(n){const i=n.toLowerCase();return"svg"===i?Di:"math"===i?"math":null}(ge)),_t=this.componentDef.onPush?288:272,Yt=Sf(0,null,null,1,0,null,null,null,null,null),hn=wh(null,Yt,null,_t,null,null,N,J,j,M,null);let Rn,er;_a(hn);try{const gr=this.componentDef;let an,Or=null;gr.findHostDirectiveDefs?(an=[],Or=new Map,gr.findHostDirectiveDefs(gr,an,Or),an.push(gr)):an=[gr];const Xi=function c_(n,i){const s=n[dn],l=Xn;return n[l]=i,Gc(s,l,2,"#host",null)}(hn,Qe),Wo=function dy(n,i,s,l,c,p,E,M){const N=c[dn];!function hy(n,i,s,l){for(const c of n)i.mergedAttrs=Bo(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Cd(i,i.mergedAttrs,!0),null!==s&&rh(l,s,i))}(l,n,i,E);const j=p.createRenderer(i,s),J=wh(c,Ch(s),null,s.onPush?32:16,c[n.index],n,p,j,M||null,null,null);return N.firstCreatePass&&gg(N,n,l.length-1),Dd(c,J),c[n.index]=J}(Xi,Qe,gr,an,hn,N,J);er=ma(Yt,Xn),Qe&&function wg(n,i,s,l){if(l)Zr(n,s,["ng-version",Kp.full]);else{const{attrs:c,classes:p}=function Hm(n){const i=[],s=[];let l=1,c=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===c?""!==p&&i.push(p,n[++l]):8===c&&s.push(p);else{if(!Ma(c))break;c=p}l++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Zr(n,s,c),p&&p.length>0&&zo(n,s,p.join(" "))}}(J,gr,Qe,l),void 0!==s&&function d_(n,i,s){const l=n.projection=[];for(let c=0;c<i.length;c++){const p=s[c];l.push(null!=p?Array.from(p):null)}}(er,this.ngContentSelectors,s),Rn=function u_(n,i,s,l,c,p){const E=it(),M=c[dn],N=Vi(E,c);xf(M,c,E,s,null,l);for(let J=0;J<s.length;J++)Mt(Rr(c,M,E.directiveStart+J,E),c);fg(M,c,E),N&&Mt(N,c);const j=Rr(c,M,E.directiveStart+E.componentOffset,E);if(n[_r]=c[_r]=j,null!==p)for(const J of p)J(j,i);return Wc(M,E,n),j}(Wo,gr,an,Or,hn,[Dg]),cg(Yt,hn,null)}finally{aa()}return new Ig(this.componentType,Rn,Ka(er,hn),hn,er)}}class Ig extends Om{constructor(i,s,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new l_(c),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){const p=this._rootLView;kf(p[dn],p,c,i,s),mc(_i(this._tNode.index,p))}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Dg(){const n=it();Hr(C()[dn],n)}function Rh(n){let i=function fy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let c;if(jr(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ie(903,!1);c=i.\u0275dir}if(c){if(s){l.push(c);const E=n;E.inputs=Oh(n.inputs),E.declaredInputs=Oh(n.declaredInputs),E.outputs=Oh(n.outputs);const M=c.hostBindings;M&&Cg(n,M);const N=c.viewQuery,j=c.contentQueries;if(N&&py(n,N),j&&bg(n,j),le(n.inputs,c.inputs),le(n.declaredInputs,c.declaredInputs),le(n.outputs,c.outputs),jr(c)&&c.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let E=0;E<p.length;E++){const M=p[E];M&&M.ngInherit&&M(n),M===Rh&&(s=!1)}}i=Object.getPrototypeOf(i)}!function h_(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Bo(c.hostAttrs,s=Bo(s,c.hostAttrs))}}(l)}function Oh(n){return n===rt?{}:n===Wt?[]:n}function py(n,i){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function bg(n,i){const s=n.contentQueries;n.contentQueries=s?(l,c,p)=>{i(l,c,p),s(l,c,p)}:i}function Cg(n,i){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}function Sd(n){return!!Nh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Nh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ll(n,i,s){return n[i]=s}function vs(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Fu(n,i,s,l){const c=vs(n,i,s);return vs(n,i+1,l)||c}function Bf(n,i,s,l){const c=C();return vs(c,Ls(),i)&&(x(),ga(Pr(),c,n,i,s,l)),Bf}function Bu(n,i,s,l){return vs(n,Ls(),s)?i+ne(s)+l:Tr}function $u(n,i,s,l,c,p){const M=Fu(n,function Io(){return sr.lFrame.bindingIndex}(),s,c);return Do(2),M?i+ne(s)+l+ne(c)+p:Tr}function Hf(n,i,s,l,c,p,E,M){const N=C(),j=x(),J=n+Xn,ge=j.firstCreatePass?function p_(n,i,s,l,c,p,E,M,N){const j=i.consts,J=Gc(i,n,4,E||null,co(j,M));Sh(i,s,J,co(j,N)),Hr(i,J);const ge=J.tView=Sf(2,J,l,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,J),ge.queries=i.queries.embeddedTView(J)),J}(J,j,N,i,s,l,c,p,E):j.data[J];Cr(ge,!1);const Qe=N[Re].createComment("");Ao(j,N,Qe,ge),Mt(Qe,N),Dd(N,N[J]=ly(Qe,N,Qe,ge)),Ro(ge)&&qc(j,N,ge),null!=E&&bh(N,ge,M)}function Ng(n,i,s){const l=C();return vs(l,Ls(),i)&&na(x(),Pr(),l,n,i,l[Re],s,!1),Ng}function Fh(n,i,s,l,c){const E=c?"class":"style";kf(n,s,i.inputs[E],E,l)}function Od(n,i,s,l){const c=C(),p=x(),E=Xn+n,M=c[Re],N=p.firstCreatePass?function kg(n,i,s,l,c,p){const E=i.consts,N=Gc(i,n,2,l,co(E,c));return Sh(i,s,N,co(E,p)),null!==N.attrs&&Cd(N,N.attrs,!1),null!==N.mergedAttrs&&Cd(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(E,p,c,i,s,l):p.data[E],j=c[E]=nd(M,i,function Jo(){return sr.lFrame.currentNamespace}()),J=Ro(N);return Cr(N,!0),rh(M,j,N),32!=(32&N.flags)&&Ao(p,c,j,N),0===function ds(){return sr.lFrame.elementDepthCount}()&&Mt(j,c),function _(){sr.lFrame.elementDepthCount++}(),J&&(qc(p,c,N),Wc(p,N,c)),null!==l&&bh(c,N),Od}function _c(){let n=it();Ri()?li():(n=n.parent,Cr(n,!1));const i=n;!function U(){sr.lFrame.elementDepthCount--}();const s=x();return s.firstCreatePass&&(Hr(s,n),Sr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function wr(n){return 0!=(8&n.flags)}(i)&&Fh(s,i,C(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function hr(n){return 0!=(16&n.flags)}(i)&&Fh(s,i,C(),i.stylesWithoutHost,!1),_c}function zf(n,i,s,l){return Od(n,i,s,l),_c(),zf}function Gf(n,i,s){const l=C(),c=x(),p=n+Xn,E=c.firstCreatePass?function Fg(n,i,s,l,c){const p=i.consts,E=co(p,l),M=Gc(i,n,8,"ng-container",E);return null!==E&&Cd(M,E,!0),Sh(i,s,M,co(p,c)),null!==i.queries&&i.queries.elementStart(i,M),M}(p,c,l,i,s):c.data[p];Cr(E,!0);const M=l[p]=l[Re].createComment("");return Ao(c,l,M,E),Mt(M,l),Ro(E)&&(qc(c,l,E),Wc(c,E,l)),null!=s&&bh(l,E),Gf}function Pd(){let n=it();const i=x();return Ri()?li():(n=n.parent,Cr(n,!1)),i.firstCreatePass&&(Hr(i,n),Sr(n)&&i.queries.elementEnd(n)),Pd}function vl(n,i,s){return Gf(n,i,s),Pd(),vl}function Wf(){return C()}function Lg(n){return!!n&&"function"==typeof n.then}function qf(n){return!!n&&"function"==typeof n.subscribe}const Ey=qf;function Bg(n,i,s,l){const c=C(),p=x(),E=it();return function Yf(n,i,s,l,c,p,E){const M=Ro(l),j=n.firstCreatePass&&Pf(n),J=i[_r],ge=_g(i);let Qe=!0;if(3&l.type||E){const hn=Vi(l,i),Rn=E?E(hn):hn,er=ge.length,gr=E?Or=>E(ai(Or[l.index])):l.index;let an=null;if(!E&&M&&(an=function m_(n,i,s,l){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const E=c[p];if(E===s&&c[p+1]===l){const M=i[ui],N=c[p+2];return M.length>N?M[N]:null}"string"==typeof E&&(p+=2)}return null}(n,i,c,l.index)),null!==an)(an.__ngLastListenerFn__||an).__ngNextListenerFn__=p,an.__ngLastListenerFn__=p,Qe=!1;else{p=Zf(l,i,J,p,!1);const Or=s.listen(Rn,c,p);ge.push(p,Or),j&&j.push(c,gr,er,er+1)}}else p=Zf(l,i,J,p,!1);const _t=l.outputs;let Yt;if(Qe&&null!==_t&&(Yt=_t[c])){const hn=Yt.length;if(hn)for(let Rn=0;Rn<hn;Rn+=2){const Xi=i[Yt[Rn]][Yt[Rn+1]].subscribe(p),Wo=ge.length;ge.push(p,Xi),j&&j.push(c,l.index,Wo,-(Wo+1))}}}(p,c,c[Re],E,n,i,l),Bg}function Iy(n,i,s,l){try{return si(6,i,s),!1!==s(l)}catch(c){return yc(n,c),!1}finally{si(7,i,s)}}function Zf(n,i,s,l,c){return function p(E){if(E===Function)return l;mc(n.componentOffset>-1?_i(n.index,i):i);let N=Iy(i,s,l,E),j=p.__ngNextListenerFn__;for(;j;)N=Iy(i,s,j,E)&&N,j=j.__ngNextListenerFn__;return c&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function wy(n=1){return function Ea(n){return(sr.lFrame.contextLView=function $s(n,i){for(;n>0;)i=i[yt],n--;return i}(n,sr.lFrame.contextLView))[_r]}(n)}function $g(n,i){let s=null;const l=function Um(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===l?Vm(n,p,!0):yh(l,p))return c}else s=c}return s}function Vg(n){const i=C()[Dt][Ur];if(!i.projection){const l=i.projection=da(n?n.length:1,null),c=l.slice();let p=i.child;for(;null!==p;){const E=n?$g(p,n):0;null!==E&&(c[E]?c[E].projectionNext=p:l[E]=p,c[E]=p),p=p.next}}}function Xf(n,i=0,s){const l=C(),c=x(),p=Gc(c,Xn+n,16,null,s||null);null===p.projection&&(p.projection=i),li(),32!=(32&p.flags)&&function th(n,i,s){nh(i[Re],0,i,s,Ua(n,s,i),rd(s.parent||i[Ur],s,i))}(c,l,p)}function Qf(n,i,s){return Ug(n,"",i,"",s),Qf}function Ug(n,i,s,l,c){const p=C(),E=Bu(p,i,s,l);return E!==Tr&&na(x(),Pr(),p,n,E,p[Re],c,!1),Ug}function rp(n,i){return n<<17|i<<2}function Bl(n){return n>>17&32767}function ip(n){return 2|n}function $l(n){return(131068&n)>>2}function jg(n,i){return-131069&n|i<<2}function Hg(n){return 1|n}function op(n,i,s,l,c){const p=n[s+1],E=null===i;let M=l?Bl(p):$l(p),N=!1;for(;0!==M&&(!1===N||E);){const J=n[M+1];Sy(n[M],i)&&(N=!0,n[M+1]=l?Hg(J):ip(J)),M=l?Bl(J):$l(J)}N&&(n[s+1]=l?ip(p):Hg(p))}function Sy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&w(n,i)>=0}function up(n,i){return function Xa(n,i,s,l){const c=C(),p=x(),E=Do(2);p.firstUpdatePass&&function Xg(n,i,s,l){const c=n.data;if(null===c[s+1]){const p=c[Hi()],E=function dp(n,i){return i>=n.expandoStartIndex}(n,s);(function em(n,i){return 0!=(n.flags&(i?8:16))})(p,l)&&null===i&&!E&&(i=!1),i=function Ry(n,i,s,l){const c=function Xo(n){const i=sr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let p=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Ld(s=fp(null,n,i,s,l),i.attrs,l),p=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==c)if(s=fp(c,n,i,s,l),null===p){let N=function Oy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==$l(l))return n[Bl(l)]}(n,i,l);void 0!==N&&Array.isArray(N)&&(N=fp(null,n,i,N[1],l),N=Ld(N,i.attrs,l),function hp(n,i,s,l){n[Bl(s?i.classBindings:i.styleBindings)]=l}(n,i,l,N))}else p=function ei(n,i,s){let l;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)l=Ld(l,n[p].hostAttrs,s);return Ld(l,i.attrs,s)}(n,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),s}(c,p,i,l),function Gg(n,i,s,l,c,p){let E=p?i.classBindings:i.styleBindings,M=Bl(E),N=$l(E);n[l]=s;let J,j=!1;if(Array.isArray(s)?(J=s[1],(null===J||w(s,J)>0)&&(j=!0)):J=s,c)if(0!==N){const Qe=Bl(n[M+1]);n[l+1]=rp(Qe,M),0!==Qe&&(n[Qe+1]=jg(n[Qe+1],l)),n[M+1]=function kd(n,i){return 131071&n|i<<17}(n[M+1],l)}else n[l+1]=rp(M,0),0!==M&&(n[M+1]=jg(n[M+1],l)),M=l;else n[l+1]=rp(N,0),0===M?M=l:n[N+1]=jg(n[N+1],l),N=l;j&&(n[l+1]=ip(n[l+1])),op(n,J,l,!0),op(n,J,l,!1),function Wg(n,i,s,l,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&w(p,i)>=0&&(s[l+1]=Hg(s[l+1]))}(i,J,n,l,p),E=rp(M,N),p?i.classBindings=E:i.styleBindings=E}(c,p,i,s,E,l)}}(p,n,E,l),i!==Tr&&vs(c,E,i)&&function _l(n,i,s,l,c,p,E,M){if(!(3&i.type))return;const N=n.data,j=N[M+1],J=function y_(n){return 1==(1&n)}(j)?Jg(N,i,s,c,$l(j),E):void 0;pp(J)||(pp(p)||function Ty(n){return 2==(2&n)}(j)&&(p=Jg(N,null,s,c,M,E)),function fl(n,i,s,l,c){if(i)c?n.addClass(s,l):n.removeClass(s,l);else{let p=-1===l.indexOf("-")?void 0:as.DashCase;null==c?n.removeStyle(s,l,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=as.Important),n.setStyle(s,l,c,p))}}(l,E,ko(Hi(),s),c,p))}(p,p.data[Hi()],c,c[Re],n,c[E+1]=function gp(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=xe(ls(n)))),n}(i,s),l,E)}(n,i,null,!0),up}function fp(n,i,s,l,c){let p=null;const E=s.directiveEnd;let M=s.directiveStylingLast;for(-1===M?M=s.directiveStart:M++;M<E&&(p=i[M],l=Ld(l,p.hostAttrs,c),p!==n);)M++;return null!==n&&(s.directiveStylingLast=M),l}function Ld(n,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const E=i[p];"number"==typeof E?c=E:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Uo(n,E,!!s||i[++p]))}return void 0===n?null:n}function Jg(n,i,s,l,c,p){const E=null===i;let M;for(;c>0;){const N=n[c],j=Array.isArray(N),J=j?N[1]:N,ge=null===J;let Qe=s[c+1];Qe===Tr&&(Qe=ge?Wt:void 0);let _t=ge?js(Qe,l):J===l?Qe:void 0;if(j&&!pp(_t)&&(_t=js(N,l)),pp(_t)&&(M=_t,E))return M;const Yt=n[c+1];c=E?Bl(Yt):$l(Yt)}if(null!==i){let N=p?i.residualClasses:i.residualStyles;null!=N&&(M=js(N,l))}return M}function pp(n){return void 0!==n}function mp(n,i=""){const s=C(),l=x(),c=n+Xn,p=l.firstCreatePass?Gc(l,c,1,i,null):l.data[c],E=s[c]=function du(n,i){return n.createText(i)}(s[Re],i);Ao(l,s,E,p),Cr(p,!1)}function tm(n){return Bd("",n,""),tm}function Bd(n,i,s){const l=C(),c=Bu(l,n,i,s);return c!==Tr&&vc(l,Hi(),c),Bd}function nm(n,i,s,l,c){const p=C(),E=$u(p,n,i,s,l,c);return E!==Tr&&vc(p,Hi(),E),nm}const ju=void 0;var am=["en",[["a","p"],["AM","PM"],ju],[["AM","PM"],ju,ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ju,"{1} 'at' {0}",ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P_(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Qc={};function Ic(n){const i=function Ip(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=_p(i);if(s)return s;const l=i.split("-")[0];if(s=_p(l),s)return s;if("en"===l)return am;throw new Ie(701,!1)}function lm(n){return Ic(n)[fr.PluralCase]}function _p(n){return n in Qc||(Qc[n]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[n]),Qc[n]}var fr=(()=>((fr=fr||{})[fr.LocaleId=0]="LocaleId",fr[fr.DayPeriodsFormat=1]="DayPeriodsFormat",fr[fr.DayPeriodsStandalone=2]="DayPeriodsStandalone",fr[fr.DaysFormat=3]="DaysFormat",fr[fr.DaysStandalone=4]="DaysStandalone",fr[fr.MonthsFormat=5]="MonthsFormat",fr[fr.MonthsStandalone=6]="MonthsStandalone",fr[fr.Eras=7]="Eras",fr[fr.FirstDayOfWeek=8]="FirstDayOfWeek",fr[fr.WeekendRange=9]="WeekendRange",fr[fr.DateFormat=10]="DateFormat",fr[fr.TimeFormat=11]="TimeFormat",fr[fr.DateTimeFormat=12]="DateTimeFormat",fr[fr.NumberSymbols=13]="NumberSymbols",fr[fr.NumberFormats=14]="NumberFormats",fr[fr.CurrencyCode=15]="CurrencyCode",fr[fr.CurrencySymbol=16]="CurrencySymbol",fr[fr.CurrencyName=17]="CurrencyName",fr[fr.Currencies=18]="Currencies",fr[fr.Directionality=19]="Directionality",fr[fr.PluralCase=20]="PluralCase",fr[fr.ExtraData=21]="ExtraData",fr))();const Hl="en-US";let wc=Hl;function qu(n,i,s,l,c){if(n=ae(n),Array.isArray(n))for(let p=0;p<n.length;p++)qu(n[p],i,s,l,c);else{const p=x(),E=C();let M=$c(n)?n:ae(n.provide),N=zp(n);const j=it(),J=1048575&j.providerIndexes,ge=j.directiveStart,Qe=j.providerIndexes>>20;if($c(n)||!n.multi){const _t=new ye(N,c,gc),Yt=pm(M,i,c?J:J+Qe,ge);-1===Yt?(Br(rl(j,E),p,M),Wh(p,n,i.length),i.push(M),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(_t),E.push(_t)):(s[Yt]=_t,E[Yt]=_t)}else{const _t=pm(M,i,J+Qe,ge),Yt=pm(M,i,J,J+Qe),Rn=Yt>=0&&s[Yt];if(c&&!Rn||!c&&!(_t>=0&&s[_t])){Br(rl(j,E),p,M);const er=function cv(n,i,s,l,c){const p=new ye(n,s,gc);return p.multi=[],p.index=i,p.componentProviders=0,av(p,c,l&&!s),p}(c?Ap:lv,s.length,c,l,N);!c&&Rn&&(s[Yt].providerFactory=er),Wh(p,n,i.length,0),i.push(M),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(er),E.push(er)}else Wh(p,n,_t>-1?_t:Yt,av(s[c?Yt:_t],N,!c&&l));!c&&l&&Rn&&s[Yt].componentProviders++}}}function Wh(n,i,s,l){const c=$c(i),p=function xm(n){return!!n.useClass}(i);if(c||p){const N=(p?ae(i.useClass):i).prototype.ngOnDestroy;if(N){const j=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const J=j.indexOf(s);-1===J?j.push(s,[l,N]):j[J+1].push(l,N)}else j.push(s,N)}}}function av(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function pm(n,i,s,l){for(let c=s;c<l;c++)if(i[c]===n)return c;return-1}function lv(n,i,s,l){return gm(this.multi,[])}function Ap(n,i,s,l){const c=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,M=Rr(s,s[dn],this.providerFactory.index,l);p=M.slice(0,E),gm(c,p);for(let N=E;N<M.length;N++)p.push(M[N])}else p=[],gm(c,p);return p}function gm(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function mm(n,i=[]){return s=>{s.providersResolver=(l,c)=>function sv(n,i,s){const l=x();if(l.firstCreatePass){const c=jr(n);qu(s,l.data,l.blueprint,c,!0),qu(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class Ja{}class xa{}function ra(n,i){return new ym(n,null!=i?i:null)}class ym extends Ja{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lf(this);const l=kn(i);this._bootstrapComponents=Gs(l.bootstrap),this._r3Injector=tg(i,s,[{provide:Ja,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],xe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ku extends xa{constructor(i){super(),this.moduleType=i}create(i){return new ym(this.moduleType,i)}}class qh extends Ja{constructor(i,s,l){super(),this.componentFactoryResolver=new Lf(this),this.instance=null;const c=new Hp([...i,{provide:Ja,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],s||gd(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Rs(n,i,s=null){return new qh(n,i,s).injector}let E0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Mm(0,s.type),c=l.length>0?Rs([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Qt({token:n,providedIn:"environment",factory:()=>new n(ir(Cu))}),n})();function Mp(n){n.getStandaloneInjector=i=>i.get(E0).getOrCreateStandaloneInjector(n)}function Rp(n,i,s){const l=Oi()+n,c=C();return c[l]===Tr?Ll(c,l,s?i.call(s):i()):function ku(n,i){return n[i]}(c,l)}function fv(n,i,s,l){return Im(C(),Oi(),n,i,s,l)}function zd(n,i){const s=n[i];return s===Tr?void 0:s}function Im(n,i,s,l,c,p){const E=i+s;return vs(n,E,c)?Ll(n,E+1,p?l.call(p,c):l(c)):zd(n,E+1)}function o(n,i){const s=x();let l;const c=n+Xn;var p;s.firstCreatePass?(l=function a(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(null!==(p=s.destroyHooks)&&void 0!==p?p:s.destroyHooks=[]).push(c,l.onDestroy)):l=s.data[c];const E=l.factory||(l.factory=Ar(l.type)),M=lr(gc);try{const N=nl(!1),j=E();return nl(N),function g_(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,C(),c,j),j}finally{lr(M)}}function g(n,i,s){const l=n+Xn,c=C(),p=vi(c,l);return Oe(c,l)?Im(c,Oi(),i,p.transform,s,p):p.transform(s)}function A(n,i,s,l){const c=n+Xn,p=C(),E=vi(p,c);return Oe(p,c)?function _v(n,i,s,l,c,p,E){const M=i+s;return Fu(n,M,c,p)?Ll(n,M+2,E?l.call(E,c,p):l(c,p)):zd(n,M+2)}(p,Oi(),i,E.transform,s,l,E):E.transform(s,l)}function Oe(n,i){return n[dn].data[i].pure}function Ut(n){return i=>{setTimeout(n,void 0,i)}}const sn=class wt extends m.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let c=i,p=s||(()=>null),E=l;if(i&&"object"==typeof i){var M,N,j;const ge=i;c=null===(M=ge.next)||void 0===M?void 0:M.bind(ge),p=null===(N=ge.error)||void 0===N?void 0:N.bind(ge),E=null===(j=ge.complete)||void 0===j?void 0:j.bind(ge)}this.__isAsync&&(p=Ut(p),c&&(c=Ut(c)),E&&(E=Ut(E)));const J=super.subscribe({next:c,error:p,complete:E});return i instanceof h.w0&&i.add(J),J}};function Mn(){return this._results[Symbol.iterator]()}class On{get changes(){return this._changes||(this._changes=new sn)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=On.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Mn)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=function os(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function sl(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],p=i[l];if(s&&(c=s(c),p=s(p)),p!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let br=(()=>{class n{}return n.__NG_ELEMENT_ID__=po,n})();const ni=br,kr=class extends ni{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i,s){const l=this._declarationTContainer.tView,c=wh(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,s||null);c[Pt]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[nn];return null!==E&&(c[nn]=E.createEmbeddedView(l)),cg(l,c,i),new Ou(c)}};function po(){return Ai(it(),C())}function Ai(n,i){return 4&n.type?new kr(i,n,Ka(n,i)):null}let Si=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ks,n})();function Ks(){return fE(it(),C())}const Yu=Si,wm=class extends Yu{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Ka(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ei(this._hostTNode,this._hostLView);if(zi(i)){const s=To(i,this._hostLView),l=bo(i);return new Vs(s[dn].data[l+8],s)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=hE(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(i,s,l){let c,p;"number"==typeof l?c=l:null!=l&&(c=l.index,p=l.injector);const E=i.createEmbeddedView(s||{},p);return this.insert(E,c),E}createComponent(i,s,l,c,p){const E=i&&!function Fa(n){return"function"==typeof n}(i);let M;if(E)M=s;else{const ge=s||{};M=ge.index,l=ge.injector,c=ge.projectableNodes,p=ge.environmentInjector||ge.ngModuleRef}const N=E?i:new Fl(En(i)),j=l||this.parentInjector;if(!p&&null==N.ngModule){const Qe=(E?j:this.parentInjector).get(Cu,null);Qe&&(p=Qe)}const J=N.create(j,c,void 0,p);return this.insert(J.hostView,M),J}insert(i,s){const l=i._lView,c=l[dn];if(function Ys(n){return rr(n[xr])}(l)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ge=l[xr],Qe=new wm(ge,ge[Ur],ge[xr]);Qe.detach(Qe.indexOf(i))}}const p=this._adjustIndex(s),E=this._lContainer;!function oc(n,i,s,l){const c=Kt+l,p=s.length;l>0&&(s[c-1][gi]=i),l<p-Kt?(i[gi]=s[c],Al(s,Kt+l,i)):(s.push(i),i[gi]=null),i[xr]=s;const E=i[Pt];null!==E&&s!==E&&function Jh(n,i){const s=n[Ft];i[Dt]!==i[xr][xr][Dt]&&(n[tt]=!0),null===s?n[Ft]=[i]:s.push(i)}(E,i);const M=i[nn];null!==M&&M.insertView(n),i[Hn]|=64}(c,l,E,p);const M=za(p,E),N=l[Re],j=fu(N,E[He]);return null!==j&&function Qd(n,i,s,l,c,p){l[pi]=c,l[Ur]=i,hl(n,l,s,1,c,p)}(c,E[Ur],N,l,j,M),i.attachToViewContainerRef(),Al(M0(E),p,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=hE(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Rc(this._lContainer,s);l&&(vt(M0(this._lContainer),s),tf(l[dn],l))}detach(i){const s=this._adjustIndex(i,-1),l=Rc(this._lContainer,s);return l&&null!=vt(M0(this._lContainer),s)?new Ou(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function hE(n){return n[dt]}function M0(n){return n[dt]||(n[dt]=[])}function fE(n,i){let s;const l=i[n.index];if(rr(l))s=l;else{let c;if(8&n.type)c=ai(l);else{const p=i[Re];c=p.createComment("");const E=Vi(n,i);ja(p,fu(p,E),c,function Pc(n,i){return n.nextSibling(i)}(p,E),!1)}i[n.index]=s=ly(l,i,c,n),Dd(i,s)}return new wm(s,n,i)}class x0{constructor(i){this.queryList=i,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class R0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let p=0;p<l;p++){const E=s.getByIndex(p);c.push(this.queries[E.indexInDeclarationView].clone())}return new R0(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==wE(i,s).matches&&this.queries[s].setDirty()}}class pE{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class O0{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,p=this.getByIndex(l).embeddedTView(i,c);p&&(p.indexInDeclarationView=l,null!==s?s.push(p):s=[p])}return null!==s?new O0(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class P0{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new P0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(i,s,yI(s,p)),this.matchTNodeWithReadOption(i,s,jt(s,i,p,!1,!1))}else l===br?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,jt(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===yl||c===Si||c===br&&4&s.type)this.addMatch(s.index,-2);else{const p=jt(s,i,c,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function yI(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function _I(n,i,s,l){return-1===s?function vI(n,i){return 11&n.type?Ka(n,i):4&n.type?Ai(n,i):null}(i,n):-2===s?function EI(n,i,s){return s===yl?Ka(i,n):s===br?Ai(i,n):s===Si?fE(i,n):void 0}(n,i,l):Rr(n,n[dn],s,i)}function gE(n,i,s,l){const c=i[nn].queries[l];if(null===c.matches){const p=n.data,E=s.matches,M=[];for(let N=0;N<E.length;N+=2){const j=E[N];M.push(j<0?null:_I(i,p[j],E[N+1],s.metadata.read))}c.matches=M}return c.matches}function N0(n,i,s,l){const c=n.queries.getByIndex(s),p=c.matches;if(null!==p){const E=gE(n,i,c,s);for(let M=0;M<p.length;M+=2){const N=p[M];if(N>0)l.push(E[M/2]);else{const j=p[M+1],J=i[-N];for(let ge=Kt;ge<J.length;ge++){const Qe=J[ge];Qe[Pt]===Qe[xr]&&N0(Qe[dn],Qe,j,l)}if(null!==J[Ft]){const ge=J[Ft];for(let Qe=0;Qe<ge.length;Qe++){const _t=ge[Qe];N0(_t[dn],_t,j,l)}}}}}return l}function mE(n){const i=C(),s=x(),l=va();Xs(l+1);const c=wE(s,l);if(n.dirty&&function Fo(n){return 4==(4&n[Hn])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?N0(s,i,l,[]):gE(s,i,c,l);n.reset(p,Tu),n.notifyOnChanges()}return!0}return!1}function yE(n,i,s){const l=x();l.firstCreatePass&&(IE(l,new pE(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),EE(l,C(),i)}function vE(n,i,s,l){const c=x();if(c.firstCreatePass){const p=it();IE(c,new pE(i,s,l),p.index),function wI(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}EE(c,C(),s)}function _E(){return function II(n,i){return n[nn].queries[i].queryList}(C(),va())}function EE(n,i,s){const l=new On(4==(4&s));ty(n,i,l,l.destroy),null===i[nn]&&(i[nn]=new R0),i[nn].queries.push(new x0(l))}function IE(n,i,s){null===n.queries&&(n.queries=new O0),n.queries.track(new P0(i,s))}function wE(n,i){return n.queries.getByIndex(i)}function k0(n){return!!kn(n)}function Iv(...n){}const VE=new ci("Application Initializer");let wv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Iv,this.reject=Iv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Lg(p))s.push(p);else if(Ey(p)){const E=new Promise((M,N)=>{p.subscribe({complete:M,error:N})});s.push(E)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ir(VE,8))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE=new ci("AppId",{providedIn:"root",factory:function jE(){return`${V0()}${V0()}${V0()}`}});function V0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HE=new ci("Platform Initializer"),HI=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let zI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dv=new ci("LocaleId",{providedIn:"root",factory:()=>vr(Dv,Jt.Optional|Jt.SkipSelf)||function GI(){return typeof $localize<"u"&&$localize.locale||Hl}()}),WI=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qI{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let KI=(()=>{class n{compileModuleSync(s){return new Ku(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),p=Gs(kn(s).declarations).reduce((E,M)=>{const N=En(M);return N&&E.push(new Fl(N)),E},[]);return new qI(l,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XI=(()=>Promise.resolve(0))();function U0(n){typeof Zone>"u"?XI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function QI(){let n=Pn.requestAnimationFrame,i=Pn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function tw(n){const i=()=>{!function ew(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,H0(n),n.isCheckStableRunning=!0,j0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),H0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,p,E,M)=>{try{return WE(n),s.invokeTask(c,p,E,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),qE(n)}},onInvoke:(s,l,c,p,E,M,N)=>{try{return WE(n),s.invoke(c,p,E,M,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),qE(n)}},onHasTask:(s,l,c,p)=>{s.hasTask(c,p),l===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,H0(n),j0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,l,c,p)=>(s.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gl.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Gl.isInAngularZone())throw new Ie(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+c,i,JI,Iv,Iv);try{return p.runTask(E,s,l)}finally{p.cancelTask(E)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const JI={};function j0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function H0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function WE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qE(n){n._nesting--,j0(n)}class nw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn,this.onMicrotaskEmpty=new sn,this.onStable=new sn,this.onError=new sn}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}const KE=new ci(""),YE=new ci("");let z0,rw=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,z0||(function iw(n){z0=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gl.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(ir(Gl),ir(ZE),ir(YE))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})(),ZE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var c,p;return null!==(c=null===(p=z0)||void 0===p?void 0:p.findTestabilityInTree(this,s,l))&&void 0!==c?c:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zu=!1;let Gd=null;const XE=new ci("AllowMultipleToken"),G0=new ci("PlatformDestroyListeners"),QE=new ci("appBootstrapListener");class aw{constructor(i,s){this.name=i,this.token=s}}function eI(n,i,s=[]){const l=`Platform: ${i}`,c=new ci(l);return(p=[])=>{let E=W0();if(!E||E.injector.get(XE,!1)){const M=[...s,...p,{provide:c,useValue:!0}];n?n(M):function lw(n){if(Gd&&!Gd.get(XE,!1))throw new Ie(400,!1);Gd=n;const i=n.get(nI);(function JE(n){const i=n.get(HE,null);i&&i.forEach(s=>s())})(n)}(function tI(n=[],i){return Mu.create({name:i,providers:[{provide:hf,useValue:"platform"},{provide:G0,useValue:new Set([()=>Gd=null])},...n]})}(M,l))}return function uw(n){const i=W0();if(!i)throw new Ie(401,!1);return i}()}}function W0(){var n,i;return null!==(n=null===(i=Gd)||void 0===i?void 0:i.get(nI))&&void 0!==n?n:null}let nI=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function iI(n,i){let s;return s="noop"===n?new nw:("zone.js"===n?void 0:n)||new Gl(i),s}(null==l?void 0:l.ngZone,function rI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Gl,useValue:c}];return c.run(()=>{const E=Mu.create({providers:p,parent:this.injector,name:s.moduleType.name}),M=s.create(E),N=M.injector.get(fc,null);if(!N)throw new Ie(402,!1);return c.runOutsideAngular(()=>{const j=c.onError.subscribe({next:J=>{N.handleError(J)}});M.onDestroy(()=>{Cv(this._modules,M),j.unsubscribe()})}),function oI(n,i,s){try{const l=s();return Lg(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(N,c,()=>{const j=M.injector.get(wv);return j.runInitializers(),j.donePromise.then(()=>(function Vd(n){et(n,"Expected localeId to be defined"),"string"==typeof n&&(wc=n.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Dv,Hl)||Hl),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,l=[]){const c=sI({},l);return function ow(n,i,s){const l=new Ku(s);return Promise.resolve(l)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(s){const l=s.injector.get(bv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ie(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(G0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ir(Mu))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function sI(n,i){return Array.isArray(i)?i.reduce(sI,n):{...n,...i}}let bv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,c){this._zone=s,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new W.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),E=new W.y(M=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Gl.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Gl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{N.unsubscribe(),j.unsubscribe()}});this.isStable=(0,te.T)(p,E.pipe((0,Te.B)()))}bootstrap(s,l){const c=s instanceof Pm;if(!this._injector.get(wv).done){!c&&Yn(s);throw new Ie(405,Zu)}let E;E=c?s:this._injector.get(yd).resolveComponentFactory(s),this.componentTypes.push(E.componentType);const M=function sw(n){return n.isBoundToModule}(E)?void 0:this._injector.get(Ja),j=E.create(Mu.NULL,[],l||E.selector,M),J=j.location.nativeElement,ge=j.injector.get(KE,null);return null==ge||ge.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),Cv(this.components,j),null==ge||ge.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Cv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(QE,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Cv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ie(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(ir(Gl),ir(Cu),ir(fc))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function hw(){return!1}function fw(){}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(n){return function mw(n,i,s){if(Bi(n)&&!s){const l=_i(n.index,i);return new Ou(l,l)}return 47&n.type?new Ou(i[Dt],i):null}(it(),C(),16==(16&n))}class dI{constructor(){}supports(i){return Sd(i)}create(i){return new ww(i)}}const Iw=(n,i)=>i;class ww{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Iw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,p=null;for(;s||l;){const E=!l||s&&s.currentIndex<fI(l,c,p)?s:l,M=fI(E,c,p),N=E.currentIndex;if(E===l)c--,l=l._nextRemoved;else if(s=s._next,null==E.previousIndex)c++;else{p||(p=[]);const j=M-c,J=N-c;if(j!=J){for(let Qe=0;Qe<j;Qe++){const _t=Qe<p.length?p[Qe]:p[Qe]=0,Yt=_t+Qe;J<=Yt&&Yt<j&&(p[Qe]=_t+1)}p[E.previousIndex]=J-j}}M!==N&&i(E,M,N)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Sd(i))throw new Ie(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,E,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let M=0;M<this.length;M++)p=i[M],E=this._trackByFn(M,p),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,p,E,M)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,E,M),l=!0),s=s._next}else c=0,function Mg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,M=>{E=this._trackByFn(c,M),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,M,E,c)),Object.is(s.item,M)||this._addIdentityChange(s,M)):(s=this._mismatch(s,M,E,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,p,c)):i=this._addAfter(new Dw(s,l),p,c),i}_verifyReinsertion(i,s,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new hI),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Dw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class hI{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new bw,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fI(n,i,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class pI{constructor(){}supports(i){return i instanceof Map||Nh(i)}create(){return new Cw}}class Cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Nh(i)))throw new Ie(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const p=c._prev,E=c._next;return p&&(p._next=E),E&&(E._prev=p),c._next=null,c._prev=null,c}const l=new Tw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Tw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gI(){return new X0([new dI])}let X0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||gI()),deps:[[n,new no,new zr]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new Ie(901,!1)}}return n.\u0275prov=Qt({token:n,providedIn:"root",factory:gI}),n})();function mI(){return new Q0([new pI])}let Q0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||mI()),deps:[[n,new no,new zr]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new Ie(901,!1)}}return n.\u0275prov=Qt({token:n,providedIn:"root",factory:mI}),n})();const Mw=eI(null,"core",[]);let xw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ir(bv))},n.\u0275mod=pt({type:n}),n.\u0275inj=At({}),n})();function Rw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Pw(n,i){const s=En(n),l=i.elementInjector||gd();return new Fl(s).create(l,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(ln,st,F)=>{"use strict";F.d(st,{qu:()=>ds,NI:()=>Dt,u:()=>Ko,sg:()=>lo,u5:()=>$,nD:()=>vi,JU:()=>qe,a5:()=>Vr,JJ:()=>Pn,JL:()=>zn,On:()=>Ft,UX:()=>re,kI:()=>Ue,_Y:()=>Kt});var m=F(4650),h=F(6895),W=F(8996),te=F(9751),Te=F(4742),Ee=F(8421),le=F(7669),xe=F(5403),Ae=F(3268),he=F(1810),ae=F(4004);let Me=(()=>{class C{constructor(R,q){this._renderer=R,this._elementRef=q,this.onChange=it=>{},this.onTouched=()=>{}}setProperty(R,q){this._renderer.setProperty(this._elementRef.nativeElement,R,q)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(m.Qsj),m.Y36(m.SBq))},C.\u0275dir=m.lG2({type:C}),C})(),pe=(()=>{class C extends Me{}return C.\u0275fac=function(){let x;return function(q){return(x||(x=m.n5z(C)))(q||C)}}(),C.\u0275dir=m.lG2({type:C,features:[m.qOj]}),C})();const qe=new m.OlP("NgValueAccessor"),me={provide:qe,useExisting:(0,m.Gpc)(()=>Xe),multi:!0},at=new m.OlP("CompositionEventMode");let Xe=(()=>{class C extends Me{constructor(R,q,it){super(R,q),this._compositionMode=it,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const C=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(C.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(at,8))},C.\u0275dir=m.lG2({type:C,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,q){1&R&&m.NdJ("input",function(rn){return q._handleInput(rn.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(rn){return q._compositionEnd(rn.target.value)})},features:[m._Bn([me]),m.qOj]}),C})();const Ge=!1;function Be(C){return null==C||("string"==typeof C||Array.isArray(C))&&0===C.length}function mt(C){return null!=C&&"number"==typeof C.length}const be=new m.OlP("NgValidators"),ve=new m.OlP("NgAsyncValidators"),Ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ue{static min(x){return function Le(C){return x=>{if(Be(x.value)||Be(C))return null;const R=parseFloat(x.value);return!isNaN(R)&&R<C?{min:{min:C,actual:x.value}}:null}}(x)}static max(x){return function Ze(C){return x=>{if(Be(x.value)||Be(C))return null;const R=parseFloat(x.value);return!isNaN(R)&&R>C?{max:{max:C,actual:x.value}}:null}}(x)}static required(x){return function Ye(C){return Be(C.value)?{required:!0}:null}(x)}static requiredTrue(x){return function We(C){return!0===C.value?null:{required:!0}}(x)}static email(x){return function ut(C){return Be(C.value)||Ce.test(C.value)?null:{email:!0}}(x)}static minLength(x){return function nt(C){return x=>Be(x.value)||!mt(x.value)?null:x.value.length<C?{minlength:{requiredLength:C,actualLength:x.value.length}}:null}(x)}static maxLength(x){return _e(x)}static pattern(x){return function De(C){if(!C)return we;let x,R;return"string"==typeof C?(R="","^"!==C.charAt(0)&&(R+="^"),R+=C,"$"!==C.charAt(C.length-1)&&(R+="$"),x=new RegExp(R)):(R=C.toString(),x=C),q=>{if(Be(q.value))return null;const it=q.value;return x.test(it)?null:{pattern:{requiredPattern:R,actualValue:it}}}}(x)}static nullValidator(x){return null}static compose(x){return ot(x)}static composeAsync(x){return xt(x)}}function _e(C){return x=>mt(x.value)&&x.value.length>C?{maxlength:{requiredLength:C,actualLength:x.value.length}}:null}function we(C){return null}function et(C){return null!=C}function lt(C){const x=(0,m.QGY)(C)?(0,W.D)(C):C;if(Ge&&!(0,m.CqO)(x)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof C&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new m.vHH(-1101,R)}return x}function Bt(C){let x={};return C.forEach(R=>{x=null!=R?{...x,...R}:x}),0===Object.keys(x).length?null:x}function bt(C,x){return x.map(R=>R(C))}function Qt(C){return C.map(x=>function cn(C){return!C.validate}(x)?x:R=>x.validate(R))}function ot(C){if(!C)return null;const x=C.filter(et);return 0==x.length?null:function(R){return Bt(bt(R,x))}}function At(C){return null!=C?ot(Qt(C)):null}function xt(C){if(!C)return null;const x=C.filter(et);return 0==x.length?null:function(R){return function se(...C){const x=(0,le.jO)(C),{args:R,keys:q}=(0,Te.D)(C),it=new te.y(rn=>{const{length:Er}=R;if(!Er)return void rn.complete();const Cr=new Array(Er);let Ri=Er,li=Er;for(let Lo=0;Lo<Er;Lo++){let Yr=!1;(0,Ee.Xf)(R[Lo]).subscribe((0,xe.x)(rn,Fs=>{Yr||(Yr=!0,li--),Cr[Lo]=Fs},()=>Ri--,void 0,()=>{(!Ri||!Yr)&&(li||rn.next(q?(0,he.n)(q,Cr):Cr),rn.complete())}))}});return x?it.pipe((0,Ae.Z)(x)):it}(bt(R,x).map(lt)).pipe((0,ae.U)(Bt))}}function Nt(C){return null!=C?xt(Qt(C)):null}function Xt(C,x){return null===C?[x]:Array.isArray(C)?[...C,x]:[C,x]}function on(C){return C._rawValidators}function Zt(C){return C._rawAsyncValidators}function Dn(C){return C?Array.isArray(C)?C:[C]:[]}function Nn(C,x){return Array.isArray(C)?C.includes(x):C===x}function Vn(C,x){const R=Dn(x);return Dn(C).forEach(it=>{Nn(R,it)||R.push(it)}),R}function bn(C,x){return Dn(x).filter(R=>!Nn(C,R))}class Jt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=At(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,R){return!!this.control&&this.control.hasError(x,R)}getError(x,R){return this.control?this.control.getError(x,R):null}}class Cn extends Jt{get formDirective(){return null}get path(){return null}}class Vr extends Jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lr{constructor(x){this._cd=x}get isTouched(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.touched)}get isUntouched(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.untouched)}get isPristine(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.pristine)}get isDirty(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.dirty)}get isValid(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.valid)}get isInvalid(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.invalid)}get isPending(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.pending)}get isSubmitted(){var x;return!(null===(x=this._cd)||void 0===x||!x.submitted)}}let Pn=(()=>{class C extends lr{constructor(R){super(R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(Vr,2))},C.\u0275dir=m.lG2({type:C,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,q){2&R&&m.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[m.qOj]}),C})(),zn=(()=>{class C extends lr{constructor(R){super(R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(Cn,10))},C.\u0275dir=m.lG2({type:C,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,q){2&R&&m.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[m.qOj]}),C})();function ti(C,x){return C?`with name: '${x}'`:`at index: ${x}`}const $e=!1,kt="VALID",Ot="INVALID",ue="PENDING",ce="DISABLED";function Pe(C){return(Ve(C)?C.validators:C)||null}function rt(C,x){return(Ve(x)?x.asyncValidators:C)||null}function Ve(C){return null!=C&&!Array.isArray(C)&&"object"==typeof C}function Se(C,x,R){const q=C.controls;if(!(x?Object.keys(q):q).length)throw new m.vHH(1e3,$e?function vr(C){return`\n    There are no form controls registered with this ${C?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(x):"");if(!q[R])throw new m.vHH(1001,$e?function St(C,x){return`Cannot find form control ${ti(C,x)}`}(x,R):"")}function oe(C,x,R){C._forEachChild((q,it)=>{if(void 0===R[it])throw new m.vHH(1002,$e?function ke(C,x){return`Must supply a value for form control ${ti(C,x)}`}(x,it):"")})}class je{constructor(x,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===kt}get invalid(){return this.status===Ot}get pending(){return this.status==ue}get disabled(){return this.status===ce}get enabled(){return this.status!==ce}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(Vn(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Vn(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(bn(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(bn(x,this._rawAsyncValidators))}hasValidator(x){return Nn(this._rawValidators,x)}hasAsyncValidator(x){return Nn(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=ue,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const R=this._parentMarkedDirty(x.onlySelf);this.status=ce,this.errors=null,this._forEachChild(q=>{q.disable({...x,onlySelf:!0})}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:R}),this._onDisabledChange.forEach(q=>q(!0))}enable(x={}){const R=this._parentMarkedDirty(x.onlySelf);this.status=kt,this._forEachChild(q=>{q.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:R}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===ue)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ce:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=ue,this._hasOwnPendingAsyncValidator=!0;const R=lt(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,R={}){this.errors=x,this._updateControlsErrors(!1!==R.emitEvent)}get(x){let R=x;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((q,it)=>q&&q._find(it),this)}getError(x,R){const q=R?this.get(R):this;return q&&q.errors?q.errors[x]:null}hasError(x,R){return!!this.getError(x,R)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?ce:this.errors?Ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ue)?ue:this._anyControlsHaveStatus(Ot)?Ot:kt}_anyControlsHaveStatus(x){return this._anyControls(R=>R.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Ve(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function ft(C){return Array.isArray(C)?At(C):C||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function Wt(C){return Array.isArray(C)?Nt(C):C||null}(this._rawAsyncValidators)}}class Ct extends je{constructor(x,R,q){super(Pe(R),rt(q,R)),this.controls=x,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,R){return this.controls[x]?this.controls[x]:(this.controls[x]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(x,R,q={}){this.registerControl(x,R),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(x,R={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(x,R,q={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],R&&this.registerControl(x,R),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,R={}){oe(this,!0,x),Object.keys(x).forEach(q=>{Se(this,!0,q),this.controls[q].setValue(x[q],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(x,R={}){null!=x&&(Object.keys(x).forEach(q=>{const it=this.controls[q];it&&it.patchValue(x[q],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(x={},R={}){this._forEachChild((q,it)=>{q.reset(x[it],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(x,R,q)=>(x[q]=R.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(R,q)=>!!q._syncPendingControls()||R);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(R=>{const q=this.controls[R];q&&x(q,R)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[R,q]of Object.entries(this.controls))if(this.contains(R)&&x(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,q,it)=>((q.enabled||this.disabled)&&(R[it]=q.value),R))}_reduceChildren(x,R){let q=x;return this._forEachChild((it,rn)=>{q=R(q,it,rn)}),q}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}class jn extends Ct{}const Ir=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tt}),Tt="always";function pt(C,x){return[...x.path,C]}function Ht(C,x,R=Tt){var q,it;En(C,x),x.valueAccessor.writeValue(C.value),(C.disabled||"always"===R)&&(null===(q=(it=x.valueAccessor).setDisabledState)||void 0===q||q.call(it,C.disabled)),function nr(C,x){x.valueAccessor.registerOnChange(R=>{C._pendingValue=R,C._pendingChange=!0,C._pendingDirty=!0,"change"===C.updateOn&&kn(C,x)})}(C,x),function qi(C,x){const R=(q,it)=>{x.valueAccessor.writeValue(q),it&&x.viewToModelUpdate(q)};C.registerOnChange(R),x._registerOnDestroy(()=>{C._unregisterOnChange(R)})}(C,x),function Yn(C,x){x.valueAccessor.registerOnTouched(()=>{C._pendingTouched=!0,"blur"===C.updateOn&&C._pendingChange&&kn(C,x),"submit"!==C.updateOn&&C.markAsTouched()})}(C,x),function tr(C,x){if(x.valueAccessor.setDisabledState){const R=q=>{x.valueAccessor.setDisabledState(q)};C.registerOnDisabledChange(R),x._registerOnDestroy(()=>{C._unregisterOnDisabledChange(R)})}}(C,x)}function vn(C,x,R=!0){const q=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(q),x.valueAccessor.registerOnTouched(q)),or(C,x),C&&(x._invokeOnDestroyCallbacks(),C._registerOnCollectionChange(()=>{}))}function Sn(C,x){C.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(x)})}function En(C,x){const R=on(C);null!==x.validator?C.setValidators(Xt(R,x.validator)):"function"==typeof R&&C.setValidators([R]);const q=Zt(C);null!==x.asyncValidator?C.setAsyncValidators(Xt(q,x.asyncValidator)):"function"==typeof q&&C.setAsyncValidators([q]);const it=()=>C.updateValueAndValidity();Sn(x._rawValidators,it),Sn(x._rawAsyncValidators,it)}function or(C,x){let R=!1;if(null!==C){if(null!==x.validator){const it=on(C);if(Array.isArray(it)&&it.length>0){const rn=it.filter(Er=>Er!==x.validator);rn.length!==it.length&&(R=!0,C.setValidators(rn))}}if(null!==x.asyncValidator){const it=Zt(C);if(Array.isArray(it)&&it.length>0){const rn=it.filter(Er=>Er!==x.asyncValidator);rn.length!==it.length&&(R=!0,C.setAsyncValidators(rn))}}}const q=()=>{};return Sn(x._rawValidators,q),Sn(x._rawAsyncValidators,q),R}function kn(C,x){C._pendingDirty&&C.markAsDirty(),C.setValue(C._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(C._pendingValue),C._pendingChange=!1}function ur(C,x){if(!C.hasOwnProperty("model"))return!1;const R=C.model;return!!R.isFirstChange()||!Object.is(x,R.currentValue)}function _r(C,x){if(!x)return null;let R,q,it;return Array.isArray(x),x.forEach(rn=>{rn.constructor===Xe?R=rn:function Ur(C){return Object.getPrototypeOf(C.constructor)===pe}(rn)?q=rn:it=rn}),it||q||R||null}function Ne(C,x){const R=C.indexOf(x);R>-1&&C.splice(R,1)}function yt(C){return"object"==typeof C&&null!==C&&2===Object.keys(C).length&&"value"in C&&"disabled"in C}const Dt=class extends je{constructor(x=null,R,q){super(Pe(R),rt(q,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ve(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=yt(x)?x.value:x)}setValue(x,R={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(x,R={}){this.setValue(x,R)}reset(x=this.defaultValue,R={}){this._applyFormState(x),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Ne(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Ne(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){yt(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},He={provide:Vr,useExisting:(0,m.Gpc)(()=>Ft)},dt=(()=>Promise.resolve())();let Ft=(()=>{class C extends Vr{constructor(R,q,it,rn,Er,Cr){super(),this._changeDetectorRef=Er,this.callSetDisabledState=Cr,this.control=new Dt,this._registered=!1,this.update=new m.vpe,this._parent=R,this._setValidators(q),this._setAsyncValidators(it),this.valueAccessor=_r(0,rn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const q=R.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),ur(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ht(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){dt.then(()=>{var q;this.control.setValue(R,{emitViewToModelChange:!1}),null===(q=this._changeDetectorRef)||void 0===q||q.markForCheck()})}_updateDisabled(R){const q=R.isDisabled.currentValue,it=0!==q&&(0,m.D6c)(q);dt.then(()=>{var rn;it&&!this.control.disabled?this.control.disable():!it&&this.control.disabled&&this.control.enable(),null===(rn=this._changeDetectorRef)||void 0===rn||rn.markForCheck()})}_getPath(R){return this._parent?pt(R,this._parent):[R]}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(Cn,9),m.Y36(be,10),m.Y36(ve,10),m.Y36(qe,10),m.Y36(m.sBO,8),m.Y36(Ir,8))},C.\u0275dir=m.lG2({type:C,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([He]),m.qOj,m.TTD]}),C})(),Kt=(()=>{class C{}return C.\u0275fac=function(R){return new(R||C)},C.\u0275dir=m.lG2({type:C,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),C})(),Bi=(()=>{class C{}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({}),C})();const rs=new m.OlP("NgModelWithFormControlWarning"),ao={provide:Cn,useExisting:(0,m.Gpc)(()=>lo)};let lo=(()=>{class C extends Cn{constructor(R,q,it){super(),this.callSetDisabledState=it,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(R),this._setAsyncValidators(q)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const q=this.form.get(R.path);return Ht(q,R,this.callSetDisabledState),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),q}getControl(R){return this.form.get(R.path)}removeControl(R){vn(R.control||null,R,!1),function Z(C,x){const R=C.indexOf(x);R>-1&&C.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,q){this.form.get(R.path).setValue(q)}onSubmit(R){var q;return this.submitted=!0,function ui(C,x){C._syncPendingControls(),x.forEach(R=>{const q=R.control;"submit"===q.updateOn&&q._pendingChange&&(R.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===(null==R||null===(q=R.target)||void 0===q?void 0:q.method)}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const q=R.control,it=this.form.get(R.path);q!==it&&(vn(q||null,R),(C=>C instanceof Dt)(it)&&(Ht(it,R,this.callSetDisabledState),R.control=it))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const q=this.form.get(R.path);(function Mi(C,x){En(C,x)})(q,R),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const q=this.form.get(R.path);q&&function xi(C,x){return or(C,x)}(q,R)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){En(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(be,10),m.Y36(ve,10),m.Y36(Ir,8))},C.\u0275dir=m.lG2({type:C,selectors:[["","formGroup",""]],hostBindings:function(R,q){1&R&&m.NdJ("submit",function(rn){return q.onSubmit(rn)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ao]),m.qOj,m.TTD]}),C})();const ia={provide:Vr,useExisting:(0,m.Gpc)(()=>Ko)};let Ko=(()=>{class C extends Vr{set isDisabled(R){}constructor(R,q,it,rn,Er){super(),this._ngModelWarningConfig=Er,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(q),this._setAsyncValidators(it),this.valueAccessor=_r(0,rn)}ngOnChanges(R){this._added||this._setUpControl(),ur(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return pt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return C._ngModelWarningSentOnce=!1,C.\u0275fac=function(R){return new(R||C)(m.Y36(Cn,13),m.Y36(be,10),m.Y36(ve,10),m.Y36(qe,10),m.Y36(rs,8))},C.\u0275dir=m.lG2({type:C,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ia]),m.qOj,m.TTD]}),C})();let Ui=(()=>{class C{constructor(){this._validator=we}ngOnChanges(R){if(this.inputName in R){const q=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):we,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275dir=m.lG2({type:C,features:[m.TTD]}),C})();const ma={provide:be,useExisting:(0,m.Gpc)(()=>vi),multi:!0};let vi=(()=>{class C extends Ui{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=R=>function Es(C){return"number"==typeof C?C:parseInt(C,10)}(R),this.createValidator=R=>_e(R)}}return C.\u0275fac=function(){let x;return function(q){return(x||(x=m.n5z(C)))(q||C)}}(),C.\u0275dir=m.lG2({type:C,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(R,q){2&R&&m.uIk("maxlength",q._enabled?q.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m._Bn([ma]),m.qOj]}),C})(),Zo=(()=>{class C{}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Bi]}),C})();class cs extends je{constructor(x,R,q){super(Pe(R),rt(q,R)),this.controls=x,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[this._adjustIndex(x)]}push(x,R={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(x,R,q={}){this.controls.splice(x,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(x,R={}){let q=this._adjustIndex(x);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(x,R,q={}){let it=this._adjustIndex(x);it<0&&(it=0),this.controls[it]&&this.controls[it]._registerOnCollectionChange(()=>{}),this.controls.splice(it,1),R&&(this.controls.splice(it,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,R={}){oe(this,!1,x),x.forEach((q,it)=>{Se(this,!1,it),this.at(it).setValue(q,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(x,R={}){null!=x&&(x.forEach((q,it)=>{this.at(it)&&this.at(it).patchValue(q,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(x=[],R={}){this._forEachChild((q,it)=>{q.reset(x[it],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(x=>x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_adjustIndex(x){return x<0?x+this.length:x}_syncPendingControls(){let x=this.controls.reduce((R,q)=>!!q._syncPendingControls()||R,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((R,q)=>{x(R,q)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(R=>R.enabled&&x(R))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}_find(x){var R;return null!==(R=this.at(x))&&void 0!==R?R:null}}function Ds(C){return!!C&&(void 0!==C.asyncValidators||void 0!==C.validators||void 0!==C.updateOn)}let ds=(()=>{class C{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new C;return R.useNonNullable=!0,R}group(R,q=null){const it=this._reduceControls(R);let rn={};return Ds(q)?rn=q:null!==q&&(rn.validators=q.validator,rn.asyncValidators=q.asyncValidator),new Ct(it,rn)}record(R,q=null){const it=this._reduceControls(R);return new jn(it,q)}control(R,q,it){let rn={};return this.useNonNullable?(Ds(q)?rn=q:(rn.validators=q,rn.asyncValidators=it),new Dt(R,{...rn,nonNullable:!0})):new Dt(R,q,it)}array(R,q,it){const rn=R.map(Er=>this._createControl(Er));return new cs(rn,q,it)}_reduceControls(R){const q={};return Object.keys(R).forEach(it=>{q[it]=this._createControl(R[it])}),q}_createControl(R){return R instanceof Dt||R instanceof je?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),$=(()=>{class C{static withConfig(R){var q;return{ngModule:C,providers:[{provide:Ir,useValue:null!==(q=R.callSetDisabledState)&&void 0!==q?q:Tt}]}}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Zo]}),C})(),re=(()=>{class C{static withConfig(R){var q,it;return{ngModule:C,providers:[{provide:rs,useValue:null!==(q=R.warnOnNgModelWithFormControl)&&void 0!==q?q:"always"},{provide:Ir,useValue:null!==(it=R.callSetDisabledState)&&void 0!==it?it:Tt}]}}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Zo]}),C})()},1481:(ln,st,F)=>{"use strict";F.d(st,{Dx:()=>zn,H7:()=>Pe,b2:()=>Vr,q6:()=>Vn});var m=F(6895),h=F(4650);class W extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends W{static makeCurrent(){(0,m.HT)(new te)}onAndCancel(Se,oe,je){return Se.addEventListener(oe,je,!1),()=>{Se.removeEventListener(oe,je,!1)}}dispatchEvent(Se,oe){Se.dispatchEvent(oe)}remove(Se){Se.parentNode&&Se.parentNode.removeChild(Se)}createElement(Se,oe){return(oe=oe||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,oe){return"window"===oe?window:"document"===oe?Se:"body"===oe?Se.body:null}getBaseHref(Se){const oe=function Ee(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==oe?null:function xe(Ve){le=le||document.createElement("a"),le.setAttribute("href",Ve);const Se=le.pathname;return"/"===Se.charAt(0)?Se:`/${Se}`}(oe)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,m.Mx)(document.cookie,Se)}}let le,Te=null;const Ae=new h.OlP("TRANSITION_ID"),se=[{provide:h.ip1,useFactory:function he(Ve,Se,oe){return()=>{oe.get(h.CZH).donePromise.then(()=>{const je=(0,m.q)(),Ct=Se.querySelectorAll(`style[ng-transition="${Ve}"]`);for(let qt=0;qt<Ct.length;qt++)je.remove(Ct[qt])})}},deps:[Ae,m.K0,h.zs3],multi:!0}];let Me=(()=>{class Ve{build(){return new XMLHttpRequest}}return Ve.\u0275fac=function(oe){return new(oe||Ve)},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const pe=new h.OlP("EventManagerPlugins");let qe=(()=>{class Ve{constructor(oe,je){this._zone=je,this._eventNameToPlugin=new Map,oe.forEach(Ct=>{Ct.manager=this}),this._plugins=oe.slice().reverse()}addEventListener(oe,je,Ct){return this._findPluginFor(je).addEventListener(oe,je,Ct)}addGlobalEventListener(oe,je,Ct){return this._findPluginFor(je).addGlobalEventListener(oe,je,Ct)}getZone(){return this._zone}_findPluginFor(oe){const je=this._eventNameToPlugin.get(oe);if(je)return je;const Ct=this._plugins;for(let qt=0;qt<Ct.length;qt++){const fn=Ct[qt];if(fn.supports(oe))return this._eventNameToPlugin.set(oe,fn),fn}throw new Error(`No event manager plugin found for event ${oe}`)}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(pe),h.LFG(h.R0b))},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class gt{constructor(Se){this._doc=Se}addGlobalEventListener(Se,oe,je){const Ct=(0,m.q)().getGlobalEventTarget(this._doc,Se);if(!Ct)throw new Error(`Unsupported event target ${Ct} for event ${oe}`);return this.addEventListener(Ct,oe,je)}}let Ie=(()=>{class Ve{constructor(){this.usageCount=new Map}addStyles(oe){for(const je of oe)1===this.changeUsageCount(je,1)&&this.onStyleAdded(je)}removeStyles(oe){for(const je of oe)0===this.changeUsageCount(je,-1)&&this.onStyleRemoved(je)}onStyleRemoved(oe){}onStyleAdded(oe){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(oe,je){var Ct;const qt=this.usageCount;let fn=null!==(Ct=qt.get(oe))&&void 0!==Ct?Ct:0;return fn+=je,fn>0?qt.set(oe,fn):qt.delete(oe),fn}ngOnDestroy(){for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.usageCount.clear()}}return Ve.\u0275fac=function(oe){return new(oe||Ve)},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),me=(()=>{class Ve extends Ie{constructor(oe){super(),this.doc=oe,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(oe){for(const je of this.hostNodes)this.addStyleToHost(je,oe)}onStyleRemoved(oe){const je=this.styleRef,Ct=je.get(oe);null==Ct||Ct.forEach(qt=>qt.remove()),je.delete(oe)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(oe){this.hostNodes.add(oe);for(const je of this.getAllStyles())this.addStyleToHost(oe,je)}removeHost(oe){this.hostNodes.delete(oe)}addStyleToHost(oe,je){const Ct=this.doc.createElement("style");Ct.textContent=je,oe.appendChild(Ct);const qt=this.styleRef.get(je);qt?qt.push(Ct):this.styleRef.set(je,[Ct])}resetHostNodes(){const oe=this.hostNodes;oe.clear(),oe.add(this.doc.head)}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(m.K0))},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g,ve=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Le(Ve,Se){return Se.flat(100).map(oe=>oe.replace(at,Ve))}function Ze(Ve){return Se=>{if("__ngUnwrap__"===Se)return Ve;!1===Ve(Se)&&(Se.preventDefault(),Se.returnValue=!1)}}let Ye=(()=>{class Ve{constructor(oe,je,Ct,qt){this.eventManager=oe,this.sharedStylesHost=je,this.appId=Ct,this.removeStylesOnCompDestory=qt,this.rendererByCompId=new Map,this.defaultRenderer=new We(oe)}createRenderer(oe,je){if(!oe||!je)return this.defaultRenderer;const Ct=this.getOrCreateRenderer(oe,je);return Ct instanceof et?Ct.applyToHost(oe):Ct instanceof we&&Ct.applyStyles(),Ct}getOrCreateRenderer(oe,je){const Ct=this.rendererByCompId;let qt=Ct.get(je.id);if(!qt){const fn=this.eventManager,jn=this.sharedStylesHost,Zn=this.removeStylesOnCompDestory;switch(je.encapsulation){case h.ifc.Emulated:qt=new et(fn,jn,je,this.appId,Zn);break;case h.ifc.ShadowDom:return new De(fn,jn,oe,je);default:qt=new we(fn,jn,je,Zn)}qt.onDestroy=()=>Ct.delete(je.id),Ct.set(je.id,qt)}return qt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(qe),h.LFG(me),h.LFG(h.AFp),h.LFG(ve))},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class We{constructor(Se){this.eventManager=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Se,oe){return oe?document.createElementNS(ne[oe]||oe,Se):document.createElement(Se)}createComment(Se){return document.createComment(Se)}createText(Se){return document.createTextNode(Se)}appendChild(Se,oe){(_e(Se)?Se.content:Se).appendChild(oe)}insertBefore(Se,oe,je){Se&&(_e(Se)?Se.content:Se).insertBefore(oe,je)}removeChild(Se,oe){Se&&Se.removeChild(oe)}selectRootElement(Se,oe){let je="string"==typeof Se?document.querySelector(Se):Se;if(!je)throw new Error(`The selector "${Se}" did not match any elements`);return oe||(je.textContent=""),je}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,oe,je,Ct){if(Ct){oe=Ct+":"+oe;const qt=ne[Ct];qt?Se.setAttributeNS(qt,oe,je):Se.setAttribute(oe,je)}else Se.setAttribute(oe,je)}removeAttribute(Se,oe,je){if(je){const Ct=ne[je];Ct?Se.removeAttributeNS(Ct,oe):Se.removeAttribute(`${je}:${oe}`)}else Se.removeAttribute(oe)}addClass(Se,oe){Se.classList.add(oe)}removeClass(Se,oe){Se.classList.remove(oe)}setStyle(Se,oe,je,Ct){Ct&(h.JOm.DashCase|h.JOm.Important)?Se.style.setProperty(oe,je,Ct&h.JOm.Important?"important":""):Se.style[oe]=je}removeStyle(Se,oe,je){je&h.JOm.DashCase?Se.style.removeProperty(oe):Se.style[oe]=""}setProperty(Se,oe,je){Se[oe]=je}setValue(Se,oe){Se.nodeValue=oe}listen(Se,oe,je){return"string"==typeof Se?this.eventManager.addGlobalEventListener(Se,oe,Ze(je)):this.eventManager.addEventListener(Se,oe,Ze(je))}}function _e(Ve){return"TEMPLATE"===Ve.tagName&&void 0!==Ve.content}class De extends We{constructor(Se,oe,je,Ct){super(Se),this.sharedStylesHost=oe,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qt=Le(Ct.id,Ct.styles);for(const fn of qt){const jn=document.createElement("style");jn.textContent=fn,this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}appendChild(Se,oe){return super.appendChild(this.nodeOrShadowRoot(Se),oe)}insertBefore(Se,oe,je){return super.insertBefore(this.nodeOrShadowRoot(Se),oe,je)}removeChild(Se,oe){return super.removeChild(this.nodeOrShadowRoot(Se),oe)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class we extends We{constructor(Se,oe,je,Ct,qt=je.id){super(Se),this.sharedStylesHost=oe,this.removeStylesOnCompDestory=Ct,this.rendererUsageCount=0,this.styles=Le(qt,je.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var Se;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(Se=this.onDestroy)||void 0===Se||Se.call(this))}}class et extends we{constructor(Se,oe,je,Ct,qt){const fn=Ct+"-"+je.id;super(Se,oe,je,qt,fn),this.contentAttr=function Ce(Ve){return"_ngcontent-%COMP%".replace(at,Ve)}(fn),this.hostAttr=function Ue(Ve){return"_nghost-%COMP%".replace(at,Ve)}(fn)}applyToHost(Se){this.applyStyles(),this.setAttribute(Se,this.hostAttr,"")}createElement(Se,oe){const je=super.createElement(Se,oe);return super.setAttribute(je,this.contentAttr,""),je}}let lt=(()=>{class Ve extends gt{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,je,Ct){return oe.addEventListener(je,Ct,!1),()=>this.removeEventListener(oe,je,Ct)}removeEventListener(oe,je,Ct){return oe.removeEventListener(je,Ct)}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(m.K0))},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Bt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cn={alt:Ve=>Ve.altKey,control:Ve=>Ve.ctrlKey,meta:Ve=>Ve.metaKey,shift:Ve=>Ve.shiftKey};let Qt=(()=>{class Ve extends gt{constructor(oe){super(oe)}supports(oe){return null!=Ve.parseEventName(oe)}addEventListener(oe,je,Ct){const qt=Ve.parseEventName(je),fn=Ve.eventCallback(qt.fullKey,Ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(oe,qt.domEventName,fn))}static parseEventName(oe){const je=oe.toLowerCase().split("."),Ct=je.shift();if(0===je.length||"keydown"!==Ct&&"keyup"!==Ct)return null;const qt=Ve._normalizeKey(je.pop());let fn="",jn=je.indexOf("code");if(jn>-1&&(je.splice(jn,1),fn="code."),Bt.forEach(Ir=>{const Tt=je.indexOf(Ir);Tt>-1&&(je.splice(Tt,1),fn+=Ir+".")}),fn+=qt,0!=je.length||0===qt.length)return null;const Zn={};return Zn.domEventName=Ct,Zn.fullKey=fn,Zn}static matchEventFullKeyCode(oe,je){let Ct=bt[oe.key]||oe.key,qt="";return je.indexOf("code.")>-1&&(Ct=oe.code,qt="code."),!(null==Ct||!Ct)&&(Ct=Ct.toLowerCase()," "===Ct?Ct="space":"."===Ct&&(Ct="dot"),Bt.forEach(fn=>{fn!==Ct&&(0,cn[fn])(oe)&&(qt+=fn+".")}),qt+=Ct,qt===je)}static eventCallback(oe,je,Ct){return qt=>{Ve.matchEventFullKeyCode(qt,oe)&&Ct.runGuarded(()=>je(qt))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(m.K0))},Ve.\u0275prov=h.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Vn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:m.bD},{provide:h.g9A,useValue:function on(){te.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Dn(){return(0,h.RDi)(document),document},deps:[]}]),bn=new h.OlP(""),Jt=[{provide:h.rWj,useClass:class ae{addToWindow(Se){h.dqk.getAngularTestability=(je,Ct=!0)=>{const qt=Se.findTestabilityInTree(je,Ct);if(null==qt)throw new Error("Could not find testability for element.");return qt},h.dqk.getAllAngularTestabilities=()=>Se.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Se.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(je=>{const Ct=h.dqk.getAllAngularTestabilities();let qt=Ct.length,fn=!1;const jn=function(Zn){fn=fn||Zn,qt--,0==qt&&je(fn)};Ct.forEach(function(Zn){Zn.whenStable(jn)})})}findTestabilityInTree(Se,oe,je){if(null==oe)return null;const Ct=Se.getTestability(oe);return null!=Ct?Ct:je?(0,m.q)().isShadowRoot(oe)?this.findTestabilityInTree(Se,oe.host,!0):this.findTestabilityInTree(Se,oe.parentElement,!0):null}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Cn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Zt(){return new h.qLn},deps:[]},{provide:pe,useClass:lt,multi:!0,deps:[m.K0,h.R0b,h.Lbi]},{provide:pe,useClass:Qt,multi:!0,deps:[m.K0]},{provide:Ye,useClass:Ye,deps:[qe,me,h.AFp,ve]},{provide:h.FYo,useExisting:Ye},{provide:Ie,useExisting:me},{provide:me,useClass:me,deps:[m.K0]},{provide:qe,useClass:qe,deps:[pe,h.R0b]},{provide:m.JF,useClass:Me,deps:[]},[]];let Vr=(()=>{class Ve{constructor(oe){}static withServerTransition(oe){return{ngModule:Ve,providers:[{provide:h.AFp,useValue:oe.appId},{provide:Ae,useExisting:h.AFp},se]}}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(bn,12))},Ve.\u0275mod=h.oAB({type:Ve}),Ve.\u0275inj=h.cJS({providers:[...Cn,...Jt],imports:[m.ez,h.hGG]}),Ve})(),zn=(()=>{class Ve{constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(m.K0))},Ve.\u0275prov=h.Yz7({token:Ve,factory:function(oe){let je=null;return je=oe?new oe:function Pn(){return new zn((0,h.LFG)(m.K0))}(),je},providedIn:"root"}),Ve})();typeof window<"u"&&window;let Pe=(()=>{class Ve{}return Ve.\u0275fac=function(oe){return new(oe||Ve)},Ve.\u0275prov=h.Yz7({token:Ve,factory:function(oe){let je=null;return je=oe?new(oe||Ve):h.LFG(rt),je},providedIn:"root"}),Ve})(),rt=(()=>{class Ve extends Pe{constructor(oe){super(),this._doc=oe}sanitize(oe,je){if(null==je)return null;switch(oe){case h.q3G.NONE:return je;case h.q3G.HTML:return(0,h.qzn)(je,"HTML")?(0,h.z3N)(je):(0,h.EiD)(this._doc,String(je)).toString();case h.q3G.STYLE:return(0,h.qzn)(je,"Style")?(0,h.z3N)(je):je;case h.q3G.SCRIPT:if((0,h.qzn)(je,"Script"))return(0,h.z3N)(je);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(je,"URL")?(0,h.z3N)(je):(0,h.mCW)(String(je));case h.q3G.RESOURCE_URL:if((0,h.qzn)(je,"ResourceURL"))return(0,h.z3N)(je);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${oe} (see ${h.JZr})`)}}bypassSecurityTrustHtml(oe){return(0,h.JVY)(oe)}bypassSecurityTrustStyle(oe){return(0,h.L6k)(oe)}bypassSecurityTrustScript(oe){return(0,h.eBb)(oe)}bypassSecurityTrustUrl(oe){return(0,h.LAX)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,h.pB0)(oe)}}return Ve.\u0275fac=function(oe){return new(oe||Ve)(h.LFG(m.K0))},Ve.\u0275prov=h.Yz7({token:Ve,factory:function(oe){let je=null;return je=oe?new oe:function ft(Ve){return new rt(Ve.get(m.K0))}(h.LFG(h.zs3)),je},providedIn:"root"}),Ve})()},1194:(ln,st,F)=>{"use strict";F.d(st,{gz:()=>Qi,y6:()=>is,OD:()=>Dt,eC:()=>Zt,wm:()=>su,wN:()=>$o,F0:()=>jt,rH:()=>ca,Bz:()=>Al,Hx:()=>ke});var m=F(4650),h=F(8996),W=F(9646),te=F(1135),Te=F(6805),Ee=F(9751),le=F(4742),xe=F(4671),Ae=F(3268),he=F(7669),se=F(1810),ae=F(5403),Me=F(9672);function pe(...w){const b=(0,he.yG)(w),y=(0,he.jO)(w),{args:S,keys:L}=(0,le.D)(w);if(0===S.length)return(0,h.D)([],b);const K=new Ee.y(function qe(w,b,y=xe.y){return S=>{gt(b,()=>{const{length:L}=w,K=new Array(L);let Q=L,Ke=L;for(let It=0;It<L;It++)gt(b,()=>{const tn=(0,h.D)(w[It],b);let An=!1;tn.subscribe((0,ae.x)(S,mn=>{K[It]=mn,An||(An=!0,Ke--),Ke||S.next(y(K.slice()))},()=>{--Q||S.complete()}))},S)},S)}}(S,b,L?Q=>(0,se.n)(L,Q):xe.y));return y?K.pipe((0,Ae.Z)(y)):K}function gt(w,b,y){w?(0,Me.f)(y,w,b):b()}var Ie=F(7272),me=F(8421);function ne(w){return new Ee.y(b=>{(0,me.Xf)(w()).subscribe(b)})}var at=F(9635),Xe=F(576);function Ge(w,b){const y=(0,Xe.m)(w)?w:()=>w,S=L=>L.error(y());return new Ee.y(b?L=>b.schedule(S,0,L):S)}var Be=F(515),mt=F(727),be=F(4482);function ve(){return(0,be.e)((w,b)=>{let y=null;w._refCount++;const S=(0,ae.x)(b,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(y=null);const L=w._connection,K=y;y=null,L&&(!K||L===K)&&L.unsubscribe(),b.unsubscribe()});w.subscribe(S),S.closed||(y=w.connect())})}class Ce extends Ee.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,null==b||b.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new mt.w0;const y=this.getSubject();b.add(this.source.subscribe((0,ae.x)(y,void 0,()=>{this._teardown(),y.complete()},S=>{this._teardown(),y.error(S)},()=>this._teardown()))),b.closed&&(this._connection=null,b=mt.w0.EMPTY)}return b}refCount(){return ve()(this)}}var Ue=F(7579),Le=F(6895),Ze=F(4004),Ye=F(3900),We=F(5698),ut=F(8675),nt=F(9300),_e=F(5577),De=F(590),we=F(4351),et=F(8505);function lt(w){return(0,be.e)((b,y)=>{let K,S=null,L=!1;S=b.subscribe((0,ae.x)(y,void 0,void 0,Q=>{K=(0,me.Xf)(w(Q,lt(w)(b))),S?(S.unsubscribe(),S=null,K.subscribe(y)):L=!0})),L&&(S.unsubscribe(),S=null,K.subscribe(y))})}var Bt=F(5026);function bt(w){return w<=0?()=>Be.E:(0,be.e)((b,y)=>{let S=[];b.subscribe((0,ae.x)(y,L=>{S.push(L),w<S.length&&S.shift()},()=>{for(const L of S)y.next(L);y.complete()},void 0,()=>{S=null}))})}var cn=F(8068),Qt=F(6590);function ot(w,b){const y=arguments.length>=2;return S=>S.pipe(w?(0,nt.h)((L,K)=>w(L,K,S)):xe.y,bt(1),y?(0,Qt.d)(b):(0,cn.T)(()=>new Te.K))}function Nt(w){return(0,be.e)((b,y)=>{try{b.subscribe(y)}finally{y.add(w)}})}var Xt=F(8189),on=F(1481);const Zt="primary",Dn=Symbol("RouteTitle");class Nn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Vn(w){return new Nn(w)}function bn(w,b,y){const S=y.path.split("/");if(S.length>w.length||"full"===y.pathMatch&&(b.hasChildren()||S.length<w.length))return null;const L={};for(let K=0;K<S.length;K++){const Q=S[K],Ke=w[K];if(Q.startsWith(":"))L[Q.substring(1)]=Ke;else if(Q!==Ke.path)return null}return{consumed:w.slice(0,S.length),posParams:L}}function Cn(w,b){const y=w?Object.keys(w):void 0,S=b?Object.keys(b):void 0;if(!y||!S||y.length!=S.length)return!1;let L;for(let K=0;K<y.length;K++)if(L=y[K],!Vr(w[L],b[L]))return!1;return!0}function Vr(w,b){if(Array.isArray(w)&&Array.isArray(b)){if(w.length!==b.length)return!1;const y=[...w].sort(),S=[...b].sort();return y.every((L,K)=>S[K]===L)}return w===b}function lr(w){return Array.prototype.concat.apply([],w)}function Gr(w){return w.length>0?w[w.length-1]:null}function Pn(w,b){for(const y in w)w.hasOwnProperty(y)&&b(w[y],y)}function zn(w){return(0,m.CqO)(w)?w:(0,m.QGY)(w)?(0,h.D)(Promise.resolve(w)):(0,W.of)(w)}const zt=!1,un={exact:function Lr(w,b,y){if(!vr(w.segments,b.segments)||!qr(w.segments,b.segments,y)||w.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!w.children[S]||!Lr(w.children[S],b.children[S],y))return!1;return!0},subset:Wr},Gt={exact:function cr(w,b){return Cn(w,b)},subset:function Mr(w,b){return Object.keys(b).length<=Object.keys(w).length&&Object.keys(b).every(y=>Vr(w[y],b[y]))},ignored:()=>!0};function Fr(w,b,y){return un[y.paths](w.root,b.root,y.matrixParams)&&Gt[y.queryParams](w.queryParams,b.queryParams)&&!("exact"===y.fragment&&w.fragment!==b.fragment)}function Wr(w,b,y){return yr(w,b,b.segments,y)}function yr(w,b,y,S){if(w.segments.length>y.length){const L=w.segments.slice(0,y.length);return!(!vr(L,y)||b.hasChildren()||!qr(L,y,S))}if(w.segments.length===y.length){if(!vr(w.segments,y)||!qr(w.segments,y,S))return!1;for(const L in b.children)if(!w.children[L]||!Wr(w.children[L],b.children[L],S))return!1;return!0}{const L=y.slice(0,w.segments.length),K=y.slice(w.segments.length);return!!(vr(w.segments,L)&&qr(w.segments,L,S)&&w.children[Zt])&&yr(w.children[Zt],b,K,S)}}function qr(w,b,y){return b.every((S,L)=>Gt[y](w[L].parameters,S.parameters))}class Kn{constructor(b=new Gn([],{}),y={},S=null){this.root=b,this.queryParams=y,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return kt.serialize(this)}}class Gn{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Pn(y,(S,L)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ot(this)}}class ir{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return Se(this)}}function vr(w,b){return w.length===b.length&&w.every((y,S)=>y.path===b[S].path)}let ke=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return new $e},providedIn:"root"}),w})();class $e{parse(b){const y=new Tt(b);return new Kn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${ue(b.root,!0)}`,S=function je(w){const b=Object.keys(w).map(y=>{const S=w[y];return Array.isArray(S)?S.map(L=>`${Pe(y)}=${Pe(L)}`).join("&"):`${Pe(y)}=${Pe(S)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${S}${"string"==typeof b.fragment?`#${function ft(w){return encodeURI(w)}(b.fragment)}`:""}`}}const kt=new $e;function Ot(w){return w.segments.map(b=>Se(b)).join("/")}function ue(w,b){if(!w.hasChildren())return Ot(w);if(b){const y=w.children[Zt]?ue(w.children[Zt],!1):"",S=[];return Pn(w.children,(L,K)=>{K!==Zt&&S.push(`${K}:${ue(L,!1)}`)}),S.length>0?`${y}(${S.join("//")})`:y}{const y=function St(w,b){let y=[];return Pn(w.children,(S,L)=>{L===Zt&&(y=y.concat(b(S,L)))}),Pn(w.children,(S,L)=>{L!==Zt&&(y=y.concat(b(S,L)))}),y}(w,(S,L)=>L===Zt?[ue(w.children[Zt],!1)]:[`${L}:${ue(S,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Zt]?`${Ot(w)}/${y[0]}`:`${Ot(w)}/(${y.join("//")})`}}function ce(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pe(w){return ce(w).replace(/%3B/gi,";")}function rt(w){return ce(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wt(w){return decodeURIComponent(w)}function Ve(w){return Wt(w.replace(/\+/g,"%20"))}function Se(w){return`${rt(w.path)}${function oe(w){return Object.keys(w).map(b=>`;${rt(b)}=${rt(w[b])}`).join("")}(w.parameters)}`}const Ct=/^[^\/()?;=#]+/;function qt(w){const b=w.match(Ct);return b?b[0]:""}const fn=/^[^=?&#]+/,Zn=/^[^&#]+/;class Tt{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(S[Zt]=new Gn(b,y)),S}parseSegment(){const b=qt(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new m.vHH(4009,zt);return this.capture(b),new ir(Wt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=qt(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const L=qt(this.remaining);L&&(S=L,this.capture(S))}b[Wt(y)]=Wt(S)}parseQueryParam(b){const y=function jn(w){const b=w.match(fn);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const Q=function Ir(w){const b=w.match(Zn);return b?b[0]:""}(this.remaining);Q&&(S=Q,this.capture(S))}const L=Ve(y),K=Ve(S);if(b.hasOwnProperty(L)){let Q=b[L];Array.isArray(Q)||(Q=[Q],b[L]=Q),Q.push(K)}else b[L]=K}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=qt(this.remaining),L=this.remaining[S.length];if("/"!==L&&")"!==L&&";"!==L)throw new m.vHH(4010,zt);let K;S.indexOf(":")>-1?(K=S.slice(0,S.indexOf(":")),this.capture(K),this.capture(":")):b&&(K=Zt);const Q=this.parseChildren();y[K]=1===Object.keys(Q).length?Q[Zt]:new Gn([],Q),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new m.vHH(4011,zt)}}function pt(w){return w.segments.length>0?new Gn([],{[Zt]:w}):w}function Ht(w){const b={};for(const S of Object.keys(w.children)){const K=Ht(w.children[S]);(K.segments.length>0||K.hasChildren())&&(b[S]=K)}return function vn(w){if(1===w.numberOfChildren&&w.children[Zt]){const b=w.children[Zt];return new Gn(w.segments.concat(b.segments),b.children)}return w}(new Gn(w.segments,b))}function Sn(w){return w instanceof Kn}const tr=!1;function Yn(w,b,y,S,L){var K;if(0===y.length)return Mi(b.root,b.root,b.root,S,L);const Q=function dn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new pi(!0,0,w);let b=0,y=!1;const S=w.reduce((L,K,Q)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Ke={};return Pn(K.outlets,(It,tn)=>{Ke[tn]="string"==typeof It?It.split("/"):It}),[...L,{outlets:Ke}]}if(K.segmentPath)return[...L,K.segmentPath]}return"string"!=typeof K?[...L,K]:0===Q?(K.split("/").forEach((Ke,It)=>{0==It&&"."===Ke||(0==It&&""===Ke?y=!0:".."===Ke?b++:""!=Ke&&L.push(Ke))}),L):[...L,K]},[]);return new pi(y,b,S)}(y);return Q.toRoot()?Mi(b.root,b.root,new Gn([],{}),S,L):function Ke(tn){var An;const mn=function gi(w,b,y,S){if(w.isAbsolute)return new Hn(b.root,!0,0);if(-1===S)return new Hn(y,y===b.root,0);return function ur(w,b,y){let S=w,L=b,K=y;for(;K>L;){if(K-=L,S=S.parent,!S)throw new m.vHH(4005,tr&&"Invalid number of '../'");L=S.segments.length}return new Hn(S,!1,L-K)}(y,S+(kn(w.commands[0])?0:1),w.numberOfDoubleDots)}(Q,b,null===(An=w.snapshot)||void 0===An?void 0:An._urlSegment,tn),zr=mn.processChildren?_r(mn.segmentGroup,mn.index,Q.commands):ui(mn.segmentGroup,mn.index,Q.commands);return Mi(b.root,mn.segmentGroup,zr,S,L)}(null===(K=w.snapshot)||void 0===K?void 0:K._lastPathIndex)}function kn(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function qi(w){return"object"==typeof w&&null!=w&&w.outlets}function Mi(w,b,y,S,L){let Q,K={};S&&Pn(S,(It,tn)=>{K[tn]=Array.isArray(It)?It.map(An=>`${An}`):`${It}`}),Q=w===b?y:xi(w,b,y);const Ke=pt(Ht(Q));return new Kn(Ke,K,L)}function xi(w,b,y){const S={};return Pn(w.children,(L,K)=>{S[K]=L===b?y:xi(L,b,y)}),new Gn(w.segments,S)}class pi{constructor(b,y,S){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=S,b&&S.length>0&&kn(S[0]))throw new m.vHH(4003,tr&&"Root segment cannot have matrix parameters");const L=S.find(qi);if(L&&L!==Gr(S))throw new m.vHH(4004,tr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(b,y,S){this.segmentGroup=b,this.processChildren=y,this.index=S}}function ui(w,b,y){if(w||(w=new Gn([],{})),0===w.segments.length&&w.hasChildren())return _r(w,b,y);const S=function Z(w,b,y){let S=0,L=b;const K={match:!1,pathIndex:0,commandIndex:0};for(;L<w.segments.length;){if(S>=y.length)return K;const Q=w.segments[L],Ke=y[S];if(qi(Ke))break;const It=`${Ke}`,tn=S<y.length-1?y[S+1]:null;if(L>0&&void 0===It)break;if(It&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!Fe(It,tn,Q))return K;S+=2}else{if(!Fe(It,{},Q))return K;S++}L++}return{match:!0,pathIndex:L,commandIndex:S}}(w,b,y),L=y.slice(S.commandIndex);if(S.match&&S.pathIndex<w.segments.length){const K=new Gn(w.segments.slice(0,S.pathIndex),{});return K.children[Zt]=new Gn(w.segments.slice(S.pathIndex),w.children),_r(K,0,L)}return S.match&&0===L.length?new Gn(w.segments,{}):S.match&&!w.hasChildren()?de(w,b,y):S.match?_r(w,0,L):de(w,b,y)}function _r(w,b,y){if(0===y.length)return new Gn(w.segments,{});{const S=function Ur(w){return qi(w[0])?w[0].outlets:{[Zt]:w}}(y),L={};if(!S[Zt]&&w.children[Zt]&&1===w.numberOfChildren&&0===w.children[Zt].segments.length){const K=_r(w.children[Zt],b,y);return new Gn(w.segments,K.children)}return Pn(S,(K,Q)=>{"string"==typeof K&&(K=[K]),null!==K&&(L[Q]=ui(w.children[Q],b,K))}),Pn(w.children,(K,Q)=>{void 0===S[Q]&&(L[Q]=K)}),new Gn(w.segments,L)}}function de(w,b,y){const S=w.segments.slice(0,b);let L=0;for(;L<y.length;){const K=y[L];if(qi(K)){const It=Re(K.outlets);return new Gn(S,It)}if(0===L&&kn(y[0])){S.push(new ir(w.segments[b].path,ie(y[0]))),L++;continue}const Q=qi(K)?K.outlets[Zt]:`${K}`,Ke=L<y.length-1?y[L+1]:null;Q&&Ke&&kn(Ke)?(S.push(new ir(Q,ie(Ke))),L+=2):(S.push(new ir(Q,{})),L++)}return new Gn(S,{})}function Re(w){const b={};return Pn(w,(y,S)=>{"string"==typeof y&&(y=[y]),null!==y&&(b[S]=de(new Gn([],{}),0,y))}),b}function ie(w){const b={};return Pn(w,(y,S)=>b[S]=`${y}`),b}function Fe(w,b,y){return w==y.path&&Cn(b,y.parameters)}const Ne="imperative";class yt{constructor(b,y){this.id=b,this.url=y}}class Dt extends yt{constructor(b,y,S="imperative",L=null){super(b,y),this.type=0,this.navigationTrigger=S,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pt extends yt{constructor(b,y,S){super(b,y),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vt extends yt{constructor(b,y,S,L){super(b,y),this.reason=S,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nn extends yt{constructor(b,y,S,L){super(b,y),this.reason=S,this.code=L,this.type=16}}class Fn extends yt{constructor(b,y,S,L){super(b,y),this.error=S,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xn extends yt{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends yt{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends yt{constructor(b,y,S,L,K){super(b,y),this.urlAfterRedirects=S,this.state=L,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ii extends yt{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends yt{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dt{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ft{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kt{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(b,y,S){this.routerEvent=b,this.position=y,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ro=(()=>{class w{createUrlTree(y,S,L,K,Q,Ke){return Yn(y||S.root,L,K,Q,Ke)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac}),w})(),so=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:function(b){return Ro.\u0275fac(b)},providedIn:"root"}),w})();class mi{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=rs(b,this._root);return y?y.children.map(S=>S.value):[]}firstChild(b){const y=rs(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=_s(b,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==b)}pathFromRoot(b){return _s(b,this._root).map(y=>y.value)}}function rs(w,b){if(w===b.value)return b;for(const y of b.children){const S=rs(w,y);if(S)return S}return null}function _s(w,b){if(w===b.value)return[b];for(const y of b.children){const S=_s(w,y);if(S.length)return S.unshift(b),S}return[]}class yi{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function ao(w){const b={};return w&&w.children.forEach(y=>b[y.value.outlet]=y),b}class lo extends mi{constructor(b,y){super(b),this.snapshot=y,$i(this,b)}toString(){return this.snapshot.toString()}}function Os(w,b){const y=function qo(w,b){const Q=new ia([],{},{},"",{},Zt,b,null,w.root,-1,{});return new Ko("",new yi(Q,[]))}(w,b),S=new te.X([new ir("",{})]),L=new te.X({}),K=new te.X({}),Q=new te.X({}),Ke=new te.X(""),It=new Qi(S,L,Q,Ke,K,Zt,b,y.root);return It.snapshot=y.root,new lo(new yi(It,[]),y)}class Qi{constructor(b,y,S,L,K,Q,Ke,It){var tn,An;this.url=b,this.params=y,this.queryParams=S,this.fragment=L,this.data=K,this.outlet=Q,this.component=Ke,this.title=null!==(tn=null===(An=this.data)||void 0===An?void 0:An.pipe((0,Ze.U)(mn=>mn[Dn])))&&void 0!==tn?tn:(0,W.of)(void 0),this._futureSnapshot=It}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(b=>Vn(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(b=>Vn(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(w,b="emptyOnly"){const y=w.pathFromRoot;let S=0;if("always"!==b)for(S=y.length-1;S>=1;){const L=y[S],K=y[S-1];if(L.routeConfig&&""===L.routeConfig.path)S--;else{if(K.component)break;S--}}return function Ps(w){return w.reduce((b,y)=>{var S;return{params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...null===(S=y.routeConfig)||void 0===S?void 0:S.data,...y._resolvedData}}},{params:{},data:{},resolve:{}})}(y.slice(S))}class ia{get title(){var b;return null===(b=this.data)||void 0===b?void 0:b[Dn]}constructor(b,y,S,L,K,Q,Ke,It,tn,An,mn){this.url=b,this.params=y,this.queryParams=S,this.fragment=L,this.data=K,this.outlet=Q,this.component=Ke,this.routeConfig=It,this._urlSegment=tn,this._lastPathIndex=An,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ko extends mi{constructor(b,y){super(y),this.url=b,$i(this,y)}toString(){return Ns(this._root)}}function $i(w,b){b.value._routerState=w,b.children.forEach(y=>$i(w,y))}function Ns(w){const b=w.children.length>0?` { ${w.children.map(Ns).join(", ")} } `:"";return`${w.value}${b}`}function mo(w){if(w.snapshot){const b=w.snapshot,y=w._futureSnapshot;w.snapshot=y,Cn(b.queryParams,y.queryParams)||w.queryParams.next(y.queryParams),b.fragment!==y.fragment&&w.fragment.next(y.fragment),Cn(b.params,y.params)||w.params.next(y.params),function Jt(w,b){if(w.length!==b.length)return!1;for(let y=0;y<w.length;++y)if(!Cn(w[y],b[y]))return!1;return!0}(b.url,y.url)||w.url.next(y.url),Cn(b.data,y.data)||w.data.next(y.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function wi(w,b){const y=Cn(w.params,b.params)&&function ti(w,b){return vr(w,b)&&w.every((y,S)=>Cn(y.parameters,b[S].parameters))}(w.url,b.url);return y&&!(!w.parent!=!b.parent)&&(!w.parent||wi(w.parent,b.parent))}function Yo(w,b,y){if(y&&w.shouldReuseRoute(b.value,y.value.snapshot)){const S=y.value;S._futureSnapshot=b.value;const L=function yo(w,b,y){return b.children.map(S=>{for(const L of y.children)if(w.shouldReuseRoute(S.value,L.value.snapshot))return Yo(w,S,L);return Yo(w,S)})}(w,b,y);return new yi(S,L)}{if(w.shouldAttach(b.value)){const K=w.retrieve(b.value);if(null!==K){const Q=K.route;return Q.value._futureSnapshot=b.value,Q.children=b.children.map(Ke=>Yo(w,Ke)),Q}}const S=function Ar(w){return new Qi(new te.X(w.url),new te.X(w.params),new te.X(w.queryParams),new te.X(w.fragment),new te.X(w.data),w.outlet,w.component,w)}(b.value),L=b.children.map(K=>Yo(w,K));return new yi(S,L)}}const Ji="ngNavigationCancelingError";function vo(w,b){const{redirectTo:y,navigationBehaviorOptions:S}=Sn(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,L=_o(!1,0,b);return L.url=y,L.navigationBehaviorOptions=S,L}function _o(w,b,y){const S=new Error("NavigationCancelingError: "+(w||""));return S[Ji]=!0,S.cancellationCode=b,y&&(S.url=y),S}function Es(w){return Eo(w)&&Sn(w.url)}function Eo(w){return w&&w[Ji]}class Ui{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new is,this.attachRef=null}}let is=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(y,S){const L=this.getOrCreateContext(y);L.outlet=S,this.contexts.set(y,L)}onChildOutletDestroyed(y){const S=this.getContext(y);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let S=this.getContext(y);return S||(S=new Ui,this.contexts.set(y,S)),S}getContext(y){return this.contexts.get(y)||null}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Oo=!1;let Is=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(is),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb)}ngOnChanges(y){if(y.name){const{firstChange:S,previousValue:L}=y.name;if(S)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){var S;return(null===(S=this.parentContexts.getContext(y))||void 0===S?void 0:S.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);null!=y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,Oo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,Oo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,Oo);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,S){this.activated=y,this._activatedRoute=S,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,S){if(this.isActivated)throw new m.vHH(4013,Oo);this._activatedRoute=y;const L=this.location,Q=y.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,It=new ji(y,Ke,L.injector);if(S&&function si(w){return!!w.resolveComponentFactory}(S)){const tn=S.resolveComponentFactory(Q);this.activated=L.createComponent(tn,L.length,It)}else this.activated=L.createComponent(Q,{index:L.length,injector:It,environmentInjector:null!=S?S:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275dir=m.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),w})();class ji{constructor(b,y,S){this.route=b,this.childContexts=y,this.parent=S}get(b,y){return b===Qi?this.route:b===is?this.childContexts:this.parent.get(b,y)}}let Di=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275cmp=m.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(y,S){1&y&&m._UZ(0,"router-outlet")},dependencies:[Is],encapsulation:2}),w})();function Po(w,b){var y;return w.providers&&!w._injector&&(w._injector=(0,m.MMx)(w.providers,b,`Route: ${w.path}`)),null!==(y=w._injector)&&void 0!==y?y:b}function Fo(w){const b=w.children&&w.children.map(Fo),y=b?{...w,children:b}:{...w};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==Zt&&(y.component=Di),y}function di(w){return w.outlet||Zt}function Ys(w,b){const y=w.filter(S=>di(S)===b);return y.push(...w.filter(S=>di(S)!==b)),y}function co(w){var b;if(!w)return null;if(null!==(b=w.routeConfig)&&void 0!==b&&b._injector)return w.routeConfig._injector;for(let y=w.parent;y;y=y.parent){const S=y.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class cs{constructor(b,y,S,L){this.routeReuseStrategy=b,this.futureState=y,this.currState=S,this.forwardEvent=L}activate(b){const y=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,S,b),mo(this.futureState.root),this.activateChildRoutes(y,S,b)}deactivateChildRoutes(b,y,S){const L=ao(y);b.children.forEach(K=>{const Q=K.value.outlet;this.deactivateRoutes(K,L[Q],S),delete L[Q]}),Pn(L,(K,Q)=>{this.deactivateRouteAndItsChildren(K,S)})}deactivateRoutes(b,y,S){const L=b.value,K=y?y.value:null;if(L===K)if(L.component){const Q=S.getContext(L.outlet);Q&&this.deactivateChildRoutes(b,y,Q.children)}else this.deactivateChildRoutes(b,y,S);else K&&this.deactivateRouteAndItsChildren(y,S)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const S=y.getContext(b.value.outlet),L=S&&b.value.component?S.children:y,K=ao(b);for(const Q of Object.keys(K))this.deactivateRouteAndItsChildren(K[Q],L);if(S&&S.outlet){const Q=S.outlet.detach(),Ke=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Q,route:b,contexts:Ke})}}deactivateRouteAndOutlet(b,y){const S=y.getContext(b.value.outlet),L=S&&b.value.component?S.children:y,K=ao(b);for(const Q of Object.keys(K))this.deactivateRouteAndItsChildren(K[Q],L);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(b,y,S){const L=ao(y);b.children.forEach(K=>{this.activateRoutes(K,L[K.value.outlet],S),this.forwardEvent(new Qn(K.value.snapshot))}),b.children.length&&this.forwardEvent(new Kt(b.value.snapshot))}activateRoutes(b,y,S){const L=b.value,K=y?y.value:null;if(mo(L),L===K)if(L.component){const Ke=S.getOrCreateContext(L.outlet);this.activateChildRoutes(b,y,Ke.children)}else this.activateChildRoutes(b,y,S);else if(L.component){const Ke=S.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const It=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Ke.children.onOutletReAttached(It.contexts),Ke.attachRef=It.componentRef,Ke.route=It.route.value,Ke.outlet&&Ke.outlet.attach(It.componentRef,It.route.value),mo(It.route.value),this.activateChildRoutes(b,null,Ke.children)}else{var Q;const It=co(L.snapshot),tn=null!==(Q=null==It?void 0:It.get(m._Vd))&&void 0!==Q?Q:null;Ke.attachRef=null,Ke.route=L,Ke.resolver=tn,Ke.injector=It,Ke.outlet&&Ke.outlet.activateWith(L,Ke.injector),this.activateChildRoutes(b,null,Ke.children)}}else this.activateChildRoutes(b,null,S)}}class sr{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class us{constructor(b,y){this.component=b,this.route=y}}function Ds(w,b,y){const S=w._root;return U(S,b?b._root:null,y,[S.value])}function _(w,b){const y=Symbol(),S=b.get(w,y);return S===y?"function"!=typeof w||(0,m.Z0I)(w)?b.get(w):w:S}function U(w,b,y,S,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=ao(b);return w.children.forEach(Q=>{(function I(w,b,y,S,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=w.value,Q=b?b.value:null,Ke=y?y.getContext(w.value.outlet):null;if(Q&&K.routeConfig===Q.routeConfig){const It=function $(w,b,y){if("function"==typeof y)return y(w,b);switch(y){case"pathParamsChange":return!vr(w.url,b.url);case"pathParamsOrQueryParamsChange":return!vr(w.url,b.url)||!Cn(w.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wi(w,b)||!Cn(w.queryParams,b.queryParams);default:return!wi(w,b)}}(Q,K,K.routeConfig.runGuardsAndResolvers);It?L.canActivateChecks.push(new sr(S)):(K.data=Q.data,K._resolvedData=Q._resolvedData),U(w,b,K.component?Ke?Ke.children:null:y,S,L),It&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&L.canDeactivateChecks.push(new us(Ke.outlet.component,Q))}else Q&&re(b,Ke,L),L.canActivateChecks.push(new sr(S)),U(w,null,K.component?Ke?Ke.children:null:y,S,L)})(Q,K[Q.value.outlet],y,S.concat([Q.value]),L),delete K[Q.value.outlet]}),Pn(K,(Q,Ke)=>re(Q,y.getContext(Ke),L)),L}function re(w,b,y){const S=ao(w),L=w.value;Pn(S,(K,Q)=>{re(K,L.component?b?b.children.getContext(Q):null:b,y)}),y.canDeactivateChecks.push(new us(L.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,L))}function C(w){return"function"==typeof w}function li(w){return w instanceof Te.K||"EmptyError"===(null==w?void 0:w.name)}const Lo=Symbol("INITIAL_VALUE");function Yr(){return(0,Ye.w)(w=>pe(w.map(b=>b.pipe((0,We.q)(1),(0,ut.O)(Lo)))).pipe((0,Ze.U)(b=>{for(const y of b)if(!0!==y){if(y===Lo)return Lo;if(!1===y||y instanceof Kn)return y}return!0}),(0,nt.h)(b=>b!==Lo),(0,We.q)(1)))}function Wl(w){return(0,at.z)((0,et.b)(b=>{if(Sn(b))throw vo(0,b)}),(0,Ze.U)(b=>!0===b))}const Xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function va(w,b,y,S,L){const K=Xs(w,b,y);return K.matched?function Pi(w,b,y,S){const L=b.canMatch;if(!L||0===L.length)return(0,W.of)(!0);const K=L.map(Q=>{const Ke=_(Q,w);return zn(function Er(w){return w&&C(w.canMatch)}(Ke)?Ke.canMatch(b,y):w.runInContext(()=>Ke(b,y)))});return(0,W.of)(K).pipe(Yr(),Wl())}(S=Po(b,S),b,y).pipe((0,Ze.U)(Q=>!0===Q?K:{...Xo})):(0,W.of)(K)}function Xs(w,b,y){var S;if(""===b.path)return"full"===b.pathMatch&&(w.hasChildren()||y.length>0)?{...Xo}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const K=(b.matcher||bn)(y,w,b);if(!K)return{...Xo};const Q={};Pn(K.posParams,(It,tn)=>{Q[tn]=It.path});const Ke=K.consumed.length>0?{...Q,...K.consumed[K.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:K.consumed,remainingSegments:y.slice(K.consumed.length),parameters:Ke,positionalParamSegments:null!==(S=K.posParams)&&void 0!==S?S:{}}}function Qs(w,b,y,S){if(y.length>0&&function Bs(w,b,y){return y.some(S=>bs(w,b,S)&&di(S)!==Zt)}(w,y,S)){const K=new Gn(b,function _a(w,b,y,S){const L={};L[Zt]=S,S._sourceSegment=w,S._segmentIndexShift=b.length;for(const K of y)if(""===K.path&&di(K)!==Zt){const Q=new Gn([],{});Q._sourceSegment=w,Q._segmentIndexShift=b.length,L[di(K)]=Q}return L}(w,b,S,new Gn(y,w.children)));return K._sourceSegment=w,K._segmentIndexShift=b.length,{segmentGroup:K,slicedSegments:[]}}if(0===y.length&&function Oa(w,b,y){return y.some(S=>bs(w,b,S))}(w,y,S)){const K=new Gn(w.segments,function sa(w,b,y,S,L){const K={};for(const Q of S)if(bs(w,y,Q)&&!L[di(Q)]){const Ke=new Gn([],{});Ke._sourceSegment=w,Ke._segmentIndexShift=b.length,K[di(Q)]=Ke}return{...L,...K}}(w,b,y,S,w.children));return K._sourceSegment=w,K._segmentIndexShift=b.length,{segmentGroup:K,slicedSegments:y}}const L=new Gn(w.segments,w.children);return L._sourceSegment=w,L._segmentIndexShift=b.length,{segmentGroup:L,slicedSegments:y}}function bs(w,b,y){return(!(w.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}function Cs(w,b,y,S){return!!(di(w)===S||S!==Zt&&bs(b,y,w))&&("**"===w.path||Xs(b,w,y).matched)}function aa(w,b,y){return 0===b.length&&!w.children[y]}const Ea=!1;class $s{constructor(b){this.segmentGroup=b||null}}class Hi{constructor(b){this.urlTree=b}}function eo(w){return Ge(new $s(w))}function Pr(w){return Ge(new Hi(w))}class ql{constructor(b,y,S,L,K){this.injector=b,this.configLoader=y,this.urlSerializer=S,this.urlTree=L,this.config=K,this.allowRedirects=!0}apply(){const b=Qs(this.urlTree.root,[],[],this.config).segmentGroup,y=new Gn(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,y,Zt).pipe((0,Ze.U)(K=>this.createUrlTree(Ht(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lt(K=>{if(K instanceof Hi)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof $s?this.noMatchError(K):K}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,Zt).pipe((0,Ze.U)(L=>this.createUrlTree(Ht(L),b.queryParams,b.fragment))).pipe(lt(L=>{throw L instanceof $s?this.noMatchError(L):L}))}noMatchError(b){return new m.vHH(4002,Ea)}createUrlTree(b,y,S){const L=pt(b);return new Kn(L,y,S)}expandSegmentGroup(b,y,S,L){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(b,y,S).pipe((0,Ze.U)(K=>new Gn([],K))):this.expandSegment(b,S,y,S.segments,L,!0)}expandChildren(b,y,S){const L=[];for(const K of Object.keys(S.children))"primary"===K?L.unshift(K):L.push(K);return(0,h.D)(L).pipe((0,we.b)(K=>{const Q=S.children[K],Ke=Ys(y,K);return this.expandSegmentGroup(b,Ke,Q,K).pipe((0,Ze.U)(It=>({segment:It,outlet:K})))}),(0,Bt.R)((K,Q)=>(K[Q.outlet]=Q.segment,K),{}),ot())}expandSegment(b,y,S,L,K,Q){return(0,h.D)(S).pipe((0,we.b)(Ke=>this.expandSegmentAgainstRoute(b,y,S,Ke,L,K,Q).pipe(lt(tn=>{if(tn instanceof $s)return(0,W.of)(null);throw tn}))),(0,De.P)(Ke=>!!Ke),lt((Ke,It)=>{if(li(Ke))return aa(y,L,K)?(0,W.of)(new Gn([],{})):eo(y);throw Ke}))}expandSegmentAgainstRoute(b,y,S,L,K,Q,Ke){return Cs(L,y,K,Q)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(b,y,L,K,Q):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q):eo(y):eo(y)}expandSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,L,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,S,L){const K=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Pr(K):this.lineralizeSegments(S,K).pipe((0,_e.z)(Q=>{const Ke=new Gn(Q,{});return this.expandSegment(b,Ke,y,Q,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q){const{matched:Ke,consumedSegments:It,remainingSegments:tn,positionalParamSegments:An}=Xs(y,L,K);if(!Ke)return eo(y);const mn=this.applyRedirectCommands(It,L.redirectTo,An);return L.redirectTo.startsWith("/")?Pr(mn):this.lineralizeSegments(L,mn).pipe((0,_e.z)(zr=>this.expandSegment(b,y,S,zr.concat(tn),Q,!1)))}matchSegmentAgainstRoute(b,y,S,L,K){return"**"===S.path?(b=Po(S,b),S.loadChildren?(S._loadedRoutes?(0,W.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(b,S)).pipe((0,Ze.U)(Ke=>(S._loadedRoutes=Ke.routes,S._loadedInjector=Ke.injector,new Gn(L,{})))):(0,W.of)(new Gn(L,{}))):va(y,S,L,b).pipe((0,Ye.w)(({matched:Q,consumedSegments:Ke,remainingSegments:It})=>{var tn;return Q?(b=null!==(tn=S._injector)&&void 0!==tn?tn:b,this.getChildConfig(b,S,L).pipe((0,_e.z)(mn=>{var zr;const Ci=null!==(zr=mn.injector)&&void 0!==zr?zr:b,no=mn.routes,{segmentGroup:Ts,slicedSegments:ts}=Qs(y,Ke,It,no),jo=new Gn(Ts.segments,Ts.children);if(0===ts.length&&jo.hasChildren())return this.expandChildren(Ci,no,jo).pipe((0,Ze.U)(Ac=>new Gn(Ke,Ac)));if(0===no.length&&0===ts.length)return(0,W.of)(new Gn(Ke,{}));const Ss=di(S)===K;return this.expandSegment(Ci,jo,no,ts,Ss?Zt:K,!0).pipe((0,Ze.U)(ss=>new Gn(Ke.concat(ss.segments),ss.children)))}))):eo(y)}))}getChildConfig(b,y,S){return y.children?(0,W.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,W.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Zs(w,b,y,S){const L=b.canLoad;if(void 0===L||0===L.length)return(0,W.of)(!0);const K=L.map(Q=>{const Ke=_(Q,w);return zn(function R(w){return w&&C(w.canLoad)}(Ke)?Ke.canLoad(b,y):w.runInContext(()=>Ke(b,y)))});return(0,W.of)(K).pipe(Yr(),Wl())}(b,y,S).pipe((0,_e.z)(L=>L?this.configLoader.loadChildren(b,y).pipe((0,et.b)(K=>{y._loadedRoutes=K.routes,y._loadedInjector=K.injector})):function El(w){return Ge(_o(Ea,3))}())):(0,W.of)({routes:[],injector:b})}lineralizeSegments(b,y){let S=[],L=y.root;for(;;){if(S=S.concat(L.segments),0===L.numberOfChildren)return(0,W.of)(S);if(L.numberOfChildren>1||!L.children[Zt])return b.redirectTo,Ge(new m.vHH(4e3,Ea));L=L.children[Zt]}}applyRedirectCommands(b,y,S){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,S)}applyRedirectCreateUrlTree(b,y,S,L){const K=this.createSegmentGroup(b,y.root,S,L);return new Kn(K,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const S={};return Pn(b,(L,K)=>{if("string"==typeof L&&L.startsWith(":")){const Ke=L.substring(1);S[K]=y[Ke]}else S[K]=L}),S}createSegmentGroup(b,y,S,L){const K=this.createSegments(b,y.segments,S,L);let Q={};return Pn(y.children,(Ke,It)=>{Q[It]=this.createSegmentGroup(b,Ke,S,L)}),new Gn(K,Q)}createSegments(b,y,S,L){return y.map(K=>K.path.startsWith(":")?this.findPosParam(b,K,L):this.findOrReturn(K,S))}findPosParam(b,y,S){const L=S[y.path.substring(1)];if(!L)throw new m.vHH(4001,Ea);return L}findOrReturn(b,y){let S=0;for(const L of y){if(L.path===b.path)return y.splice(S),L;S++}return b}}class Hr{}class O{constructor(b,y,S,L,K,Q,Ke){this.injector=b,this.rootComponentType=y,this.config=S,this.urlTree=L,this.url=K,this.paramsInheritanceStrategy=Q,this.urlSerializer=Ke}recognize(){const b=Qs(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Zt).pipe((0,Ze.U)(y=>{if(null===y)return null;const S=new ia([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new yi(S,y),K=new Ko(this.url,L);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(b){const y=b.value,S=go(y,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),b.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(b,y,S,L){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,y,S):this.processSegment(b,y,S,S.segments,L)}processChildren(b,y,S){return(0,h.D)(Object.keys(S.children)).pipe((0,we.b)(L=>{const K=S.children[L],Q=Ys(y,L);return this.processSegmentGroup(b,Q,K,L)}),(0,Bt.R)((L,K)=>L&&K?(L.push(...K),L):null),function At(w,b=!1){return(0,be.e)((y,S)=>{let L=0;y.subscribe((0,ae.x)(S,K=>{const Q=w(K,L++);(Q||b)&&S.next(K),!Q&&S.complete()}))})}(L=>null!==L),(0,Qt.d)(null),ot(),(0,Ze.U)(L=>{if(null===L)return null;const K=ye(L);return function G(w){w.sort((b,y)=>b.value.outlet===Zt?-1:y.value.outlet===Zt?1:b.value.outlet.localeCompare(y.value.outlet))}(K),K}))}processSegment(b,y,S,L,K){return(0,h.D)(y).pipe((0,we.b)(Q=>{var Ke;return this.processSegmentAgainstRoute(null!==(Ke=Q._injector)&&void 0!==Ke?Ke:b,Q,S,L,K)}),(0,De.P)(Q=>!!Q),lt(Q=>{if(li(Q))return aa(S,L,K)?(0,W.of)([]):(0,W.of)(null);throw Q}))}processSegmentAgainstRoute(b,y,S,L,K){if(y.redirectTo||!Cs(y,S,L,K))return(0,W.of)(null);let Q;if("**"===y.path){var Ke,It;const tn=L.length>0?Gr(L).parameters:{},An=In(S)+L.length,mn=new ia(L,tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wr(y),di(y),null!==(Ke=null!==(It=y.component)&&void 0!==It?It:y._loadedComponent)&&void 0!==Ke?Ke:null,y,Lt(S),An,hr(y));Q=(0,W.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]})}else Q=va(S,y,L,b).pipe((0,Ze.U)(({matched:tn,consumedSegments:An,remainingSegments:mn,parameters:zr})=>{var Ci,no;if(!tn)return null;const Ts=In(S)+An.length;return{snapshot:new ia(An,zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wr(y),di(y),null!==(Ci=null!==(no=y.component)&&void 0!==no?no:y._loadedComponent)&&void 0!==Ci?Ci:null,y,Lt(S),Ts,hr(y)),consumedSegments:An,remainingSegments:mn}}));return Q.pipe((0,Ye.w)(tn=>{var An,mn;if(null===tn)return(0,W.of)(null);const{snapshot:zr,consumedSegments:Ci,remainingSegments:no}=tn;b=null!==(An=y._injector)&&void 0!==An?An:b;const Ts=null!==(mn=y._loadedInjector)&&void 0!==mn?mn:b,ts=function k(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(y),{segmentGroup:jo,slicedSegments:Ss}=Qs(S,Ci,no,ts.filter(ss=>void 0===ss.redirectTo));if(0===Ss.length&&jo.hasChildren())return this.processChildren(Ts,ts,jo).pipe((0,Ze.U)(ss=>null===ss?null:[new yi(zr,ss)]));if(0===ts.length&&0===Ss.length)return(0,W.of)([new yi(zr,[])]);const Sc=di(y)===K;return this.processSegment(Ts,ts,jo,Ss,Sc?Zt:K).pipe((0,Ze.U)(ss=>null===ss?null:[new yi(zr,ss)]))}))}}function Y(w){const b=w.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function ye(w){const b=[],y=new Set;for(const S of w){if(!Y(S)){b.push(S);continue}const L=b.find(K=>S.value.routeConfig===K.value.routeConfig);void 0!==L?(L.children.push(...S.children),y.add(L)):b.push(S)}for(const S of y){const L=ye(S.children);b.push(new yi(S.value,L))}return b.filter(S=>!y.has(S))}function Lt(w){let b=w;for(;b._sourceSegment;)b=b._sourceSegment;return b}function In(w){var b;let y=w,S=null!==(b=y._segmentIndexShift)&&void 0!==b?b:0;for(;y._sourceSegment;){var L;y=y._sourceSegment,S+=null!==(L=y._segmentIndexShift)&&void 0!==L?L:0}return S-1}function wr(w){return w.data||{}}function hr(w){return w.resolve||{}}function fs(w){return"string"==typeof w.title||null===w.title}function zi(w){return(0,Ye.w)(b=>{const y=w(b);return y?(0,h.D)(y).pipe((0,Ze.U)(()=>b)):(0,W.of)(b)})}const Co=new m.OlP("ROUTES");let To=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,W.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const S=zn(y.loadComponent()).pipe((0,Ze.U)(nl),(0,et.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=K}),Nt(()=>{this.componentLoaders.delete(y)})),L=new Ce(S,()=>new Ue.x).pipe(ve());return this.componentLoaders.set(y,L),L}loadChildren(y,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,W.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const K=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Ze.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(S);let It,tn,An=!1;Array.isArray(Ke)?tn=Ke:(It=Ke.create(y).injector,tn=lr(It.get(Co,[],m.XFs.Self|m.XFs.Optional)));return{routes:tn.map(Fo),injector:It}}),Nt(()=>{this.childrenLoaders.delete(S)})),Q=new Ce(K,()=>new Ue.x).pipe(ve());return this.childrenLoaders.set(S,Q),Q}loadModuleFactoryOrRoutes(y){return zn(y()).pipe((0,Ze.U)(nl),(0,_e.z)(S=>S instanceof m.YKP||Array.isArray(S)?(0,W.of)(S):(0,h.D)(this.compiler.compileModuleAsync(S))))}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function nl(w){return function wa(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let ps=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ue.x,this.configLoader=(0,m.f3M)(To),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(ke),this.rootContexts=(0,m.f3M)(is),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new dt(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new He(L))}complete(){var y;null===(y=this.transitions)||void 0===y||y.complete()}handleNavigationRequest(y){var S;const L=++this.navigationId;null===(S=this.transitions)||void 0===S||S.next({...this.transitions.value,...y,id:L})}setupNavigations(y){return this.transitions=new te.X({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ne,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(S=>0!==S.id),(0,Ze.U)(S=>({...S,extractedUrl:y.urlHandlingStrategy.extract(S.rawUrl)})),(0,Ye.w)(S=>{let L=!1,K=!1;return(0,W.of)(S).pipe((0,et.b)(Q=>{this.currentNavigation={id:Q.id,initialUrl:Q.rawUrl,extractedUrl:Q.extractedUrl,trigger:Q.source,extras:Q.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(Q=>{var Ke;const It=y.browserUrlTree.toString(),tn=!y.navigated||Q.extractedUrl.toString()!==It||It!==y.currentUrlTree.toString(),An=null!==(Ke=Q.extras.onSameUrlNavigation)&&void 0!==Ke?Ke:y.onSameUrlNavigation;if(!tn&&"reload"!==An){const mn="";return this.events.next(new nn(Q.id,y.serializeUrl(S.rawUrl),mn,0)),y.rawUrlTree=Q.rawUrl,Q.resolve(null),Be.E}if(y.urlHandlingStrategy.shouldProcessUrl(Q.rawUrl))return Kl(Q.source)&&(y.browserUrlTree=Q.extractedUrl),(0,W.of)(Q).pipe((0,Ye.w)(mn=>{var zr,Ci;const no=null===(zr=this.transitions)||void 0===zr?void 0:zr.getValue();return this.events.next(new Dt(mn.id,this.urlSerializer.serialize(mn.extractedUrl),mn.source,mn.restoredState)),no!==(null===(Ci=this.transitions)||void 0===Ci?void 0:Ci.getValue())?Be.E:Promise.resolve(mn)}),function Jo(w,b,y,S){return(0,Ye.w)(L=>function Qo(w,b,y,S,L){return new ql(w,b,y,S,L).apply()}(w,b,y,L.extractedUrl,S).pipe((0,Ze.U)(K=>({...L,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,et.b)(mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},S.urlAfterRedirects=mn.urlAfterRedirects}),function ar(w,b,y,S,L){return(0,_e.z)(K=>function Ia(w,b,y,S,L,K,Q="emptyOnly"){return new O(w,b,y,S,L,Q,K).recognize().pipe((0,Ye.w)(Ke=>null===Ke?function tl(w){return new Ee.y(b=>b.error(w))}(new Hr):(0,W.of)(Ke)))}(w,b,y,K.urlAfterRedirects,S.serialize(K.urlAfterRedirects),S,L).pipe((0,Ze.U)(Q=>({...K,targetSnapshot:Q}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,et.b)(mn=>{if(S.targetSnapshot=mn.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const Ci=y.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);y.setBrowserUrl(Ci,mn)}y.browserUrlTree=mn.urlAfterRedirects}const zr=new xn(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(zr)}));if(tn&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:mn,extractedUrl:zr,source:Ci,restoredState:no,extras:Ts}=Q,ts=new Dt(mn,this.urlSerializer.serialize(zr),Ci,no);this.events.next(ts);const jo=Os(zr,this.rootComponentType).snapshot;return S={...Q,targetSnapshot:jo,urlAfterRedirects:zr,extras:{...Ts,skipLocationChange:!1,replaceUrl:!1}},(0,W.of)(S)}{const mn="";return this.events.next(new nn(Q.id,y.serializeUrl(S.extractedUrl),mn,1)),y.rawUrlTree=Q.rawUrl,Q.resolve(null),Be.E}}),(0,et.b)(Q=>{const Ke=new Xn(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(Ke)}),(0,Ze.U)(Q=>S={...Q,guards:Ds(Q.targetSnapshot,Q.currentSnapshot,this.rootContexts)}),function Fs(w,b){return(0,_e.z)(y=>{const{targetSnapshot:S,currentSnapshot:L,guards:{canActivateChecks:K,canDeactivateChecks:Q}}=y;return 0===Q.length&&0===K.length?(0,W.of)({...y,guardsResult:!0}):function Oi(w,b,y,S){return(0,h.D)(w).pipe((0,_e.z)(L=>function oa(w,b,y,S,L){const K=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,W.of)(!0);const Q=K.map(Ke=>{var It;const tn=null!==(It=co(b))&&void 0!==It?It:L,An=_(Ke,tn);return zn(function rn(w){return w&&C(w.canDeactivate)}(An)?An.canDeactivate(w,b,y,S):tn.runInContext(()=>An(w,b,y,S))).pipe((0,De.P)())});return(0,W.of)(Q).pipe(Yr())}(L.component,L.route,y,b,S)),(0,De.P)(L=>!0!==L,!0))}(Q,S,L,w).pipe((0,_e.z)(Ke=>Ke&&function x(w){return"boolean"==typeof w}(Ke)?function Io(w,b,y,S){return(0,h.D)(b).pipe((0,we.b)(L=>(0,Ie.z)(function Ls(w,b){return null!==w&&b&&b(new Ft(w)),(0,W.of)(!0)}(L.route.parent,S),function wo(w,b){return null!==w&&b&&b(new Wn(w)),(0,W.of)(!0)}(L.route,S),function ya(w,b,y){const S=b[b.length-1],K=b.slice(0,b.length-1).reverse().map(Q=>function ds(w){const b=w.routeConfig?w.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:w,guards:b}:null}(Q)).filter(Q=>null!==Q).map(Q=>ne(()=>{const Ke=Q.guards.map(It=>{var tn;const An=null!==(tn=co(Q.node))&&void 0!==tn?tn:y,mn=_(It,An);return zn(function it(w){return w&&C(w.canActivateChild)}(mn)?mn.canActivateChild(S,w):An.runInContext(()=>mn(S,w))).pipe((0,De.P)())});return(0,W.of)(Ke).pipe(Yr())}));return(0,W.of)(K).pipe(Yr())}(w,L.path,y),function Do(w,b,y){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,W.of)(!0);const L=S.map(K=>ne(()=>{var Q;const Ke=null!==(Q=co(b))&&void 0!==Q?Q:y,It=_(K,Ke);return zn(function q(w){return w&&C(w.canActivate)}(It)?It.canActivate(b,w):Ke.runInContext(()=>It(b,w))).pipe((0,De.P)())}));return(0,W.of)(L).pipe(Yr())}(w,L.route,y))),(0,De.P)(L=>!0!==L,!0))}(S,K,w,b):(0,W.of)(Ke)),(0,Ze.U)(Ke=>({...y,guardsResult:Ke})))})}(this.environmentInjector,Q=>this.events.next(Q)),(0,et.b)(Q=>{if(S.guardsResult=Q.guardsResult,Sn(Q.guardsResult))throw vo(0,Q.guardsResult);const Ke=new Kr(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot,!!Q.guardsResult);this.events.next(Ke)}),(0,nt.h)(Q=>!!Q.guardsResult||(y.restoreHistory(Q),this.cancelNavigationTransition(Q,"",3),!1)),zi(Q=>{if(Q.guards.canActivateChecks.length)return(0,W.of)(Q).pipe((0,et.b)(Ke=>{const It=new ii(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(It)}),(0,Ye.w)(Ke=>{let It=!1;return(0,W.of)(Ke).pipe(function oi(w,b){return(0,_e.z)(y=>{const{targetSnapshot:S,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,W.of)(y);let K=0;return(0,h.D)(L).pipe((0,we.b)(Q=>function Zr(w,b,y,S){const L=w.routeConfig,K=w._resolve;return void 0!==(null==L?void 0:L.title)&&!fs(L)&&(K[Dn]=L.title),function hi(w,b,y,S){const L=function hs(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===L.length)return(0,W.of)({});const K={};return(0,h.D)(L).pipe((0,_e.z)(Q=>function Bo(w,b,y,S){var L;const K=null!==(L=co(b))&&void 0!==L?L:S,Q=_(w,K);return zn(Q.resolve?Q.resolve(b,y):K.runInContext(()=>Q(b,y)))}(w[Q],b,y,S).pipe((0,De.P)(),(0,et.b)(Ke=>{K[Q]=Ke}))),bt(1),function xt(w){return(0,Ze.U)(()=>w)}(K),lt(Q=>li(Q)?Be.E:Ge(Q)))}(K,w,b,S).pipe((0,Ze.U)(Q=>(w._resolvedData=Q,w.data=go(w,y).resolve,L&&fs(L)&&(w.data[Dn]=L.title),null)))}(Q.route,S,w,b)),(0,et.b)(()=>K++),bt(1),(0,_e.z)(Q=>K===L.length?(0,W.of)(y):Be.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,et.b)({next:()=>It=!0,complete:()=>{It||(y.restoreHistory(Ke),this.cancelNavigationTransition(Ke,"",2))}}))}),(0,et.b)(Ke=>{const It=new tt(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(It)}))}),zi(Q=>{const Ke=It=>{var tn;const An=[];null!==(tn=It.routeConfig)&&void 0!==tn&&tn.loadComponent&&!It.routeConfig._loadedComponent&&An.push(this.configLoader.loadComponent(It.routeConfig).pipe((0,et.b)(mn=>{It.component=mn}),(0,Ze.U)(()=>{})));for(const mn of It.children)An.push(...Ke(mn));return An};return pe(Ke(Q.targetSnapshot.root)).pipe((0,Qt.d)(),(0,We.q)(1))}),zi(()=>this.afterPreactivation()),(0,Ze.U)(Q=>{const Ke=function ks(w,b,y){const S=Yo(w,b._root,y?y._root:void 0);return new lo(S,b)}(y.routeReuseStrategy,Q.targetSnapshot,Q.currentRouterState);return S={...Q,targetRouterState:Ke}}),(0,et.b)(Q=>{y.currentUrlTree=Q.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl),y.routerState=Q.targetRouterState,"deferred"===y.urlUpdateStrategy&&(Q.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,Q),y.browserUrlTree=Q.urlAfterRedirects)}),((w,b,y)=>(0,Ze.U)(S=>(new cs(b,S.targetRouterState,S.currentRouterState,y).activate(w),S)))(this.rootContexts,y.routeReuseStrategy,Q=>this.events.next(Q)),(0,We.q)(1),(0,et.b)({next:Q=>{var Ke;L=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Pt(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),null===(Ke=y.titleStrategy)||void 0===Ke||Ke.updateTitle(Q.targetRouterState.snapshot),Q.resolve(!0)},complete:()=>{L=!0}}),Nt(()=>{var Q;L||K||this.cancelNavigationTransition(S,"",1),(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.id)===S.id&&(this.currentNavigation=null)}),lt(Q=>{if(K=!0,Eo(Q)){Es(Q)||(y.navigated=!0,y.restoreHistory(S,!0));const It=new Vt(S.id,this.urlSerializer.serialize(S.extractedUrl),Q.message,Q.cancellationCode);if(this.events.next(It),Es(Q)){const tn=y.urlHandlingStrategy.merge(Q.url,y.rawUrlTree),An={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Kl(S.source)};y.scheduleNavigation(tn,Ne,null,An,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{var Ke;y.restoreHistory(S,!0);const It=new Fn(S.id,this.urlSerializer.serialize(S.extractedUrl),Q,null!==(Ke=S.targetSnapshot)&&void 0!==Ke?Ke:void 0);this.events.next(It);try{S.resolve(y.errorHandler(Q))}catch(tn){S.reject(tn)}}return Be.E}))}))}cancelNavigationTransition(y,S,L){const K=new Vt(y.id,this.urlSerializer.serialize(y.extractedUrl),S,L);this.events.next(K),y.resolve(!1)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Kl(w){return w!==Ne}let bi=(()=>{class w{buildTitle(y){let S,L=y.root;for(;void 0!==L;){var K;S=null!==(K=this.getResolvedTitleForRoute(L))&&void 0!==K?K:S,L=L.children.find(Q=>Q.outlet===Zt)}return S}getResolvedTitleForRoute(y){return y.data[Dn]}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(es)},providedIn:"root"}),w})(),es=(()=>{class w extends bi{constructor(y){super(),this.title=y}updateTitle(y){const S=this.buildTitle(y);void 0!==S&&this.title.setTitle(S)}}return w.\u0275fac=function(y){return new(y||w)(m.LFG(on.Dx))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),$o=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(il)},providedIn:"root"}),w})();class rl{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let il=(()=>{class w extends rl{}return w.\u0275fac=function(){let b;return function(S){return(b||(b=m.n5z(w)))(S||w)}}(),w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Ei=new m.OlP("",{providedIn:"root",factory:()=>({})});let Br=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(Yl)},providedIn:"root"}),w})(),Yl=(()=>{class w{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,S){return y}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function qn(w){throw w}function wl(w,b,y){return b.parse("/")}const wn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Et={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jt=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var y;if("computed"===this.canceledNavigationResolution)return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var y;this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Ei,{optional:!0})||{},this.errorHandler=this.options.errorHandler||qn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Br),this.routeReuseStrategy=(0,m.f3M)($o),this.urlCreationStrategy=(0,m.f3M)(so),this.titleStrategy=(0,m.f3M)(bi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lr(null!==(y=(0,m.f3M)(Co,{optional:!0}))&&void 0!==y?y:[]),this.navigationTransitions=(0,m.f3M)(ps),this.urlSerializer=(0,m.f3M)(ke),this.location=(0,m.f3M)(Le.Ye),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Os(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(S=>{var L;this.lastSuccessfulId=S.id,this.currentPageId=null!==(L=this.browserPageId)&&void 0!==L?L:0},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ne,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const S="popstate"===y.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,S,y.state)},0)}))}navigateToSyncWithBrowser(y,S,L){const K={replaceUrl:!0},Q=null!=L&&L.navigationId?L:null;if(L){const It={...L};delete It.navigationId,delete It.\u0275routerPageId,0!==Object.keys(It).length&&(K.state=It)}const Ke=this.parseUrl(y);this.scheduleNavigation(Ke,S,Q,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,S={}){const{relativeTo:L,queryParams:K,fragment:Q,queryParamsHandling:Ke,preserveFragment:It}=S,tn=It?this.currentUrlTree.fragment:Q;let An=null;switch(Ke){case"merge":An={...this.currentUrlTree.queryParams,...K};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=K||null}return null!==An&&(An=this.removeEmptyProps(An)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,y,An,null!=tn?tn:null)}navigateByUrl(y,S={skipLocationChange:!1}){const L=Sn(y)?y:this.parseUrl(y),K=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(K,Ne,null,S)}navigate(y,S={skipLocationChange:!1}){return function Rr(w){for(let b=0;b<w.length;b++){const y=w[b];if(null==y)throw new m.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,S),S)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let S;try{S=this.urlSerializer.parse(y)}catch(L){S=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return S}isActive(y,S){let L;if(L=!0===S?{...wn}:!1===S?{...Et}:S,Sn(y))return Fr(this.currentUrlTree,y,L);const K=this.parseUrl(y);return Fr(this.currentUrlTree,K,L)}removeEmptyProps(y){return Object.keys(y).reduce((S,L)=>{const K=y[L];return null!=K&&(S[L]=K),S},{})}scheduleNavigation(y,S,L,K,Q){if(this.disposed)return Promise.resolve(!1);let Ke,It,tn,An;if(Q?(Ke=Q.resolve,It=Q.reject,tn=Q.promise):tn=new Promise((zr,Ci)=>{Ke=zr,It=Ci}),"computed"===this.canceledNavigationResolution)if(L&&L.\u0275routerPageId)An=L.\u0275routerPageId;else{var mn;An=(null!==(mn=this.browserPageId)&&void 0!==mn?mn:0)+1}else An=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:An,source:S,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:K,resolve:Ke,reject:It,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(zr=>Promise.reject(zr))}setBrowserUrl(y,S){const L=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(L)||S.extras.replaceUrl){const Q={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(L,"",Q)}else{const K={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(L,"",K)}}restoreHistory(y,S=!1){if("computed"===this.canceledNavigationResolution){var L,K;const Q=null!==(L=this.browserPageId)&&void 0!==L?L:this.currentPageId,Ke=this.currentPageId-Q;0!==Ke?this.location.historyGo(Ke):this.currentUrlTree===(null===(K=this.getCurrentNavigation())||void 0===K?void 0:K.finalUrl)&&0===Ke&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,S){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:S}:{navigationId:y}}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),ca=(()=>{class w{constructor(y,S,L,K,Q,Ke){var It;this.router=y,this.route=S,this.tabIndexAttribute=L,this.renderer=K,this.el=Q,this.locationStrategy=Ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ue.x;const tn=null===(It=Q.nativeElement.tagName)||void 0===It?void 0:It.toLowerCase();this.isAnchorElement="a"===tn||"area"===tn,this.isAnchorElement?this.subscription=y.events.subscribe(An=>{An instanceof Pt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,m.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,m.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,m.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,S,L,K,Q){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||S||L||K||Q||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var y;null===(y=this.subscription)||void 0===y||y.unsubscribe()}updateHref(){var y;this.href=null!==this.urlTree&&this.locationStrategy?null===(y=this.locationStrategy)||void 0===y?void 0:y.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const S=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(y,S){const L=this.renderer,K=this.el.nativeElement;null!==S?L.setAttribute(K,y,S):L.removeAttribute(K,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(y){return new(y||w)(m.Y36(jt),m.Y36(Qi),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Le.S$))},w.\u0275dir=m.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,S){1&y&&m.NdJ("click",function(K){return S.onClick(K.button,K.ctrlKey,K.shiftKey,K.altKey,K.metaKey)}),2&y&&m.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),w})();class Vs{}let su=(()=>{class w{preload(y,S){return S().pipe(lt(()=>(0,W.of)(null)))}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Da=(()=>{class w{constructor(y,S,L,K,Q){this.router=y,this.injector=L,this.preloadingStrategy=K,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(y=>y instanceof Pt),(0,we.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,S){const L=[];for(const It of S){var K,Q;It.providers&&!It._injector&&(It._injector=(0,m.MMx)(It.providers,y,`Route: ${It.path}`));const tn=null!==(K=It._injector)&&void 0!==K?K:y,An=null!==(Q=It._loadedInjector)&&void 0!==Q?Q:tn;var Ke;(It.loadChildren&&!It._loadedRoutes&&void 0===It.canLoad||It.loadComponent&&!It._loadedComponent)&&L.push(this.preloadConfig(tn,It)),(It.children||It._loadedRoutes)&&L.push(this.processRoutes(An,null!==(Ke=It.children)&&void 0!==Ke?Ke:It._loadedRoutes))}return(0,h.D)(L).pipe((0,Xt.J)())}preloadConfig(y,S){return this.preloadingStrategy.preload(S,()=>{let L;L=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(y,S):(0,W.of)(null);const K=L.pipe((0,_e.z)(Q=>{var Ke;return null===Q?(0,W.of)(void 0):(S._loadedRoutes=Q.routes,S._loadedInjector=Q.injector,this.processRoutes(null!==(Ke=Q.injector)&&void 0!==Ke?Ke:y,Q.routes))}));if(S.loadComponent&&!S._loadedComponent){const Q=this.loader.loadComponent(S);return(0,h.D)([K,Q]).pipe((0,Xt.J)())}return K})}}return w.\u0275fac=function(y){return new(y||w)(m.LFG(jt),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Vs),m.LFG(To))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ol=new m.OlP("");let bl=(()=>{class w{constructor(y,S,L,K,Q={}){this.urlSerializer=y,this.transitions=S,this.viewportScroller=L,this.zone=K,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Pt&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof rr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){var y,S;null===(y=this.routerEventsSubscription)||void 0===y||y.unsubscribe(),null===(S=this.scrollEventsSubscription)||void 0===S||S.unsubscribe()}}return w.\u0275fac=function(y){m.$Z()},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac}),w})();var uo=(()=>((uo=uo||{})[uo.COMPLETE=0]="COMPLETE",uo[uo.FAILED=1]="FAILED",uo[uo.REDIRECTING=2]="REDIRECTING",uo))();const Jn=!1;function Nr(w,b){return{\u0275kind:w,\u0275providers:b}}const Ln=new m.OlP("",{providedIn:"root",factory:()=>!1});function Ni(){const w=(0,m.f3M)(m.zs3);return b=>{var y,S;const L=w.get(m.z2F);if(b!==L.components[0])return;const K=w.get(jt),Q=w.get(gn);1===w.get(Na)&&K.initialNavigation(),null===(y=w.get(Sl,null,m.XFs.Optional))||void 0===y||y.setUpPreloading(),null===(S=w.get(ol,null,m.XFs.Optional))||void 0===S||S.init(),K.resetRootComponentType(L.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const gn=new m.OlP(Jn?"bootstrap done indicator":"",{factory:()=>new Ue.x}),Na=new m.OlP(Jn?"initial navigation":"",{providedIn:"root",factory:()=>1});function bc(){let w=[];return w=Jn?[{provide:m.Xts,multi:!0,useFactory:()=>{const b=(0,m.f3M)(jt);return()=>b.events.subscribe(y=>{var S,L,K,Q;null===(S=(L=console).group)||void 0===S||S.call(L,`Router Event: ${y.constructor.name}`),console.log(function Sr(w){var b,y,S,L;if(!("type"in w))return`Unknown Router Event: ${w.constructor.name}`;switch(w.type){case 14:return`ActivationEnd(path: '${(null===(b=w.snapshot.routeConfig)||void 0===b?void 0:b.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(y=w.snapshot.routeConfig)||void 0===y?void 0:y.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(S=w.snapshot.routeConfig)||void 0===S?void 0:S.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(L=w.snapshot.routeConfig)||void 0===L?void 0:L.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state}, shouldActivate: ${w.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 2:return`NavigationCancel(id: ${w.id}, url: '${w.url}')`;case 16:return`NavigationSkipped(id: ${w.id}, url: '${w.url}')`;case 1:return`NavigationEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${w.id}, url: '${w.url}', error: ${w.error})`;case 0:return`NavigationStart(id: ${w.id}, url: '${w.url}')`;case 6:return`ResolveEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 5:return`ResolveStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 10:return`RouteConfigLoadEnd(path: ${w.route.path})`;case 9:return`RouteConfigLoadStart(path: ${w.route.path})`;case 4:return`RoutesRecognized(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 15:return`Scroll(anchor: '${w.anchor}', position: '${w.position?`${w.position[0]}, ${w.position[1]}`:null}')`}}(y)),console.log(y),null===(K=(Q=console).groupEnd)||void 0===K||K.call(Q)})}}]:[],Nr(1,w)}const Sl=new m.OlP(Jn?"router preloader":"");function ba(w){return Nr(0,[{provide:Sl,useExisting:Da},{provide:Vs,useExisting:w}])}const ki=!1,sl=new m.OlP(ki?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),os=[Le.Ye,{provide:ke,useClass:$e},jt,is,{provide:Qi,useFactory:function Xl(w){return w.routerState.root},deps:[jt]},To,ki?{provide:Ln,useValue:!0}:[]];function to(){return new m.PXZ("Router",jt)}let Al=(()=>{class w{constructor(y){}static forRoot(y,S){return{ngModule:w,providers:[os,ki&&null!=S&&S.enableTracing?bc().\u0275providers:[],{provide:Co,multi:!0,useValue:y},{provide:sl,useFactory:Tc,deps:[[jt,new m.FiY,new m.tp0]]},{provide:Ei,useValue:S||{}},null!=S&&S.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:ol,useFactory:()=>{const w=(0,m.f3M)(Le.EM),b=(0,m.f3M)(m.R0b),y=(0,m.f3M)(Ei),S=(0,m.f3M)(ps),L=(0,m.f3M)(ke);return y.scrollOffset&&w.setOffset(y.scrollOffset),new bl(L,S,w,b,y)}},null!=S&&S.preloadingStrategy?ba(S.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:to},null!=S&&S.initialNavigation?ha(S):[],[{provide:gs,useFactory:Ni},{provide:m.tb,multi:!0,useExisting:gs}]]}}static forChild(y){return{ngModule:w,providers:[{provide:Co,multi:!0,useValue:y}]}}}return w.\u0275fac=function(y){return new(y||w)(m.LFG(sl,8))},w.\u0275mod=m.oAB({type:w}),w.\u0275inj=m.cJS({imports:[Di]}),w})();function Tc(w){if(ki&&w)throw new m.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ha(w){return["disabled"===w.initialNavigation?Nr(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const b=(0,m.f3M)(jt);return()=>{b.setUpLocationChangeListener()}}},{provide:Na,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Nr(2,[{provide:Na,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:b=>{const y=b.get(Le.V_,Promise.resolve());return()=>y.then(()=>new Promise(S=>{const L=b.get(jt),K=b.get(gn);(function ua(w,b){w.events.pipe((0,nt.h)(y=>y instanceof Pt||y instanceof Vt||y instanceof Fn||y instanceof nn),(0,Ze.U)(y=>y instanceof Pt||y instanceof nn?uo.COMPLETE:y instanceof Vt&&(0===y.code||1===y.code)?uo.REDIRECTING:uo.FAILED),(0,nt.h)(y=>y!==uo.REDIRECTING),(0,We.q)(1)).subscribe(()=>{b()})})(L,()=>{S(!0)}),b.get(ps).afterPreactivation=()=>(S(!0),K.closed?(0,W.of)(void 0):K),L.initialNavigation()}))}}]).\u0275providers:[]]}const gs=new m.OlP(ki?"Router Initializer":"")},3942:(ln,st,F)=>{"use strict";F.d(st,{Z:()=>qe});var m=F(2090),h=F(4859),W=F(6881),te=F(1877);class Te{constructor(Ie,me){this._delegate=Ie,this.firebase=me,(0,W._addComponent)(Ie,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Ie,me=W._DEFAULT_ENTRY_NAME){var ne;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Ie);return!at.isInitialized()&&"EXPLICIT"===(null===(ne=at.getComponent())||void 0===ne?void 0:ne.instantiationMode)&&at.initialize(),at.getImmediate({identifier:me})}_removeServiceInstance(Ie,me=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(me)}_addComponent(Ie){(0,W._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,W._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ae(){const gt=function xe(gt){const Ie={},me={__esModule:!0,initializeApp:function Xe(be,ve={}){const Ce=W.initializeApp(be,ve);if((0,m.r3)(Ie,Ce.name))return Ie[Ce.name];const Ue=new gt(Ce,me);return Ie[Ce.name]=Ue,Ue},app:at,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Be(be){const ve=be.name,Ce=ve.replace("-compat","");if(W._registerComponent(be)&&"PUBLIC"===be.type){const Ue=(Le=at())=>{if("function"!=typeof Le[Ce])throw le.create("invalid-app-argument",{appName:ve});return Le[Ce]()};void 0!==be.serviceProps&&(0,m.ZB)(Ue,be.serviceProps),me[Ce]=Ue,gt.prototype[Ce]=function(...Le){return this._getService.bind(this,ve).apply(this,be.multipleInstances?Le:[])}}return"PUBLIC"===be.type?me[Ce]:null},removeApp:function ne(be){delete Ie[be]},useAsService:function mt(be,ve){return"serverAuth"===ve?null:ve},modularAPIs:W}};function at(be){if(!(0,m.r3)(Ie,be=be||W._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:be});return Ie[be]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ge(){return Object.keys(Ie).map(be=>Ie[be])}}),at.App=gt,me}(Te);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Ie(me){(0,m.ZB)(gt,me)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),gt}(),se=new te.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=he;!function pe(gt){(0,W.registerVersion)("@firebase/app-compat","0.2.10",gt)}()},6881:(ln,st,F)=>{"use strict";F.r(st),F.d(st,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>qr,_DEFAULT_ENTRY_NAME:()=>Gr,_addComponent:()=>zt,_addOrOverwriteComponent:()=>un,_apps:()=>Pn,_clearComponents:()=>Lr,_components:()=>zn,_getProvider:()=>Fr,_registerComponent:()=>Gt,_removeServiceInstance:()=>cr,deleteApp:()=>ti,getApp:()=>Gn,getApps:()=>ir,initializeApp:()=>Kn,onLog:()=>ke,registerVersion:()=>St,setLogLevel:()=>$e});var m=F(5861),h=F(4859),W=F(1877),te=F(2090);const Te=(Tt,pt)=>pt.some(Ht=>Tt instanceof Ht);let Ee,le;const he=new WeakMap,se=new WeakMap,ae=new WeakMap,Me=new WeakMap,pe=new WeakMap;let Ie={get(Tt,pt,Ht){if(Tt instanceof IDBTransaction){if("done"===pt)return se.get(Tt);if("objectStoreNames"===pt)return Tt.objectStoreNames||ae.get(Tt);if("store"===pt)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return Xe(Tt[pt])},set:(Tt,pt,Ht)=>(Tt[pt]=Ht,!0),has:(Tt,pt)=>Tt instanceof IDBTransaction&&("done"===pt||"store"===pt)||pt in Tt};function at(Tt){return"function"==typeof Tt?function ne(Tt){return Tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Tt)?function(...pt){return Tt.apply(Ge(this),pt),Xe(he.get(this))}:function(...pt){return Xe(Tt.apply(Ge(this),pt))}:function(pt,...Ht){const vn=Tt.call(Ge(this),pt,...Ht);return ae.set(vn,pt.sort?pt.sort():[pt]),Xe(vn)}}(Tt):(Tt instanceof IDBTransaction&&function gt(Tt){if(se.has(Tt))return;const pt=new Promise((Ht,vn)=>{const Sn=()=>{Tt.removeEventListener("complete",tr),Tt.removeEventListener("error",En),Tt.removeEventListener("abort",En)},tr=()=>{Ht(),Sn()},En=()=>{vn(Tt.error||new DOMException("AbortError","AbortError")),Sn()};Tt.addEventListener("complete",tr),Tt.addEventListener("error",En),Tt.addEventListener("abort",En)});se.set(Tt,pt)}(Tt),Te(Tt,function xe(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Tt,Ie):Tt)}function Xe(Tt){if(Tt instanceof IDBRequest)return function qe(Tt){const pt=new Promise((Ht,vn)=>{const Sn=()=>{Tt.removeEventListener("success",tr),Tt.removeEventListener("error",En)},tr=()=>{Ht(Xe(Tt.result)),Sn()},En=()=>{vn(Tt.error),Sn()};Tt.addEventListener("success",tr),Tt.addEventListener("error",En)});return pt.then(Ht=>{Ht instanceof IDBCursor&&he.set(Ht,Tt)}).catch(()=>{}),pe.set(pt,Tt),pt}(Tt);if(Me.has(Tt))return Me.get(Tt);const pt=at(Tt);return pt!==Tt&&(Me.set(Tt,pt),pe.set(pt,Tt)),pt}const Ge=Tt=>pe.get(Tt),be=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Ce=new Map;function Ue(Tt,pt){if(!(Tt instanceof IDBDatabase)||pt in Tt||"string"!=typeof pt)return;if(Ce.get(pt))return Ce.get(pt);const Ht=pt.replace(/FromIndex$/,""),vn=pt!==Ht,Sn=ve.includes(Ht);if(!(Ht in(vn?IDBIndex:IDBObjectStore).prototype)||!Sn&&!be.includes(Ht))return;const tr=function(){var En=(0,m.Z)(function*(or,...nr){const Yn=this.transaction(or,Sn?"readwrite":"readonly");let kn=Yn.store;return vn&&(kn=kn.index(nr.shift())),(yield Promise.all([kn[Ht](...nr),Sn&&Yn.done]))[0]});return function(nr){return En.apply(this,arguments)}}();return Ce.set(pt,tr),tr}!function me(Tt){Ie=Tt(Ie)}(Tt=>({...Tt,get:(pt,Ht,vn)=>Ue(pt,Ht)||Tt.get(pt,Ht,vn),has:(pt,Ht)=>!!Ue(pt,Ht)||Tt.has(pt,Ht)}));class Le{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function Ze(Tt){const pt=Tt.getComponent();return"VERSION"===(null==pt?void 0:pt.type)}(Ht)){const vn=Ht.getImmediate();return`${vn.library}/${vn.version}`}return null}).filter(Ht=>Ht).join(" ")}}const Ye="@firebase/app",ut=new W.Yd("@firebase/app"),Gr="[DEFAULT]",ri={[Ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,zn=new Map;function zt(Tt,pt){try{Tt.container.addComponent(pt)}catch(Ht){ut.debug(`Component ${pt.name} failed to register with FirebaseApp ${Tt.name}`,Ht)}}function un(Tt,pt){Tt.container.addOrOverwriteComponent(pt)}function Gt(Tt){const pt=Tt.name;if(zn.has(pt))return ut.debug(`There were multiple attempts to register component ${pt}.`),!1;zn.set(pt,Tt);for(const Ht of Pn.values())zt(Ht,Tt);return!0}function Fr(Tt,pt){const Ht=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ht&&Ht.triggerHeartbeat(),Tt.container.getProvider(pt)}function cr(Tt,pt,Ht=Gr){Fr(Tt,pt).clearInstance(Ht)}function Lr(){zn.clear()}const Wr=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yr{constructor(pt,Ht,vn){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=vn,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const qr="9.22.0";function Kn(Tt,pt={}){let Ht=Tt;"object"!=typeof pt&&(pt={name:pt});const vn=Object.assign({name:Gr,automaticDataCollectionEnabled:!1},pt),Sn=vn.name;if("string"!=typeof Sn||!Sn)throw Wr.create("bad-app-name",{appName:String(Sn)});if(Ht||(Ht=(0,te.aH)()),!Ht)throw Wr.create("no-options");const tr=Pn.get(Sn);if(tr){if((0,te.vZ)(Ht,tr.options)&&(0,te.vZ)(vn,tr.config))return tr;throw Wr.create("duplicate-app",{appName:Sn})}const En=new h.H0(Sn);for(const nr of zn.values())En.addComponent(nr);const or=new yr(Ht,vn,En);return Pn.set(Sn,or),or}function Gn(Tt=Gr){const pt=Pn.get(Tt);if(!pt&&Tt===Gr&&(0,te.aH)())return Kn();if(!pt)throw Wr.create("no-app",{appName:Tt});return pt}function ir(){return Array.from(Pn.values())}function ti(Tt){return vr.apply(this,arguments)}function vr(){return(vr=(0,m.Z)(function*(Tt){const pt=Tt.name;Pn.has(pt)&&(Pn.delete(pt),yield Promise.all(Tt.container.getProviders().map(Ht=>Ht.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function St(Tt,pt,Ht){var vn;let Sn=null!==(vn=ri[Tt])&&void 0!==vn?vn:Tt;Ht&&(Sn+=`-${Ht}`);const tr=Sn.match(/\s|\//),En=pt.match(/\s|\//);if(tr||En){const or=[`Unable to register library "${Sn}" with version "${pt}":`];return tr&&or.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),tr&&En&&or.push("and"),En&&or.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void ut.warn(or.join(" "))}Gt(new h.wA(`${Sn}-version`,()=>({library:Sn,version:pt}),"VERSION"))}function ke(Tt,pt){if(null!==Tt&&"function"!=typeof Tt)throw Wr.create("invalid-log-argument");(0,W.Am)(Tt,pt)}function $e(Tt){(0,W.Ub)(Tt)}const kt="firebase-heartbeat-database",Ot=1,ue="firebase-heartbeat-store";let ce=null;function Pe(){return ce||(ce=function Be(Tt,pt,{blocked:Ht,upgrade:vn,blocking:Sn,terminated:tr}={}){const En=indexedDB.open(Tt,pt),or=Xe(En);return vn&&En.addEventListener("upgradeneeded",nr=>{vn(Xe(En.result),nr.oldVersion,nr.newVersion,Xe(En.transaction),nr)}),Ht&&En.addEventListener("blocked",nr=>Ht(nr.oldVersion,nr.newVersion,nr)),or.then(nr=>{tr&&nr.addEventListener("close",()=>tr()),Sn&&nr.addEventListener("versionchange",Yn=>Sn(Yn.oldVersion,Yn.newVersion,Yn))}).catch(()=>{}),or}(kt,Ot,{upgrade:(Tt,pt)=>{0===pt&&Tt.createObjectStore(ue)}}).catch(Tt=>{throw Wr.create("idb-open",{originalErrorMessage:Tt.message})})),ce}function rt(){return(rt=(0,m.Z)(function*(Tt){try{return yield(yield Pe()).transaction(ue).objectStore(ue).get(Se(Tt))}catch(pt){if(pt instanceof te.ZR)ut.warn(pt.message);else{const Ht=Wr.create("idb-get",{originalErrorMessage:null==pt?void 0:pt.message});ut.warn(Ht.message)}}})).apply(this,arguments)}function Wt(Tt,pt){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,m.Z)(function*(Tt,pt){try{const vn=(yield Pe()).transaction(ue,"readwrite");yield vn.objectStore(ue).put(pt,Se(Tt)),yield vn.done}catch(Ht){if(Ht instanceof te.ZR)ut.warn(Ht.message);else{const vn=Wr.create("idb-set",{originalErrorMessage:null==Ht?void 0:Ht.message});ut.warn(vn.message)}}})).apply(this,arguments)}function Se(Tt){return`${Tt.name}!${Tt.options.appId}`}class Ct{constructor(pt){this.container=pt,this._heartbeatsCache=null;const Ht=this.container.getProvider("app").getImmediate();this._storage=new jn(Ht),this._heartbeatsCachePromise=this._storage.read().then(vn=>(this._heartbeatsCache=vn,vn))}triggerHeartbeat(){var pt=this;return(0,m.Z)(function*(){const vn=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=qt();if(null===pt._heartbeatsCache&&(pt._heartbeatsCache=yield pt._heartbeatsCachePromise),pt._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!pt._heartbeatsCache.heartbeats.some(tr=>tr.date===Sn))return pt._heartbeatsCache.heartbeats.push({date:Sn,agent:vn}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(tr=>{const En=new Date(tr.date).valueOf();return Date.now()-En<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,m.Z)(function*(){if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null===pt._heartbeatsCache||0===pt._heartbeatsCache.heartbeats.length)return"";const Ht=qt(),{heartbeatsToSend:vn,unsentEntries:Sn}=function fn(Tt,pt=1024){const Ht=[];let vn=Tt.slice();for(const Sn of Tt){const tr=Ht.find(En=>En.agent===Sn.agent);if(tr){if(tr.dates.push(Sn.date),Zn(Ht)>pt){tr.dates.pop();break}}else if(Ht.push({agent:Sn.agent,dates:[Sn.date]}),Zn(Ht)>pt){Ht.pop();break}vn=vn.slice(1)}return{heartbeatsToSend:Ht,unsentEntries:vn}}(pt._heartbeatsCache.heartbeats),tr=(0,te.L)(JSON.stringify({version:2,heartbeats:vn}));return pt._heartbeatsCache.lastSentHeartbeatDate=Ht,Sn.length>0?(pt._heartbeatsCache.heartbeats=Sn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),tr})()}}function qt(){return(new Date).toISOString().substring(0,10)}class jn{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,m.Z)(function*(){return(yield pt._canUseIndexedDBPromise)&&(yield function ft(Tt){return rt.apply(this,arguments)}(pt.app))||{heartbeats:[]}})()}overwrite(pt){var Ht=this;return(0,m.Z)(function*(){var vn;if(yield Ht._canUseIndexedDBPromise){const tr=yield Ht.read();return Wt(Ht.app,{lastSentHeartbeatDate:null!==(vn=pt.lastSentHeartbeatDate)&&void 0!==vn?vn:tr.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var Ht=this;return(0,m.Z)(function*(){var vn;if(yield Ht._canUseIndexedDBPromise){const tr=yield Ht.read();return Wt(Ht.app,{lastSentHeartbeatDate:null!==(vn=pt.lastSentHeartbeatDate)&&void 0!==vn?vn:tr.lastSentHeartbeatDate,heartbeats:[...tr.heartbeats,...pt.heartbeats]})}})()}}function Zn(Tt){return(0,te.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function Ir(Tt){Gt(new h.wA("platform-logger",pt=>new Le(pt),"PRIVATE")),Gt(new h.wA("heartbeat",pt=>new Ct(pt),"PRIVATE")),St(Ye,"0.9.10",Tt),St(Ye,"0.9.10","esm2017"),St("fire-js","")}("")},4859:(ln,st,F)=>{"use strict";F.d(st,{H0:()=>xe,wA:()=>W});var m=F(5861),h=F(2090);class W{constructor(he,se,ae){this.name=he,this.instanceFactory=se,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const te="[DEFAULT]";class Te{constructor(he,se){this.name=he,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const se=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(se)){const ae=new h.BH;if(this.instancesDeferred.set(se,ae),this.isInitialized(se)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:se});Me&&ae.resolve(Me)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(he){var se;const ae=this.normalizeInstanceIdentifier(null==he?void 0:he.identifier),Me=null!==(se=null==he?void 0:he.optional)&&void 0!==se&&se;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(pe){if(Me)return null;throw pe}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function le(Ae){return"EAGER"===Ae.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[se,ae]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(se);try{const pe=this.getOrInitializeService({instanceIdentifier:Me});ae.resolve(pe)}catch{}}}}clearInstance(he=te){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,m.Z)(function*(){const se=Array.from(he.instances.values());yield Promise.all([...se.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...se.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=te){return this.instances.has(he)}getOptions(he=te){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:se={}}=he,ae=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:ae,options:se});for(const[pe,qe]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(pe)&&qe.resolve(Me);return Me}onInit(he,se){var ae;const Me=this.normalizeInstanceIdentifier(se),pe=null!==(ae=this.onInitCallbacks.get(Me))&&void 0!==ae?ae:new Set;pe.add(he),this.onInitCallbacks.set(Me,pe);const qe=this.instances.get(Me);return qe&&he(qe,Me),()=>{pe.delete(he)}}invokeOnInitCallbacks(he,se){const ae=this.onInitCallbacks.get(se);if(ae)for(const Me of ae)try{Me(he,se)}catch{}}getOrInitializeService({instanceIdentifier:he,options:se={}}){let ae=this.instances.get(he);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=he,Ae===te?void 0:Ae),options:se}),this.instances.set(he,ae),this.instancesOptions.set(he,se),this.invokeOnInitCallbacks(ae,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,ae)}catch{}var Ae;return ae||null}normalizeInstanceIdentifier(he=te){return this.component?this.component.multipleInstances?he:te:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const se=this.getProvider(he.name);if(se.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);se.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const se=new Te(he,this);return this.providers.set(he,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(ln,st,F)=>{"use strict";F.d(st,{Am:()=>Ae,Ub:()=>xe,Yd:()=>le,in:()=>h});const m=[];var h=(()=>{return(he=h||(h={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",h;var he})();const W={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},te=h.INFO,Te={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Ee=(he,se,...ae)=>{if(se<he.logLevel)return;const Me=(new Date).toISOString(),pe=Te[se];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[pe](`[${Me}]  ${he.name}:`,...ae)};class le{constructor(se){this.name=se,this._logLevel=te,this._logHandler=Ee,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in h))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?W[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...se),this._logHandler(this,h.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...se),this._logHandler(this,h.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,h.INFO,...se),this._logHandler(this,h.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,h.WARN,...se),this._logHandler(this,h.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...se),this._logHandler(this,h.ERROR,...se)}}function xe(he){m.forEach(se=>{se.setLogLevel(he)})}function Ae(he,se){for(const ae of m){let Me=null;se&&se.level&&(Me=W[se.level]),ae.userLogHandler=null===he?null:(pe,qe,...gt)=>{const Ie=gt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");qe>=(null!=Me?Me:pe.logLevel)&&he({level:h[qe].toLowerCase(),message:Ie,args:gt,type:pe.name})}}}},650:(ln,st,F)=>{"use strict";F.d(st,{Br:()=>ko,dr:()=>Wr,oU:()=>qr,cs:()=>Oo,YG:()=>vr,Sm:()=>St,PM:()=>ke,FN:()=>$e,Zi:()=>kt,tO:()=>Ot,Dq:()=>ue,wI:()=>ft,W2:()=>rt,IJ:()=>Se,W4:()=>oe,jY:()=>qt,Gu:()=>fn,gu:()=>jn,pK:()=>pt,Ie:()=>Ht,Q$:()=>nr,jP:()=>Eo,Nd:()=>Ne,VI:()=>yt,cJ:()=>Dt,GO:()=>Pt,t9:()=>Vt,n0:()=>nn,PQ:()=>xn,yq:()=>Kr,ZU:()=>ii,UN:()=>is,g2:()=>He,wd:()=>Ft,sr:()=>Qn,Pc:()=>ds,r4:()=>cs,IN:()=>vi,SH:()=>mi,X1:()=>ao,t4:()=>Ro,YI:()=>ji,QI:()=>Gr,j9:()=>ri,yF:()=>Fo});var m=F(5861),h=F(4650),W=F(433),te=F(655),Te=F(8421),Ee=F(9751),le=F(5577),xe=F(1144),Ae=F(576),he=F(3268);const se=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],Me=["on","off"];function pe(_,U,I,$){if((0,Ae.m)(I)&&($=I,I=void 0),$)return pe(_,U,I).pipe((0,he.Z)($));const[re,C]=function me(_){return(0,Ae.m)(_.addEventListener)&&(0,Ae.m)(_.removeEventListener)}(_)?ae.map(x=>R=>_[x](U,R,I)):function gt(_){return(0,Ae.m)(_.addListener)&&(0,Ae.m)(_.removeListener)}(_)?se.map(qe(_,U)):function Ie(_){return(0,Ae.m)(_.on)&&(0,Ae.m)(_.off)}(_)?Me.map(qe(_,U)):[];if(!re&&(0,xe.z)(_))return(0,le.z)(x=>pe(x,U,I))((0,Te.Xf)(_));if(!re)throw new TypeError("Invalid event target");return new Ee.y(x=>{const R=(...q)=>x.next(1<q.length?q:q[0]);return re(R),()=>C(R)})}function qe(_,U){return I=>$=>_[I](U,$)}var ne=F(7579),at=F(1135),Xe=F(1194),ve=(F(8127),F(746),F(1198),F(1898),F(5273)),Ce=F(6655),Ue=F(3982),Le=F(8967),Ye=(F(394),F(4357)),nt=(F(4110),F(4349),F(4083)),De=F(9300),we=F(3900),et=F(1884),lt=F(6895);const bt=ve.i,ot=["*"],At=["outlet"],xt=[[["","slot","top"]],"*"],Nt=["[slot=top]","*"],Zt=_=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_):"function"==typeof requestAnimationFrame?requestAnimationFrame(_):setTimeout(_);let Dn=(()=>{class _{constructor(I,$){this.injector=I,this.el=$,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(I){this.el.nativeElement.value=this.lastValue=I,Nn(this.el)}handleValueChange(I,$){I===this.el.nativeElement&&($!==this.lastValue&&(this.lastValue=$,this.onChange($)),Nn(this.el))}_handleBlurEvent(I){I===this.el.nativeElement&&(this.onTouched(),Nn(this.el))}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.el.nativeElement.disabled=I}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let I;try{I=this.injector.get(W.a5)}catch{}if(!I)return;I.statusChanges&&(this.statusChanges=I.statusChanges.subscribe(()=>Nn(this.el)));const $=I.control;$&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(C=>{if(typeof $[C]<"u"){const x=$[C].bind($);$[C]=(...R)=>{x(...R),Nn(this.el)}}})}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.zs3),h.Y36(h.SBq))},_.\u0275dir=h.lG2({type:_,hostBindings:function(I,$){1&I&&h.NdJ("ionBlur",function(C){return $._handleBlurEvent(C.target)})}}),_})();const Nn=_=>{Zt(()=>{const U=_.nativeElement,I=null!=U.value&&U.value.toString().length>0,$=Vn(U);bn(U,$);const re=U.closest("ion-item");re&&bn(re,I?[...$,"item-has-value"]:$)})},Vn=_=>{const U=_.classList,I=[];for(let $=0;$<U.length;$++){const re=U.item($);null!==re&&Jt(re,"ng-")&&I.push(`ion-${re.substring(3)}`)}return I},bn=(_,U)=>{const I=_.classList;I.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),I.add(...U)},Jt=(_,U)=>_.substring(0,U.length)===U;let Gr=(()=>{class _ extends Dn{constructor(I,$){super(I,$)}_handleChangeEvent(I){this.handleValueChange(I,I.value)}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.zs3),h.Y36(h.SBq))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(I,$){1&I&&h.NdJ("ionChange",function(C){return $._handleChangeEvent(C.target)})},features:[h._Bn([{provide:W.JU,useExisting:_,multi:!0}]),h.qOj]}),_})(),ri=(()=>{class _ extends Dn{constructor(I,$){super(I,$)}_handleInputEvent(I){this.handleValueChange(I,I.value)}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.zs3),h.Y36(h.SBq))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(I,$){1&I&&h.NdJ("ionInput",function(C){return $._handleInputEvent(C.target)})},features:[h._Bn([{provide:W.JU,useExisting:_,multi:!0}]),h.qOj]}),_})();const Pn=(_,U)=>{const I=_.prototype;U.forEach($=>{Object.defineProperty(I,$,{get(){return this.el[$]},set(re){this.z.runOutsideAngular(()=>this.el[$]=re)}})})},zn=(_,U)=>{const I=_.prototype;U.forEach($=>{I[$]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[$].apply(this.el,re))}})},zt=(_,U,I)=>{I.forEach($=>_[$]=pe(U,$))};function Gt(_){return function(I){const{defineCustomElementFn:$,inputs:re,methods:C}=_;return void 0!==$&&$(),re&&Pn(I,re),C&&zn(I,C),I}}let Wr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-app"]],ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({})],_),_})(),qr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],_),_})(),vr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionFocus","ionBlur"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],_),_})(),St=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["collapse"]})],_),_})(),ke=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],_),_})(),$e=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["mode"]})],_),_})(),kt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","mode","translucent"]})],_),_})(),Ot=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","mode"]})],_),_})(),ue=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","mode"]})],_),_})(),ft=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],_),_})(),rt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],_),_})(),Se=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],_),_})(),oe=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionFocus","ionBlur"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],_),_})(),qt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["fixed"]})],_),_})(),fn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["collapse","mode","translucent"]})],_),_})(),jn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],_),_})(),pt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],_),_})(),Ht=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],_),_})(),nr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","mode","position"]})],_),_})(),Ne=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-row"]],ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({})],_),_})(),yt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],_),_})(),Dt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionChange"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],_),_})(),Pt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["disabled","layout","mode","type","value"]})],_),_})(),Vt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",value:"value"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","value"],methods:["open"]})],_),_})(),nn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["disabled","value"]})],_),_})(),xn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","duration","name","paused"]})],_),_})(),Kr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","mode","selectedTab","translucent"]})],_),_})(),ii=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],_),_})(),He=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,zt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],_),_})(),Ft=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","size"]})],_),_})(),Qn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ot,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,te.gn)([Gt({inputs:["color","mode"]})],_),_})(),rr=(()=>{class _{get(I,$){const re=Bi();return re?re.get(I,$):null}getBoolean(I,$){const re=Bi();return!!re&&re.getBoolean(I,$)}getNumber(I,$){const re=Bi();return re?re.getNumber(I,$):0}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Sr=new h.OlP("USERCONFIG"),Bi=()=>{if(typeof window<"u"){const _=window.Ionic;if(null!=_&&_.config)return _.config}return null};let Ro=(()=>{class _{constructor(I,$){this.doc=I,this.backButton=new ne.x,this.keyboardDidShow=new ne.x,this.keyboardDidHide=new ne.x,this.pause=new ne.x,this.resume=new ne.x,this.resize=new ne.x,$.run(()=>{var re;let C;this.win=I.defaultView,this.backButton.subscribeWithPriority=function(x,R){return this.subscribe(q=>q.register(x,it=>$.run(()=>R(it))))},so(this.pause,I,"pause"),so(this.resume,I,"resume"),so(this.backButton,I,"ionBackButton"),so(this.resize,this.win,"resize"),so(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),so(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(x=>{C=x}),null!==(re=this.win)&&void 0!==re&&re.cordova?I.addEventListener("deviceready",()=>{C("cordova")},{once:!0}):C("dom")})}is(I){return(0,ve.a)(this.win,I)}platforms(){return(0,ve.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(I){return jr(this.win.location.href,I)}isLandscape(){return!this.isPortrait()}isPortrait(){var I,$;return null===(I=($=this.win).matchMedia)||void 0===I?void 0:I.call($,"(orientation: portrait)").matches}testUserAgent(I){const $=this.win.navigator;return!!(null!=$&&$.userAgent&&$.userAgent.indexOf(I)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return _.\u0275fac=function(I){return new(I||_)(h.LFG(lt.K0),h.LFG(h.R0b))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const jr=(_,U)=>{U=U.replace(/[[\]\\]/g,"\\$&");const $=new RegExp("[\\?&]"+U+"=([^&#]*)").exec(_);return $?decodeURIComponent($[1].replace(/\+/g," ")):null},so=(_,U,I)=>{U&&U.addEventListener(I,$=>{_.next(null!=$?$.detail:void 0)})};let mi=(()=>{class _{constructor(I,$,re,C){this.location=$,this.serializer=re,this.router=C,this.direction=_s,this.animated=yi,this.guessDirection="forward",this.lastNavId=-1,C&&C.events.subscribe(x=>{if(x instanceof Xe.OD){const R=x.restoredState?x.restoredState.navigationId:x.id;this.guessDirection=R<this.lastNavId?"back":"forward",this.guessAnimation=x.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?x.id:R}}),I.backButton.subscribeWithPriority(0,x=>{this.pop(),x()})}navigateForward(I,$={}){return this.setDirection("forward",$.animated,$.animationDirection,$.animation),this.navigate(I,$)}navigateBack(I,$={}){return this.setDirection("back",$.animated,$.animationDirection,$.animation),this.navigate(I,$)}navigateRoot(I,$={}){return this.setDirection("root",$.animated,$.animationDirection,$.animation),this.navigate(I,$)}back(I={animated:!0,animationDirection:"back"}){return this.setDirection("back",I.animated,I.animationDirection,I.animation),this.location.back()}pop(){var I=this;return(0,m.Z)(function*(){let $=I.topOutlet;for(;$&&!(yield $.pop());)$=$.parentOutlet})()}setDirection(I,$,re,C){this.direction=I,this.animated=rs(I,$,re),this.animationBuilder=C}setTopOutlet(I){this.topOutlet=I}consumeTransition(){let $,I="root";const re=this.animationBuilder;return"auto"===this.direction?(I=this.guessDirection,$=this.guessAnimation):($=this.animated,I=this.direction),this.direction=_s,this.animated=yi,this.animationBuilder=void 0,{direction:I,animation:$,animationBuilder:re}}navigate(I,$){if(Array.isArray(I))return this.router.navigate(I,$);{const re=this.serializer.parse(I.toString());return void 0!==$.queryParams&&(re.queryParams={...$.queryParams}),void 0!==$.fragment&&(re.fragment=$.fragment),this.router.navigateByUrl(re,$)}}}return _.\u0275fac=function(I){return new(I||_)(h.LFG(Ro),h.LFG(lt.Ye),h.LFG(Xe.Hx),h.LFG(Xe.F0,8))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const rs=(_,U,I)=>{if(!1!==U){if(void 0!==I)return I;if("forward"===_||"back"===_)return _;if("root"===_&&!0===U)return"forward"}},_s="auto",yi=void 0;class ao{constructor(U={}){this.data=U}get(U){return this.data[U]}}let lo=(()=>{class _{constructor(){this.zone=(0,h.f3M)(h.R0b),this.applicationRef=(0,h.f3M)(h.z2F)}create(I,$,re){return new Os(I,$,this.applicationRef,this.zone,re)}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})();class Os{constructor(U,I,$,re,C){this.environmentInjector=U,this.injector=I,this.applicationRef=$,this.zone=re,this.elementReferenceKey=C,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(U,I,$,re){return this.zone.run(()=>new Promise(C=>{const x={...$};void 0!==this.elementReferenceKey&&(x[this.elementReferenceKey]=U),C(qo(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,U,I,x,re,this.elementReferenceKey))}))}removeViewFromDom(U,I){return this.zone.run(()=>new Promise($=>{const re=this.elRefMap.get(I);if(re){re.destroy(),this.elRefMap.delete(I);const C=this.elEventsMap.get(I);C&&(C(),this.elEventsMap.delete(I))}$()}))}}const qo=(_,U,I,$,re,C,x,R,q,it,rn)=>{const Er=h.zs3.create({providers:ia(q),parent:I}),Cr=(0,h.LMc)(R,{environmentInjector:U,elementInjector:Er}),Ri=Cr.instance,li=Cr.location.nativeElement;if(q&&(rn&&void 0!==Ri[rn]&&console.error(`[Ionic Error]: ${rn} is a reserved property when using ${x.tagName.toLowerCase()}. Rename or remove the "${rn}" property from ${R.name}.`),Object.assign(Ri,q)),it)for(const Yr of it)li.classList.add(Yr);const Lo=go(_,Ri,li);return x.appendChild(li),$.attachView(Cr.hostView),re.set(li,Cr),C.set(li,Lo),li},Qi=[Le.L,Le.a,Le.b,Le.c,Le.d],go=(_,U,I)=>_.run(()=>{const $=Qi.filter(re=>"function"==typeof U[re]).map(re=>{const C=x=>U[re](x.detail);return I.addEventListener(re,C),()=>I.removeEventListener(re,C)});return()=>$.forEach(re=>re())}),Ps=new h.OlP("NavParamsToken"),ia=_=>[{provide:Ps,useValue:_},{provide:ao,useFactory:Ko,deps:[Ps]}],Ko=_=>new ao(_),Ns=(_,U)=>((_=_.filter(I=>I.stackId!==U.stackId)).push(U),_),ks=(_,U)=>{const I=_.createUrlTree(["."],{relativeTo:U});return _.serializeUrl(I)},yo=(_,U)=>{if(!_)return;const I=Ar(U);for(let $=0;$<I.length;$++){if($>=_.length)return I[$];if(I[$]!==_[$])return}},Ar=_=>_.split("/").map(U=>U.trim()).filter(U=>""!==U),Ji=_=>{_&&(_.ref.destroy(),_.unlistenEvents())};class vo{constructor(U,I,$,re,C,x){this.containerEl=I,this.router=$,this.navCtrl=re,this.zone=C,this.location=x,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==U?Ar(U):void 0}createView(U,I){var $;const re=ks(this.router,I),C=null==U||null===($=U.location)||void 0===$?void 0:$.nativeElement,x=go(this.zone,U.instance,C);return{id:this.nextId++,stackId:yo(this.tabsPrefix,re),unlistenEvents:x,element:C,ref:U,url:re}}getExistingView(U){const I=ks(this.router,U),$=this.views.find(re=>re.url===I);return $&&$.ref.changeDetectorRef.reattach(),$}setActive(U){var I,$,re;const C=this.navCtrl.consumeTransition();let{direction:x,animation:R,animationBuilder:q}=C;const it=this.activeView,rn=((_,U)=>!U||_.stackId!==U.stackId)(U,it);rn&&(x="back",R=void 0);const Er=this.views.slice();let Cr;const Ri=this.router;Ri.getCurrentNavigation?Cr=Ri.getCurrentNavigation():null!==(I=Ri.navigations)&&void 0!==I&&I.value&&(Cr=Ri.navigations.value),null!==($=Cr)&&void 0!==$&&null!==(re=$.extras)&&void 0!==re&&re.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const li=this.views.includes(U),Lo=this.insertView(U,x);li||U.ref.changeDetectorRef.detectChanges();const Yr=U.animationBuilder;return void 0===q&&"back"===x&&!rn&&void 0!==Yr&&(q=Yr),it&&(it.animationBuilder=q),this.zone.runOutsideAngular(()=>this.wait(()=>(it&&it.ref.changeDetectorRef.detach(),U.ref.changeDetectorRef.reattach(),this.transition(U,it,R,this.canGoBack(1),!1,q).then(()=>_o(U,Lo,Er,this.location,this.zone)).then(()=>({enteringView:U,direction:x,animation:R,tabSwitch:rn})))))}canGoBack(U,I=this.getActiveStackId()){return this.getStack(I).length>U}pop(U,I=this.getActiveStackId()){return this.zone.run(()=>{const $=this.getStack(I);if($.length<=U)return Promise.resolve(!1);const re=$[$.length-U-1];let C=re.url;const x=re.savedData;if(x){var R,q;const rn=x.get("primary");null!=rn&&null!==(R=rn.route)&&void 0!==R&&null!==(q=R._routerState)&&void 0!==q&&q.snapshot.url&&(C=rn.route._routerState.snapshot.url)}const{animationBuilder:it}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(C,{...re.savedExtras,animation:it}).then(()=>!0)})}startBackTransition(){const U=this.activeView;if(U){const I=this.getStack(U.stackId),$=I[I.length-2],re=$.animationBuilder;return this.wait(()=>this.transition($,U,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(U){U?(this.skipTransition=!0,this.pop(1)):this.activeView&&Es(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(U){const I=this.getStack(U);return I.length>0?I[I.length-1]:void 0}getRootUrl(U){const I=this.getStack(U);return I.length>0?I[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ji),this.activeView=void 0,this.views=[]}getStack(U){return this.views.filter(I=>I.stackId===U)}insertView(U,I){return this.activeView=U,this.views=((_,U,I)=>"root"===I?Ns(_,U):"forward"===I?((_,U)=>(_.indexOf(U)>=0?_=_.filter($=>$.stackId!==U.stackId||$.id<=U.id):_.push(U),_))(_,U):((_,U)=>_.indexOf(U)>=0?_.filter($=>$.stackId!==U.stackId||$.id<=U.id):Ns(_,U))(_,U))(this.views,U,I),this.views.slice()}transition(U,I,$,re,C,x){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(I===U)return Promise.resolve(!1);const R=U?U.element:void 0,q=I?I.element:void 0,it=this.containerEl;return R&&R!==q&&(R.classList.add("ion-page"),R.classList.add("ion-page-invisible"),R.parentElement!==it&&it.appendChild(R),it.commit)?it.commit(R,q,{duration:void 0===$?0:void 0,direction:$,showGoBack:re,progressAnimation:C,animationBuilder:x}):Promise.resolve(!1)}wait(U){var I=this;return(0,m.Z)(function*(){void 0!==I.runningTask&&(yield I.runningTask,I.runningTask=void 0);const $=I.runningTask=U();return $.finally(()=>I.runningTask=void 0),$})()}}const _o=(_,U,I,$,re)=>"function"==typeof requestAnimationFrame?new Promise(C=>{requestAnimationFrame(()=>{Es(_,U,I,$,re),C()})}):Promise.resolve(),Es=(_,U,I,$,re)=>{re.run(()=>I.filter(C=>!U.includes(C)).forEach(Ji)),U.forEach(C=>{const R=$.path().split("?")[0].split("#")[0];if(C!==_&&C.url!==R){const q=C.element;q.setAttribute("aria-hidden","true"),q.classList.add("ion-page-hidden"),C.ref.changeDetectorRef.detach()}})};let Eo=(()=>{class _{constructor(I,$,re,C,x,R,q,it){this.parentOutlet=it,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new at.X(null),this.stackEvents=new h.vpe,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Xe.y6),this.location=(0,h.f3M)(h.s_b),this.environmentInjector=(0,h.f3M)(h.lqb),this.config=(0,h.f3M)(rr),this.navCtrl=(0,h.f3M)(mi),this.nativeEl=C.nativeElement,this.name=I||Xe.eC,this.tabsPrefix="true"===$?ks(x,q):void 0,this.stackCtrl=new vo(this.tabsPrefix,this.nativeEl,x,this.navCtrl,R,re),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(I){this.nativeEl.animation=I}set animated(I){this.nativeEl.animated=I}set swipeGesture(I){this._swipeGesture=I,this.nativeEl.swipeHandler=I?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:$=>this.stackCtrl.endBackTransition($)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const I=this.getContext();null!=I&&I.route&&this.activateWith(I.route,I.injector)}new Promise(I=>(0,Ce.c)(this.nativeEl,I)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(I,$){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const $=this.getContext();this.activatedView.savedData=new Map($.children.contexts);const re=this.activatedView.savedData.get("primary");if(re&&$.route&&(re.route={...$.route}),this.activatedView.savedExtras={},$.route){const C=$.route.snapshot;this.activatedView.savedExtras.queryParams=C.queryParams,this.activatedView.savedExtras.fragment=C.fragment}}const I=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;let re,C=this.stackCtrl.getExistingView(I);if(C){re=this.activated=C.ref;const R=C.savedData;R&&(this.getContext().children.contexts=R),this.updateActivatedRouteProxy(re.instance,I)}else{var x;const R=I._futureSnapshot,q=this.parentContexts.getOrCreateContext(this.name).children,it=new at.X(null),rn=this.createActivatedRouteProxy(it,I),Er=new Ui(rn,q,this.location.injector),Cr=null!==(x=R.routeConfig.component)&&void 0!==x?x:R.component;re=this.activated=this.location.createComponent(Cr,{index:this.location.length,injector:Er,environmentInjector:null!=$?$:this.environmentInjector}),it.next(re.instance),C=this.stackCtrl.createView(this.activated,I),this.proxyMap.set(re.instance,rn),this.currentActivatedRoute$.next({component:re.instance,activatedRoute:I})}this.activatedView=C,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(C).then(R=>{this.activateEvents.emit(re.instance),this.stackEvents.emit(R)})}canGoBack(I=1,$){return this.stackCtrl.canGoBack(I,$)}pop(I=1,$){return this.stackCtrl.pop(I,$)}getLastUrl(I){const $=this.stackCtrl.getLastUrl(I);return $?$.url:void 0}getLastRouteView(I){return this.stackCtrl.getLastUrl(I)}getRootView(I){return this.stackCtrl.getRootUrl(I)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(I,$){const re=new Xe.gz;return re._futureSnapshot=$._futureSnapshot,re._routerState=$._routerState,re.snapshot=$.snapshot,re.outlet=$.outlet,re.component=$.component,re._paramMap=this.proxyObservable(I,"paramMap"),re._queryParamMap=this.proxyObservable(I,"queryParamMap"),re.url=this.proxyObservable(I,"url"),re.params=this.proxyObservable(I,"params"),re.queryParams=this.proxyObservable(I,"queryParams"),re.fragment=this.proxyObservable(I,"fragment"),re.data=this.proxyObservable(I,"data"),re}proxyObservable(I,$){return I.pipe((0,De.h)(re=>!!re),(0,we.w)(re=>this.currentActivatedRoute$.pipe((0,De.h)(C=>null!==C&&C.component===re),(0,we.w)(C=>C&&C.activatedRoute[$]),(0,et.x)())))}updateActivatedRouteProxy(I,$){const re=this.proxyMap.get(I);if(!re)throw new Error("Could not find activated route proxy for view");re._futureSnapshot=$._futureSnapshot,re._routerState=$._routerState,re.snapshot=$.snapshot,re.outlet=$.outlet,re.component=$.component,this.currentActivatedRoute$.next({component:I,activatedRoute:$})}}return _.\u0275fac=function(I){return new(I||_)(h.$8M("name"),h.$8M("tabs"),h.Y36(lt.Ye),h.Y36(h.SBq),h.Y36(Xe.F0),h.Y36(h.R0b),h.Y36(Xe.gz),h.Y36(_,12))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_})();class Ui{constructor(U,I,$){this.route=U,this.childContexts=I,this.parent=$}get(U,I){return U===Xe.gz?this.route:U===Xe.y6?this.childContexts:this.parent.get(U,I)}}let is=(()=>{class _{constructor(I){this.navCtrl=I,this.ionTabsWillChange=new h.vpe,this.ionTabsDidChange=new h.vpe}onPageSelected(I){const $=I.enteringView.stackId;I.tabSwitch&&void 0!==$&&(this.ionTabsWillChange.emit({tab:$}),this.tabBar&&(this.tabBar.selectedTab=$),this.ionTabsDidChange.emit({tab:$}))}select(I){const $="string"==typeof I,re=$?I:I.detail.tab,C=this.outlet.getActiveStackId()===re,x=`${this.outlet.tabsPrefix}/${re}`;if($||I.stopPropagation(),C){const R=this.outlet.getActiveStackId(),q=this.outlet.getLastRouteView(R);if((null==q?void 0:q.url)===x)return;const it=this.outlet.getRootView(re);return this.navCtrl.navigateRoot(x,{...it&&x===it.url&&it.savedExtras,animated:!0,animationDirection:"back"})}{const R=this.outlet.getLastRouteView(re);return this.navCtrl.navigateRoot((null==R?void 0:R.url)||x,{...null==R?void 0:R.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(mi))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-tabs"]],contentQueries:function(I,$,re){if(1&I&&h.Suo(re,Kr,5),2&I){let C;h.iGM(C=h.CRH())&&($.tabBar=C.first)}},viewQuery:function(I,$){if(1&I&&h.Gf(At,5,Eo),2&I){let re;h.iGM(re=h.CRH())&&($.outlet=re.first)}},hostBindings:function(I,$){1&I&&h.NdJ("ionTabButtonClick",function(C){return $.select(C)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Nt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(I,$){1&I&&(h.F$t(xt),h.Hsn(0),h.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),h.NdJ("stackEvents",function(C){return $.onPageSelected(C)}),h.qZA()(),h.Hsn(4,1))},dependencies:[Eo],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),_})(),Oo=(()=>{class _{constructor(I,$,re){this.routerOutlet=I,this.navCtrl=$,this.config=re}onClick(I){var $;const re=this.defaultHref||this.config.get("backButtonDefaultHref");null!==($=this.routerOutlet)&&void 0!==$&&$.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),I.preventDefault()):null!=re&&(this.navCtrl.navigateBack(re,{animation:this.routerAnimation}),I.preventDefault())}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(Eo,8),h.Y36(mi),h.Y36(rr))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-back-button"]],hostBindings:function(I,$){1&I&&h.NdJ("click",function(C){return $.onClick(C)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),_})(),ji=(()=>{class _{constructor(I,$,re,C,x){this.locationStrategy=I,this.navCtrl=$,this.elementRef=re,this.router=C,this.routerLink=x,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var I;if(null!==(I=this.routerLink)&&void 0!==I&&I.urlTree){const $=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=$}}onClick(I){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),I.preventDefault()}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(lt.S$),h.Y36(mi),h.Y36(h.SBq),h.Y36(Xe.F0),h.Y36(Xe.rH,8))},_.\u0275dir=h.lG2({type:_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,$){1&I&&h.NdJ("click",function(C){return $.onClick(C)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[h.TTD]}),_})();class ai{constructor(U){this.ctrl=U}create(U){return this.ctrl.create(U||{})}dismiss(U,I,$){return this.ctrl.dismiss(U,I,$)}getTop(){return this.ctrl.getTop()}}let ko=(()=>{class _ extends ai{constructor(){super(Ye.a)}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),vi=(()=>{class _ extends ai{constructor(){super(Ye.m),this.angularDelegate=(0,h.f3M)(lo),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})(),_i=(()=>{class _ extends ai{constructor(){super(Ye.c),this.angularDelegate=(0,h.f3M)(lo),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})(),Fo=(()=>{class _ extends ai{constructor(){super(Ye.t)}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class cs{shouldDetach(U){return!1}shouldAttach(U){return!1}store(U,I){}retrieve(U){return null}shouldReuseRoute(U,I){if(U.routeConfig!==I.routeConfig)return!1;const $=U.params,re=I.params,C=Object.keys($),x=Object.keys(re);if(C.length!==x.length)return!1;for(const R of C)if(re[R]!==$[R])return!1;return!0}}const sr=(_,U,I)=>()=>{if(U.defaultView&&typeof window<"u"){(0,Ue.s)({..._,_zoneGate:C=>I.run(C)});const re="__zone_symbol__addEventListener"in U.body?"__zone_symbol__addEventListener":"addEventListener";return function Bt(){var _=[];if(typeof window<"u"){var U=window;(!U.customElements||U.Element&&(!U.Element.prototype.closest||!U.Element.prototype.matches||!U.Element.prototype.remove||!U.Element.prototype.getRootNode))&&_.push(F.e(6748).then(F.t.bind(F,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||U.NodeList&&!U.NodeList.prototype.forEach||!U.fetch||!function(){try{var $=new URL("b","http://a");return $.pathname="c%20d","http://a/c%20d"===$.href&&$.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&_.push(F.e(2214).then(F.t.bind(F,4144,23)))}return Promise.all(_)}().then(()=>((_,U)=>typeof window>"u"?Promise.resolve():(0,nt.p)().then(()=>(bt(),(0,nt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),U))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Zt,jmp:C=>I.runOutsideAngular(C),ael(C,x,R,q){C[re](x,R,q)},rel(C,x,R,q){C.removeEventListener(x,R,q)}}))}};let ds=(()=>{class _{static forRoot(I){return{ngModule:_,providers:[{provide:Sr,useValue:I},{provide:h.ip1,useFactory:sr,multi:!0,deps:[Sr,lt.K0,h.R0b]}]}}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275mod=h.oAB({type:_}),_.\u0275inj=h.cJS({providers:[lo,vi,_i],imports:[lt.ez]}),_})()},259:(ln,st,F)=>{"use strict";F.d(st,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=F(6881);(0,m.registerVersion)("firebase","9.22.0","app")},9260:(ln,st,F)=>{"use strict";F.d(st,{Z:()=>m.Z});var m=F(3942);m.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(ln,st,F)=>{"use strict";F.r(st);var m=F(5861),h=F(3942),W=F(2090),te=F(6881),Te=F(655),Ee=F(1877),le=F(4859);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae_EMAIL_SIGNIN="EMAIL_SIGNIN",ae_PASSWORD_RESET="PASSWORD_RESET",ae_RECOVER_EMAIL="RECOVER_EMAIL",ae_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ae_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ae_VERIFY_EMAIL="VERIFY_EMAIL";const qe=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},gt=function pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ie=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ne=new Ee.Yd("@firebase/auth");function Xe(v,...d){ne.logLevel<=Ee.in.ERROR&&ne.error(`Auth (${te.SDK_VERSION}): ${v}`,...d)}function Ge(v,...d){throw ve(v,...d)}function Be(v,...d){return ve(v,...d)}function mt(v,d,f){const D=Object.assign(Object.assign({},gt()),{[d]:f});return new W.LL("auth","Firebase",D).create(d,{appName:v.name})}function be(v,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&Ge(v,"argument-error"),mt(v,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ve(v,...d){if("string"!=typeof v){const f=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=v.name),v._errorFactory.create(f,...D)}return Ie.create(v,...d)}function Ce(v,d,...f){if(!v)throw ve(d,...f)}function Ue(v){const d="INTERNAL ASSERTION FAILED: "+v;throw Xe(d),new Error(d)}function Le(v,d){v||Ue(d)}function Ze(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ye(){return"http:"===We()||"https:"===We()}function We(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class _e{constructor(d,f){this.shortDelay=d,this.longDelay=f,Le(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function De(v,d){Le(v.emulator,"Emulator should always be set here");const{url:f}=v.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class we{static initialize(d,f,D){this.fetchImpl=d,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lt=new _e(3e4,6e4);function Bt(v,d){return v.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:v.tenantId}):d}function bt(v,d,f,D){return cn.apply(this,arguments)}function cn(){return(cn=(0,m.Z)(function*(v,d,f,D,V={}){return Qt(v,V,(0,m.Z)(function*(){let X={},ze={};D&&("GET"===d?ze=D:X={body:JSON.stringify(D)});const ct=(0,W.xO)(Object.assign({key:v.config.apiKey},ze)).slice(1),$t=yield v._getAdditionalHeaders();return $t["Content-Type"]="application/json",v.languageCode&&($t["X-Firebase-Locale"]=v.languageCode),we.fetch()(Nt(v,v.config.apiHost,f,ct),Object.assign({method:d,headers:$t,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function Qt(v,d,f){return ot.apply(this,arguments)}function ot(){return(ot=(0,m.Z)(function*(v,d,f){v._canInitEmulator=!1;const D=Object.assign(Object.assign({},et),d);try{const V=new Xt(v),X=yield Promise.race([f(),V.promise]);V.clearNetworkTimeout();const ze=yield X.json();if("needConfirmation"in ze)throw on(v,"account-exists-with-different-credential",ze);if(X.ok&&!("errorMessage"in ze))return ze;{const ct=X.ok?ze.errorMessage:ze.error.message,[$t,yn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw on(v,"credential-already-in-use",ze);if("EMAIL_EXISTS"===$t)throw on(v,"email-already-in-use",ze);if("USER_DISABLED"===$t)throw on(v,"user-disabled",ze);const Bn=D[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw mt(v,Bn,yn);Ge(v,Bn)}}catch(V){if(V instanceof W.ZR)throw V;Ge(v,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function At(v,d,f,D){return xt.apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(v,d,f,D,V={}){const X=yield bt(v,d,f,D,V);return"mfaPendingCredential"in X&&Ge(v,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Nt(v,d,f,D){const V=`${d}${f}?${D}`;return v.config.emulator?De(v.config,V):`${v.config.apiScheme}://${V}`}class Xt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(Be(this.auth,"network-request-failed")),lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function on(v,d,f){const D={appName:v.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const V=Be(v,d,D);return V.customData._tokenResponse=f,V}function Dn(){return(Dn=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Vn(){return(Vn=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Jt(){return(Jt=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Cn(v){if(v)try{const d=new Date(Number(v));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Gr(){return(Gr=(0,m.Z)(function*(v,d=!1){const f=(0,W.m9)(v),D=yield f.getIdToken(d),V=Pn(D);Ce(V&&V.exp&&V.auth_time&&V.iat,f.auth,"internal-error");const X="object"==typeof V.firebase?V.firebase:void 0,ze=null==X?void 0:X.sign_in_provider;return{claims:V,token:D,authTime:Cn(ri(V.auth_time)),issuedAtTime:Cn(ri(V.iat)),expirationTime:Cn(ri(V.exp)),signInProvider:ze||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function ri(v){return 1e3*Number(v)}function Pn(v){const[d,f,D]=v.split(".");if(void 0===d||void 0===f||void 0===D)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,W.tV)(f);return V?JSON.parse(V):(Xe("Failed to decode base64 JWT payload"),null)}catch(V){return Xe("Caught error parsing JWT payload as JSON",null==V?void 0:V.toString()),null}}function zt(v,d){return un.apply(this,arguments)}function un(){return(un=(0,m.Z)(function*(v,d,f=!1){if(f)return d;try{return yield d}catch(D){throw D instanceof W.ZR&&function Gt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(D)&&v.auth.currentUser===v&&(yield v.auth.signOut()),D}})).apply(this,arguments)}class Fr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const V=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,m.Z)(function*(){yield f.iteration()}),D)}iteration(){var d=this;return(0,m.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===(null==f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class cr{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cn(this.lastLoginAt),this.creationTime=Cn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(v){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,m.Z)(function*(v){var d;const f=v.auth,D=yield v.getIdToken(),V=yield zt(v,function bn(v,d){return Jt.apply(this,arguments)}(f,{idToken:D}));Ce(null==V?void 0:V.users.length,f,"internal-error");const X=V.users[0];v._notifyReloadListener(X);const ze=null!==(d=X.providerUserInfo)&&void 0!==d&&d.length?function Kn(v){return v.map(d=>{var{providerId:f}=d,D=(0,Te._T)(d,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(X.providerUserInfo):[],ct=function qr(v,d){return[...v.filter(D=>!d.some(V=>V.providerId===D.providerId)),...d]}(v.providerData,ze),Bn=!!v.isAnonymous&&!(v.email&&X.passwordHash||null!=ct&&ct.length),$n={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:ct,metadata:new cr(X.createdAt,X.lastLoginAt),isAnonymous:Bn};Object.assign(v,$n)}),Mr.apply(this,arguments)}function yr(){return(yr=(0,m.Z)(function*(v){const d=(0,W.m9)(v);yield Lr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*(v,d){const f=yield Qt(v,{},(0,m.Z)(function*(){const D=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:V,apiKey:X}=v.config,ze=Nt(v,V,"/v1/token",`key=${X}`),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(ze,{method:"POST",headers:ct,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ce(d.idToken,"internal-error"),Ce(typeof d.idToken<"u","internal-error"),Ce(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function zn(v){const d=Pn(v);return Ce(d,"internal-error"),Ce(typeof d.exp<"u","internal-error"),Ce(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var D=this;return(0,m.Z)(function*(){return Ce(!D.accessToken||D.refreshToken,d,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var D=this;return(0,m.Z)(function*(){const{accessToken:V,refreshToken:X,expiresIn:ze}=yield function Gn(v,d){return ir.apply(this,arguments)}(d,f);D.updateTokensAndExpiration(V,X,Number(ze))})()}updateTokensAndExpiration(d,f,D){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,f){const{refreshToken:D,accessToken:V,expirationTime:X}=f,ze=new ti;return D&&(Ce("string"==typeof D,"internal-error",{appName:d}),ze.refreshToken=D),V&&(Ce("string"==typeof V,"internal-error",{appName:d}),ze.accessToken=V),X&&(Ce("number"==typeof X,"internal-error",{appName:d}),ze.expirationTime=X),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return Ue("not implemented")}}function vr(v,d){Ce("string"==typeof v||typeof v>"u","internal-error",{appName:d})}class St{constructor(d){var{uid:f,auth:D,stsTokenManager:V}=d,X=(0,Te._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new cr(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,m.Z)(function*(){const D=yield zt(f,f.stsTokenManager.getToken(f.auth,d));return Ce(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(d){return function lr(v){return Gr.apply(this,arguments)}(this,d)}reload(){return function Wr(v){return yr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ce(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const f=new St(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(d){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var D=this;return(0,m.Z)(function*(){let V=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),V=!0),f&&(yield Lr(D)),yield D.auth._persistUserIfCurrent(D),V&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,m.Z)(function*(){const f=yield d.getIdToken();return yield zt(d,function Zt(v,d){return Dn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var D,V,X,ze,ct,$t,yn,Bn;const $n=null!==(D=f.displayName)&&void 0!==D?D:void 0,Ii=null!==(V=f.email)&&void 0!==V?V:void 0,ta=null!==(X=f.phoneNumber)&&void 0!==X?X:void 0,Lc=null!==(ze=f.photoURL)&&void 0!==ze?ze:void 0,ch=null!==(ct=f.tenantId)&&void 0!==ct?ct:void 0,Gi=null!==($t=f._redirectEventId)&&void 0!==$t?$t:void 0,ud=null!==(yn=f.createdAt)&&void 0!==yn?yn:void 0,Bc=null!==(Bn=f.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:ml,emailVerified:hc,isAnonymous:wu,providerData:dd,stsTokenManager:uh}=f;Ce(ml&&uh,d,"internal-error");const uf=ti.fromJSON(this.name,uh);Ce("string"==typeof ml,d,"internal-error"),vr($n,d.name),vr(Ii,d.name),Ce("boolean"==typeof hc,d,"internal-error"),Ce("boolean"==typeof wu,d,"internal-error"),vr(ta,d.name),vr(Lc,d.name),vr(ch,d.name),vr(Gi,d.name),vr(ud,d.name),vr(Bc,d.name);const hd=new St({uid:ml,auth:d,email:Ii,emailVerified:hc,displayName:$n,isAnonymous:wu,photoURL:Lc,phoneNumber:ta,tenantId:ch,stsTokenManager:uf,createdAt:ud,lastLoginAt:Bc});return dd&&Array.isArray(dd)&&(hd.providerData=dd.map(Vp=>Object.assign({},Vp))),Gi&&(hd._redirectEventId=Gi),hd}static _fromIdTokenResponse(d,f,D=!1){return(0,m.Z)(function*(){const V=new ti;V.updateFromServerResponse(f);const X=new St({uid:f.localId,auth:d,stsTokenManager:V,isAnonymous:D});return yield Lr(X),X})()}}const ke=new Map;function $e(v){Le(v instanceof Function,"Expected a class definition");let d=ke.get(v);return d?(Le(d instanceof v,"Instance stored in cache mismatched with class"),d):(d=new v,ke.set(v,d),d)}const Ot=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(f,D){var V=this;return(0,m.Z)(function*(){V.storage[f]=D})()}_get(f){var D=this;return(0,m.Z)(function*(){const V=D.storage[f];return void 0===V?null:V})()}_remove(f){var D=this;return(0,m.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return v.type="NONE",v})();function ue(v,d,f){return`firebase:${v}:${d}:${f}`}class ce{constructor(d,f,D){this.persistence=d,this.auth=f,this.userKey=D;const{config:V,name:X}=this.auth;this.fullUserKey=ue(this.userKey,V.apiKey,X),this.fullPersistenceKey=ue("persistence",V.apiKey,X),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,m.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?St._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,m.Z)(function*(){if(f.persistence===d)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,D="authUser"){return(0,m.Z)(function*(){if(!f.length)return new ce($e(Ot),d,D);const V=(yield Promise.all(f.map(function(){var yn=(0,m.Z)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let X=V[0]||$e(Ot);const ze=ue(D,d.config.apiKey,d.name);let ct=null;for(const yn of f)try{const Bn=yield yn._get(ze);if(Bn){const $n=St._fromJSON(d,Bn);yn!==X&&(ct=$n),X=yn;break}}catch{}const $t=V.filter(yn=>yn._shouldAllowMigration);return X._shouldAllowMigration&&$t.length?(X=$t[0],ct&&(yield X._set(ze,ct.toJSON())),yield Promise.all(f.map(function(){var yn=(0,m.Z)(function*(Bn){if(Bn!==X)try{yield Bn._remove(ze)}catch{}});return function(Bn){return yn.apply(this,arguments)}}())),new ce(X,d,D)):new ce(X,d,D)})()}}function Pe(v){const d=v.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ve(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ft(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(oe(d))return"Blackberry";if(je(d))return"Webos";if(rt(d))return"Safari";if((d.includes("chrome/")||Wt(d))&&!d.includes("edge/"))return"Chrome";if(Se(d))return"Android";{const D=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function ft(v=(0,W.z$)()){return/firefox\//i.test(v)}function rt(v=(0,W.z$)()){const d=v.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Wt(v=(0,W.z$)()){return/crios\//i.test(v)}function Ve(v=(0,W.z$)()){return/iemobile/i.test(v)}function Se(v=(0,W.z$)()){return/android/i.test(v)}function oe(v=(0,W.z$)()){return/blackberry/i.test(v)}function je(v=(0,W.z$)()){return/webos/i.test(v)}function Ct(v=(0,W.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Zn(v=(0,W.z$)()){return Ct(v)||Se(v)||je(v)||oe(v)||/windows phone/i.test(v)||Ve(v)}function Tt(v,d=[]){let f;switch(v){case"Browser":f=Pe((0,W.z$)());break;case"Worker":f=`${Pe((0,W.z$)())}-${v}`;break;default:f=v}const D=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${te.SDK_VERSION}/${D}`}function Ht(){return(Ht=(0,m.Z)(function*(v){return(yield bt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vn(v,d){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(function*(v,d){return bt(v,"GET","/v2/recaptchaConfig",Bt(v,d))})).apply(this,arguments)}function tr(v){return void 0!==v&&void 0!==v.getResponse}function En(v){return void 0!==v&&void 0!==v.enterprise}class or{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function Yn(v){return new Promise((d,f)=>{const D=document.createElement("script");D.setAttribute("src",v),D.onload=d,D.onerror=V=>{const X=Be("internal-error");X.customData=V,f(X)},D.type="text/javascript",D.charset="UTF-8",function nr(){var v,d;return null!==(d=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==d?d:document}().appendChild(D)})}function kn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const xi="NO_RECAPTCHA";class pi{constructor(d){this.type="recaptcha-enterprise",this.auth=ur(d)}verify(d="verify",f=!1){var D=this;return(0,m.Z)(function*(){function X(){return X=(0,m.Z)(function*(ct){if(!f){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var $t=(0,m.Z)(function*(yn,Bn){vn(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($n=>{if(void 0!==$n.recaptchaKey){const Ii=new or($n);return null==ct.tenantId?ct._agentRecaptchaConfig=Ii:ct._tenantRecaptchaConfigs[ct.tenantId]=Ii,yn(Ii.siteKey)}Bn(new Error("recaptcha Enterprise site key undefined"))}).catch($n=>{Bn($n)})});return function(yn,Bn){return $t.apply(this,arguments)}}())}),X.apply(this,arguments)}function ze(ct,$t,yn){const Bn=window.grecaptcha;En(Bn)?Bn.enterprise.ready(()=>{Bn.enterprise.execute(ct,{action:d}).then($n=>{$t($n)}).catch(()=>{$t(xi)})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,$t)=>{(function V(ct){return X.apply(this,arguments)})(D.auth).then(yn=>{if(!f&&En(window.grecaptcha))ze(yn,ct,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));Yn("https://www.google.com/recaptcha/enterprise.js?render="+yn).then(()=>{ze(yn,ct,$t)}).catch(Bn=>{$t(Bn)})}}).catch(yn=>{$t(yn)})})})()}}function dn(v,d,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,m.Z)(function*(v,d,f,D=!1){const V=new pi(v);let X;try{X=yield V.verify(f)}catch{X=yield V.verify(f,!0)}const ze=Object.assign({},d);return Object.assign(ze,D?{captchaResp:X}:{captchaResponse:X}),Object.assign(ze,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ze,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ze})).apply(this,arguments)}class xr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const D=X=>new Promise((ze,ct)=>{try{ze(d(X))}catch($t){ct($t)}});D.onAbort=f,this.queue.push(D);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,m.Z)(function*(){if(f.auth.currentUser===d)return;const D=[];try{for(const V of f.queue)yield V(d),V.onAbort&&D.push(V.onAbort)}catch(V){D.reverse();for(const X of D)try{X()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null==V?void 0:V.message})}})()}}class gi{constructor(d,f,D,V){this.app=d,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=D,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ie,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(d,f){var D=this;return f&&(this._popupRedirectResolver=$e(f)),this._initializationPromise=this.queue((0,m.Z)(function*(){var V,X;if(!D._deleted&&(D.persistenceManager=yield ce.create(D,d),!D._deleted)){if(null!==(V=D._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(X=D.currentUser)||void 0===X?void 0:X.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,m.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,m.Z)(function*(){var D;const V=yield f.assertedPersistence.getCurrentUser();let X=V,ze=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ct=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,$t=null==X?void 0:X._redirectEventId,yn=yield f.tryRedirectSignIn(d);(!ct||ct===$t)&&null!=yn&&yn.user&&(X=yn.user,ze=!0)}if(!X)return f.directlySetCurrentUser(null);if(!X._redirectEventId){if(ze)try{yield f.beforeStateQueue.runMiddleware(X)}catch(ct){X=V,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ct))}return X?f.reloadAndSetCurrentUserOrClear(X):f.directlySetCurrentUser(null)}return Ce(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===X._redirectEventId?f.directlySetCurrentUser(X):f.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(d){var f=this;return(0,m.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,m.Z)(function*(){try{yield Lr(d)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function nt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var d=this;return(0,m.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,m.Z)(function*(){const D=d?(0,W.m9)(d):null;return D&&Ce(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(d,f=!1){var D=this;return(0,m.Z)(function*(){if(!D._deleted)return d&&Ce(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),f||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,m.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,m.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,m.Z)(function*(){yield f.assertedPersistence.setPersistence($e(d))}))}initializeRecaptchaConfig(){var d=this;return(0,m.Z)(function*(){const f=yield vn(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new or(f);null==d.tenantId?d._agentRecaptchaConfig=D:d._tenantRecaptchaConfigs[d.tenantId]=D,D.emailPasswordEnabled&&new pi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,f,D){return this.registerStateListener(this.authStateSubscription,d,f,D)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,D){return this.registerStateListener(this.idTokenSubscription,d,f,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var D=this;return(0,m.Z)(function*(){const V=yield D.getOrInitRedirectPersistenceManager(f);return null===d?V.removeCurrentUser():V.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,m.Z)(function*(){if(!f.redirectPersistenceManager){const D=d&&$e(d)||f._popupRedirectResolver;Ce(D,f,"argument-error"),f.redirectPersistenceManager=yield ce.create(f,[$e(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,m.Z)(function*(){var D,V;return f._isInitialized&&(yield f.queue((0,m.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===d?f._currentUser:(null===(V=f.redirectUser)||void 0===V?void 0:V._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,m.Z)(function*(){if(d===f.currentUser)return f.queue((0,m.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,D,V){if(this._deleted)return()=>{};const X="function"==typeof f?f:f.next.bind(f),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(ze,this,"internal-error"),ze.then(()=>X(this.currentUser)),"function"==typeof f?d.addObserver(f,D,V):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,m.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Tt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,m.Z)(function*(){var f;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const V=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();V&&(D["X-Firebase-Client"]=V);const X=yield d._getAppCheckToken();return X&&(D["X-Firebase-AppCheck"]=X),D})()}_getAppCheckToken(){var d=this;return(0,m.Z)(function*(){var f;const D=yield null===(f=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return null!=D&&D.error&&function at(v,...d){ne.logLevel<=Ee.in.WARN&&ne.warn(`Auth (${te.SDK_VERSION}): ${v}`,...d)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function ur(v){return(0,W.m9)(v)}class Ur{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(f=>this.observer=f)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function de(v){const d=v.indexOf(":");return d<0?"":v.substr(0,d+1)}function ie(v){if(!v)return null;const d=Number(v);return isNaN(d)?null:d}class Ne{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Ue("not implemented")}_getIdTokenResponse(d){return Ue("not implemented")}_linkToIdToken(d,f){return Ue("not implemented")}_getReauthenticationResolver(d){return Ue("not implemented")}}function yt(v,d){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:resetPassword",Bt(v,d))})).apply(this,arguments)}function Pt(v,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Fn(){return(Fn=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:update",Bt(v,d))})).apply(this,arguments)}function xn(v,d){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithPassword",Bt(v,d))})).apply(this,arguments)}function Kr(v,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:sendOobCode",Bt(v,d))})).apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function dt(v,d){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function Kt(v,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function rr(){return(rr=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithEmailLink",Bt(v,d))})).apply(this,arguments)}function jr(){return(jr=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithEmailLink",Bt(v,d))})).apply(this,arguments)}class so extends Ne{constructor(d,f,D,V=null){super("password",D),this._email=d,this._password=f,this._tenantId=V}static _fromEmailAndPassword(d,f){return new so(d,f,"password")}static _fromEmailAndCode(d,f,D=null){return new so(d,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if(null!=f&&f.email&&null!=f&&f.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,m.Z)(function*(){var D;switch(f.signInMethod){case"password":const V={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=d._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const X=yield dn(d,V,"signInWithPassword");return xn(d,X)}return xn(d,V).catch(function(){var X=(0,m.Z)(function*(ze){if("auth/missing-recaptcha-token"===ze.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ct=yield dn(d,V,"signInWithPassword");return xn(d,ct)}return Promise.reject(ze)});return function(ze){return X.apply(this,arguments)}}());case"emailLink":return function Sr(v,d){return Bi.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:Ge(d,"internal-error")}})()}_linkToIdToken(d,f){var D=this;return(0,m.Z)(function*(){switch(D.signInMethod){case"password":return Pt(d,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Ro(v,d){return jr.apply(this,arguments)}(d,{idToken:f,email:D._email,oobCode:D._password});default:Ge(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function mi(v,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithIdp",Bt(v,d))})).apply(this,arguments)}class yi extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new yi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):Ge("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:V}=f,X=(0,Te._T)(f,["providerId","signInMethod"]);if(!D||!V)return null;const ze=new yi(D,V);return ze.idToken=X.idToken||void 0,ze.accessToken=X.accessToken||void 0,ze.secret=X.secret,ze.nonce=X.nonce,ze.pendingToken=X.pendingToken||null,ze}_getIdTokenResponse(d){return mi(d,this.buildRequest())}_linkToIdToken(d,f){const D=this.buildRequest();return D.idToken=f,mi(d,D)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,mi(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,W.xO)(f)}return d}}function lo(){return(lo=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:sendVerificationCode",Bt(v,d))})).apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,d))})).apply(this,arguments)}function go(){return(go=(0,m.Z)(function*(v,d){const f=yield At(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,d));if(f.temporaryProof)throw on(v,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ps={USER_NOT_FOUND:"user-not-found"};function Ko(){return(Ko=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ps)})).apply(this,arguments)}class $i extends Ne{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new $i({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new $i({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Os(v,d){return qo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function Qi(v,d){return go.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ia(v,d){return Ko.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:D,verificationCode:V}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:D,code:V}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:D,phoneNumber:V,temporaryProof:X}=d;return D||f||V||X?new $i({verificationId:f,verificationCode:D,phoneNumber:V,temporaryProof:X}):null}}class wi{constructor(d){var f,D,V,X,ze,ct;const $t=(0,W.zd)((0,W.pd)(d)),yn=null!==(f=$t.apiKey)&&void 0!==f?f:null,Bn=null!==(D=$t.oobCode)&&void 0!==D?D:null,$n=function Ns(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=$t.mode)&&void 0!==V?V:null);Ce(yn&&Bn&&$n,"argument-error"),this.apiKey=yn,this.operation=$n,this.code=Bn,this.continueUrl=null!==(X=$t.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(ze=$t.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(ct=$t.tenantId)&&void 0!==ct?ct:null}static parseLink(d){const f=function mo(v){const d=(0,W.zd)((0,W.pd)(v)).link,f=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,D=(0,W.zd)((0,W.pd)(v)).deep_link_id;return(D?(0,W.zd)((0,W.pd)(D)).link:null)||D||f||d||v}(d);try{return new wi(f)}catch{return null}}}let Yo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(f,D){return so._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const V=wi.parseLink(D);return Ce(V,"argument-error"),so._fromEmailAndCode(f,V.code,V.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class yo{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ar extends yo{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ji extends Ar{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return Ce("providerId"in f&&"signInMethod"in f,"argument-error"),yi._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ce(d.idToken||d.accessToken,"argument-error"),yi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ji.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ji.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:V,pendingToken:X,nonce:ze,providerId:ct}=d;if(!D&&!V&&!f&&!X||!ct)return null;try{return new Ji(ct)._credential({idToken:f,accessToken:D,nonce:ze,pendingToken:X})}catch{return null}}}let vo=(()=>{class v extends Ar{constructor(){super("facebook.com")}static credential(f){return yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),_o=(()=>{class v extends Ar{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:V}=f;if(!D&&!V)return null;try{return v.credential(D,V)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Es=(()=>{class v extends Ar{constructor(){super("github.com")}static credential(f){return yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ui extends Ne{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return mi(d,this.buildRequest())}_linkToIdToken(d,f){const D=this.buildRequest();return D.idToken=f,mi(d,D)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,mi(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:V,pendingToken:X}=f;return D&&V&&X&&D===V?new Ui(D,X):null}static _create(d,f){return new Ui(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oo extends yo{constructor(d){Ce(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Oo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Oo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Ui.fromJSON(d);return Ce(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:D}=d;if(!f||!D)return null;try{return Ui._create(D,f)}catch{return null}}}let Is=(()=>{class v extends Ar{constructor(){super("twitter.com")}static credential(f,D){return yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:V}=f;if(!D||!V)return null;try{return v.credential(D,V)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ji(v,d){return si.apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signUp",Bt(v,d))})).apply(this,arguments)}class Di{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,D,V=!1){return(0,m.Z)(function*(){const X=yield St._fromIdTokenResponse(d,D,V),ze=Po(D);return new Di({user:X,providerId:ze,_tokenResponse:D,operationType:f})})()}static _forOperation(d,f,D){return(0,m.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const V=Po(D);return new Di({user:d,providerId:V,_tokenResponse:D,operationType:f})})()}}function Po(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function No(){return(No=(0,m.Z)(function*(v){var d;const f=ur(v);if(yield f._initializationPromise,null!==(d=f.currentUser)&&void 0!==d&&d.isAnonymous)return new Di({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield ji(f,{returnSecureToken:!0}),V=yield Di._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class ko extends W.ZR{constructor(d,f,D,V){var X;super(f.code,f.message),this.operationType=D,this.user=V,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:d.name,tenantId:null!==(X=d.tenantId)&&void 0!==X?X:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,f,D,V){return new ko(d,f,D,V)}}function Vi(v,d,f,D){return("reauthenticate"===d?f._getReauthenticationResolver(v):f._getIdTokenResponse(v)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?ko._fromErrorAndOperation(v,X,d,D):X})}function ws(v){return new Set(v.map(({providerId:d})=>d).filter(d=>!!d))}function vi(){return vi=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v);yield di(!0,f,d);const{providerUserInfo:D}=yield function Nn(v,d){return Vn.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),V=ws(D||[]);return f.providerData=f.providerData.filter(X=>V.has(X.providerId)),V.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),vi.apply(this,arguments)}function _i(v,d){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,m.Z)(function*(v,d,f=!1){const D=yield zt(v,d._linkToIdToken(v.auth,yield v.getIdToken()),f);return Di._forOperation(v,"link",D)})).apply(this,arguments)}function di(v,d,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(v,d,f){yield Lr(d);const V=!1===v?"provider-already-linked":"no-such-provider";Ce(ws(d.providerData).has(f)===v,d.auth,V)})).apply(this,arguments)}function co(v,d){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(v,d,f=!1){const{auth:D}=v,V="reauthenticate";try{const X=yield zt(v,Vi(D,V,d,v),f);Ce(X.idToken,D,"internal-error");const ze=Pn(X.idToken);Ce(ze,D,"internal-error");const{sub:ct}=ze;return Ce(v.uid===ct,D,"user-mismatch"),Di._forOperation(v,V,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&Ge(D,"user-mismatch"),X}})).apply(this,arguments)}function cs(v,d){return sr.apply(this,arguments)}function sr(){return(sr=(0,m.Z)(function*(v,d,f=!1){const D="signIn",V=yield Vi(v,D,d),X=yield Di._fromIdTokenResponse(v,D,V);return f||(yield v._updateCurrentUser(X.user)),X})).apply(this,arguments)}function us(v,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,m.Z)(function*(v,d){return cs(ur(v),d)})).apply(this,arguments)}function ds(v,d){return _.apply(this,arguments)}function _(){return(_=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v);return yield di(!1,f,d.providerId),_i(f,d)})).apply(this,arguments)}function U(v,d){return I.apply(this,arguments)}function I(){return(I=(0,m.Z)(function*(v,d){return co((0,W.m9)(v),d)})).apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(v,d){return At(v,"POST","/v1/accounts:signInWithCustomToken",Bt(v,d))})).apply(this,arguments)}function x(){return x=(0,m.Z)(function*(v,d){const f=ur(v),D=yield function $(v,d){return re.apply(this,arguments)}(f,{token:d,returnSecureToken:!0}),V=yield Di._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(V.user),V}),x.apply(this,arguments)}class R{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?q._fromServerResponse(d,f):"totpInfo"in f?it._fromServerResponse(d,f):Ge(d,"internal-error")}}class q extends R{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new q(f)}}class it extends R{constructor(d){super("totp",d)}static _fromServerResponse(d,f){return new it(f)}}function rn(v,d,f){var D;Ce((null===(D=f.url)||void 0===D?void 0:D.length)>0,v,"invalid-continue-uri"),Ce(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ce(f.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(Ce(f.android.packageName.length>0,v,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Cr(){return Cr=(0,m.Z)(function*(v,d,f){var D;const V=ur(v),X={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=V._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ze=yield dn(V,X,"getOobCode",!0);f&&rn(V,ze,f),yield dt(V,ze)}else f&&rn(V,X,f),yield dt(V,X).catch(function(){var ze=(0,m.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $t=yield dn(V,X,"getOobCode",!0);f&&rn(V,$t,f),yield dt(V,$t)}});return function(ct){return ze.apply(this,arguments)}}())}),Cr.apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(v,d,f){yield yt((0,W.m9)(v),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Yr(){return Yr=(0,m.Z)(function*(v,d){yield function nn(v,d){return Fn.apply(this,arguments)}((0,W.m9)(v),{oobCode:d})}),Yr.apply(this,arguments)}function Fs(v,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v),D=yield yt(f,{oobCode:d}),V=D.requestType;switch(Ce(V,f,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(D.mfaInfo,f,"internal-error");default:Ce(D.email,f,"internal-error")}let X=null;return D.mfaInfo&&(X=R._fromServerResponse(ur(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:X},operation:V}})).apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(v,d){const{data:f}=yield Fs((0,W.m9)(v),d);return f.email})).apply(this,arguments)}function Do(){return Do=(0,m.Z)(function*(v,d,f){var D;const V=ur(v),X={returnSecureToken:!0,email:d,password:f,clientType:"CLIENT_TYPE_WEB"};let ze;if(null!==(D=V._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const yn=yield dn(V,X,"signUpPassword");ze=ji(V,yn)}else ze=ji(V,X).catch(function(){var yn=(0,m.Z)(function*(Bn){if("auth/missing-recaptcha-token"===Bn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $n=yield dn(V,X,"signUpPassword");return ji(V,$n)}return Promise.reject(Bn)});return function(Bn){return yn.apply(this,arguments)}}());const ct=yield ze.catch(yn=>Promise.reject(yn)),$t=yield Di._fromIdTokenResponse(V,"signIn",ct);return yield V._updateCurrentUser($t.user),$t}),Do.apply(this,arguments)}function Zs(){return Zs=(0,m.Z)(function*(v,d,f){var D;const V=ur(v),X={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function ze(ct,$t){Ce($t.handleCodeInApp,V,"argument-error"),$t&&rn(V,ct,$t)}if(null!==(D=V._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ct=yield dn(V,X,"getOobCode",!0);ze(ct,f),yield Kt(V,ct)}else ze(X,f),yield Kt(V,X).catch(function(){var ct=(0,m.Z)(function*($t){if("auth/missing-recaptcha-token"!==$t.code)return Promise.reject($t);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yn=yield dn(V,X,"getOobCode",!0);ze(yn,f),yield Kt(V,yn)}});return function($t){return ct.apply(this,arguments)}}())}),Zs.apply(this,arguments)}function Xo(){return(Xo=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v),V=Yo.credentialWithLink(d,f||Ze());return Ce(V._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),us(D,V)})).apply(this,arguments)}function Xs(){return(Xs=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:createAuthUri",Bt(v,d))})).apply(this,arguments)}function sa(){return sa=(0,m.Z)(function*(v,d){const D={identifier:d,continueUri:Ye()?Ze():"http://localhost"},{signinMethods:V}=yield function va(v,d){return Xs.apply(this,arguments)}((0,W.m9)(v),D);return V||[]}),sa.apply(this,arguments)}function Bs(){return Bs=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v),V={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};d&&rn(f.auth,V,d);const{email:X}=yield function tt(v,d){return He.apply(this,arguments)}(f.auth,V);X!==v.email&&(yield v.reload())}),Bs.apply(this,arguments)}function bs(){return bs=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:d};f&&rn(D.auth,X,f);const{email:ze}=yield function Qn(v,d){return rr.apply(this,arguments)}(D.auth,X);ze!==v.email&&(yield v.reload())}),bs.apply(this,arguments)}function aa(){return(aa=(0,m.Z)(function*(v,d){return bt(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $s(){return $s=(0,m.Z)(function*(v,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const D=(0,W.m9)(v),X={idToken:yield D.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},ze=yield zt(D,function Cs(v,d){return aa.apply(this,arguments)}(D.auth,X));D.displayName=ze.displayName||null,D.photoURL=ze.photoUrl||null;const ct=D.providerData.find(({providerId:$t})=>"password"===$t);ct&&(ct.displayName=D.displayName,ct.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ze)}),$s.apply(this,arguments)}function Pr(v,d,f){return la.apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(v,d,f){const{auth:D}=v,X={idToken:yield v.getIdToken(),returnSecureToken:!0};d&&(X.email=d),f&&(X.password=f);const ze=yield zt(v,Pt(D,X));yield v._updateTokensIfNecessary(ze,!0)})).apply(this,arguments)}class Qo{constructor(d,f,D={}){this.isNewUser=d,this.providerId=f,this.profile=D}}class ql extends Qo{constructor(d,f,D,V){super(d,f,D),this.username=V}}class Jo extends Qo{constructor(d,f){super(d,"facebook.com",f)}}class el extends ql{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Hr extends Qo{constructor(d,f){super(d,"google.com",f)}}class tl extends ql{constructor(d,f,D){super(d,"twitter.com",f,D)}}function Ia(v){const{user:d,_tokenResponse:f}=v;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function El(v){var d,f;if(!v)return null;const{providerId:D}=v,V=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},X=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!D&&null!=v&&v.idToken){const ze=null===(f=null===(d=Pn(v.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(ze)return new Qo(X,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!D)return null;switch(D){case"facebook.com":return new Jo(X,V);case"github.com":return new el(X,V);case"google.com":return new Hr(X,V);case"twitter.com":return new tl(X,V,v.screenName||null);case"custom":case"anonymous":return new Qo(X,null);default:return new Qo(X,D,V)}}(f)}class hr{constructor(d,f,D){this.type=d,this.credential=f,this.auth=D}static _fromIdtoken(d,f){return new hr("enroll",d,f)}static _fromMfaPendingCredential(d){return new hr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,D;if(null!=d&&d.multiFactorSession){if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.pendingCredential)return hr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(D=d.multiFactorSession)&&void 0!==D&&D.idToken)return hr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ar{constructor(d,f,D){this.session=d,this.hints=f,this.signInResolver=D}static _fromError(d,f){const D=ur(d),V=f.customData._serverResponse,X=(V.mfaInfo||[]).map(ct=>R._fromServerResponse(D,ct));Ce(V.mfaPendingCredential,D,"internal-error");const ze=hr._fromMfaPendingCredential(V.mfaPendingCredential);return new ar(ze,X,function(){var ct=(0,m.Z)(function*($t){const yn=yield $t._process(D,ze);delete V.mfaInfo,delete V.mfaPendingCredential;const Bn=Object.assign(Object.assign({},V),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(f.operationType){case"signIn":const $n=yield Di._fromIdTokenResponse(D,f.operationType,Bn);return yield D._updateCurrentUser($n.user),$n;case"reauthenticate":return Ce(f.user,D,"internal-error"),Di._forOperation(f.user,f.operationType,Bn);default:Ge(D,"internal-error")}});return function($t){return ct.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,m.Z)(function*(){return f.signInResolver(d)})()}}class zi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>R._fromServerResponse(d.auth,D)))})}static _fromUser(d){return new zi(d)}getSession(){var d=this;return(0,m.Z)(function*(){return hr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,f){var D=this;return(0,m.Z)(function*(){const V=d,X=yield D.getSession(),ze=yield zt(D.user,V._process(D.user.auth,X,f));return yield D.user._updateTokensIfNecessary(ze),D.user.reload()})()}unenroll(d){var f=this;return(0,m.Z)(function*(){const D="string"==typeof d?d:d.uid,V=yield f.user.getIdToken();try{const X=yield zt(f.user,function fs(v,d){return bt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(v,d))}(f.user.auth,{idToken:V,mfaEnrollmentId:D}));f.enrolledFactors=f.enrolledFactors.filter(({uid:ze})=>ze!==D),yield f.user._updateTokensIfNecessary(X),yield f.user.reload()}catch(X){throw X}})()}}const bo=new WeakMap,To="__sak";class wa{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const bi=(()=>{class v extends wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nl(){const v=(0,W.z$)();return rt(v)||Ct(v)}()&&function Ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const V=this.storage.getItem(D),X=this.localCache[D];V!==X&&f(D,X,V)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((ct,$t,yn)=>{this.notifyListeners(ct,yn)});const V=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(V);if(f.newValue!==ct)null!==f.newValue?this.storage.setItem(V,f.newValue):this.storage.removeItem(V);else if(this.localCache[V]===f.newValue&&!D)return}const X=()=>{const ct=this.storage.getItem(V);!D&&this.localCache[V]===ct||this.notifyListeners(V,ct)},ze=this.storage.getItem(V);!function jn(){return(0,W.w1)()&&10===document.documentMode}()||ze===f.newValue||f.newValue===f.oldValue?X():setTimeout(X,10)}notifyListeners(f,D){this.localCache[f]=D;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var V=()=>super._set,X=this;return(0,m.Z)(function*(){yield V().call(X,f,D),X.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,V=this;return(0,m.Z)(function*(){const X=yield D().call(V,f);return V.localCache[f]=JSON.stringify(X),X})()}_remove(f){var D=()=>super._remove,V=this;return(0,m.Z)(function*(){yield D().call(V,f),delete V.localCache[f]})()}}return v.type="LOCAL",v})(),$o=(()=>{class v extends wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return v.type="SESSION",v})();let il=(()=>{class v{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(X=>X.isListeningto(f));if(D)return D;const V=new v(f);return this.receivers.push(V),V}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,m.Z)(function*(){const V=f,{eventId:X,eventType:ze,data:ct}=V.data,$t=D.handlersMap[ze];if(null==$t||!$t.size)return;V.ports[0].postMessage({status:"ack",eventId:X,eventType:ze});const yn=Array.from($t).map(function(){var $n=(0,m.Z)(function*(Ii){return Ii(V.origin,ct)});return function(Ii){return $n.apply(this,arguments)}}()),Bn=yield function rl(v){return Promise.all(v.map(function(){var d=(0,m.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return d.apply(this,arguments)}}()))}(yn);V.ports[0].postMessage({status:"done",eventId:X,eventType:ze,response:Bn})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function en(v="",d=10){let f="";for(let D=0;D<d;D++)f+=Math.floor(10*Math.random());return v+f}class Ei{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,D=50){var V=this;return(0,m.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let ze,ct;return new Promise(($t,yn)=>{const Bn=en("",20);X.port1.start();const $n=setTimeout(()=>{yn(new Error("unsupported_event"))},D);ct={messageChannel:X,onMessage(Ii){const ta=Ii;if(ta.data.eventId===Bn)switch(ta.data.status){case"ack":clearTimeout($n),ze=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),$t(ta.data.response);break;default:clearTimeout($n),clearTimeout(ze),yn(new Error("invalid_response"))}}},V.handlers.add(ct),X.port1.addEventListener("message",ct.onMessage),V.target.postMessage({eventType:d,eventId:Bn,data:f},[X.port2])}).finally(()=>{ct&&V.removeMessageHandler(ct)})})()}}function Br(){return window}function Tn(){return typeof Br().WorkerGlobalScope<"u"&&"function"==typeof Br().importScripts}function wl(){return(wl=(0,m.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jt="firebaseLocalStorageDb",Rr=1,ca="firebaseLocalStorage",Dl="fbase_key";class Pa{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Vs(v,d){return v.transaction([ca],d?"readwrite":"readonly").objectStore(ca)}function Zl(){const v=indexedDB.open(jt,Rr);return new Promise((d,f)=>{v.addEventListener("error",()=>{f(v.error)}),v.addEventListener("upgradeneeded",()=>{const D=v.result;try{D.createObjectStore(ca,{keyPath:Dl})}catch(V){f(V)}}),v.addEventListener("success",(0,m.Z)(function*(){const D=v.result;D.objectStoreNames.contains(ca)?d(D):(D.close(),yield function su(){const v=indexedDB.deleteDatabase(jt);return new Pa(v).toPromise()}(),d(yield Zl()))}))})}function Da(v,d,f){return ol.apply(this,arguments)}function ol(){return(ol=(0,m.Z)(function*(v,d,f){const D=Vs(v,!0).put({[Dl]:d,value:f});return new Pa(D).toPromise()})).apply(this,arguments)}function uo(){return(uo=(0,m.Z)(function*(v,d){const f=Vs(v,!1).get(d),D=yield new Pa(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ua(v,d){const f=Vs(v,!0).delete(d);return new Pa(f).toPromise()}const Nr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,m.Z)(function*(){return f.db||(f.db=yield Zl()),f.db})()}_withRetries(f){var D=this;return(0,m.Z)(function*(){let V=0;for(;;)try{const X=yield D._openDb();return yield f(X)}catch(X){if(V++>3)throw X;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,m.Z)(function*(){return Tn()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,m.Z)(function*(){f.receiver=il._getInstance(function Et(){return Tn()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,m.Z)(function*(V,X){return{keyProcessed:(yield f._poll()).includes(X.key)}});return function(V,X){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,m.Z)(function*(V,X){return["keyChanged"]});return function(V,X){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,m.Z)(function*(){var D,V;if(f.activeServiceWorker=yield function qn(){return wl.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Ei(f.activeServiceWorker);const X=yield f.sender._send("ping",{},800);X&&null!==(D=X[0])&&void 0!==D&&D.fulfilled&&null!==(V=X[0])&&void 0!==V&&V.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,m.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function wn(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Zl();return yield Da(f,To,"1"),yield ua(f,To),!0}catch{}return!1})()}_withPendingWrite(f){var D=this;return(0,m.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var V=this;return(0,m.Z)(function*(){return V._withPendingWrite((0,m.Z)(function*(){return yield V._withRetries(X=>Da(X,f,D)),V.localCache[f]=D,V.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,m.Z)(function*(){const V=yield D._withRetries(X=>function bl(v,d){return uo.apply(this,arguments)}(X,f));return D.localCache[f]=V,V})()}_remove(f){var D=this;return(0,m.Z)(function*(){return D._withPendingWrite((0,m.Z)(function*(){return yield D._withRetries(V=>ua(V,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,m.Z)(function*(){const D=yield f._withRetries(ze=>{const ct=Vs(ze,!1).getAll();return new Pa(ct).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const V=[],X=new Set;for(const{fbase_key:ze,value:ct}of D)X.add(ze),JSON.stringify(f.localCache[ze])!==JSON.stringify(ct)&&(f.notifyListeners(ze,ct),V.push(ze));for(const ze of Object.keys(f.localCache))f.localCache[ze]&&!X.has(ze)&&(f.notifyListeners(ze,null),V.push(ze));return V})()}notifyListeners(f,D){this.localCache[f]=D;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),gn=1e12;class Na{constructor(d){this.auth=d,this.counter=gn,this._widgets=new Map}render(d,f){const D=this.counter;return this._widgets.set(D,new Tl(d,this.auth.name,f||{})),this.counter++,D}reset(d){var f;const D=d||gn;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(d){var f;return(null===(f=this._widgets.get(d||gn))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,m.Z)(function*(){var D;return null===(D=f._widgets.get(d||gn))||void 0===D||D.execute(),""})()}}class Tl{constructor(d,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof d?document.getElementById(d):d;Ce(V,"argument-error",{appName:f}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ka(v){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<v;D++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bc=kn("rcb"),Sl=new _e(3e4,6e4);class Ql{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Br().grecaptcha)||void 0===d||!d.render)}load(d,f=""){return Ce(function Cc(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(f),d,"argument-error"),this.shouldResolveImmediately(f)&&tr(Br().grecaptcha)?Promise.resolve(Br().grecaptcha):new Promise((D,V)=>{const X=Br().setTimeout(()=>{V(Be(d,"network-request-failed"))},Sl.get());Br()[bc]=()=>{Br().clearTimeout(X),delete Br()[bc];const ct=Br().grecaptcha;if(!ct||!tr(ct))return void V(Be(d,"internal-error"));const $t=ct.render;ct.render=(yn,Bn)=>{const $n=$t(yn,Bn);return this.counter++,$n},this.hostLanguage=f,D(ct)},Yn(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:bc,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(X),V(Be(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!(null===(f=Br().grecaptcha)||void 0===f||!f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ki{load(d){return(0,m.Z)(function*(){return new Na(d)})()}clearedOneInstance(){}}const ki="recaptcha",Fa={theme:"light",type:"image"};class sl{constructor(d,f=Object.assign({},Fa),D){this.parameters=f,this.type=ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(D),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof d?document.getElementById(d):d;Ce(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ki:new Ql,this.validateStartingState()}verify(){var d=this;return(0,m.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),D=d.getAssertedRecaptcha();return D.getResponse(f)||new Promise(X=>{const ze=ct=>{ct&&(d.tokenChangeListeners.delete(ze),X(ct))};d.tokenChangeListeners.add(ze),d.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof d)d(f);else if("string"==typeof d){const D=Br()[d];"function"==typeof D&&D(f)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,m.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,m.Z)(function*(){Ce(Ye()&&!Tn(),d.auth,"internal-error"),yield function os(){let v=null;return new Promise(d=>{"complete"!==document.readyState?(v=()=>d(),window.addEventListener("load",v)):d()}).catch(d=>{throw v&&window.removeEventListener("load",v),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function pt(v){return Ht.apply(this,arguments)}(d.auth);Ce(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class to{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=$i._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function vt(){return(vt=(0,m.Z)(function*(v,d,f){const D=ur(v),V=yield gs(D,d,(0,W.m9)(f));return new to(V,X=>us(D,X))})).apply(this,arguments)}function Vo(){return(Vo=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v);yield di(!1,D,"phone");const V=yield gs(D.auth,d,(0,W.m9)(f));return new to(V,X=>ds(D,X))})).apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v),V=yield gs(D.auth,d,(0,W.m9)(f));return new to(V,X=>U(D,X))})).apply(this,arguments)}function gs(v,d,f){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,m.Z)(function*(v,d,f){var D;const V=yield f.verify();try{let X;if(Ce("string"==typeof V,v,"argument-error"),Ce(f.type===ki,v,"argument-error"),X="string"==typeof d?{phoneNumber:d}:d,"session"in X){const ze=X.session;if("phoneNumber"in X)return Ce("enroll"===ze.type,v,"internal-error"),(yield function Zr(v,d){return bt(v,"POST","/v2/accounts/mfaEnrollment:start",Bt(v,d))}(v,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Ce("signin"===ze.type,v,"internal-error");const ct=(null===(D=X.multiFactorHint)||void 0===D?void 0:D.uid)||X.multiFactorUid;return Ce(ct,v,"missing-multi-factor-info"),(yield function Ln(v,d){return bt(v,"POST","/v2/accounts/mfaSignIn:start",Bt(v,d))}(v,{mfaPendingCredential:ze.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield function ao(v,d){return lo.apply(this,arguments)}(v,{phoneNumber:X.phoneNumber,recaptchaToken:V});return ze}}finally{f._reset()}}),Uo.apply(this,arguments)}function w(){return(w=(0,m.Z)(function*(v,d){yield _i((0,W.m9)(v),d)})).apply(this,arguments)}let b=(()=>{class v{constructor(f){this.providerId=v.PROVIDER_ID,this.auth=ur(f)}verifyPhoneNumber(f,D){return gs(this.auth,f,(0,W.m9)(D))}static credential(f,D){return $i._fromVerification(f,D)}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:V}=f;return D&&V?$i._fromTokenResponse(D,V):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function y(v,d){return d?$e(d):(Ce(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class S extends Ne{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return mi(d,this._buildIdpRequest())}_linkToIdToken(d,f){return mi(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return mi(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function L(v){return cs(v.auth,new S(v),v.bypassAuthState)}function K(v){const{auth:d,user:f}=v;return Ce(f,d,"internal-error"),co(f,new S(v),v.bypassAuthState)}function Q(v){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(v){const{auth:d,user:f}=v;return Ce(f,d,"internal-error"),_i(f,new S(v),v.bypassAuthState)})).apply(this,arguments)}class It{constructor(d,f,D,V,X=!1){this.auth=d,this.resolver=D,this.user=V,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,m.Z)(function*(D,V){d.pendingPromise={resolve:D,reject:V};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(X){d.reject(X)}});return function(D,V){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,m.Z)(function*(){const{urlResponse:D,sessionId:V,postBody:X,tenantId:ze,error:ct,type:$t}=d;if(ct)return void f.reject(ct);const yn={auth:f.auth,requestUri:D,sessionId:V,tenantId:ze||void 0,postBody:X||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask($t)(yn))}catch(Bn){f.reject(Bn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return Q;case"reauthViaPopup":case"reauthViaRedirect":return K;default:Ge(this.auth,"internal-error")}}resolve(d){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tn=new _e(2e3,1e4);function mn(){return(mn=(0,m.Z)(function*(v,d,f){const D=ur(v);be(v,d,yo);const V=y(D,f);return new ts(D,"signInViaPopup",d,V).executeNotNull()})).apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v);be(D.auth,d,yo);const V=y(D.auth,f);return new ts(D.auth,"reauthViaPopup",d,V,D).executeNotNull()})).apply(this,arguments)}function Ts(){return(Ts=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v);be(D.auth,d,yo);const V=y(D.auth,f);return new ts(D.auth,"linkViaPopup",d,V,D).executeNotNull()})).apply(this,arguments)}let ts=(()=>{class v extends It{constructor(f,D,V,X,ze){super(f,D,X,ze),this.provider=V,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var f=this;return(0,m.Z)(function*(){const D=yield f.execute();return Ce(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,m.Z)(function*(){Le(1===f.filter.length,"Popup operations only handle one event");const D=en();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch(V=>{f.reject(V)}),f.resolver._isIframeWebStorageSupported(f.auth,V=>{V||f.reject(Be(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,V;this.pollId=null!==(V=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,tn.get())};f()}}return v.currentPopupAction=null,v})();const jo="pendingRedirect",Ss=new Map;class Sc extends It{constructor(d,f,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,m.Z)(function*(){let D=Ss.get(f.auth._key());if(!D){try{const X=(yield function ss(v,d){return Ac.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;D=()=>Promise.resolve(X)}catch(V){D=()=>Promise.reject(V)}Ss.set(f.auth._key(),D)}return f.bypassAuthState||Ss.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,D=this;return(0,m.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(D,d);if("unknown"!==d.type){if(d.eventId){const V=yield D.auth._redirectUserForId(d.eventId);if(V)return D.user=V,f().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Ac(){return(Ac=(0,m.Z)(function*(v,d){const f=au(d),D=Qu(v);if(!(yield D._isAvailable()))return!1;const V="true"===(yield D._get(f));return yield D._remove(f),V})).apply(this,arguments)}function al(v,d){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,m.Z)(function*(v,d){return Qu(v)._set(au(d),"true")})).apply(this,arguments)}function Xu(v,d){Ss.set(v._key(),d)}function Qu(v){return $e(v._redirectPersistence)}function au(v){return ue(jo,v.config.apiKey,v.name)}function Wd(v,d,f){return function qd(v,d,f){return Mc.apply(this,arguments)}(v,d,f)}function Mc(){return(Mc=(0,m.Z)(function*(v,d,f){const D=ur(v);be(v,d,yo),yield D._initializationPromise;const V=y(D,f);return yield al(V,D),V._openRedirect(D,d,"signInViaRedirect")})).apply(this,arguments)}function Kd(v,d,f){return function Jl(v,d,f){return ec.apply(this,arguments)}(v,d,f)}function ec(){return(ec=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v);be(D.auth,d,yo),yield D.auth._initializationPromise;const V=y(D.auth,f);yield al(V,D.auth);const X=yield Ta(D);return V._openRedirect(D.auth,d,"reauthViaRedirect",X)})).apply(this,arguments)}function Yd(v,d,f){return function lu(v,d,f){return ho.apply(this,arguments)}(v,d,f)}function ho(){return(ho=(0,m.Z)(function*(v,d,f){const D=(0,W.m9)(v);be(D.auth,d,yo),yield D.auth._initializationPromise;const V=y(D.auth,f);yield di(!1,D,d.providerId),yield al(V,D.auth);const X=yield Ta(D);return V._openRedirect(D.auth,d,"linkViaRedirect",X)})).apply(this,arguments)}function Ca(){return(Ca=(0,m.Z)(function*(v,d){return yield ur(v)._initializationPromise,tc(v,d,!1)})).apply(this,arguments)}function tc(v,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,m.Z)(function*(v,d,f=!1){const D=ur(v),V=y(D,d),ze=yield new Sc(D,V,f).execute();return ze&&!f&&(delete ze.user._redirectEventId,yield D._persistUserIfCurrent(ze.user),yield D._setRedirectUser(null,d)),ze})).apply(this,arguments)}function Ta(v){return ro.apply(this,arguments)}function ro(){return(ro=(0,m.Z)(function*(v){const d=en(`${v.uid}:::`);return v._redirectEventId=d,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),d})).apply(this,arguments)}class ll{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(f=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function uu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ns(v);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var D;if(d.error&&!ns(d)){const V=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(Be(this.auth,V))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const D=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(La(d))}saveEventToCache(d){this.cachedEventUids.add(La(d)),this.lastProcessedEventTime=Date.now()}}function La(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(d=>d).join("-")}function ns({type:v,error:d}){return"unknown"===v&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Zh(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,m.Z)(function*(v,d={}){return bt(v,"GET","/v1/projects",d)})).apply(this,arguments)}const Xh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sa=/^https?/;function Ho(){return(Ho=(0,m.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:d}=yield Zh(v);for(const f of d)try{if(xl(f))return}catch{}Ge(v,"unauthorized-domain")})).apply(this,arguments)}function xl(v){const d=Ze(),{protocol:f,hostname:D}=new URL(d);if(v.startsWith("chrome-extension://")){const ze=new URL(v);return""===ze.hostname&&""===D?"chrome-extension:"===f&&v.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&ze.hostname===D}if(!Sa.test(f))return!1;if(Xh.test(v))return D===v;const V=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(D)}const nc=new _e(3e4,6e4);function as(){const v=Br().___jsl;if(null!=v&&v.H)for(const d of Object.keys(v.H))if(v.H[d].r=v.H[d].r||[],v.H[d].L=v.H[d].L||[],v.H[d].r=[...v.H[d].L],v.CP)for(let f=0;f<v.CP.length;f++)v.CP[f]=null}let Js=null;const xc=new _e(5e3,15e3),Aa="__/auth/iframe",ea="emulator/auth/iframe",rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ju(v){const d=v.config;Ce(d.authDomain,v,"auth-domain-config-required");const f=d.emulator?De(d,ea):`https://${v.config.authDomain}/${Aa}`,D={apiKey:d.apiKey,appName:v.name,v:te.SDK_VERSION},V=Ba.get(v.config.apiHost);V&&(D.eid=V);const X=v._getFrameworks();return X.length&&(D.fw=X.join(",")),`${f}?${(0,W.xO)(D).slice(1)}`}function P(){return P=(0,m.Z)(function*(v){const d=yield function ms(v){return Js=Js||function cl(v){return new Promise((d,f)=>{var D,V,X;function ze(){as(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{as(),f(Be(v,"network-request-failed"))},timeout:nc.get()})}if(null!==(V=null===(D=Br().gapi)||void 0===D?void 0:D.iframes)&&void 0!==V&&V.Iframe)d(gapi.iframes.getContext());else{if(null===(X=Br().gapi)||void 0===X||!X.load){const ct=kn("iframefcb");return Br()[ct]=()=>{gapi.load?ze():f(Be(v,"network-request-failed"))},Yn(`https://apis.google.com/js/api.js?onload=${ct}`).catch($t=>f($t))}ze()}}).catch(d=>{throw Js=null,d})}(v),Js}(v),f=Br().gapi;return Ce(f,v,"internal-error"),d.open({where:document.body,url:Ju(v),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rc,dontclear:!0},D=>new Promise(function(){var V=(0,m.Z)(function*(X,ze){yield D.restyle({setHideOnLeave:!1});const ct=Be(v,"network-request-failed"),$t=Br().setTimeout(()=>{ze(ct)},xc.get());function yn(){Br().clearTimeout($t),X(D)}D.ping(yn).then(yn,()=>{ze(ct)})});return function(X,ze){return V.apply(this,arguments)}}()))}),P.apply(this,arguments)}const H={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fe=500,Je=600,ht="_blank",Mt="http://localhost";class _n{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pr="__/auth/handler",mr="emulator/auth/handler",Hs=encodeURIComponent("fac");function Yi(v,d,f,D,V,X){return ul.apply(this,arguments)}function ul(){return(ul=(0,m.Z)(function*(v,d,f,D,V,X){Ce(v.config.authDomain,v,"auth-domain-config-required"),Ce(v.config.apiKey,v,"invalid-api-key");const ze={apiKey:v.config.apiKey,appName:v.name,authType:f,redirectUrl:D,v:te.SDK_VERSION,eventId:V};if(d instanceof yo){d.setDefaultLanguage(v.languageCode),ze.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(ze.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Bn,$n]of Object.entries(X||{}))ze[Bn]=$n}if(d instanceof Ar){const Bn=d.getScopes().filter($n=>""!==$n);Bn.length>0&&(ze.scopes=Bn.join(","))}v.tenantId&&(ze.tid=v.tenantId);const ct=ze;for(const Bn of Object.keys(ct))void 0===ct[Bn]&&delete ct[Bn];const $t=yield v._getAppCheckToken(),yn=$t?`#${Hs}=${encodeURIComponent($t)}`:"";return`${function io({config:v}){return v.emulator?De(v,mr):`https://${v.authDomain}/${pr}`}(v)}?${(0,W.xO)(ct).slice(1)}${yn}`})).apply(this,arguments)}const $a="webStorageSupport",So=class Qr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=tc,this._overrideRedirectResult=Xu}_openPopup(d,f,D,V){var X=this;return(0,m.Z)(function*(){var ze;Le(null===(ze=X.eventManagers[d._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const ct=yield Yi(d,f,D,Ze(),V);return function pn(v,d,f,D=fe,V=Je){const X=Math.max((window.screen.availHeight-V)/2,0).toString(),ze=Math.max((window.screen.availWidth-D)/2,0).toString();let ct="";const $t=Object.assign(Object.assign({},H),{width:D.toString(),height:V.toString(),top:X,left:ze}),yn=(0,W.z$)().toLowerCase();f&&(ct=Wt(yn)?ht:f),ft(yn)&&(d=d||Mt,$t.scrollbars="yes");const Bn=Object.entries($t).reduce((Ii,[ta,Lc])=>`${Ii}${ta}=${Lc},`,"");if(function fn(v=(0,W.z$)()){var d;return Ct(v)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(yn)&&"_self"!==ct)return function Un(v,d){const f=document.createElement("a");f.href=v,f.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(d||"",ct),new _n(null);const $n=window.open(d||"",ct,Bn);Ce($n,v,"popup-blocked");try{$n.focus()}catch{}return new _n($n)}(d,ct,en())})()}_openRedirect(d,f,D,V){var X=this;return(0,m.Z)(function*(){return yield X._originValidation(d),function Yl(v){Br().location.href=v}(yield Yi(d,f,D,Ze(),V)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:V,promise:X}=this.eventManagers[f];return V?Promise.resolve(V):(Le(X,"If manager is not set, promise should be"),X)}const D=this.initAndGetManager(d);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(d){var f=this;return(0,m.Z)(function*(){const D=yield function T(v){return P.apply(this,arguments)}(d),V=new ll(d);return D.register("authEvent",X=>(Ce(null==X?void 0:X.authEvent,d,"invalid-auth-event"),{status:V.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:V},f.iframes[d._key()]=D,V})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send($a,{type:$a},V=>{var X;const ze=null===(X=null==V?void 0:V[0])||void 0===X?void 0:X[$a];void 0!==ze&&f(!!ze),Ge(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Fi(v){return Ho.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return Zn()||rt()||Ct()}};class ic{constructor(d){this.factorId=d}_process(d,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,D);case"signin":return this._finalizeSignIn(d,f.credential);default:return Ue("unexpected MultiFactorSessionType")}}}class ed extends ic{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new ed(d)}_finalizeEnroll(d,f,D){return function hi(v,d){return bt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(v,d))}(d,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Cl(v,d){return bt(v,"POST","/v2/accounts/mfaSignIn:finalize",Bt(v,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Va=(()=>{class v{constructor(){}static assertion(f){return ed._fromCredential(f)}}return v.FACTOR_ID="phone",v})();var Rl="@firebase/auth";class du{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,m.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(D=>{d((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);f&&(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oc(){return window}(0,W.Pz)("authIdTokenMaxAge"),function Xd(v){(0,te._registerComponent)(new le.wA("auth",(d,{options:f})=>{const D=d.getProvider("app").getImmediate(),V=d.getProvider("heartbeat"),X=d.getProvider("app-check-internal"),{apiKey:ze,authDomain:ct}=D.options;Ce(ze&&!ze.includes(":"),"invalid-api-key",{appName:D.name});const $t={apiKey:ze,authDomain:ct,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tt(v)},yn=new gi(D,V,X,$t);return function _r(v,d){const f=(null==d?void 0:d.persistence)||[],D=(Array.isArray(f)?f:[f]).map($e);null!=d&&d.errorMap&&v._updateErrorMap(d.errorMap),v._initializeWithPersistence(D,null==d?void 0:d.popupRedirectResolver)}(yn,f),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,D)=>{d.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new le.wA("auth-internal",d=>{const f=ur(d.getProvider("auth").getImmediate());return new du(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Rl,"0.23.2",function Zd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,te.registerVersion)(Rl,"0.23.2","esm2017")}("Browser");const Jh=2e3;function Rc(){return Rc=(0,m.Z)(function*(v,d,f){var D;const{BuildInfo:V}=oc();Le(d.sessionId,"AuthEvent did not contain a session ID");const X=yield function ja(v){return sc.apply(this,arguments)}(d.sessionId),ze={};return Ct()?ze.ibi=V.packageName:Se()?ze.apn=V.packageName:Ge(v,"operation-not-supported-in-this-environment"),V.displayName&&(ze.appDisplayName=V.displayName),ze.sessionId=X,Yi(v,f,d.type,void 0,null!==(D=d.eventId)&&void 0!==D?D:void 0,ze)}),Rc.apply(this,arguments)}function hu(){return(hu=(0,m.Z)(function*(v){const{BuildInfo:d}=oc(),f={};Ct()?f.iosBundleId=d.packageName:Se()?f.androidPackageName=d.packageName:Ge(v,"operation-not-supported-in-this-environment"),yield Zh(v,f)})).apply(this,arguments)}function Ua(){return(Ua=(0,m.Z)(function*(v,d,f){const{cordova:D}=oc();let V=()=>{};try{yield new Promise((X,ze)=>{let ct=null;function $t(){var $n;X();const Ii=null===($n=D.plugins.browsertab)||void 0===$n?void 0:$n.close;"function"==typeof Ii&&Ii(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function yn(){ct||(ct=window.setTimeout(()=>{ze(Be(v,"redirect-cancelled-by-user"))},Jh))}function Bn(){"visible"===(null==document?void 0:document.visibilityState)&&yn()}d.addPassiveListener($t),document.addEventListener("resume",yn,!1),Se()&&document.addEventListener("visibilitychange",Bn,!1),V=()=>{d.removePassiveListener($t),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",Bn,!1),ct&&window.clearTimeout(ct)}})}finally{V()}})).apply(this,arguments)}function sc(){return(sc=(0,m.Z)(function*(v){const d=function eh(v){if(Le(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const d=new ArrayBuffer(v.length),f=new Uint8Array(d);for(let D=0;D<v.length;D++)f[D]=v.charCodeAt(D);return f}(v),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const nf=20;class Ol extends ll{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,m.Z)(function*(){yield d.initPromise})()}}function rd(v){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,m.Z)(function*(v){const d=yield Ha()._get(Ao(v));return d&&(yield Ha()._remove(Ao(v))),d})).apply(this,arguments)}function gu(){const v=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<nf;f++){const D=Math.floor(Math.random()*d.length);v.push(d.charAt(D))}return v.join("")}function Ha(){return $e(bi)}function Ao(v){return ue("authEvent",v.config.apiKey,v.name)}function za(v){if(null==v||!v.includes("?"))return{};const[d,...f]=v.split("?");return(0,W.zd)(f.join("?"))}const hl=class yu{constructor(){this._redirectPersistence=$o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tc,this._overrideRedirectResult=Xu}_initialize(d){var f=this;return(0,m.Z)(function*(){const D=d._key();let V=f.eventManagers.get(D);return V||(V=new Ol(d),f.eventManagers.set(D,V),f.attachCallbackListeners(d,V)),V})()}_openPopup(d){Ge(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,D,V){var X=this;return(0,m.Z)(function*(){!function Oc(v){var d,f,D,V,X,ze,ct,$t,yn,Bn;const $n=oc();Ce("function"==typeof(null===(d=null==$n?void 0:$n.universalLinks)||void 0===d?void 0:d.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(typeof(null===(f=null==$n?void 0:$n.BuildInfo)||void 0===f?void 0:f.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(X=null===(V=null===(D=null==$n?void 0:$n.cordova)||void 0===D?void 0:D.plugins)||void 0===V?void 0:V.browsertab)||void 0===X?void 0:X.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===($t=null===(ct=null===(ze=null==$n?void 0:$n.cordova)||void 0===ze?void 0:ze.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===$t?void 0:$t.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Bn=null===(yn=null==$n?void 0:$n.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===Bn?void 0:Bn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ze=yield X._initialize(d);yield ze.initialized(),ze.resetRedirect(),function Yh(){Ss.clear()}(),yield X._originValidation(d);const ct=function fu(v,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:gu(),postBody:null,tenantId:v.tenantId,error:Be(v,"no-auth-event")}}(d,D,V);yield function Pc(v,d){return Ha()._set(Ao(v),d)}(d,ct);const $t=yield function ef(v,d,f){return Rc.apply(this,arguments)}(d,ct,f),yn=yield function kp(v){const{cordova:d}=oc();return new Promise(f=>{d.plugins.browsertab.isAvailable(D=>{let V=null;D?d.plugins.browsertab.openUrl(v):V=d.InAppBrowser.open(v,function qt(v=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),f(V)})})}($t);return function Jd(v,d,f){return Ua.apply(this,arguments)}(d,ze,yn)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function tf(v){return hu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:D,handleOpenURL:V,BuildInfo:X}=oc(),ze=setTimeout((0,m.Z)(function*(){yield rd(d),f.onEvent(th())}),500),ct=function(){var Bn=(0,m.Z)(function*($n){clearTimeout(ze);const Ii=yield rd(d);let ta=null;Ii&&null!=$n&&$n.url&&(ta=function pu(v,d){var f,D;const V=function mu(v){const d=za(v),f=d.link?decodeURIComponent(d.link):void 0,D=za(f).link,V=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return za(V).link||V||D||f||v}(d);if(V.includes("/__/auth/callback")){const X=za(V),ze=X.firebaseError?function kc(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(X.firebaseError)):null,ct=null===(D=null===(f=null==ze?void 0:ze.code)||void 0===f?void 0:f.split("auth/"))||void 0===D?void 0:D[1],$t=ct?Be(ct):null;return $t?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:$t,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:V,postBody:null}}return null}(Ii,$n.url)),f.onEvent(ta||th())});return function(Ii){return Bn.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,ct);const $t=V,yn=`${X.packageName.toLowerCase()}://`;oc().handleOpenURL=function(){var Bn=(0,m.Z)(function*($n){if($n.toLowerCase().startsWith(yn)&&ct({url:$n}),"function"==typeof $t)try{$t($n)}catch(Ii){console.error(Ii)}});return function($n){return Bn.apply(this,arguments)}}()}};function th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}const Lp=1e3;function zo(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function pl(v=(0,W.z$)()){return!("file:"!==zo()&&"ionic:"!==zo()&&"capacitor:"!==zo()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bp(){try{const v=self.localStorage,d=en();if(v)return v.setItem(d,"1"),v.removeItem(d),!function vu(v=(0,W.z$)()){return function As(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function rf(v=(0,W.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,W.hl)()}catch{return ih()&&(0,W.hl)()}return!1}function ih(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dr(){return(function rh(){return"http:"===zo()||"https:"===zo()}()||(0,W.ru)()||pl())&&!function od(){return(0,W.b$)()||(0,W.UG)()}()&&Bp()&&!ih()}function sf(){return pl()&&typeof document<"u"}function ac(){return(ac=(0,m.Z)(function*(){return!!sf()&&new Promise(v=>{const d=setTimeout(()=>{v(!1)},Lp);document.addEventListener("deviceready",()=>{clearTimeout(d),v(!0)})})})).apply(this,arguments)}const Ms={LOCAL:"local",NONE:"none",SESSION:"session"},gl=Ce,oh="persistence";function ld(v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,m.Z)(function*(v){yield v._initializationPromise;const d=sh(),f=ue(oh,v.config.apiKey,v.name);d&&d.setItem(f,v._getPersistence())})).apply(this,arguments)}function sh(){var v;try{return(null===(v=function ad(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const uc=Ce;class ls{constructor(){this.browserResolver=$e(So),this.cordovaResolver=$e(hl),this.underlyingResolver=null,this._redirectPersistence=$o,this._completeRedirectFn=tc,this._overrideRedirectResult=Xu}_initialize(d){var f=this;return(0,m.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,D,V){var X=this;return(0,m.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(d,f,D,V)})()}_openRedirect(d,f,D,V){var X=this;return(0,m.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(d,f,D,V)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return sf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return uc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,m.Z)(function*(){if(d.underlyingResolver)return;const f=yield function sd(){return ac.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function fa(v){return v.unwrap()}function lf(v){return cf(v)}function cf(v){const{_tokenResponse:d}=v instanceof W.ZR?v.customData:v;if(!d)return null;if(!(v instanceof W.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return b.credentialFromResult(v);const f=d.providerId;if(!f||f===Ae.PASSWORD)return null;let D;switch(f){case Ae.GOOGLE:D=_o;break;case Ae.FACEBOOK:D=vo;break;case Ae.GITHUB:D=Es;break;case Ae.TWITTER:D=Is;break;default:const{oauthIdToken:V,oauthAccessToken:X,oauthTokenSecret:ze,pendingToken:ct,nonce:$t}=d;return X||ze||V||ct?ct?f.startsWith("saml.")?Ui._create(f,ct):yi._fromParams({providerId:f,signInMethod:f,pendingToken:ct,idToken:V,accessToken:X}):new Ji(f).credential({idToken:V,accessToken:X,rawNonce:$t}):null}return v instanceof W.ZR?D.credentialFromError(v):D.credentialFromResult(v)}function zs(v,d){return d.catch(f=>{throw f instanceof W.ZR&&function _u(v,d){var f;const D=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new cd(v,function oi(v,d){var f;const D=(0,W.m9)(v),V=d;return Ce(d.customData.operationType,D,"argument-error"),Ce(null===(f=V.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),ar._fromError(D,V)}(v,d));else if(D){const V=cf(d),X=d;V&&(X.credential=V,X.tenantId=D.tenantId||void 0,X.email=D.email||void 0,X.phoneNumber=D.phoneNumber||void 0)}}(v,f),f}).then(f=>{const V=f.user;return{operationType:f.operationType,credential:lf(f),additionalUserInfo:Ia(f),user:Ga.getOrCreate(V)}})}function Li(v,d){return dc.apply(this,arguments)}function dc(){return(dc=(0,m.Z)(function*(v,d){const f=yield d;return{verificationId:f.verificationId,confirm:D=>zs(v,f.confirm(D))}})).apply(this,arguments)}class cd{constructor(d,f){this.resolver=f,this.auth=function af(v){return v.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return zs(fa(this.auth),this.resolver.resolveSignIn(d))}}class Ga{constructor(d){this._delegate=d,this.multiFactor=function Co(v){const d=(0,W.m9)(v);return bo.has(d)||bo.set(d,zi._fromUser(d)),bo.get(d)}(d)}static getOrCreate(d){return Ga.USER_MAP.has(d)||Ga.USER_MAP.set(d,new Ga(d)),Ga.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,m.Z)(function*(){return zs(f.auth,ds(f._delegate,d))})()}linkWithPhoneNumber(d,f){var D=this;return(0,m.Z)(function*(){return Li(D.auth,function da(v,d,f){return Vo.apply(this,arguments)}(D._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,m.Z)(function*(){return zs(f.auth,function no(v,d,f){return Ts.apply(this,arguments)}(f._delegate,d,ls))})()}linkWithRedirect(d){var f=this;return(0,m.Z)(function*(){return yield ld(ur(f.auth)),Yd(f._delegate,d,ls)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,m.Z)(function*(){return zs(f.auth,U(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Li(this.auth,function Tc(v,d,f){return ha.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return zs(this.auth,function zr(v,d,f){return Ci.apply(this,arguments)}(this._delegate,d,ls))}reauthenticateWithRedirect(d){var f=this;return(0,m.Z)(function*(){return yield ld(ur(f.auth)),Kd(f._delegate,d,ls)})()}sendEmailVerification(d){return function _a(v,d){return Bs.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,m.Z)(function*(){return yield function ma(v,d){return vi.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function Hi(v,d){return Pr((0,W.m9)(v),d,null)}(this._delegate,d)}updatePassword(d){return function eo(v,d){return Pr((0,W.m9)(v),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function js(v,d){return w.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ea(v,d){return $s.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function Oa(v,d,f){return bs.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ga.USER_MAP=new WeakMap;const Eu=Ce;let Fc=(()=>{class v{constructor(f,D){if(this.app=f,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=f.options;Eu(V,"invalid-api-key",{appName:f.name}),Eu(V,"invalid-api-key",{appName:f.name});const X=typeof window<"u"?ls:void 0;this._delegate=D.initialize({options:{persistence:Wa(V,f.name),popupRedirectResolver:X}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ga.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,D){!function Z(v,d,f){const D=ur(v);Ce(D._canInitEmulator,D,"emulator-config-failed"),Ce(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const V=!(null==f||!f.disableWarnings),X=de(d),{host:ze,port:ct}=function Re(v){const d=de(v),f=/(\/\/)?([^?#/]+)/.exec(v.substr(d.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(D);if(V){const X=V[1];return{host:X,port:ie(D.substr(X.length+1))}}{const[X,ze]=D.split(":");return{host:X,port:ie(ze)}}}(d);D.config.emulator={url:`${X}//${ze}${null===ct?"":`:${ct}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ze,port:ct,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Fe(){function v(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,f,D)}applyActionCode(f){return function Lo(v,d){return Yr.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Fs(this._delegate,f)}confirmPasswordReset(f,D){return function Ri(v,d,f){return li.apply(this,arguments)}(this._delegate,f,D)}createUserWithEmailAndPassword(f,D){var V=this;return(0,m.Z)(function*(){return zs(V._delegate,function Ls(v,d,f){return Do.apply(this,arguments)}(V._delegate,f,D))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Qs(v,d){return sa.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Wl(v,d){const f=wi.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,m.Z)(function*(){Eu(Dr(),f._delegate,"operation-not-supported-in-this-environment");const D=yield function cu(v,d){return Ca.apply(this,arguments)}(f._delegate,ls);return D?zs(f._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function nh(v,d){ur(v)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,D,V){const{next:X,error:ze,complete:ct}=Iu(f,D,V);return this._delegate.onAuthStateChanged(X,ze,ct)}onIdTokenChanged(f,D,V){const{next:X,error:ze,complete:ct}=Iu(f,D,V);return this._delegate.onIdTokenChanged(X,ze,ct)}sendSignInLinkToEmail(f,D){return function oa(v,d,f){return Zs.apply(this,arguments)}(this._delegate,f,D)}sendPasswordResetEmail(f,D){return function Er(v,d,f){return Cr.apply(this,arguments)}(this._delegate,f,D||void 0)}setPersistence(f){var D=this;return(0,m.Z)(function*(){let V;switch(function lc(v,d){gl(Object.values(Ms).includes(d),v,"invalid-persistence-type"),(0,W.b$)()?gl(d!==Ms.SESSION,v,"unsupported-persistence-type"):(0,W.UG)()?gl(d===Ms.NONE,v,"unsupported-persistence-type"):ih()?gl(d===Ms.NONE||d===Ms.LOCAL&&(0,W.hl)(),v,"unsupported-persistence-type"):gl(d===Ms.NONE||Bp(),v,"unsupported-persistence-type")}(D._delegate,f),f){case Ms.SESSION:V=$o;break;case Ms.LOCAL:V=(yield $e(Nr)._isAvailable())?Nr:bi;break;case Ms.NONE:V=Ot;break;default:return Ge("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return zs(this._delegate,function ai(v){return No.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return zs(this._delegate,us(this._delegate,f))}signInWithCustomToken(f){return zs(this._delegate,function C(v,d){return x.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,D){return zs(this._delegate,function ya(v,d,f){return us((0,W.m9)(v),Yo.credential(d,f))}(this._delegate,f,D))}signInWithEmailLink(f,D){return zs(this._delegate,function Pi(v,d,f){return Xo.apply(this,arguments)}(this._delegate,f,D))}signInWithPhoneNumber(f,D){return Li(this._delegate,function Al(v,d,f){return vt.apply(this,arguments)}(this._delegate,f,D))}signInWithPopup(f){var D=this;return(0,m.Z)(function*(){return Eu(Dr(),D._delegate,"operation-not-supported-in-this-environment"),zs(D._delegate,function An(v,d,f){return mn.apply(this,arguments)}(D._delegate,f,ls))})()}signInWithRedirect(f){var D=this;return(0,m.Z)(function*(){return Eu(Dr(),D._delegate,"operation-not-supported-in-this-environment"),yield ld(D._delegate),Wd(D._delegate,f,ls)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Io(v,d){return wo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ms,v})();function Iu(v,d,f){let D=v;"function"!=typeof v&&({next:D,error:d,complete:f}=v);const V=D;return{next:ze=>V(ze&&Ga.getOrCreate(ze)),error:d,complete:f}}function Wa(v,d){const f=function cc(v,d){const f=sh();if(!f)return[];const D=ue(oh,v,d);switch(f.getItem(D)){case Ms.NONE:return[Ot];case Ms.LOCAL:return[Nr,$o];case Ms.SESSION:return[$o];default:return[]}}(v,d);if(typeof self<"u"&&!f.includes(Nr)&&f.push(Nr),typeof window<"u")for(const D of[bi,$o])f.includes(D)||f.push(D);return f.includes(Ot)||f.push(Ot),f}class pa{constructor(){this.providerId="phone",this._delegate=new b(fa(h.Z.auth()))}static credential(d,f){return b.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}pa.PHONE_SIGN_IN_METHOD=b.PHONE_SIGN_IN_METHOD,pa.PROVIDER_ID=b.PROVIDER_ID;const qa=Ce;class ah{constructor(d,f,D=h.Z.app()){var V;qa(null===(V=D.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new sl(d,f,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $p(v){v.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),D=d.getProvider("auth");return new Fc(f,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae_EMAIL_SIGNIN,PASSWORD_RESET:ae_PASSWORD_RESET,RECOVER_EMAIL:ae_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae_VERIFY_EMAIL}},EmailAuthProvider:Yo,FacebookAuthProvider:vo,GithubAuthProvider:Es,GoogleAuthProvider:_o,OAuthProvider:Ji,SAMLAuthProvider:Oo,PhoneAuthProvider:pa,PhoneMultiFactorGenerator:Va,RecaptchaVerifier:ah,TwitterAuthProvider:Is,Auth:Fc,AuthCredential:Ne,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(h.Z)},5861:(ln,st,F)=>{"use strict";function m(W,te,Te,Ee,le,xe,Ae){try{var he=W[xe](Ae),se=he.value}catch(ae){return void Te(ae)}he.done?te(se):Promise.resolve(se).then(Ee,le)}function h(W){return function(){var te=this,Te=arguments;return new Promise(function(Ee,le){var xe=W.apply(te,Te);function Ae(se){m(xe,Ee,le,Ae,he,"next",se)}function he(se){m(xe,Ee,le,Ae,he,"throw",se)}Ae(void 0)})}}F.d(st,{Z:()=>h})}},ln=>{ln(ln.s=3543)}]);