(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(on,st,F)=>{"use strict";F.d(st,{nm:()=>Z});var m=F(4976);F(4650),F(259);var Xe=F(5861),qe=F(6881),Ve=F(4859),yt=F(2090),Se=F(1877);const Ee=new Map,Ie={activated:!1,tokenObservers:[]},ve={initialized:!1,enabled:!1};function Be(et){return Ee.get(et)||Object.assign({},Ie)}function ct(){return ve}const Je="https://content-firebaseappcheck.googleapis.com/v1",De="exchangeDebugToken",Te={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qe{constructor(ze,ut,kt,Kt,Gn){if(this.operation=ze,this.retryPolicy=ut,this.getWaitDuration=kt,this.lowerBound=Kt,this.upperBound=Gn,this.pending=null,this.nextErrorWaitInterval=Kt,Kt>Gn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ze){var ut=this;return(0,Xe.Z)(function*(){ut.stop();try{ut.pending=new yt.BH,yield function at(et){return new Promise(ze=>{setTimeout(ze,et)})}(ut.getNextRun(ze)),ut.pending.resolve(),yield ut.pending.promise,ut.pending=new yt.BH,yield ut.operation(),ut.pending.resolve(),yield ut.pending.promise,ut.process(!0).catch(()=>{})}catch(kt){ut.retryPolicy(kt)?ut.process(!1).catch(()=>{}):ut.stop()}})()}getNextRun(ze){if(ze)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ut}}}const St=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zt(et,ze){return hn.apply(this,arguments)}function hn(){return(hn=(0,Xe.Z)(function*({url:et,body:ze},ut){const kt={"Content-Type":"application/json"},Kt=ut.getImmediate({optional:!0});if(Kt){const jr=yield Kt.getHeartbeatsHeader();jr&&(kt["X-Firebase-Client"]=jr)}const Gn={method:"POST",body:JSON.stringify(ze),headers:kt};let Xn,nr;try{Xn=yield fetch(et,Gn)}catch(jr){throw St.create("fetch-network-error",{originalErrorMessage:null==jr?void 0:jr.message})}if(200!==Xn.status)throw St.create("fetch-status-error",{httpStatus:Xn.status});try{nr=yield Xn.json()}catch(jr){throw St.create("fetch-parse-error",{originalErrorMessage:null==jr?void 0:jr.message})}const Tr=nr.ttl.match(/^([\d.]+)(s)$/);if(!Tr||!Tr[2]||isNaN(Number(Tr[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nr.ttl}`});const Bi=1e3*Number(Tr[1]),Ro=Date.now();return{token:nr.token,expireTimeMillis:Ro+Bi,issuedAtTimeMillis:Ro}})).apply(this,arguments)}const _n="firebase-app-check-database",Kn=1,ir="firebase-app-check-store";let nn=null;function On(et,ze){return jn.apply(this,arguments)}function jn(){return(jn=(0,Xe.Z)(function*(et,ze){const kt=(yield function bn(){return nn||(nn=new Promise((et,ze)=>{try{const ut=indexedDB.open(_n,Kn);ut.onsuccess=kt=>{et(kt.target.result)},ut.onerror=kt=>{var Kt;ze(St.create("storage-open",{originalErrorMessage:null===(Kt=kt.target.error)||void 0===Kt?void 0:Kt.message}))},ut.onupgradeneeded=kt=>{0===kt.oldVersion&&kt.target.result.createObjectStore(ir,{keyPath:"compositeKey"})}}catch(ut){ze(St.create("storage-open",{originalErrorMessage:null==ut?void 0:ut.message}))}}),nn)}()).transaction(ir,"readwrite"),Gn=kt.objectStore(ir).put({compositeKey:et,value:ze});return new Promise((Xn,nr)=>{Gn.onsuccess=Tr=>{Xn()},kt.onerror=Tr=>{var Bi;nr(St.create("storage-set",{originalErrorMessage:null===(Bi=Tr.target.error)||void 0===Bi?void 0:Bi.message}))}})})).apply(this,arguments)}const Fr=new Se.Yd("@firebase/app-check");function Ar(et,ze){return(0,yt.hl)()?function lr(et,ze){return On(function zt(et){return`${et.options.appId}-${et.name}`}(et),ze)}(et,ze).catch(ut=>{Fr.warn(`Failed to write token to IndexedDB. Error: ${ut}`)}):Promise.resolve()}function qn(){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,Xe.Z)(function*(){const et=ct();if(et.enabled&&et.token)return et.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ti={error:"UNKNOWN_ERROR"};function _r(et){return yt.US.encodeString(JSON.stringify(et),!1)}function Mt(et){return Le.apply(this,arguments)}function Le(){return(Le=(0,Xe.Z)(function*(et,ze=!1){const ut=et.app;!function gt(et){if(!Be(et).activated)throw St.create("use-before-activation",{appName:et.name})}(ut);const kt=Be(ut);let Gn,Kt=kt.token;if(Kt&&!tt(Kt)&&(kt.token=void 0,Kt=void 0),!Kt){const Tr=yield kt.cachedTokenPromise;Tr&&(tt(Tr)?Kt=Tr:yield Ar(ut,void 0))}if(!ze&&Kt&&tt(Kt))return{token:Kt.token};let nr,Xn=!1;if(function qr(){return ct().enabled}()){kt.exchangeTokenPromise||(kt.exchangeTokenPromise=Zt(function Wt(et,ze){const{projectId:ut,appId:kt,apiKey:Kt}=et.options;return{url:`${Je}/projects/${ut}/apps/${kt}:${De}?key=${Kt}`,body:{debug_token:ze}}}(ut,yield qn()),et.heartbeatServiceProvider).finally(()=>{kt.exchangeTokenPromise=void 0}),Xn=!0);const Tr=yield kt.exchangeTokenPromise;return yield Ar(ut,Tr),kt.token=Tr,{token:Tr.token}}try{kt.exchangeTokenPromise||(kt.exchangeTokenPromise=kt.provider.getToken().finally(()=>{kt.exchangeTokenPromise=void 0}),Xn=!0),Kt=yield Be(ut).exchangeTokenPromise}catch(Tr){"appCheck/throttled"===Tr.code?Fr.warn(Tr.message):Fr.error(Tr),Gn=Tr}return Kt?Gn?nr=tt(Kt)?{token:Kt.token,internalError:Gn}:Gt(Gn):(nr={token:Kt.token},kt.token=Kt,yield Ar(ut,Kt)):nr=Gt(Gn),Xn&&function ft(et,ze){const ut=Be(et).tokenObservers;for(const kt of ut)try{"EXTERNAL"===kt.type&&null!=ze.error?kt.error(ze.error):kt.next(ze)}catch{}}(ut,nr),nr})).apply(this,arguments)}function ue(et,ze){const ut=Be(et),kt=ut.tokenObservers.filter(Kt=>Kt.next!==ze);0===kt.length&&ut.tokenRefresher&&ut.tokenRefresher.isRunning()&&ut.tokenRefresher.stop(),ut.tokenObservers=kt}function ce(et){const{app:ze}=et,ut=Be(ze);let kt=ut.tokenRefresher;kt||(kt=function ke(et){const{app:ze}=et;return new Qe((0,Xe.Z)(function*(){let kt;if(kt=Be(ze).token?yield Mt(et,!0):yield Mt(et),kt.error)throw kt.error;if(kt.internalError)throw kt.internalError}),()=>!0,()=>{const ut=Be(ze);if(ut.token){let kt=ut.token.issuedAtTimeMillis+.5*(ut.token.expireTimeMillis-ut.token.issuedAtTimeMillis)+3e5;return kt=Math.min(kt,ut.token.expireTimeMillis-3e5),Math.max(0,kt-Date.now())}return 0},Te.RETRIAL_MIN_WAIT,Te.RETRIAL_MAX_WAIT)}(et),ut.tokenRefresher=kt),!kt.isRunning()&&ut.isTokenAutoRefreshEnabled&&kt.start()}function tt(et){return et.expireTimeMillis-Date.now()>0}function Gt(et){return{token:_r(ti),error:et}}class je{constructor(ze,ut){this.app=ze,this.heartbeatServiceProvider=ut}_delete(){const{tokenObservers:ze}=Be(this.app);for(const ut of ze)ue(this.app,ut.next);return Promise.resolve()}}const ur="app-check-internal";!function Ur(){(0,qe._registerComponent)(new Ve.wA("app-check",et=>function Me(et,ze){return new je(et,ze)}(et.getProvider("app").getImmediate(),et.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((et,ze,ut)=>{et.getProvider(ur).initialize()})),(0,qe._registerComponent)(new Ve.wA(ur,et=>function oe(et){return{getToken:ze=>Mt(et,ze),addTokenListener:ze=>function Ot(et,ze,ut,kt){const{app:Kt}=et,Gn=Be(Kt);if(Gn.tokenObservers=[...Gn.tokenObservers,{next:ut,error:kt,type:ze}],Gn.token&&tt(Gn.token)){const nr=Gn.token;Promise.resolve().then(()=>{ut({token:nr.token}),ce(et)}).catch(()=>{})}Gn.cachedTokenPromise.then(()=>ce(et))}(et,"INTERNAL",ze),removeTokenListener:ze=>ue(et.app,ze)}}(et.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qe.registerVersion)("@firebase/app-check","0.7.0")}();class Z{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},1205:(on,st,F)=>{"use strict";F.d(st,{zQ:()=>Je,ww:()=>ht,rT:()=>ve,f7:()=>rt,L6:()=>Ee,_Q:()=>Ie,lh:()=>Be,Qv:()=>Se,nw:()=>ct});var m=F(4650),h=F(7579),W=F(9646),ne=F(9751),Ae=F(8996),we=F(6451),le=F(5363),xe=F(3900),Re=F(4004),he=F(6063);class se extends h.x{constructor(De=1/0,Te=1/0,Ce=he.l){super(),this._bufferSize=De,this._windowTime=Te,this._timestampProvider=Ce,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Te===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,Te)}next(De){const{isStopped:Te,_buffer:Ce,_infiniteTimeWindow:Qe,_timestampProvider:at,_windowTime:Ft}=this;Te||(Ce.push(De),!Qe&&Ce.push(at.now()+Ft)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const Te=this._innerSubscribe(De),{_infiniteTimeWindow:Ce,_buffer:Qe}=this,at=Qe.slice();for(let Ft=0;Ft<at.length&&!De.closed;Ft+=Ce?1:2)De.next(at[Ft]);return this._checkFinalizedStatuses(De),Te}_trimBuffer(){const{_bufferSize:De,_timestampProvider:Te,_buffer:Ce,_infiniteTimeWindow:Qe}=this,at=(Qe?1:2)*De;if(De<1/0&&at<Ce.length&&Ce.splice(0,Ce.length-at),!Qe){const Ft=Te.now();let St=0;for(let sn=1;sn<Ce.length&&Ce[sn]<=Ft;sn+=2)St=sn;St&&Ce.splice(0,St+1)}}}var ae=F(3099);function Oe(it,De,Te){let Ce,Qe=!1;return it&&"object"==typeof it?({bufferSize:Ce=1/0,windowTime:De=1/0,refCount:Qe=!1,scheduler:Te}=it):Ce=null!=it?it:1/0,(0,ae.B)({connector:()=>new se(Ce,De,Te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qe})}var me=F(590),We=F(576);function mt(it,De){return(0,We.m)(De)?(0,xe.w)(()=>it,De):(0,xe.w)(()=>it)}var be=F(9468),ye=F(9300),te=F(4976),ot=F(2011),Xe=F(6895),qe=F(6217),Ve=F(9260);const Se=new m.OlP("angularfire2.auth.use-emulator"),Ee=new m.OlP("angularfire2.auth.settings"),Ie=new m.OlP("angularfire2.auth.tenant-id"),ve=new m.OlP("angularfire2.auth.langugage-code"),Be=new m.OlP("angularfire2.auth.use-device-language"),rt=new m.OlP("angularfire.auth.persistence"),ct=(it,De,Te,Ce,Qe,at,Ft,St)=>(0,ot.cc)(`${it.name}.auth`,"AngularFireAuth",it.name,()=>{const sn=De.runOutsideAngular(()=>it.auth());if(Te&&sn.useEmulator(...Te),Ce&&(sn.tenantId=Ce),sn.languageCode=Qe,at&&sn.useDeviceLanguage(),Ft)for(const[gt,pe]of Object.entries(Ft))sn.settings[gt]=pe;return St&&sn.setPersistence(St),sn},[Te,Ce,Qe,at,Ft,St]);let Je=(()=>{class it{constructor(Te,Ce,Qe,at,Ft,St,sn,gt,pe,vt,Zt,hn){const xn=new h.x,un=(0,W.of)(void 0).pipe((0,le.Q)(Ft.outsideAngular),(0,xe.w)(()=>at.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2644)))),(0,Re.U)(()=>(0,ot.on)(Te,at,Ce)),(0,Re.U)(Wt=>ct(Wt,at,St,gt,pe,vt,sn,Zt)),Oe({bufferSize:1,refCount:!1}));if((0,Xe.PM)(Qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{un.pipe((0,me.P)()).subscribe();const _n=un.pipe((0,xe.w)(Bn=>Bn.getRedirectResult().then(nn=>nn,()=>null)),te.iC,Oe({bufferSize:1,refCount:!1})),Kn=un.pipe((0,xe.w)(Bn=>new ne.y(nn=>({unsubscribe:at.runOutsideAngular(()=>Bn.onAuthStateChanged(bn=>nn.next(bn),bn=>nn.error(bn),()=>nn.complete()))})))),ir=un.pipe((0,xe.w)(Bn=>new ne.y(nn=>({unsubscribe:at.runOutsideAngular(()=>Bn.onIdTokenChanged(bn=>nn.next(bn),bn=>nn.error(bn),()=>nn.complete()))}))));this.authState=_n.pipe(mt(Kn),(0,be.R)(Ft.outsideAngular),(0,le.Q)(Ft.insideAngular)),this.user=_n.pipe(mt(ir),(0,be.R)(Ft.outsideAngular),(0,le.Q)(Ft.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(Bn=>Bn?(0,Ae.D)(Bn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(Bn=>Bn?(0,Ae.D)(Bn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,we.T)(_n,xn,this.authState.pipe((0,ye.h)(Bn=>!Bn))).pipe((0,Re.U)(Bn=>null!=Bn&&Bn.user?Bn:null),(0,be.R)(Ft.outsideAngular),(0,le.Q)(Ft.insideAngular))}return(0,ot.pX)(this,un,at,{spy:{apply:(Wt,_n,Kn)=>{(Wt.startsWith("signIn")||Wt.startsWith("createUser"))&&Kn.then(ir=>xn.next(ir))}}})}}return it.\u0275fac=function(Te){return new(Te||it)(m.LFG(ot.Dh),m.LFG(ot.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(te.HU),m.LFG(Se,8),m.LFG(Ee,8),m.LFG(Ie,8),m.LFG(ve,8),m.LFG(Be,8),m.LFG(rt,8),m.LFG(qe.nm,8))},it.\u0275prov=m.Yz7({token:it,factory:it.\u0275fac,providedIn:"any"}),it})(),ht=(()=>{class it{constructor(){Ve.Z.registerVersion("angularfire",te.q4.full,"auth-compat")}}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275mod=m.oAB({type:it}),it.\u0275inj=m.cJS({providers:[Je]}),it})()},1762:(on,st,F)=>{"use strict";F.d(st,{ST:()=>Im,yb:()=>_v});var m=F(4650),h=F(4986),W=F(9751),ne=F(8996),Ae=F(9646),we=F(4976),le=F(8675),xe=F(4482),Re=F(5403);function he(){return(0,xe.e)((r,e)=>{let t,o=!1;r.subscribe((0,Re.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var Ee,se=F(4004),ae=F(5026),Oe=F(1884),me=F(9300),We=F(2011),mt=F(6895),ye=(F(2644),F(3942)),te=F(5861),ot=F(6881),Xe=F(4859),qe=F(1877),Ve=F(2090),yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},Ie=Ie||{},ve=yt||self;function Be(){}function rt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ct(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ht="closure_uid_"+(1e9*Math.random()>>>0),it=0;function De(r,e,t){return r.call.apply(r.bind,arguments)}function Te(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ce(r,e,t){return(Ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?De:Te).apply(null,arguments)}function Qe(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function at(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var g=Array(arguments.length-2),A=2;A<arguments.length;A++)g[A-2]=arguments[A];return e.prototype[a].apply(o,g)}}function Ft(){this.s=this.s,this.o=this.o}Ft.prototype.s=!1,Ft.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Je(r){Object.prototype.hasOwnProperty.call(r,ht)&&r[ht]||(r[ht]=++it)}(this)},Ft.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function gt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function pe(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(rt(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let g=0;g<u;g++)r[a+g]=o[g]}else r.push(o)}}function vt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var Zt=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ve.addEventListener("test",Be,e),ve.removeEventListener("test",Be,e)}catch{}return r}();function hn(r){return/^[\s\xa0]*$/.test(r)}var xn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function un(r,e){return r<e?-1:r>e?1:0}function Wt(){var r=ve.navigator;return r&&(r=r.userAgent)?r:""}function _n(r){return-1!=Wt().indexOf(r)}function Kn(r){return Kn[" "](r),r}function ir(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Kn[" "]=Be;var On,r,Bn=_n("Opera"),nn=_n("Trident")||_n("MSIE"),bn=_n("Edge"),Vr=bn||nn,lr=_n("Gecko")&&!(-1!=Wt().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),Gr=-1!=Wt().toLowerCase().indexOf("webkit")&&!_n("Edge");function ri(){var r=ve.document;return r?r.documentMode:void 0}e:{var jn="",Ht=(r=Wt(),lr?/rv:([^\);]+)(\)|;)/.exec(r):bn?/Edge\/([\d\.]+)/.exec(r):nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Gr?/WebKit\/(\S+)/.exec(r):Bn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ht&&(jn=Ht?Ht[1]:""),nn){var an=ri();if(null!=an&&an>parseFloat(jn)){On=String(an);break e}}On=jn}var zt={},Ar=ve.document&&nn&&(ri()||parseInt(On,10))||void 0;function Wr(r,e){if(vt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(lr){e:{try{Kn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:vr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Wr.$.h.call(this)}}at(Wr,vt);var vr={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var qr="closure_listenable_"+(1e6*Math.random()|0),qn=0;function Hn(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++qn,this.fa=this.ia=!1}function rr(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function ti(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function _r(r){const e={};for(const t in r)e[t]=r[t];return e}const Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Le(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<Mt.length;u++)t=Mt[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Ue(r){this.src=r,this.g={},this.h=0}function Nt(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=sn(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(rr(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ot(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}Ue.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var g=Ot(r,e,o,a);return-1<g?(e=r[g],t||(e.ia=!1)):((e=new Hn(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var ue="closure_lm_"+(1e6*Math.random()|0),ce={};function ke(r,e,t,o,a){if(o&&o.once)return Gt(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ke(r,e[u],t,o,a);return null}return t=dn(t),r&&r[qr]?r.O(e,t,ct(o)?!!o.capture:!!o,a):ft(r,e,t,!1,o,a)}function ft(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var g=ct(a)?!!a.capture:!!a,A=Tt(r);if(A||(r[ue]=A=new Ue(r)),(t=A.add(e,t,o,g,u)).proxy)return t;if(o=function tt(){const e=He;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Zt||(a=g),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent(oe(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function Gt(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Gt(r,e[u],t,o,a);return null}return t=dn(t),r&&r[qr]?r.P(e,t,ct(o)?!!o.capture:!!o,a):ft(r,e,t,!0,o,a)}function je(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)je(r,e[u],t,o,a);else o=ct(o)?!!o.capture:!!o,t=dn(t),r&&r[qr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ot(u=r.g[e],t,o,a))&&(rr(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=Tt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ot(e,t,o,a)),(t=-1<r?e[r]:null)&&Me(t))}function Me(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[qr])Nt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(oe(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Tt(e))?(Nt(t,r),0==t.h&&(t.src=null,e[ue]=null)):rr(r)}}}function oe(r){return r in ce?ce[r]:ce[r]="on"+r}function He(r,e){if(r.fa)r=!0;else{e=new Wr(e,this);var t=r.listener,o=r.la||r.src;r.ia&&Me(r),r=t.call(o,e)}return r}function Tt(r){return(r=r[ue])instanceof Ue?r:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(r){return"function"==typeof r?r:(r[qt]||(r[qt]=function(e){return r.handleEvent(e)}),r[qt])}function Vn(){Ft.call(this),this.i=new Ue(this),this.S=this,this.J=null}function Yn(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new vt(e,r);else if(e instanceof vt)e.target=e.target||r;else{var a=e;Le(e=new vt(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var g=e.g=t[u];a=Ir(g,o,!0,e)&&a}if(a=Ir(g=e.g=r,o,!0,e)&&a,a=Ir(g,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=Ir(g=e.g=t[u],o,!1,e)&&a}function Ir(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var g=e[u];if(g&&!g.fa&&g.capture==t){var A=g.listener,B=g.la||g.src;g.ia&&Nt(r.i,g),a=!1!==A.call(B,o)&&a}}return a&&!o.defaultPrevented}at(Vn,Ft),Vn.prototype[qr]=!0,Vn.prototype.removeEventListener=function(r,e,t,o){je(this,r,e,t,o)},Vn.prototype.N=function(){if(Vn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)rr(t[o]);delete r.g[e],r.h--}}this.J=null},Vn.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Vn.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var At=ve.JSON.stringify;function pt(){var r=Pn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var or,yn=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Cn,r=>r.reset());class Cn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function er(r){ve.setTimeout(()=>{throw r},0)}function En(r,e){or||function tr(){var r=ve.Promise.resolve(void 0);or=function(){r.then(qi)}}(),zn||(or(),zn=!0),Pn.add(r,e)}var zn=!1,Pn=new class jt{constructor(){this.h=this.g=null}add(e,t){const o=yn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function qi(){for(var r;r=pt();){try{r.h.call(r.g)}catch(t){er(t)}var e=yn;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}zn=!1}function Mi(r,e){Vn.call(this),this.h=r||1,this.g=e||ve,this.j=Ce(this.qb,this),this.l=Date.now()}function xi(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function fi(r,e,t){if("function"==typeof r)t&&(r=Ce(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ce(r.handleEvent,r)}return 2147483647<Number(e)?-1:ve.setTimeout(r,e||0)}function ln(r){r.g=fi(()=>{r.g=null,r.i&&(r.i=!1,ln(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}at(Mi,Vn),(Ee=Mi.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yn(this,"tick"),this.ga&&(xi(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){Mi.$.N.call(this),xi(this),delete this.g};class Un extends Ft{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(r){Ft.call(this),this.h=r,this.g={}}at(Mr,Ft);var pi=[];function ur(r,e,t,o){Array.isArray(t)||(t&&(pi[0]=t.toString()),t=pi);for(var a=0;a<t.length;a++){var u=ke(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Ur(r){ti(r.g,function(e,t){this.g.hasOwnProperty(t)&&Me(e)},r),r.g={}}function ci(){this.g=!0}function de(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ie(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var g=1;g<a.length;g++)a[g]=""}}}return At(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Mr.prototype.N=function(){Mr.$.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ci.prototype.Ea=function(){this.g=!1},ci.prototype.info=function(){};var $e={},Fe=null;function _t(){return Fe=Fe||new Vn}function Ct(r){vt.call(this,$e.Ta,r)}function Pt(r){const e=_t();Yn(e,new Ct(e))}function $t(r,e){vt.call(this,$e.STAT_EVENT,r),this.stat=e}function Jt(r){const e=_t();Yn(e,new $t(e,r))}function Nn(r,e){vt.call(this,$e.Ua,r),this.size=e}function An(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){r()},e)}$e.Ta="serverreachability",at(Ct,vt),$e.STAT_EVENT="statevent",at($t,vt),$e.Ua="timingevent",at(Nn,vt);var Zn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Kr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ii(){}function ze(){}ii.prototype.h=null;var Gn,ut={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kt(){vt.call(this,"d")}function Kt(){vt.call(this,"c")}function Xn(){}function nr(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new Mr(this),this.P=Bi,this.V=new Mi(r=Vr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}at(kt,vt),at(Kt,vt),at(Xn,ii),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Gn=new Xn;var Bi=45e3,Ro={},jr={};function so(r,e,t){r.L=1,r.v=Ji(Di(e)),r.s=t,r.S=!0,gi(r,null)}function gi(r,e){r.G=Date.now(),ao(r),r.A=Di(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),ai(t.i,"t",o),r.C=0,t=r.l.I,r.h=new Tr,r.g=$s(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Un(Ce(r.Pa,r,r.g),r.O)),ur(r.U,r.g,"readystatechange",r.nb),e=r.I?_r(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Pt(),function Er(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var g="",A=u.split("&"),B=0;B<A.length;B++){var z=A[B].split("=");if(1<z.length){var ee=z[0];z=z[1];var Ne=ee.split("_");g=2<=Ne.length&&"type"==Ne[1]?g+(ee+"=")+z+"&":g+(ee+"=redacted&")}}else g=null;else g=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(r.j,r.u,r.A,r.m,r.W,r.s)}function rs(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function _s(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=mi(r,t),a==jr){4==e&&(r.o=4,Jt(14),o=!1),de(r.j,r.m,null,"[Incomplete Response]");break}if(a==Ro){r.o=4,Jt(15),de(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}de(r.j,r.m,a,null),go(r,a)}rs(r)&&a!=jr&&a!=Ro&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Jt(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.L=!0,Jt(11))):(de(r.j,r.m,t,"[Invalid Chunked Response]"),Qi(r),qo(r))}function mi(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?jr:(t=Number(e.substring(t,o)),isNaN(t)?Ro:(o+=1)+t>e.length?jr:(e=e.substr(o,t),r.C=o+t,e))}function ao(r){r.Y=Date.now()+r.P,lo(r,r.P)}function lo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=An(Ce(r.lb,r),e)}function Os(r){r.B&&(ve.clearTimeout(r.B),r.B=null)}function qo(r){0==r.l.H||r.J||Oa(r.l,r)}function Qi(r){Os(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,xi(r.V),Ur(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function go(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Fo(t.h,r)))if(!r.K&&Fo(t.h,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Bs(t),ya(t)}Qs(t),Jt(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=An(Ce(t.ib,t),6e3));if(1>=vi(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Cs(t,11)}else if((r.K||t.g==r)&&Bs(t),!hn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.J=z[1],t.oa=z[2];const ee=z[3];null!=ee&&(t.qa=ee,t.j.info("VER="+t.qa));const Ne=z[4];null!=Ne&&(t.Ga=Ne,t.j.info("SVER="+t.Ga));const bt=z[5];null!=bt&&"number"==typeof bt&&0<bt&&(t.K=o=1.5*bt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Vt=r.g;if(Vt){const en=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var u=o.h;u.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(ui(u,u.h),u.h=null))}if(o.F){const Sn=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sn&&(o.Da=Sn,Sr(o.G,o.F,Sn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var g=r;if((o=t).wa=Ea(o,o.I?o.oa:null,o.Y),g.K){Ys(o.h,g);var A=g,B=o.K;B&&A.setTimeout(B),A.B&&(Os(A),ao(A)),o.g=g}else Xs(o);0<t.i.length&&Zs(t)}else"stop"!=z[0]&&"close"!=z[0]||Cs(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Cs(t,7):wo(t):"noop"!=z[0]&&t.l&&t.l.Aa(z),t.A=0)}Pt()}catch{}}function Ko(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(rt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ia(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(rt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ps(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(rt(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(Ee=nr.prototype).setTimeout=function(r){this.P=r},Ee.nb=function(r){r=r.target;const e=this.M;e&&3==Qr(r)?e.l():this.Pa(r)},Ee.Pa=function(r){try{if(r==this.g)e:{const ee=Qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||Vr||this.g&&(this.h.h||this.g.ja()||Fs(this.g)))){this.J||4!=ee||7==e||Pt(),Os(this);var t=this.g.da();this.aa=t;t:if(rs(this)){var o=Fs(this.g);r="";var a=o.length,u=4==Qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),qo(this);var g="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function Z(r,e,t,o,a,u,g){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+g})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hn(A)){var z=A;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Jt(12),Qi(this),qo(this);break e}de(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,go(this,t)}this.S?(_s(this,ee,g),Vr&&this.i&&3==ee&&(ur(this.U,this.V,"tick",this.mb),this.V.start())):(de(this.j,this.m,g,null),go(this,g)),4==ee&&Qi(this),this.i&&!this.J&&(4==ee?Oa(this.l,this):(this.i=!1,ao(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Jt(12)):(this.o=0,Jt(13)),Qi(this),qo(this)}}}catch{}},Ee.mb=function(){if(this.g){var r=Qr(this.g),e=this.g.ja();this.C<e.length&&(Os(this),_s(this,r,e),this.i&&4!=r&&ao(this))}},Ee.cancel=function(){this.J=!0,Qi(this)},Ee.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Pe(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pt(),Jt(17)),Qi(this),this.o=2,qo(this)):lo(this,this.Y-r)};var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof mo){this.h=void 0!==e?e:r.h,ks(this,r.j),this.s=r.s,this.g=r.g,Yo(this,r.m),this.l=r.l,e=r.i;var t=new ji;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yo(this,t),this.o=r.o}else r&&(t=String(r).match($i))?(this.h=!!e,ks(this,t[1]||"",!0),this.s=vo(t[2]||""),this.g=vo(t[3]||"",!0),Yo(this,t[4]),this.l=vo(t[5]||"",!0),yo(this,t[6]||"",!0),this.o=vo(t[7]||"")):(this.h=!!e,this.i=new ji(null,this.h))}function Di(r){return new mo(r)}function ks(r,e,t){r.j=t?vo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Yo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function yo(r,e,t){e instanceof ji?(r.i=e,function ko(r,e){e&&!r.j&&(si(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(wi(this,o),ai(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=_o(e,Oo)),r.i=new ji(e,r.h))}function Sr(r,e,t){r.i.set(e,t)}function Ji(r){return Sr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function vo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function _o(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Es),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Es(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}mo.prototype.toString=function(){var r=[],e=this.j;e&&r.push(_o(e,Eo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(_o(e,Eo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(_o(t,"/"==t.charAt(0)?is:Ui,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",_o(t,Is)),r.join("")};var Eo=/[#\/\?@]/g,Ui=/[#\?:]/g,is=/[#\?]/g,Oo=/[#\?@]/g,Is=/#/g;function ji(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function si(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ns(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wi(r,e){si(r),e=No(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Po(r,e){return si(r),e=No(r,e),r.g.has(e)}function ai(r,e,t){wi(r,e),0<t.length&&(r.i=null,r.g.set(No(r,e),gt(t)),r.h+=t.length)}function No(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ds(r){this.l=r||ma,r=ve.PerformanceNavigationTiming?0<(r=ve.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=ji.prototype).add=function(r,e){si(this),this.i=null,r=No(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(r,e){si(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},Ee.sa=function(){si(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Ee.Z=function(r){si(this);let e=[];if("string"==typeof r)Po(this,r)&&(e=e.concat(this.g.get(No(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ee.set=function(r,e){return si(this),this.i=null,Po(this,r=No(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ee.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),g=this.Z(o);for(o=0;o<g.length;o++){var a=u;""!==g[o]&&(a+="="+encodeURIComponent(String(g[o]))),r.push(a)}}return this.i=r.join("&")};var ma=10;function yi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function vi(r){return r.h?1:r.g?r.g.size:0}function Fo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ui(r,e){r.g?r.g.add(e):r.h=e}function Ys(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function co(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return gt(r.i)}function Zo(){}function cs(){this.g=new Zo}function sr(r,e,t){const o=t||"";try{Ko(r,function(a,u){let g=a;ct(a)&&(g=At(a)),e.push(o+u+"="+encodeURIComponent(g))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function ws(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function ds(r){this.l=r.fc||null,this.j=r.ob||!1}function _(r,e){Vn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=U,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ds.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Zo.prototype.stringify=function(r){return ve.JSON.stringify(r,void 0)},Zo.prototype.parse=function(r){return ve.JSON.parse(r,void 0)},at(ds,ii),ds.prototype.g=function(){return new _(this.l,this.j)},ds.prototype.i=function(r){return function(){return r}}({}),at(_,Vn);var U=0;function I(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function $(r){r.readyState=4,r.l=null,r.j=null,r.A=null,re(r)}function re(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ee=_.prototype).open=function(r,e){if(this.readyState!=U)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,re(this)},Ee.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$(this)),this.readyState=U},Ee.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,re(this)),this.g&&(this.readyState=3,re(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?$(this):re(this),3==this.readyState&&I(this)}},Ee.Za=function(r){this.g&&(this.response=this.responseText=r,$(this))},Ee.Ya=function(r){this.g&&(this.response=r,$(this))},Ee.ka=function(){this.g&&$(this)},Ee.setRequestHeader=function(r,e){this.v.append(r,e)},Ee.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var C=ve.JSON.parse;function x(r){Vn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=R,this.L=this.M=!1}at(x,Vn);var R="",q=/^https?$/i,nt=["POST","PUT"];function hr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,xr(r),Ri(r)}function xr(r){r.F||(r.F=!0,Yn(r,"complete"),Yn(r,"error"))}function _i(r){if(r.h&&typeof Ie<"u"&&(!r.C[1]||4!=Qr(r)||2!=r.da()))if(r.v&&4==Qr(r))fi(r.La,0,r);else if(Yn(r,"readystatechange"),4==Qr(r)){r.h=!1;try{const A=r.da();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var a=String(r.I).match($i)[1]||null;if(!a&&ve.self&&ve.self.location){var u=ve.self.location.protocol;a=u.substr(0,u.length-1)}o=!q.test(a?a.toLowerCase():"")}t=o}if(t)Yn(r,"complete"),Yn(r,"success");else{r.m=6;try{var g=2<Qr(r)?r.g.statusText:""}catch{g=""}r.j=g+" ["+r.da()+"]",xr(r)}}finally{Ri(r)}}}function Ri(r,e){if(r.g){Lo(r);const t=r.g,o=r.C[0]?Be:null;r.g=null,r.C=null,e||Yn(r,"ready");try{t.onreadystatechange=o}catch{}}}function Lo(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ve.clearTimeout(r.A),r.A=null)}function Qr(r){return r.g?r.g.readyState:0}function Fs(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case R:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(r){let e="";return ti(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Io(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Oi(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Sr(r,e,t))}function Do(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ls(r){this.Ga=0,this.i=[],this.j=new ci,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Do("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Do("baseRetryDelayMs",5e3,r),this.hb=Do("retryDelaySeedMs",1e4,r),this.eb=Do("forwardChannelMaxRetries",2,r),this.xa=Do("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new Ds(r&&r.concurrentRequestLimit),this.Ja=new cs,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function wo(r){if(oa(r),3==r.H){var e=r.W++,t=Di(r.G);Sr(t,"SID",r.J),Sr(t,"RID",e),Sr(t,"TYPE","terminate"),Xo(r,t),(e=new nr(r,r.j,e,void 0)).L=2,e.v=Ji(Di(t)),t=!1,ve.navigator&&ve.navigator.sendBeacon&&(t=ve.navigator.sendBeacon(e.v.toString(),"")),!t&&ve.Image&&((new Image).src=e.v,t=!0),t||(e.g=$s(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ao(e)}aa(r)}function ya(r){r.g&&(sa(r),r.g.cancel(),r.g=null)}function oa(r){ya(r),r.u&&(ve.clearTimeout(r.u),r.u=null),Bs(r),r.h.cancel(),r.m&&("number"==typeof r.m&&ve.clearTimeout(r.m),r.m=null)}function Zs(r){yi(r.h)||r.m||(r.m=!0,En(r.Na,r),r.C=0)}function Pi(r,e){var t;t=e?e.m:r.W++;const o=Di(r.G);Sr(o,"SID",r.J),Sr(o,"RID",t),Sr(o,"AID",r.V),Xo(r,o),r.o&&r.s&&Io(o,r.o,r.s),t=new nr(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=va(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),ui(r.h,t),so(t,o,e)}function Xo(r,e){r.ma&&ti(r.ma,function(t,o){Sr(e,o,t)}),r.l&&Ko({},function(t,o){Sr(e,o,t)})}function va(r,e,t){t=Math.min(r.i.length,t);var o=r.l?Ce(r.l.Va,r.l,r):null;e:{var a=r.i;let u=-1;for(;;){const g=["count="+t];-1==u?0<t?(u=a[0].h,g.push("ofs="+u)):u=0:g.push("ofs="+u);let A=!0;for(let B=0;B<t;B++){let z=a[B].h;const ee=a[B].g;if(z-=u,0>z)u=Math.max(0,a[B].h-100),A=!1;else try{sr(ee,g,"req"+z+"_")}catch{o&&o(ee)}}if(A){o=g.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,o}function Xs(r){r.g||r.u||(r.ba=1,En(r.Ma,r),r.A=0)}function Qs(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=An(Ce(r.Ma,r),bs(r,r.A)),r.A++,0))}function sa(r){null!=r.B&&(ve.clearTimeout(r.B),r.B=null)}function _a(r){r.g=new nr(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Di(r.wa);Sr(e,"RID","rpc"),Sr(e,"SID",r.J),Sr(e,"CI",r.M?"0":"1"),Sr(e,"AID",r.V),Sr(e,"TYPE","xmlhttp"),Xo(r,e),r.o&&r.s&&Io(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=Ji(Di(e)),t.s=null,t.S=!0,gi(t,r)}function Bs(r){null!=r.v&&(ve.clearTimeout(r.v),r.v=null)}function Oa(r,e){var t=null;if(r.g==e){Bs(r),sa(r),r.g=null;var o=2}else{if(!Fo(r.h,e))return;t=e.F,Ys(r.h,e),o=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Yn(o=_t(),new Nn(o,t)),Zs(r)}else Xs(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==o&&function Wl(r,e){return!(vi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=An(Ce(r.Na,r,e),bs(r,r.C)),r.C++,0)))}(r,e)||2==o&&Qs(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Cs(r,5);break;case 4:Cs(r,10);break;case 3:Cs(r,6);break;default:Cs(r,2)}}function bs(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Cs(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=Ce(r.pb,r);t||(t=new mo("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||ks(t,"https"),Ji(t)),function us(r,e){const t=new ci;if(ve.Image){const o=new Image;o.onload=Qe(ws,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Qe(ws,t,o,"TestLoadImage: error",!1,e),o.onabort=Qe(ws,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Qe(ws,t,o,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Jt(2);r.H=0,r.l&&r.l.za(e),aa(r),oa(r)}function aa(r){if(r.H=0,r.pa=[],r.l){const e=co(r.h);(0!=e.length||0!=r.i.length)&&(pe(r.pa,e),pe(r.pa,r.i),r.h.i.length=0,gt(r.i),r.i.length=0),r.l.ya()}}function Ea(r,e,t){var o=t instanceof mo?Di(t):new mo(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Yo(o,o.m);else{var a=ve.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new mo(null,void 0);o&&ks(u,o),e&&(u.g=e),a&&Yo(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Sr(o,t,e),Sr(o,"VER",r.qa),Xo(r,o),o}function $s(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new x(t&&r.Ha&&!r.va?new ds({ob:!0}):r.va)).Oa(r.I),e}function Hi(){}function eo(){if(nn&&!(10<=Number(Ar)))throw Error("Environmental error: no available transport.")}function Pr(r,e){Vn.call(this),this.g=new Ls(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!hn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Qo(this)}function la(r){kt.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function El(){Kt.call(this),this.status=1}function Qo(r){this.g=r}function Jo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function el(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],g=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;g=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(g<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((u=(e=t+((g=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((a=u+((g=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(g<<21&4294967295|g>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Hr(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Ee=x.prototype).Oa=function(r){this.M=r},Ee.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gn.g(),this.C=function et(r){return r.h||(r.h=r.i())}(this.u?this.u:Gn),this.g.onreadystatechange=Ce(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void hr(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=ve.FormData&&r instanceof ve.FormData,!(0<=sn(nt,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,g]of t)this.g.setRequestHeader(u,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lo(this),0<this.B&&((this.L=function rn(r){return nn&&function Fr(){return ir(zt,9,function(){let r=0;const e=xn(String(On)).split("."),t=xn("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==r&&g<o;g++){var a=e[g]||"",u=t[g]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;r=un(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||un(0==a[2].length,0==u[2].length)||un(a[2],u[2]),a=a[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.ua,this)):this.A=fi(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){hr(this,u)}},Ee.ua=function(){typeof Ie<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},Ee.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Yn(this,"complete"),Yn(this,"abort"),Ri(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ri(this,!0)),x.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?_i(this):this.kb())},Ee.kb=function(){_i(this)},Ee.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),C(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=Ls.prototype).qa=8,Ee.H=1,Ee.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new nr(this,this.j,r,void 0);let u=this.s;if(this.U&&(u?(u=_r(u),Le(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=va(this,a,e),Sr(t=Di(this.G),"RID",r),Sr(t,"CVER",22),this.F&&Sr(t,"X-HTTP-Session-Id",this.F),Xo(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Oi(u)))+"&"+e:this.o&&Io(t,this.o,u)),ui(this.h,a),this.bb&&Sr(t,"TYPE","init"),this.P?(Sr(t,"$req",e),Sr(t,"SID","null"),a.ba=!0,so(a,t,null)):so(a,t,e),this.H=2}}else 3==this.H&&(r?Pi(this,r):0==this.i.length||yi(this.h)||Pi(this))},Ee.Ma=function(){if(this.u=null,_a(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=An(Ce(this.jb,this),r)}},Ee.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Jt(10),ya(this),_a(this))},Ee.ib=function(){null!=this.v&&(this.v=null,ya(this),Qs(this),Jt(19))},Ee.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))},(Ee=Hi.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.Va=function(){},eo.prototype.g=function(r,e){return new Pr(r,e)},at(Pr,Vn),Pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Jt(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=Ea(r,null,r.Y),Zs(r)},Pr.prototype.close=function(){wo(this.g)},Pr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=At(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Zs(e)},Pr.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Pr.$.N.call(this)},at(la,kt),at(El,Kt),at(Qo,Hi),Qo.prototype.Ba=function(){Yn(this.g,"a")},Qo.prototype.Aa=function(r){Yn(this.g,new la(r))},Qo.prototype.za=function(r){Yn(this.g,new El)},Qo.prototype.ya=function(){Yn(this.g,"b")},at(Jo,function ql(){this.blockSize=-1}),Jo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)el(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){el(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){el(this,o),a=0;break}}this.h=a,this.i+=e},Jo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var tl={};function Ia(r){return-128<=r&&128>r?ir(tl,r,function(e){return new Hr([0|e],0>e?-1:0)}):new Hr([0|r],0>r?-1:0)}function O(r){if(isNaN(r)||!isFinite(r))return Y;if(0>r)return dr(O(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=k;return new Hr(e,0)}var k=4294967296,Y=Ia(0),_e=Ia(1),Rt=Ia(16777216);function Lt(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function In(r){return-1==r.h}function dr(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Hr(t,~r.h).add(_e)}function Dr(r,e){return r.add(dr(e))}function fr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ar(r,e){this.g=r,this.h=e}function oi(r,e){if(Lt(e))throw Error("division by zero");if(Lt(r))return new ar(Y,Y);if(In(r))return e=oi(dr(r),e),new ar(dr(e.g),dr(e.h));if(In(e))return e=oi(r,dr(e)),new ar(dr(e.g),e.h);if(30<r.g.length){if(In(r)||In(e))throw Error("slowDivide_ only works with positive integers.");for(var t=_e,o=e;0>=o.X(r);)t=Yr(t),o=Yr(o);var a=di(t,1),u=di(o,1);for(o=di(o,2),t=di(t,2);!Lt(o);){var g=u.add(o);0>=g.X(r)&&(a=a.add(t),u=g),o=di(o,1),t=di(t,1)}return e=Dr(r,a.R(e)),new ar(a,e)}for(a=Y;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),g=(u=O(t)).R(e);In(g)||0<g.X(r);)g=(u=O(t-=o)).R(e);Lt(u)&&(u=_e),a=a.add(u),r=Dr(r,g)}return new ar(a,r)}function Yr(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Hr(t,r.h)}function di(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Hr(a,r.h)}(Ee=Hr.prototype).ea=function(){if(In(this))return-dr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:k+o)*e,e*=k}return r},Ee.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Lt(this))return"0";if(In(this))return"-"+dr(this).toString(r);for(var e=O(Math.pow(r,6)),t=this,o="";;){var a=oi(t,e).g,u=((0<(t=Dr(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Lt(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Ee.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ee.X=function(r){return In(r=Dr(this,r))?-1:Lt(r)?0:1},Ee.abs=function(){return In(this)?dr(this):this},Ee.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),g=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=g>>>16,t[a]=(g&=65535)<<16|(u&=65535)}return new Hr(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(r){if(Lt(this)||Lt(r))return Y;if(In(this))return In(r)?dr(this).R(dr(r)):dr(dr(this).R(r));if(In(r))return dr(this.R(dr(r)));if(0>this.X(Rt)&&0>r.X(Rt))return O(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,g=65535&this.D(o),A=r.D(a)>>>16,B=65535&r.D(a);t[2*o+2*a]+=g*B,fr(t,2*o+2*a),t[2*o+2*a+1]+=u*B,fr(t,2*o+2*a+1),t[2*o+2*a+1]+=g*A,fr(t,2*o+2*a+1),t[2*o+2*a+2]+=u*A,fr(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Hr(t,0)},Ee.gb=function(r){return oi(this,r).h},Ee.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Hr(t,this.h&r.h)},Ee.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Hr(t,this.h|r.h)},Ee.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Hr(t,this.h^r.h)},eo.prototype.createWebChannel=eo.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Kr.COMPLETE="complete",ze.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Vn.prototype.listen=Vn.prototype.O,x.prototype.listenOnce=x.prototype.P,x.prototype.getLastError=x.prototype.Sa,x.prototype.getLastErrorCode=x.prototype.Ia,x.prototype.getStatus=x.prototype.da,x.prototype.getResponseJson=x.prototype.Wa,x.prototype.getResponseText=x.prototype.ja,x.prototype.send=x.prototype.ha,x.prototype.setWithCredentials=x.prototype.Oa,Jo.prototype.digest=Jo.prototype.l,Jo.prototype.reset=Jo.prototype.reset,Jo.prototype.update=Jo.prototype.j,Hr.prototype.add=Hr.prototype.add,Hr.prototype.multiply=Hr.prototype.R,Hr.prototype.modulo=Hr.prototype.gb,Hr.prototype.compare=Hr.prototype.X,Hr.prototype.toNumber=Hr.prototype.ea,Hr.prototype.toString=Hr.prototype.toString,Hr.prototype.getBits=Hr.prototype.D,Hr.fromNumber=O,Hr.fromString=function G(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return dr(G(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=O(Math.pow(e,8)),o=Y,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),g=parseInt(r.substring(a,a+u),e);8>u?(u=O(Math.pow(e,u)),o=o.R(u).add(O(g))):o=(o=o.R(t)).add(O(g))}return o};var hs=Se.createWebChannelTransport=function(){return new eo},Bo=Se.getStatEventTarget=function(){return _t()},fs=Se.ErrorCode=Zn,zi=Se.EventType=Kr,bo=Se.Event=$e,Co=Se.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},To=Se.FetchXmlHttpFactory=ds,Da=Se.WebChannel=ze,nl=Se.XhrIo=x,Il=Se.Md5=Jo,ps=Se.Integer=Hr;const Kl="@firebase/firestore";class bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");let es="9.22.0";const $o=new qe.Yd("@firebase/firestore");function rl(){return $o.logLevel}function Xt(r,...e){if($o.logLevel<=qe.in.DEBUG){const t=e.map(Yl);$o.debug(`Firestore (${es}): ${r}`,...t)}}function Ei(r,...e){if($o.logLevel<=qe.in.ERROR){const t=e.map(Yl);$o.error(`Firestore (${es}): ${r}`,...t)}}function Br(r,...e){if($o.logLevel<=qe.in.WARN){const t=e.map(Yl);$o.warn(`Firestore (${es}): ${r}`,...t)}}function Yl(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function wn(r="Unexpected state"){const e=`FIRESTORE (${es}) INTERNAL ASSERTION FAILED: `+r;throw Ei(e),new Error(e)}function Wn(r,e){r||wn()}function Dn(r,e){return r}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vs{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let g=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Rr,e.enqueueRetryable(()=>u(this.currentUser))};const A=()=>{const z=g;e.enqueueRetryable((0,te.Z)(function*(){yield z.promise,yield u(o.currentUser)}))},B=z=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(z=>B(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?B(z):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Rr)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Wn("string"==typeof o.accessToken),new ca(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wn(null===e||"string"==typeof e),new bi(e)}}class su{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zl{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new su(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ol{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const g=u.token!==this.T;return this.T=u.token,Xt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Wn("string"==typeof t.token),this.T=t.token,new wa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uo(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class ua{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=uo(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+=e.charAt(a[u]%e.length))}return o}}function Qn(r,e){return r<e?-1:r>e?1:0}function Us(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function Xl(r){return r+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Nr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kn(e)}static min(){return new kn(new Nr(0,0))}static max(){return new kn(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cl{constructor(e,t,o){void 0===t?t=0:t>e.length&&wn(),void 0===o?o=e.length-t:o>e.length-t&&wn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Cl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),g=t.get(a);if(u<g)return-1;if(u>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zr extends Cl{construct(e,t,o){return new Zr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ut(Dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Zr(t)}static emptyPath(){return new Zr([])}}const li=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends Cl{construct(e,t,o){return new Ni(e,t,o)}static isValidIdentifier(e){return li.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new Ut(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;a<e.length;){const A=e[a];if("\\"===A){if(a+1===e.length)throw new Ut(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[a+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Ut(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,a+=2}else"`"===A?(g=!g,a++):"."!==A||g?(o+=A,a++):(u(),a++)}if(u(),g)throw new Ut(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class pn{constructor(e){this.path=e}static fromPath(e){return new pn(Zr.fromString(e))}static fromName(e){return new pn(Zr.fromString(e).popFirst(5))}static empty(){return new pn(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pn(new Zr(e.slice()))}}class Na{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function Tl(r){return r.fields.find(e=>2===e.kind)}function ka(r){return r.fields.filter(e=>2!==e.kind)}Na.UNKNOWN_ID=-1;class Sl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ql{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ql(0,ki.min())}}function Cc(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=kn.fromTimestamp(1e9===o?new Nr(t+1,0):new Nr(t,o));return new ki(a,pn.empty(),e)}function Ki(r){return new ki(r.readTime,r.key,-1)}class ki{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ki(kn.min(),pn.empty(),-1)}static max(){return new ki(kn.max(),pn.empty(),-1)}}function Fa(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=pn.comparator(r.documentKey,e.documentKey),0!==t?t:Qn(r.largestBatchId,e.largestBatchId))}const sl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class os{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function to(r){return Al.apply(this,arguments)}function Al(){return Al=(0,te.Z)(function*(r){if(r.code!==Dt.FAILED_PRECONDITION||r.message!==sl)throw r;Xt("LocalStore","Unexpectedly lost primary lease")}),Al.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.reject(t)}static resolve(e){return new Et((t,o)=>{t(e)})}static reject(e){return new Et((t,o)=>{o(e)})}static waitFor(e){return new Et((t,o)=>{let a=0,u=0,g=!1;e.forEach(A=>{++a,A.next(()=>{++u,g&&u===a&&t()},B=>o(B))}),g=!0,u===a&&t()})}static or(e){let t=Et.resolve(!1);for(const o of e)t=t.next(a=>a?Et.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Et((o,a)=>{const u=e.length,g=new Array(u);let A=0;for(let B=0;B<u;B++){const z=B;t(e[z]).next(ee=>{g[z]=ee,++A,A===u&&o(g)},ee=>a(ee))}})}static doWhile(e,t){return new Et((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class da{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Rr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ha(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=b(o.target.error);this.v.reject(new ha(e,a))}}static open(e,t,o,a){try{return new da(t,e.transaction(a,o))}catch(u){throw new ha(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Uo(t)}}class Vo{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Vo.S((0,Ve.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),js(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ve.hl)())return!1;if(Vo.C())return!0;const e=(0,Ve.z$)(),t=Vo.S(e),o=0<t&&t<10,a=Vo.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,te.Z)(function*(){return t.db||(Xt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=g=>{o(g.target.result)},u.onblocked=()=>{a(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=g=>{const A=g.target.error;a("VersionError"===A.name?new Ut(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Ut(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new ha(e,A))},u.onupgradeneeded=g=>{Xt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.V.O(g.target.result,u.transaction,g.oldVersion,t.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,te.Z)(function*(){const g="readonly"===t;let A=0;for(;;){++A;try{u.db=yield u.$(e);const B=da.open(u.db,e,g?"readonly":"readwrite",o),z=a(B).next(ee=>(B.P(),ee)).catch(ee=>(B.abort(ee),Et.reject(ee))).toPromise();return z.catch(()=>{}),yield B.R,z}catch(B){const z=B,ee="FirebaseError"!==z.name&&A<3;if(Xt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ee),u.close(),!ee)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Tc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return js(this.L.delete())}}class ha extends Ut{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gs(r){return"IndexedDbTransactionError"===r.name}class Uo{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Xt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),js(o)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),js(this.store.add(e))}get(e){return js(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),js(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),js(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(g,A)=>{u.push(A)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Et((u,g)=>{a.onerror=A=>{g(A.target.error)},a.onsuccess=A=>{u(A.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Et((a,u)=>{o.onerror=g=>{u(g.target.error)},o.onsuccess=g=>{a(g.target.result)}})}J(e,t){Xt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,g,A)=>A.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Et((o,a)=>{t.onerror=u=>{const g=b(u.target.error);a(g)},t.onsuccess=u=>{const g=u.target.result;g?e(g.primaryKey,g.value).next(A=>{A?g.continue():o()}):o()}})}W(e,t){const o=[];return new Et((a,u)=>{e.onerror=g=>{u(g.target.error)},e.onsuccess=g=>{const A=g.target.result;if(!A)return void a();const B=new Tc(A),z=t(A.primaryKey,A.value,B);if(z instanceof Et){const ee=z.catch(Ne=>(B.done(),Et.reject(Ne)));o.push(ee)}B.isDone?a():null===B.K?A.continue():A.continue(B.K)}}).next(()=>Et.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function js(r){return new Et((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=b(o.target.error);t(a)}})}let D=!1;function b(r){const e=Vo.S((0,Ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D||(D=!0,setTimeout(()=>{throw o},0)),o}}return r}class y{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Xt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,te.Z)(function*(){t.task=null;try{Xt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){gs(o)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield to(o)}yield t.et(6e4)}))}}class S{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Et.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Xt("IndexBackiller",`Processing collection: ${g}`),this.it(e,g,a).next(A=>{a-=A,o.add(g)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const g=u.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.rt(a,u)).next(A=>(Xt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,t,A))).next(()=>g.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const g=Ki(u);Fa(g,o)>0&&(o=g)}),new ki(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let L=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function K(r){return null==r}function Q(r){return 0===r&&1/r==-1/0}function Ke(r){return"number"==typeof r&&Number.isInteger(r)&&!Q(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function wt(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Tn(e)),e=Qt(r.get(t),e);return Tn(e)}function Qt(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Tn(r){return r+"\x01\x01"}function gn(r){const e=r.length;if(Wn(e>=2),2===e)return Wn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Zr.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const g=r.indexOf("\x01",u);switch((g<0||g>t)&&wn(),r.charAt(g+1)){case"\x01":const A=r.substring(u,g);let B;0===a.length?B=A:(a+=A,B=a,a=""),o.push(B);break;case"\x10":a+=r.substring(u,g),a+="\0";break;case"\x11":a+=r.substring(u,g+1);break;default:wn()}u=g+2}return new Zr(o)}const zr=["userId","batchId"];function Ci(r,e){return[r,wt(e)]}function no(r,e,t){return[r,wt(e),t]}const Ts={},ts=["prefixPath","collectionGroup","readTime","documentId"],jo=["prefixPath","collectionGroup","documentId"],Ss=["collectionGroup","readTime","prefixPath","documentId"],Sc=["canonicalId","targetId"],ss=["targetId","path"],Ac=["path","targetId"],al=["collectionId","parent"],Ml=["indexId","uid"],Yh=["uid","sequenceNumber"],Xu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qu=["indexId","uid","orderedDocumentKey"],au=["userId","collectionPath","documentId"],Wd=["userId","collectionPath","largestBatchId"],qd=["userId","collectionGroup","largestBatchId"],Mc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kd=[...Mc,"documentOverlays"],Jl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ec=Jl,Yd=[...ec,"indexConfiguration","indexState","indexEntries"];class lu extends os{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ho(r,e){const t=Dn(r);return Vo.M(t.ht,e)}function cu(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class hi{constructor(e,t){this.comparator=e,this.root=t||ro.EMPTY}insert(e,t){return new hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ta(this.root,e,this.comparator,!0)}}class Ta{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=null!=o?o:ro.RED,this.left=null!=a?a:ro.EMPTY,this.right=null!=u?u:ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new ro(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=a?a:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ro.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();const e=this.left.check();if(e!==this.right.check())throw wn();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(r,e,t,o,a){return this}insert(r,e,t){return new ro(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(e){this.comparator=e,this.data=new hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ll(this.data.getIterator())}getIteratorFrom(e){return new ll(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ti(this.comparator);return t.data=e,t}}class ll{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(r){return r.hasNext()?r.getNext():void 0}class ns{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new ns([])}unionWith(e){let t=new Ti(Ni.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class uu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uu("Invalid base64 string: "+a):a}}(e);return new fo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new fo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const Xh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(r){if(Wn(!!r),"string"==typeof r){let e=0;const t=Xh.exec(r);if(Wn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Fi(r.seconds),nanos:Fi(r.nanos)}}function Fi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ho(r){return"string"==typeof r?fo.fromBase64String(r):fo.fromUint8Array(r)}function xl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nc(r){const e=r.mapValue.fields.__previous_value__;return xl(e)?nc(e):e}function as(r){const e=Sa(r.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class cl{constructor(e,t,o,a,u,g,A,B,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=g,this.autoDetectLongPolling=A,this.longPollingOptions=B,this.useFetchStreams=z}}class Js{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Js&&e.projectId===this.projectId&&e.database===this.database}}const ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xc={nullValue:"NULL_VALUE"};function Aa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xl(r)?4:gr(r)?9007199254740991:10:wn()}function ea(r,e){if(r===e)return!0;const t=Aa(r);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return as(r).isEqual(as(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Sa(o.timestampValue),g=Sa(a.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ho(r.bytesValue).isEqual(Ho(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return Fi(o.geoPointValue.latitude)===Fi(a.geoPointValue.latitude)&&Fi(o.geoPointValue.longitude)===Fi(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Fi(o.integerValue)===Fi(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Fi(o.doubleValue),g=Fi(a.doubleValue);return u===g?Q(u)===Q(g):isNaN(u)&&isNaN(g)}return!1}(r,e);case 9:return Us(r.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:return function(o,a){const u=o.mapValue.fields||{},g=a.mapValue.fields||{};if(cu(u)!==cu(g))return!1;for(const A in u)if(u.hasOwnProperty(A)&&(void 0===g[A]||!ea(u[A],g[A])))return!1;return!0}(r,e);default:return wn()}var a}function rc(r,e){return void 0!==(r.values||[]).find(t=>ea(t,e))}function Ba(r,e){if(r===e)return 0;const t=Aa(r),o=Aa(e);if(t!==o)return Qn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const g=Fi(a.integerValue||a.doubleValue),A=Fi(u.integerValue||u.doubleValue);return g<A?-1:g>A?1:g===A?0:isNaN(g)?isNaN(A)?0:-1:1}(r,e);case 3:return Ju(r.timestampValue,e.timestampValue);case 4:return Ju(as(r),as(e));case 5:return Qn(r.stringValue,e.stringValue);case 6:return function(a,u){const g=Ho(a),A=Ho(u);return g.compareTo(A)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const g=a.split("/"),A=u.split("/");for(let B=0;B<g.length&&B<A.length;B++){const z=Qn(g[B],A[B]);if(0!==z)return z}return Qn(g.length,A.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const g=Qn(Fi(a.latitude),Fi(u.latitude));return 0!==g?g:Qn(Fi(a.longitude),Fi(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const g=a.values||[],A=u.values||[];for(let B=0;B<g.length&&B<A.length;++B){const z=Ba(g[B],A[B]);if(z)return z}return Qn(g.length,A.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===ms.mapValue&&u===ms.mapValue)return 0;if(a===ms.mapValue)return 1;if(u===ms.mapValue)return-1;const g=a.fields||{},A=Object.keys(g),B=u.fields||{},z=Object.keys(B);A.sort(),z.sort();for(let ee=0;ee<A.length&&ee<z.length;++ee){const Ne=Qn(A[ee],z[ee]);if(0!==Ne)return Ne;const bt=Ba(g[A[ee]],B[z[ee]]);if(0!==bt)return bt}return Qn(A.length,z.length)}(r.mapValue,e.mapValue);default:throw wn()}}function Ju(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Qn(r,e);const t=Sa(r),o=Sa(e),a=Qn(t.seconds,o.seconds);return 0!==a?a:Qn(t.nanos,o.nanos)}function T(r){return P(r)}function P(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=Sa(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ho(r.bytesValue).toBase64():"referenceValue"in r?pn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const g of o.values||[])u?u=!1:a+=",",a+=P(g);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",g=!0;for(const A of a)g?g=!1:u+=",",u+=`${A}:${P(o.fields[A])}`;return u+"}"}(r.mapValue):wn();var e}function fe(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ze(r){return!!r&&"integerValue"in r}function dt(r){return!!r&&"arrayValue"in r}function xt(r){return!!r&&"nullValue"in r}function vn(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fn(r){return!!r&&"mapValue"in r}function $n(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ca(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=$n(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$n(r.arrayValue.values[t]);return e}return Object.assign({},r)}function gr(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function yr(r){return"nullValue"in r?xc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?fe(Js.empty(),pn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:wn()}function Hs(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?fe(Js.empty(),pn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ms:wn()}function Yi(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ul(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!fn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$n(t)}setAll(e){let t=Ni.emptyPath(),o={},a=[];e.forEach((g,A)=>{if(!t.isImmediateParentOf(A)){const B=this.getFieldsMap(t);this.applyChanges(B,o,a),o={},a=[],t=A.popLast()}g?o[A.lastSegment()]=$n(g):a.push(A.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());fn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];fn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){Ca(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new io($n(this.value))}}function $a(r){const e=[];return Ca(r.fields,(t,o)=>{const a=new Ni([t]);if(fn(o)){const u=$a(o.mapValue).fields;if(0===u.length)e.push(a);else for(const g of u)e.push(a.child(g))}else e.push(a)}),new ns(e)}class Xr{constructor(e,t,o,a,u,g,A){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=g,this.documentState=A}static newInvalidDocument(e){return new Xr(e,0,kn.min(),kn.min(),kn.min(),io.empty(),0)}static newFoundDocument(e,t,o,a){return new Xr(e,1,t,kn.min(),o,a,0)}static newNoDocument(e,t){return new Xr(e,2,t,kn.min(),kn.min(),io.empty(),0)}static newUnknownDocument(e,t){return new Xr(e,3,t,kn.min(),kn.min(),io.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class So{constructor(e,t){this.position=e,this.inclusive=t}}function ic(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],g=r.position[a];if(o=u.field.isKeyField()?pn.comparator(pn.fromName(g.referenceValue),t.key):Ba(g,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function ed(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ea(r.position[t],e.position[t]))return!1;return!0}class Va{constructor(e,t="asc"){this.field=e,this.dir=t}}function bm(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class td{}class $r extends td{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Np(e,t,o):"array-contains"===t?new ef(e,o):"in"===t?new Rc(e,o):"not-in"===t?new tf(e,o):"array-contains-any"===t?new hu(e,o):new $r(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Cm(e,o):new oc(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&Aa(this.value)===Aa(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Jr extends td{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Jr(e,t)}matches(e){return Rl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rl(r){return"and"===r.op}function dl(r){return"or"===r.op}function du(r){return Zd(r)&&Rl(r)}function Zd(r){for(const e of r.filters)if(e instanceof Jr)return!1;return!0}function Xd(r){if(r instanceof $r)return r.field.canonicalString()+r.op.toString()+T(r.value);if(du(r))return r.filters.map(e=>Xd(e)).join(",");{const e=r.filters.map(t=>Xd(t)).join(",");return`${r.op}(${e})`}}function nd(r,e){return r instanceof $r?(t=r,(o=e)instanceof $r&&t.op===o.op&&t.field.isEqual(o.field)&&ea(t.value,o.value)):r instanceof Jr?function(t,o){return o instanceof Jr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,g)=>a&&nd(u,o.filters[g]),!0)}(r,e):void wn();var t,o}function Qh(r,e){const t=r.filters.concat(e);return Jr.create(t,r.op)}function Qd(r){return r instanceof $r?`${(e=r).field.canonicalString()} ${e.op} ${T(e.value)}`:r instanceof Jr?function(e){return e.op.toString()+" {"+e.getFilters().map(Qd).join(" ,")+"}"}(r):"Filter";var e}class Np extends $r{constructor(e,t,o){super(e,t,o),this.key=pn.fromName(o.referenceValue)}matches(e){const t=pn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cm extends $r{constructor(e,t){super(e,"in",t),this.keys=Jh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oc extends $r{constructor(e,t){super(e,"not-in",t),this.keys=Jh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>pn.fromName(o.referenceValue))}class ef extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dt(t)&&rc(t.arrayValue,this.value)}}class Rc extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rc(this.value.arrayValue,t)}}class tf extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rc(this.value.arrayValue,t)}}class hu extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>rc(this.value.arrayValue,o))}}class kp{constructor(e,t=null,o=[],a=[],u=null,g=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=g,this.endAt=A,this.dt=null}}function Jd(r,e=null,t=[],o=[],a=null,u=null,g=null){return new kp(r,e,t,o,a,u,g)}function Ua(r){const e=Dn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Xd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),K(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>T(o)).join(",")),e.dt=t}return e.dt}function Oc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!bm(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!nd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ed(r.startAt,e.startAt)&&ed(r.endAt,e.endAt)}function ja(r){return pn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function sc(r,e){return r.filters.filter(t=>t instanceof $r&&t.field.isEqual(e))}function eh(r,e,t){let o=xc,a=!0;for(const u of sc(r,e)){let g=xc,A=!0;switch(u.op){case"<":case"<=":g=yr(u.value);break;case"==":case"in":case">=":g=u.value;break;case">":g=u.value,A=!1;break;case"!=":case"not-in":g=xc}Yi({value:o,inclusive:a},{value:g,inclusive:A})<0&&(o=g,a=A)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const g=t.position[u];Yi({value:o,inclusive:a},{value:g,inclusive:t.inclusive})<0&&(o=g,a=t.inclusive);break}return{value:o,inclusive:a}}function nf(r,e,t){let o=ms,a=!0;for(const u of sc(r,e)){let g=ms,A=!0;switch(u.op){case">=":case">":g=Hs(u.value),A=!1;break;case"==":case"in":case"<=":g=u.value;break;case"<":g=u.value,A=!1;break;case"!=":case"not-in":g=ms}ul({value:o,inclusive:a},{value:g,inclusive:A})>0&&(o=g,a=A)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const g=t.position[u];ul({value:o,inclusive:a},{value:g,inclusive:t.inclusive})>0&&(o=g,a=t.inclusive);break}return{value:o,inclusive:a}}class Ol{constructor(e,t=null,o=[],a=[],u=null,g="F",A=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=g,this.startAt=A,this.endAt=B,this.wt=null,this._t=null}}function fu(r,e,t,o,a,u,g,A){return new Ol(r,e,t,o,a,u,g,A)}function Pc(r){return new Ol(r)}function rd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Nc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function pu(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function gu(r){return null!==r.collectionGroup}function Ha(r){const e=Dn(r);if(null===e.wt){e.wt=[];const t=pu(e),o=Nc(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Va(t)),e.wt.push(new Va(Ni.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Va(Ni.keyField(),u))}}}return e.wt}function Ao(r){const e=Dn(r);if(!e._t)if("F"===e.limitType)e._t=Jd(e.path,e.collectionGroup,Ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ha(e))t.push(new Va(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new So(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new So(e.startAt.position,e.startAt.inclusive):null;e._t=Jd(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function kc(r,e){e.getFirstInequalityField(),pu(r);const t=r.filters.concat([e]);return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mu(r,e,t){return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function za(r,e){return Oc(Ao(r),Ao(e))&&r.limitType===e.limitType}function id(r){return`${Ua(Ao(r))}|lt:${r.limitType}`}function yu(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Qd(o)).join(", ")}]`),K(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>T(o)).join(",")),`Target(${t})`}(Ao(r))}; limitType=${r.limitType})`}function hl(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):pn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of Ha(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,g){const A=ic(a,u,g);return a.inclusive?A<=0:A<0}(t.startAt,Ha(t),o)||t.endAt&&!function(a,u,g){const A=ic(a,u,g);return a.inclusive?A>=0:A>0}(t.endAt,Ha(t),o)));var t,o}function th(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nh(r){return(e,t)=>{let o=!1;for(const a of Ha(r)){const u=Fp(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function Fp(r,e,t){const o=r.field.isKeyField()?pn.comparator(e.key,t.key):function(a,u,g){const A=u.data.field(a),B=g.data.field(a);return null!==A&&null!==B?Ba(A,B):wn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return wn()}}class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return tc(this.inner)}size(){return this.innerSize}}const Lp=new hi(pn.comparator);function zo(){return Lp}const rh=new hi(pn.comparator);function pl(...r){let e=rh;for(const t of r)e=e.insert(t.key,t);return e}function od(r){let e=rh;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function As(){return vu()}function rf(){return vu()}function vu(){return new fl(r=>r.toString(),(r,e)=>r.isEqual(e))}const Bp=new hi(pn.comparator),ih=new Ti(pn.comparator);function wr(...r){let e=ih;for(const t of r)e=e.add(t);return e}const sf=new Ti(Qn);function sd(){return sf}function ac(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q(e)?"-0":e}}function ad(r){return{integerValue:""+r}}function Ms(r,e){return Ke(e)?ad(e):ac(r,e)}class gl{constructor(){this._=void 0}}function oh(r,e,t){return r instanceof Pl?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&xl(a)&&(a=nc(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof cc?sh(r,e):r instanceof uc?ls(r,e):function(o,a){const u=ld(o,a),g=af(u)+af(o.gt);return Ze(u)&&Ze(o.gt)?ad(g):ac(o.serializer,g)}(r,e)}function lc(r,e,t){return r instanceof cc?sh(r,e):r instanceof uc?ls(r,e):t}function ld(r,e){return r instanceof fa?Ze(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Pl extends gl{}class cc extends gl{constructor(e){super(),this.elements=e}}function sh(r,e){const t=lf(e);for(const o of r.elements)t.some(a=>ea(a,o))||t.push(o);return{arrayValue:{values:t}}}class uc extends gl{constructor(e){super(),this.elements=e}}function ls(r,e){let t=lf(e);for(const o of r.elements)t=t.filter(a=>!ea(a,o));return{arrayValue:{values:t}}}class fa extends gl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function af(r){return Fi(r.integerValue||r.doubleValue)}function lf(r){return dt(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _u{constructor(e,t){this.field=e,this.transform=t}}class zs{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class cd{}function Ga(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new v(r.key,Li.none()):new pa(r.key,r.data,Li.none());{const t=r.data,o=io.empty();let a=new Ti(Ni.comparator);for(let u of e.fields)if(!a.has(u)){let g=t.field(u);null===g&&u.length>1&&(u=u.popLast(),g=t.field(u)),null===g?o.delete(u):o.set(u,g),a=a.add(u)}return new qa(r.key,o,new ns(a.toArray()),Li.none())}}function Eu(r,e,t){r instanceof pa?function(o,a,u){const g=o.value.clone(),A=lh(o.fieldTransforms,a,u.transformResults);g.setAll(A),a.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,e,t):r instanceof qa?function(o,a,u){if(!dc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const g=lh(o.fieldTransforms,a,u.transformResults),A=a.data;A.setAll(ah(o)),A.setAll(g),a.convertToFoundDocument(u.version,A).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fc(r,e,t,o){return r instanceof pa?function(a,u,g,A){if(!dc(a.precondition,u))return g;const B=a.value.clone(),z=$p(a.fieldTransforms,A,u);return B.setAll(z),u.convertToFoundDocument(u.version,B).setHasLocalMutations(),null}(r,e,t,o):r instanceof qa?function(a,u,g,A){if(!dc(a.precondition,u))return g;const B=$p(a.fieldTransforms,A,u),z=u.data;return z.setAll(ah(a)),z.setAll(B),u.convertToFoundDocument(u.version,z).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(r,e,t,o):(g=t,dc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g);var u,g}function Iu(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=ld(o.transform,a||null);null!=u&&(null===t&&(t=io.empty()),t.set(o.field,u))}return t||null}function Wa(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Us(t,o,(a,u)=>function cf(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof cc&&o instanceof cc||t instanceof uc&&o instanceof uc?Us(t.elements,o.elements,ea):t instanceof fa&&o instanceof fa?ea(t.gt,o.gt):t instanceof Pl&&o instanceof Pl);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class pa extends cd{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qa extends cd{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ah(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function lh(r,e,t){const o=new Map;Wn(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],g=u.transform,A=e.data.field(u.field);o.set(u.field,lc(g,A,t[a]))}return o}function $p(r,e,t){const o=new Map;for(const a of r){const u=a.transform,g=t.data.field(a.field);o.set(a.field,oh(u,g,e))}return o}class v extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Eu(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Fc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Fc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=rf();return this.mutations.forEach(a=>{const u=e.get(a.key),g=u.overlayedDocument;let A=this.applyToLocalView(g,u.mutatedFields);A=t.has(a.key)?null:A;const B=Ga(g,A);null!==B&&o.set(a.key,B),g.isValidDocument()||g.convertToNoDocument(kn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wr())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(t,o)=>Wa(t,o))&&Us(this.baseMutations,e.baseMutations,(t,o)=>Wa(t,o))}}class w{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){Wn(e.mutations.length===o.length);let a=Bp;const u=e.mutations;for(let g=0;g<u.length;g++)a=a.insert(u[g].key,o[g].version);return new w(e,t,o,a)}}class V{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ge{constructor(e,t){this.count=e,this.unchangedNames=t}}var lt,Bt;function mn(r){switch(r){default:return wn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function Fn(r){if(void 0===r)return Ei("GRPC error has no .code"),Dt.UNKNOWN;switch(r){case lt.OK:return Dt.OK;case lt.CANCELLED:return Dt.CANCELLED;case lt.UNKNOWN:return Dt.UNKNOWN;case lt.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case lt.INTERNAL:return Dt.INTERNAL;case lt.UNAVAILABLE:return Dt.UNAVAILABLE;case lt.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case lt.NOT_FOUND:return Dt.NOT_FOUND;case lt.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case lt.ABORTED:return Dt.ABORTED;case lt.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case lt.DATA_LOSS:return Dt.DATA_LOSS;default:return wn()}}(Bt=lt||(lt={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";class Ln{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ii}static getOrCreateInstance(){return null===Ii&&(Ii=new Ln),Ii}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ii=null;function ta(){return new TextEncoder}const Lc=new ps([4294967295,4294967295],0);function ch(r){const e=ta().encode(r),t=new Il;return t.update(e),new Uint8Array(t.digest())}function Gi(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([t,o],0),new ps([a,u],0)]}class ud{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Bc(`Invalid padding: ${t}`);if(o<0)throw new Bc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Bc(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new Bc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ps.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(ps.fromNumber(o)));return 1===a.compare(Lc)&&(a=new ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ch(e),[o,a]=Gi(t);for(let u=0;u<this.hashCount;u++){const g=this.Et(o,a,u);if(!this.At(g))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),g=new ud(u,a,t);return o.forEach(A=>g.insert(A)),g}insert(e){if(0===this.It)return;const t=ch(e),[o,a]=Gi(t);for(let u=0;u<this.hashCount;u++){const g=this.Et(o,a,u);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ml{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new ml(kn.min(),a,new hi(Qn),zo(),wr())}}class hc{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new hc(o,t,wr(),wr(),wr())}}class Du{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class dd{constructor(e,t){this.targetId=e,this.Vt=t}}class uh{constructor(e,t,o=fo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class uf{constructor(){this.St=0,this.Dt=Av(),this.Ct=fo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wr(),t=wr(),o=wr();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:wn()}}),new hc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=Av()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=zo(),this.zt=Vp(),this.Wt=new hi(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:wn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const g=u.target;if(ja(g))if(0===a){const A=new pn(g.path);this.Yt(o,A,Xr.newNoDocument(A,kn.min()))}else Wn(1===a);else{const A=this.ie(o);if(A!==a){const B=this.re(e,A);0!==B&&(this.ee(o),this.Wt=this.Wt.insert(o,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Ln.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,ee,Ne){var bt,Vt,en,Sn,Rn,br;const ni={localCacheCount:ee,existenceFilterCount:Ne.count},kr=Ne.unchangedNames;return kr&&(ni.bloomFilter={applied:0===z,hashCount:null!==(bt=null==kr?void 0:kr.hashCount)&&void 0!==bt?bt:0,bitmapLength:null!==(Sn=null===(en=null===(Vt=null==kr?void 0:kr.bits)||void 0===Vt?void 0:Vt.bitmap)||void 0===en?void 0:en.length)&&void 0!==Sn?Sn:0,padding:null!==(br=null===(Rn=null==kr?void 0:kr.bits)||void 0===Rn?void 0:Rn.padding)&&void 0!==br?br:0}),ni}(B,A,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:g=0},hashCount:A=0}=o;let B,z;try{B=Ho(u).toUint8Array()}catch(ee){if(ee instanceof uu)return Br("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{z=new ud(B,g,A)}catch(ee){return Br(ee instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===z.It?1:a!==t-this.oe(e.targetId,z)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const g=this.Gt.ue(),A=`projects/${g.projectId}/databases/${g.database}/documents/${u.path.canonicalString()}`;t.vt(A)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,g)=>{const A=this.se(g);if(A){if(u.current&&ja(A.target)){const B=new pn(A.target.path);null!==this.jt.get(B)||this.ae(g,B)||this.Yt(g,B,Xr.newNoDocument(B,e))}u.Mt&&(t.set(g,u.Ot()),u.Ft())}});let o=wr();this.zt.forEach((u,g)=>{let A=!0;g.forEachWhile(B=>{const z=this.se(B);return!z||"TargetPurposeLimboResolution"===z.purpose||(A=!1,!1)}),A&&(o=o.add(u))}),this.jt.forEach((u,g)=>g.setReadTime(e));const a=new ml(e,t,this.Wt,this.jt,o);return this.jt=zo(),this.zt=Vp(),this.Wt=new hi(Qn),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new uf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ti(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Xt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new uf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vp(){return new hi(pn.comparator)}function Av(){return new hi(pn.comparator)}const dh={asc:"ASCENDING",desc:"DESCENDING"},Up={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tm={and:"AND",or:"OR"};class Sm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function df(r,e){return r.useProto3Json||K(e)?e:{value:e}}function fd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Am(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Mm(r,e){return fd(r,e.toTimestamp())}function Mo(r){return Wn(!!r),kn.fromTimestamp(function(e){const t=Sa(e);return new Nr(t.seconds,t.nanos)}(r))}function hh(r,e){return(t=r,new Zr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Mv(r){const e=Zr.fromString(r);return Wn(Nm(e)),e}function wu(r,e){return hh(r.databaseId,e.path)}function Nl(r,e){const t=Mv(e);if(t.get(1)!==r.databaseId.projectId)throw new Ut(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ut(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pn($c(t))}function fh(r,e){return hh(r.databaseId,e)}function jp(r){const e=Mv(r);return 4===e.length?Zr.emptyPath():$c(e)}function pd(r){return new Zr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $c(r){return Wn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function xm(r,e,t){return{name:wu(r,e),fields:t.value.mapValue.fields}}function hf(r,e,t){const o=Nl(r,e.name),a=Mo(e.updateTime),u=e.createTime?Mo(e.createTime):kn.min(),g=new io({mapValue:{fields:e.fields}}),A=Xr.newFoundDocument(o,a,u,g);return t&&A.setHasCommittedMutations(),t?A.setHasCommittedMutations():A}function bu(r,e){let t;if(e instanceof pa)t={update:xm(r,e.key,e.value)};else if(e instanceof v)t={delete:wu(r,e.key)};else if(e instanceof qa)t={update:xm(r,e.key,e.data),updateMask:Pm(e.fieldMask)};else{if(!(e instanceof d))return wn();t={verify:wu(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const g=u.transform;if(g instanceof Pl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fa)return{fieldPath:u.field.canonicalString(),increment:g.gt};throw wn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Mm(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:wn()),t;var a}function gd(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Li.updateTime(Mo(a.updateTime)):void 0!==a.exists?Li.exists(a.exists):Li.none():Li.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,g){let A=null;"setToServerValue"in g?(Wn("REQUEST_TIME"===g.setToServerValue),A=new Pl):"appendMissingElements"in g?A=new cc(g.appendMissingElements.values||[]):"removeAllFromArray"in g?A=new uc(g.removeAllFromArray.values||[]):"increment"in g?A=new fa(u,g.increment):wn();const B=Ni.fromServerFormat(g.fieldPath);return new _u(B,A)}(r,a)):[];var a;if(e.update){const a=Nl(r,e.update.name),u=new io({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new ns((e.updateMask.fieldPaths||[]).map(z=>Ni.fromServerFormat(z)));return new qa(a,u,g,t,o)}return new pa(a,u,t,o)}if(e.delete){const a=Nl(r,e.delete);return new v(a,t)}if(e.verify){const a=Nl(r,e.verify);return new d(a,t)}return wn()}function Hp(r,e){return{documents:[fh(r,e.path)]}}function ph(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=fh(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fh(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(B){if(0!==B.length)return Om(Jr.create(B,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(B){if(0!==B.length)return B.map(z=>{return{field:Vc((ee=z).field),direction:md(ee.dir)};var ee})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const g=df(r,e.limit);var A,B;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function Rm(r){let e=jp(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){Wn(1===o);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let u=[];t.where&&(u=function(ee){const Ne=zp(ee);return Ne instanceof Jr&&du(Ne)?Ne.getFilters():[Ne]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ee=>{return new Va(Uc((Ne=ee).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let A=null;t.limit&&(A=function(ee){let Ne;return Ne="object"==typeof ee?ee.value:ee,K(Ne)?null:Ne}(t.limit));let B=null;var ee;t.startAt&&(B=new So((ee=t.startAt).values||[],!!ee.before));let z=null;return t.endAt&&(z=function(ee){return new So(ee.values||[],!ee.before)}(t.endAt)),fu(e,a,g,u,A,"F",B,z)}function zp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Uc(e.unaryFilter.field);return $r.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Uc(e.unaryFilter.field);return $r.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uc(e.unaryFilter.field);return $r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Uc(e.unaryFilter.field);return $r.create(u,"!=",{nullValue:"NULL_VALUE"});default:return wn()}}(r):void 0!==r.fieldFilter?$r.create(Uc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Jr.create(e.compositeFilter.filters.map(t=>zp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return wn()}}(e.compositeFilter.op))}(r):wn();var e}function md(r){return dh[r]}function Ov(r){return Up[r]}function Pv(r){return Tm[r]}function Vc(r){return{fieldPath:r.canonicalString()}}function Uc(r){return Ni.fromServerFormat(r.fieldPath)}function Om(r){return r instanceof $r?function(e){if("=="===e.op){if(vn(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NAN"}};if(xt(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vn(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NAN"}};if(xt(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(e.field),op:Ov(e.op),value:e.value}}}(r):r instanceof Jr?function(e){const t=e.getFilters().map(o=>Om(o));return 1===t.length?t[0]:{compositeFilter:{op:Pv(e.op),filters:t}}}(r):wn()}function Pm(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class kl{constructor(e,t,o,a,u=kn.min(),g=kn.min(),A=fo.EMPTY_BYTE_STRING,B=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=A,this.expectedCount=B}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nv{constructor(e){this.fe=e}}function yd(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:wu(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:fd(a,u.version.toTimestamp()),createTime:fd(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ka(e.version)};else{if(!e.isUnknownDocument())return wn();o.unknownDocument={path:t.path.toArray(),version:Ka(e.version)}}var a,u;return o}function pf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ka(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(r){const e=new Nr(r.seconds,r.nanoseconds);return kn.fromTimestamp(e)}function Tu(r,e){const t=(e.baseMutations||[]).map(u=>gd(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>gd(r.fe,u)),a=Nr.fromMillis(e.localWriteTimeMs);return new f(e.batchId,a,t,o)}function vd(r){const e=yl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?yl(r.lastLimboFreeSnapshotVersion):kn.min();let o;var a;return void 0!==r.query.documents?(Wn(1===(a=r.query).documents.length),o=Ao(Pc(jp(a.documents[0])))):o=Ao(Rm(r.query)),new kl(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,fo.fromBase64String(r.resumeToken))}function km(r,e){const t=Ka(e.snapshotVersion),o=Ka(e.lastLimboFreeSnapshotVersion);let a;a=ja(e.target)?Hp(r.fe,e.target):ph(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ua(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function Gp(r){const e=Rm({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?mu(e,e.limit,"L"):e}function Wp(r,e){return new V(e.largestBatchId,gd(r.fe,e.overlayMutation))}function qp(r,e){const t=e.path.lastSegment();return[r,wt(e.path.popLast()),t]}function Kp(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ka(o.readTime),documentKey:wt(o.documentKey.path),largestBatchId:o.largestBatchId}}class Yp{getBundleMetadata(e,t){return gf(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:yl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return gf(e).put({bundleId:(o=t).id,createTime:Ka(Mo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Fm(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:Gp(a.bundledQuery),readTime:yl(a.readTime)};var a})}saveNamedQuery(e,t){return Fm(e).put({name:(o=t).name,readTime:Ka(Mo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function gf(r){return ho(r,"bundles")}function Fm(r){return ho(r,"namedQueries")}class _d{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new _d(e,t.uid||"")}getOverlay(e,t){return fc(e).get(qp(this.userId,t)).next(o=>o?Wp(this.serializer,o):null)}getOverlays(e,t){const o=As();return Et.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,g)=>{const A=new V(t,g);a.push(this.we(e,A))}),Et.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(g=>a.add(wt(g.getCollectionPath())));const u=[];return a.forEach(g=>{const A=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);u.push(fc(e).J("collectionPathOverlayIndex",A))}),Et.waitFor(u)}getOverlaysForCollection(e,t,o){const a=As(),u=wt(t),g=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return fc(e).j("collectionPathOverlayIndex",g).next(A=>{for(const B of A){const z=Wp(this.serializer,B);a.set(z.getKey(),z)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=As();let g;const A=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fc(e).X({index:"collectionGroupOverlayIndex",range:A},(B,z,ee)=>{const Ne=Wp(this.serializer,z);u.size()<a||Ne.largestBatchId===g?(u.set(Ne.getKey(),Ne),g=Ne.largestBatchId):ee.done()}).next(()=>u)}we(e,t){return fc(e).put(function(o,a,u){const[g,A,B]=qp(a,u.mutation.key);return{userId:a,collectionPath:A,documentId:B,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:bu(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function fc(r){return ho(r,"documentOverlays")}class Su{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fi(e.integerValue));else if("doubleValue"in e){const o=Fi(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Q(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ho(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?gr(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):wn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),pn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Fv(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Lm(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=Fv(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}Su.Ve=new Su;class Lv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=Lm(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=Lm(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class Bv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class $v{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class gh{constructor(){this.je=new Lv,this.ze=new Bv(this.je),this.We=new $v(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ya{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ya(this.indexId,this.documentKey,this.arrayValue,o)}}function Gs(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Bm(r.arrayValue,e.arrayValue),0!==t?t:(t=Bm(r.directionalValue,e.directionalValue),0!==t?t:pn.comparator(r.documentKey,e.documentKey)))}function Bm(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Vv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){Wn(e.collectionGroup===this.collectionId);const t=Tl(e);if(void 0!==t&&!this.en(t))return!1;const o=ka(e);let a=0,u=0;for(;a<o.length&&this.en(o[a]);++a);if(a===o.length)return!0;if(void 0!==this.Ze){const g=o[a];if(!this.nn(this.Ze,g)||!this.sn(this.Ye[u++],g))return!1;++a}for(;a<o.length;++a)if(u>=this.Ye.length||!this.sn(this.Ye[u++],o[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uv(r){var e,t;if(Wn(r instanceof $r||r instanceof Jr),r instanceof $r){if(r instanceof Rc){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>$r.create(r.field,"==",u)))||[];return Jr.create(a,"or")}return r}const o=r.filters.map(a=>Uv(a));return Jr.create(o,r.op)}function J0(r){if(0===r.getFilters().length)return[];const e=yf(Uv(r));return Wn(Zp(e)),mf(e)||$m(e)?[e]:e.getFilters()}function mf(r){return r instanceof $r}function $m(r){return r instanceof Jr&&du(r)}function Zp(r){return mf(r)||$m(r)||function(e){if(e instanceof Jr&&dl(e)){for(const t of e.getFilters())if(!mf(t)&&!$m(t))return!1;return!0}return!1}(r)}function yf(r){if(Wn(r instanceof $r||r instanceof Jr),r instanceof $r)return r;if(1===r.filters.length)return yf(r.filters[0]);const e=r.filters.map(o=>yf(o));let t=Jr.create(e,r.op);return t=vf(t),Zp(t)?t:(Wn(t instanceof Jr),Wn(Rl(t)),Wn(t.filters.length>1),t.filters.reduce((o,a)=>Xp(o,a)))}function Xp(r,e){let t;return Wn(r instanceof $r||r instanceof Jr),Wn(e instanceof $r||e instanceof Jr),t=r instanceof $r?e instanceof $r?Jr.create([r,e],"and"):Qp(r,e):e instanceof $r?Qp(e,r):function(o,a){if(Wn(o.filters.length>0&&a.filters.length>0),Rl(o)&&Rl(a))return Qh(o,a.getFilters());const u=dl(o)?o:a,g=dl(o)?a:o,A=u.filters.map(B=>Xp(B,g));return Jr.create(A,"or")}(r,e),vf(t)}function Qp(r,e){if(Rl(e))return Qh(e,r.getFilters());{const t=e.filters.map(o=>Xp(r,o));return Jr.create(t,"or")}}function vf(r){if(Wn(r instanceof $r||r instanceof Jr),r instanceof $r)return r;const e=r.getFilters();if(1===e.length)return vf(e[0]);if(Zd(r))return r;const t=e.map(a=>vf(a)),o=[];return t.forEach(a=>{a instanceof $r?o.push(a):a instanceof Jr&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:Jr.create(o,r.op)}class jv{constructor(){this.rn=new Ma}addToCollectionParentIndex(e,t){return this.rn.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(ki.min())}updateCollectionGroup(e,t,o){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class Ma{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Ti(Zr.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Ti(Zr.comparator)).toArray()}}const _f=new Uint8Array(0);class Vm{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Ma,this.un=new fl(o=>Ua(o),(o,a)=>Oc(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:wt(a)};return Um(e).put(u)}return Et.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[Xl(t),""],!1,!0);return Um(e).j(a).next(u=>{for(const g of u){if(g.collectionId!==t)break;o.push(gn(g.parent))}return o})}addFieldIndex(e,t){const o=Ef(e),a={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var g;delete a.indexId;const u=o.add(a);if(t.indexState){const g=yh(e);return u.next(A=>{g.put(Kp(A,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=Ef(e),a=yh(e),u=mh(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=mh(e);let a=!0;const u=new Map;return Et.forEach(this.cn(t),g=>this.an(e,g).next(A=>{a&&(a=!!A),u.set(g,A)})).next(()=>{if(a){let g=wr();const A=[];return Et.forEach(u,(B,z)=>{var ee;Xt("IndexedDbIndexManager",`Using index ${ee=B,`id=${ee.indexId}|cg=${ee.collectionGroup}|f=${ee.fields.map(kr=>`${kr.fieldPath}:${kr.kind}`).join(",")}`} to execute ${Ua(t)}`);const Ne=function(kr,po){const Ai=Tl(po);if(void 0===Ai)return null;for(const Si of sc(kr,Ai.fieldPath))switch(Si.op){case"array-contains-any":return Si.value.arrayValue.values||[];case"array-contains":return[Si.value]}return null}(z,B),bt=function(kr,po){const Ai=new Map;for(const Si of ka(po))for(const Ks of sc(kr,Si.fieldPath))switch(Ks.op){case"==":case"in":Ai.set(Si.fieldPath.canonicalString(),Ks.value);break;case"not-in":case"!=":return Ai.set(Si.fieldPath.canonicalString(),Ks.value),Array.from(Ai.values())}return null}(z,B),Vt=function(kr,po){const Ai=[];let Si=!0;for(const Ks of ka(po)){const Yu=0===Ks.kind?eh(kr,Ks.fieldPath,kr.startAt):nf(kr,Ks.fieldPath,kr.startAt);Ai.push(Yu.value),Si&&(Si=Yu.inclusive)}return new So(Ai,Si)}(z,B),en=function(kr,po){const Ai=[];let Si=!0;for(const Ks of ka(po)){const Yu=0===Ks.kind?nf(kr,Ks.fieldPath,kr.endAt):eh(kr,Ks.fieldPath,kr.endAt);Ai.push(Yu.value),Si&&(Si=Yu.inclusive)}return new So(Ai,Si)}(z,B),Sn=this.hn(B,z,Vt),Rn=this.hn(B,z,en),br=this.ln(B,z,bt),ni=this.fn(B.indexId,Ne,Sn,Vt.inclusive,Rn,en.inclusive,br);return Et.forEach(ni,kr=>o.H(kr,t.limit).next(po=>{po.forEach(Ai=>{const Si=pn.fromSegments(Ai.documentKey);g.has(Si)||(g=g.add(Si),A.push(Si))})}))}).next(()=>A)}return Et.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:J0(Jr.create(e.filters,"and")).map(o=>Jd(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,g,A){const B=(null!=t?t.length:1)*Math.max(o.length,u.length),z=B/(null!=t?t.length:1),ee=[];for(let Ne=0;Ne<B;++Ne){const bt=t?this.dn(t[Ne/z]):_f,Vt=this.wn(e,bt,o[Ne%z],a),en=this._n(e,bt,u[Ne%z],g),Sn=A.map(Rn=>this.wn(e,bt,Rn,!0));ee.push(...this.createRange(Vt,en,Sn))}return ee}wn(e,t,o,a){const u=new Ya(e,pn.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Ya(e,pn.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Vv(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let g=null;for(const A of u)o.tn(A)&&(!g||A.fields.length>g.fields.length)&&(g=A);return g})}getIndexType(e,t){let o=2;const a=this.cn(t);return Et.forEach(a,u=>this.an(e,u).next(g=>{g?0!==o&&g.fields.length<function(A){let B=new Ti(Ni.comparator),z=!1;for(const ee of A.filters)for(const Ne of ee.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?z=!0:B=B.add(Ne.field));for(const ee of A.orderBy)ee.field.isKeyField()||(B=B.add(ee.field));return B.size+(z?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new gh;for(const a of ka(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const g=o.He(a.kind);Su.Ve._e(u,g)}return o.Qe()}dn(e){const t=new gh;return Su.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new gh;return Su.Ve._e(fe(this.databaseId,t),o.He(function(a){const u=ka(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new gh);let u=0;for(const g of ka(e)){const A=o[u++];for(const B of a)if(this.yn(t,g.fieldPath)&&dt(A))a=this.pn(a,g,A);else{const z=B.He(g.kind);Su.Ve._e(A,z)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const g of o.arrayValue.values||[])for(const A of a){const B=new gh;B.seed(A.Qe()),Su.Ve._e(g,B.He(t.kind)),u.push(B)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof $r&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Ef(e),a=yh(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const g=[];return Et.forEach(u,A=>a.get([A.indexId,this.uid]).next(B=>{g.push(function(z,ee){const Ne=ee?new Ql(ee.sequenceNumber,new ki(yl(ee.readTime),new pn(gn(ee.documentKey)),ee.largestBatchId)):Ql.empty(),bt=z.fields.map(([Vt,en])=>new Sl(Ni.fromServerFormat(Vt),en));return new Na(z.indexId,z.collectionGroup,bt,Ne)}(A,B))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Qn(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=Ef(e),u=yh(e);return this.Tn(e).next(g=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>Et.forEach(A,B=>u.put(Kp(B.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return Et.forEach(t,(a,u)=>{const g=o.get(a.collectionGroup);return(g?Et.resolve(g):this.getFieldIndexes(e,a.collectionGroup)).next(A=>(o.set(a.collectionGroup,A),Et.forEach(A,B=>this.En(e,a,B).next(z=>{const ee=this.An(u,B);return z.isEqual(ee)?Et.resolve():this.vn(e,u,B,z,ee)}))))})}Rn(e,t,o,a){return mh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return mh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=mh(e);let u=new Ti(Gs);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(g,A)=>{u=u.add(new Ya(o.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>u)}An(e,t){let o=new Ti(Gs);const a=this.mn(t,e);if(null==a)return o;const u=Tl(t);if(null!=u){const g=e.data.field(u.fieldPath);if(dt(g))for(const A of g.arrayValue.values||[])o=o.add(new Ya(t.indexId,e.key,this.dn(A),a))}else o=o.add(new Ya(t.indexId,e.key,_f,a));return o}vn(e,t,o,a,u){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(A,B,z,ee,Ne){const bt=A.getIterator(),Vt=B.getIterator();let en=La(bt),Sn=La(Vt);for(;en||Sn;){let Rn=!1,br=!1;if(en&&Sn){const ni=z(en,Sn);ni<0?br=!0:ni>0&&(Rn=!0)}else null!=en?br=!0:Rn=!0;Rn?(ee(Sn),Sn=La(Vt)):br?(Ne(en),en=La(bt)):(en=La(bt),Sn=La(Vt))}}(a,u,Gs,A=>{g.push(this.Rn(e,t,o,A))},A=>{g.push(this.Pn(e,t,o,A))}),Et.waitFor(g)}Tn(e){let t=1;return yh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,A)=>Gs(g,A)).filter((g,A,B)=>!A||0!==Gs(g,B[A-1]));const a=[];a.push(e);for(const g of o){const A=Gs(g,e),B=Gs(g,t);if(0===A)a[0]=e.Je();else if(A>0&&B<0)a.push(g),a.push(g.Je());else if(B>0)break}a.push(t);const u=[];for(let g=0;g<a.length;g+=2){if(this.bn(a[g],a[g+1]))return[];u.push(IDBKeyRange.bound([a[g].indexId,this.uid,a[g].arrayValue,a[g].directionalValue,_f,[]],[a[g+1].indexId,this.uid,a[g+1].arrayValue,a[g+1].directionalValue,_f,[]]))}return u}bn(e,t){return Gs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jp)}getMinOffset(e,t){return Et.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||wn())).next(Jp)}}function Um(r){return ho(r,"collectionParents")}function mh(r){return ho(r,"indexEntries")}function Ef(r){return ho(r,"indexConfiguration")}function yh(r){return ho(r,"indexState")}function Jp(r){Wn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;Fa(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ki(e.readTime,e.documentKey,t)}const jm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hm(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],g=IDBKeyRange.only(t.batchId);let A=0;const B=o.X({range:g},(ee,Ne,bt)=>(A++,bt.delete()));u.push(B.next(()=>{Wn(1===A)}));const z=[];for(const ee of t.mutations){const Ne=no(e,ee.key.path,t.batchId);u.push(a.delete(Ne)),z.push(ee.key)}return Et.waitFor(u).next(()=>z)}function Cr(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw wn();e=r.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class vh{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){Wn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new vh(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).X({index:"userMutationsIndex",range:o},(a,u,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=Ed(e),g=pc(e);return g.add({}).next(A=>{Wn("number"==typeof A);const B=new f(A,t,o,a),z=function(bt,Vt,en){const Sn=en.baseMutations.map(br=>bu(bt.fe,br)),Rn=en.mutations.map(br=>bu(bt.fe,br));return{userId:Vt,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:Sn,mutations:Rn}}(this.serializer,this.userId,B),ee=[];let Ne=new Ti((bt,Vt)=>Qn(bt.canonicalString(),Vt.canonicalString()));for(const bt of a){const Vt=no(this.userId,bt.key.path,A);Ne=Ne.add(bt.key.path.popLast()),ee.push(g.put(z)),ee.push(u.put(Vt,Ts))}return Ne.forEach(bt=>{ee.push(this.indexManager.addToCollectionParentIndex(e,bt))}),e.addOnCommittedListener(()=>{this.Vn[A]=B.keys()}),Et.waitFor(ee).next(()=>B)})}lookupMutationBatch(e,t){return pc(e).get(t).next(o=>o?(Wn(o.userId===this.userId),Tu(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Et.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return pc(e).X({index:"userMutationsIndex",range:a},(g,A,B)=>{A.userId===this.userId&&(Wn(A.batchId>=o),u=Tu(this.serializer,A)),B.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return pc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,g)=>{o=u.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).j("userMutationsIndex",t).next(o=>o.map(a=>Tu(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Ci(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return Ed(e).X({range:a},(g,A,B)=>{const[z,ee,Ne]=g,bt=gn(ee);if(z===this.userId&&t.path.isEqual(bt))return pc(e).get(Ne).next(Vt=>{if(!Vt)throw wn();Wn(Vt.userId===this.userId),u.push(Tu(this.serializer,Vt))});B.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ti(Qn);const a=[];return t.forEach(u=>{const g=Ci(this.userId,u.path),A=IDBKeyRange.lowerBound(g),B=Ed(e).X({range:A},(z,ee,Ne)=>{const[bt,Vt,en]=z,Sn=gn(Vt);bt===this.userId&&u.path.isEqual(Sn)?o=o.add(en):Ne.done()});a.push(B)}),Et.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=Ci(this.userId,o),g=IDBKeyRange.lowerBound(u);let A=new Ti(Qn);return Ed(e).X({range:g},(B,z,ee)=>{const[Ne,bt,Vt]=B,en=gn(bt);Ne===this.userId&&o.isPrefixOf(en)?en.length===a&&(A=A.add(Vt)):ee.done()}).next(()=>this.Dn(e,A))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(pc(e).get(u).next(g=>{if(null===g)throw wn();Wn(g.userId===this.userId),o.push(Tu(this.serializer,g))}))}),Et.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return Hm(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Et.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Ed(e).X({range:o},(u,g,A)=>{if(u[0]===this.userId){const B=gn(u[1]);a.push(B)}else A.done()}).next(()=>{Wn(0===a.length)})})}containsKey(e,t){return eg(e,this.userId,t)}xn(e){return zm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eg(r,e,t){const o=Ci(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let g=!1;return Ed(r).X({range:u,Y:!0},(A,B,z)=>{const[ee,Ne,bt]=A;ee===e&&Ne===a&&(g=!0),z.done()}).next(()=>g)}function pc(r){return ho(r,"mutations")}function Ed(r){return ho(r,"documentMutations")}function zm(r){return ho(r,"mutationQueues")}class jc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jc(0)}static Mn(){return new jc(-1)}}class Hv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new jc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>kn.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Au(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(Wn(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return Au(e).X((g,A)=>{const B=vd(A);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(a++,u.push(this.removeTargetData(e,B)))}).next(()=>Et.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Au(e).X((o,a)=>{const u=vd(a);t(u)})}$n(e){return Gm(e).get("targetGlobalKey").next(t=>(Wn(null!==t),t))}On(e,t){return Gm(e).put("targetGlobalKey",t)}Fn(e,t){return Au(e).put(km(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Ua(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Au(e).X({range:a,index:"queryTargetsIndex"},(g,A,B)=>{const z=vd(A);Oc(t,z.target)&&(u=z,B.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=Hc(e);return t.forEach(g=>{const A=wt(g.path);a.push(u.put({targetId:o,path:A})),a.push(this.referenceDelegate.addReference(e,o,g))}),Et.waitFor(a)}removeMatchingKeys(e,t,o){const a=Hc(e);return Et.forEach(t,u=>{const g=wt(u.path);return Et.waitFor([a.delete([o,g]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=Hc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=Hc(e);let u=wr();return a.X({range:o,Y:!0},(g,A,B)=>{const z=gn(g[1]),ee=new pn(z);u=u.add(ee)}).next(()=>u)}containsKey(e,t){const o=wt(t.path),a=IDBKeyRange.bound([o],[Xl(o)],!1,!0);let u=0;return Hc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([g,A],B,z)=>{0!==g&&(u++,z.done())}).next(()=>u>0)}le(e,t){return Au(e).get(t).next(o=>o?vd(o):null)}}function Au(r){return ho(r,"targets")}function Gm(r){return ho(r,"targetGlobal")}function Hc(r){return ho(r,"targetDocuments")}function zv([r,e],[t,o]){const a=Qn(r,t);return 0===a?Qn(e,o):a}class Wm{constructor(e){this.Ln=e,this.buffer=new Ti(zv),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();zv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,te.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){gs(o)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield to(o)}yield t.Qn(3e5)}))}}class Mu{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Et.resolve(L.ct);const o=new Wm(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(jm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,g,A,B,z;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),a=this.params.maximumSequenceNumbersToCollect):a=Ne,g=Date.now(),this.nthSequenceNumber(e,a))).next(Ne=>(o=Ne,A=Date.now(),this.removeTargets(e,o,t))).next(Ne=>(u=Ne,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ne=>(z=Date.now(),rl()<=qe.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ee}ms\n\tDetermined least recently used ${a} in `+(A-g)+`ms\n\tRemoved ${u} targets in `+(B-A)+`ms\n\tRemoved ${Ne} documents in `+(z-B)+`ms\nTotal Duration: ${z-ee}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:Ne})))}}class ng{constructor(e,t){this.db=e,this.garbageCollector=function qm(r,e){return new Mu(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return Id(e,o)}removeReference(e,t,o){return Id(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Id(e,t)}Xn(e,t){return function(o,a){let u=!1;return zm(o).Z(g=>eg(o,g,a).next(A=>(A&&(u=!0),Et.resolve(!A)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(g,A)=>{if(A<=t){const B=this.Xn(e,g).next(z=>{if(!z)return u++,o.getEntry(e,g).next(()=>(o.removeEntry(g,kn.min()),Hc(e).delete([0,wt(g.path)])))});a.push(B)}}).next(()=>Et.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Id(e,t)}Yn(e,t){const o=Hc(e);let a,u=L.ct;return o.X({index:"documentTargetsIndex"},([g,A],{path:B,sequenceNumber:z})=>{0===g?(u!==L.ct&&t(new pn(gn(a)),u),u=z,a=B):u=L.ct}).next(()=>{u!==L.ct&&t(new pn(gn(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Id(r,e){return Hc(r).put((o=r.currentSequenceNumber,{targetId:0,path:wt(e.path),sequenceNumber:o}));var o}class Km{constructor(){this.changes=new fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Et.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return zc(e).put(o)}removeEntry(e,t,o){return zc(e).delete(function(a,u){const g=a.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],pf(u),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Xr.newInvalidDocument(t);return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(If(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:Xr.newInvalidDocument(t)};return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(If(t))},(a,u)=>{o={document:this.ts(t,u),size:Cr(u)}}).next(()=>o)}getEntries(e,t){let o=zo();return this.ns(e,t,(a,u)=>{const g=this.ts(a,u);o=o.insert(a,g)}).next(()=>o)}ss(e,t){let o=zo(),a=new hi(pn.comparator);return this.ns(e,t,(u,g)=>{const A=this.ts(u,g);o=o.insert(u,A),a=a.insert(u,Cr(g))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Et.resolve();let a=new Ti(xu);t.forEach(B=>a=a.add(B));const u=IDBKeyRange.bound(If(a.first()),If(a.last())),g=a.getIterator();let A=g.getNext();return zc(e).X({index:"documentKeyIndex",range:u},(B,z,ee)=>{const Ne=pn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;A&&xu(A,Ne)<0;)o(A,null),A=g.getNext();A&&A.isEqual(Ne)&&(o(A,z),A=g.hasNext()?g.getNext():null),A?ee.G(If(A)):ee.done()}).next(()=>{for(;A;)o(A,null),A=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,g=[u.popLast().toArray(),u.lastSegment(),pf(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],A=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).j(IDBKeyRange.bound(g,A,!0)).next(B=>{let z=zo();for(const ee of B){const Ne=this.ts(pn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);Ne.isFoundDocument()&&(hl(t,Ne)||a.has(Ne.key))&&(z=z.insert(Ne.key,Ne))}return z})}getAllFromCollectionGroup(e,t,o,a){let u=zo();const g=Zm(t,o),A=Zm(t,ki.max());return zc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,A,!0)},(B,z,ee)=>{const Ne=this.ts(pn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);u=u.insert(Ne.key,Ne),u.size===a&&ee.done()}).next(()=>u)}newChangeBuffer(e){return new tE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ym(e).get("remoteDocumentGlobalKey").next(t=>(Wn(!!t),t))}Zn(e,t){return Ym(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function kv(r,e){let t;if(e.document)t=hf(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=pn.fromSegments(e.noDocument.path),a=yl(e.noDocument.readTime);t=Xr.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wn();{const o=pn.fromSegments(e.unknownDocument.path),a=yl(e.unknownDocument.version);t=Xr.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new Nr(o[0],o[1]);return kn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(kn.min()))return o}return Xr.newInvalidDocument(e)}}function Gv(r){return new eE(r)}class tE extends Km{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new fl(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Ti((u,g)=>Qn(u.canonicalString(),g.canonicalString()));return this.changes.forEach((u,g)=>{const A=this.us.get(u);if(t.push(this.os.removeEntry(e,u,A.readTime)),g.isValidDocument()){const B=yd(this.os.serializer,g);a=a.add(u.path.popLast());const z=Cr(B);o+=z-A.size,t.push(this.os.addEntry(e,u,B))}else if(o-=A.size,this.trackRemovals){const B=yd(this.os.serializer,g.convertToNoDocument(kn.min()));t.push(this.os.addEntry(e,u,B))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Et.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,g)=>{this.us.set(u,{size:g,readTime:o.get(u).readTime})}),o))}}function Ym(r){return ho(r,"remoteDocumentGlobal")}function zc(r){return ho(r,"remoteDocumentsV14")}function If(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zm(r,e){const t=e.documentKey.path.toArray();return[r,pf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xu(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=Qn(t[u],o[u]),a)return a;return a=Qn(t.length,o.length),a||(a=Qn(t[t.length-2],o[o.length-2]),a||Qn(t[t.length-1],o[o.length-1]))}class Wv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rg{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&Fc(o.mutation,a,ns.empty(),Nr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,wr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=wr()){const a=As();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let g=pl();return u.forEach((A,B)=>{g=g.insert(A,B.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=As();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,wr()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((g,A)=>{t.set(g,A)})})}computeViews(e,t,o,a){let u=zo();const g=vu(),A=vu();return t.forEach((B,z)=>{const ee=o.get(z.key);a.has(z.key)&&(void 0===ee||ee.mutation instanceof qa)?u=u.insert(z.key,z):void 0!==ee?(g.set(z.key,ee.mutation.getFieldMask()),Fc(ee.mutation,z,ee.mutation.getFieldMask(),Nr.now())):g.set(z.key,ns.empty())}),this.recalculateAndSaveOverlays(e,u).next(B=>(B.forEach((z,ee)=>g.set(z,ee)),t.forEach((z,ee)=>{var Ne;return A.set(z,new Wv(ee,null!==(Ne=g.get(z))&&void 0!==Ne?Ne:null))}),A))}recalculateAndSaveOverlays(e,t){const o=vu();let a=new hi((g,A)=>g-A),u=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const A of g)A.keys().forEach(B=>{const z=t.get(B);if(null===z)return;let ee=o.get(B)||ns.empty();ee=A.applyToLocalView(z,ee),o.set(B,ee);const Ne=(a.get(A.batchId)||wr()).add(B);a=a.insert(A.batchId,Ne)})}).next(()=>{const g=[],A=a.getReverseIterator();for(;A.hasNext();){const B=A.getNext(),z=B.key,ee=B.value,Ne=rf();ee.forEach(bt=>{if(!u.has(bt)){const Vt=Ga(t.get(bt),o.get(bt));null!==Vt&&Ne.set(bt,Vt),u=u.add(bt)}}),g.push(this.documentOverlayCache.saveOverlays(e,z,Ne))}return Et.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return pn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):gu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const g=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Et.resolve(As());let A=-1,B=u;return g.next(z=>Et.forEach(z,(ee,Ne)=>(A<Ne.largestBatchId&&(A=Ne.largestBatchId),u.get(ee)?Et.resolve():this.remoteDocumentCache.getEntry(e,ee).next(bt=>{B=B.insert(ee,bt)}))).next(()=>this.populateOverlays(e,z,u)).next(()=>this.computeViews(e,B,z,wr())).next(ee=>({batchId:A,changes:od(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pn(t)).next(o=>{let a=pl();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,a).next(g=>Et.forEach(g,A=>{const B=(z=t,ee=A.child(a),new Ol(ee,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,ee;return this.getDocumentsMatchingCollectionQuery(e,B,o).next(z=>{z.forEach((ee,Ne)=>{u=u.insert(ee,Ne)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((A,B)=>{const z=B.getKey();null===u.get(z)&&(u=u.insert(z,Xr.newInvalidDocument(z)))});let g=pl();return u.forEach((A,B)=>{const z=a.get(A);void 0!==z&&Fc(z.mutation,B,ns.empty(),Nr.now()),hl(t,B)&&(g=g.insert(A,B))}),g})}}class Df{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Et.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Mo(o.createTime)}),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:Gp(o.bundledQuery),readTime:Mo(o.readTime)}),Et.resolve();var o}}class qv{constructor(){this.overlays=new hi(pn.comparator),this.ls=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const o=As();return Et.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Et.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Et.resolve()}getOverlaysForCollection(e,t,o){const a=As(),u=t.length+1,g=new pn(t.child("")),A=this.overlays.getIteratorFrom(g);for(;A.hasNext();){const B=A.getNext().value,z=B.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===u&&B.largestBatchId>o&&a.set(B.getKey(),B)}return Et.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new hi((z,ee)=>z-ee);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let ee=u.get(z.largestBatchId);null===ee&&(ee=As(),u=u.insert(z.largestBatchId,ee)),ee.set(z.getKey(),z)}}const A=As(),B=u.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((z,ee)=>A.set(z,ee)),!(A.size()>=a)););return Et.resolve(A)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const g=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new V(t,o));let u=this.ls.get(t);void 0===u&&(u=wr(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class wf{constructor(){this.fs=new Ti(ys.ds),this.ws=new Ti(ys._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new ys(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new ys(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new pn(new Zr([])),o=new ys(t,e),a=new ys(t,e+1),u=[];return this.ws.forEachInRange([o,a],g=>{this.ys(g),u.push(g.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pn(new Zr([])),o=new ys(t,e),a=new ys(t,e+1);let u=wr();return this.ws.forEachInRange([o,a],g=>{u=u.add(g.key)}),u}containsKey(e){const t=new ys(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ys{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pn.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||pn.comparator(e.key,t.key)}}class Kv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ti(ys.ds)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const g=new f(u,t,o,a);this.mutationQueue.push(g);for(const A of a)this.Rs=this.Rs.add(new ys(A.key,u)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Et.resolve(g)}lookupMutationBatch(e,t){return Et.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ys(t,0),a=new ys(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],g=>{const A=this.Ps(g.As);u.push(A)}),Et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ti(Qn);return t.forEach(a=>{const u=new ys(a,0),g=new ys(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,g],A=>{o=o.add(A.As)})}),Et.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;pn.isDocumentKey(u)||(u=u.child(""));const g=new ys(new pn(u),0);let A=new Ti(Qn);return this.Rs.forEachWhile(B=>{const z=B.key.path;return!!o.isPrefixOf(z)&&(z.length===a&&(A=A.add(B.As)),!0)},g),Et.resolve(this.Vs(A))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Et.forEach(t.mutations,a=>{const u=new ys(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new ys(t,0),a=this.Rs.firstAfterOrEqual(o);return Et.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Et.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Yv{constructor(e){this.Ds=e,this.docs=new hi(pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,g=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Et.resolve(o?o.document.mutableCopy():Xr.newInvalidDocument(t))}getEntries(e,t){let o=zo();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Xr.newInvalidDocument(a))}),Et.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=zo();const g=t.path,A=new pn(g.child("")),B=this.docs.getIteratorFrom(A);for(;B.hasNext();){const{key:z,value:{document:ee}}=B.getNext();if(!g.isPrefixOf(z.path))break;z.path.length>g.length+1||Fa(Ki(ee),o)<=0||(a.has(ee.key)||hl(t,ee))&&(u=u.insert(ee.key,ee.mutableCopy()))}return Et.resolve(u)}getAllFromCollectionGroup(e,t,o,a){wn()}Cs(e,t){return Et.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Zv(this)}getSize(e){return Et.resolve(this.size)}}class Zv extends Km{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Et.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xv{constructor(e){this.persistence=e,this.xs=new fl(t=>Ua(t),Oc),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wf,this.targetCount=0,this.Ms=jc.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Et.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Fn(t),Et.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((g,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.xs.delete(g),u.push(this.removeMatchingKeysForTargetId(e,A.targetId)),a++)}),Et.waitFor(u).next(()=>a)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Et.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Et.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(g=>{u.push(a.markPotentiallyOrphaned(e,g))}),Et.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Et.resolve(o)}containsKey(e,t){return Et.resolve(this.ks.containsKey(t))}}class bf{constructor(e,t){this.$s={},this.overlays={},this.Os=new L(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xv(this),this.indexManager=new jv,this.remoteDocumentCache=new Yv(o=>this.referenceDelegate.Ls(o)),this.serializer=new Nv(t),this.qs=new Df(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Kv(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Xt("MemoryPersistence","Starting transaction:",e);const a=new Qv(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Et.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Qv extends os{constructor(e){super(),this.currentSequenceNumber=e}}class _h{constructor(e){this.persistence=e,this.Qs=new wf,this.js=null}static zs(e){return new _h(e)}get Ws(){if(this.js)return this.js;throw wn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Et.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Ws,o=>{const a=pn.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,kn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Et.or([()=>Et.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ig{constructor(e){this.serializer=e}O(e,t,o,a){const u=new da("createOrUpgrade",t);var A;o<1&&a>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zr,{unique:!0}),A.createObjectStore("documentMutations"),Jv(e),function(A){A.createObjectStore("remoteDocuments")}(e));let g=Et.resolve();return o<3&&a>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),Jv(e)),g=g.next(()=>function(A){const B=A.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",z)}(u))),o<4&&a>=4&&(0!==o&&(g=g.next(()=>function(A,B){return B.store("mutations").j().next(z=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zr,{unique:!0});const ee=B.store("mutations"),Ne=z.map(bt=>ee.put(bt));return Et.waitFor(Ne)})}(e,u))),g=g.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(g=g.next(()=>this.Ys(u))),o<6&&a>=6&&(g=g.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(g=g.next(()=>this.Zs(u))),o<8&&a>=8&&(g=g.next(()=>this.ti(e,u))),o<9&&a>=9&&(g=g.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(g=g.next(()=>this.ei(u))),o<11&&a>=11&&(g=g.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(g=g.next(()=>{!function(A){const B=A.createObjectStore("documentOverlays",{keyPath:au});B.createIndex("collectionPathOverlayIndex",Wd,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",qd,{unique:!1})}(e)})),o<13&&a>=13&&(g=g.next(()=>function(A){const B=A.createObjectStore("remoteDocumentsV14",{keyPath:ts});B.createIndex("documentKeyIndex",jo),B.createIndex("collectionGroupIndex",Ss)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(g=g.next(()=>this.si(e,u))),o<15&&a>=15&&(g=g.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Ml}).createIndex("sequenceNumberIndex",Yh,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Xu}).createIndex("documentKeyIndex",Qu,{unique:!1})}(e))),g}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=Cr(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Et.forEach(a,u=>{const g=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",g).next(A=>Et.forEach(A,B=>{Wn(B.userId===u.userId);const z=Tu(this.serializer,B);return Hm(e,u.userId,z).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((g,A)=>{const B=new Zr(g),z=[0,wt(B)];u.push(t.get(z).next(ee=>ee?Et.resolve():t.put({targetId:0,path:wt(B),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Et.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:al});const o=t.store("collectionParents"),a=new Ma,u=g=>{if(a.add(g)){const A=g.lastSegment(),B=g.popLast();return o.put({collectionId:A,parent:wt(B)})}};return t.store("remoteDocuments").X({Y:!0},(g,A)=>{const B=new Zr(g);return u(B.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([g,A,B],z)=>{const ee=gn(A);return u(ee.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=vd(a),g=km(this.serializer,u);return t.put(g)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,g)=>{const A=t.store("remoteDocumentsV14"),B=(z=g,z.document?new pn(Zr.fromString(z.document.name).popFirst(5)):z.noDocument?pn.fromSegments(z.noDocument.path):z.unknownDocument?pn.fromSegments(z.unknownDocument.path):wn()).path.toArray();var z;const ee={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};a.push(A.put(ee))}).next(()=>Et.waitFor(a))}si(e,t){const o=t.store("mutations"),a=Gv(this.serializer),u=new bf(_h.zs,this.serializer.fe);return o.j().next(g=>{const A=new Map;return g.forEach(B=>{var z;let ee=null!==(z=A.get(B.userId))&&void 0!==z?z:wr();Tu(this.serializer,B).keys().forEach(Ne=>ee=ee.add(Ne)),A.set(B.userId,ee)}),Et.forEach(A,(B,z)=>{const ee=new bi(z),Ne=_d.de(this.serializer,ee),bt=u.getIndexManager(ee),Vt=vh.de(ee,this.serializer,bt,u.referenceDelegate);return new rg(a,Vt,Ne,bt).recalculateAndSaveOverlaysForDocumentKeys(new lu(t,L.ct),B).next()})})}}function Jv(r){r.createObjectStore("targetDocuments",{keyPath:ss}).createIndex("documentTargetsIndex",Ac,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sc,{unique:!0}),r.createObjectStore("targetGlobal")}const Ih="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class og{constructor(e,t,o,a,u,g,A,B,z,ee,Ne=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=g,this.document=A,this.ri=z,this.oi=ee,this.ui=Ne,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=bt=>Promise.resolve(),!og.D())throw new Ut(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ng(this,a),this.di=t+"main",this.serializer=new Nv(B),this.wi=new Vo(this.di,this.ui,new ig(this.serializer)),this.Bs=new Hv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Gv(this.serializer),this.qs=new Yp,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ee&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(Dt.FAILED_PRECONDITION,Ih);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new L(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,te.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,te.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(gs(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Cf(e).get("owner").next(t=>Et.resolve(this.Ri(t)))}Pi(e){return gc(e).delete(this.clientId)}bi(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=ho(o,"clientMetadata");return a.j().next(u=>{const g=e.Si(u,18e5),A=u.filter(B=>-1===g.indexOf(B));return Et.forEach(A,B=>a.delete(B.clientId)).next(()=>A)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Et.resolve(!0):Cf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ut(Dt.FAILED_PRECONDITION,Ih);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Xt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,te.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new lu(t,L.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return vh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vm(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return _d.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Xt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(g=this.ui)?Yd:14===g?ec:13===g?Jl:12===g?Kd:11===g?Mc:void wn();var g;let A;return this.wi.runTransaction(e,a,u,B=>(A=new lu(B,this.Os?this.Os.next():L.ct),"readwrite-primary"===t?this.Ti(A).next(z=>!!z||this.Ei(A)).next(z=>{if(!z)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ut(Dt.FAILED_PRECONDITION,sl);return o(A)}).next(z=>this.vi(A).next(()=>z)):this.Oi(A).next(()=>o(A)))).then(B=>(A.raiseOnCommittedEvent(),B))}Oi(e){return Cf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ut(Dt.FAILED_PRECONDITION,Ih)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cf(e).put("owner",t)}static D(){return Vo.D()}Ai(e){const t=Cf(e);return t.get("owner").next(o=>this.Ri(o)?(Xt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Et.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ei(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ve.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ei("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cf(r){return ho(r,"owner")}function gc(r){return ho(r,"clientMetadata")}function Tf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class sg{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=wr(),a=wr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new sg(e,t.fromCache,o,a)}}class ag{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(rd(t))return Et.resolve(null);let o=Ao(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=mu(t,null,"F"),o=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const g=wr(...u);return this.Ui.getDocuments(e,g).next(A=>this.indexManager.getMinOffset(e,o).next(B=>{const z=this.ji(t,A);return this.zi(t,z,g,B.readTime)?this.Ki(e,mu(t,null,"F")):this.Wi(e,z,t,B)}))})))}Gi(e,t,o,a){return rd(t)||a.isEqual(kn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const g=this.ji(t,u);return this.zi(t,g,o,a)?this.Qi(e,t):(rl()<=qe.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yu(t)),this.Wi(e,g,t,Cc(a,-1)))})}ji(e,t){let o=new Ti(nh(e));return t.forEach((a,u)=>{hl(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return rl()<=qe.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",yu(t)),this.Ui.getDocumentsMatchingQuery(e,t,ki.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(g=>{u=u.insert(g.key,g)}),u))}}class e_{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new hi(Qn),this.Yi=new fl(u=>Ua(u),Oc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Xm(r,e,t,o){return new e_(r,e,t,o)}function Dh(r,e){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,te.Z)(function*(r,e){const t=Dn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const g=[],A=[];let B=wr();for(const z of a){g.push(z.batchId);for(const ee of z.mutations)B=B.add(ee.key)}for(const z of u){A.push(z.batchId);for(const ee of z.mutations)B=B.add(ee.key)}return t.localDocuments.getDocuments(o,B).next(z=>({er:z,removedBatchIds:g,addedBatchIds:A}))})})}),Gc.apply(this,arguments)}function Dd(r){const e=Dn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function wh(r,e,t){let o=wr(),a=wr();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let g=zo();return t.forEach((A,B)=>{const z=u.get(A);B.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(A)),B.isNoDocument()&&B.version.isEqual(kn.min())?(e.removeEntry(A,B.readTime),g=g.insert(A,B)):!z.isValidDocument()||B.version.compareTo(z.version)>0||0===B.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(B),g=g.insert(A,B)):Xt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",z.version," Watch version:",B.version)}),{nr:g,sr:a}})}function Qm(r,e){const t=Dn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Wc(r,e){const t=Dn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Et.resolve(a)):t.Bs.allocateTargetId(o).next(g=>(a=new kl(e,g,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function qc(r,e,t){return bh.apply(this,arguments)}function bh(){return bh=(0,te.Z)(function*(r,e,t){const o=Dn(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,g=>o.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!gs(g))throw g;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),bh.apply(this,arguments)}function Ch(r,e,t){const o=Dn(r);let a=kn.min(),u=wr();return o.persistence.runTransaction("Execute query","readonly",g=>function(A,B,z){const ee=Dn(A),Ne=ee.Yi.get(z);return void 0!==Ne?Et.resolve(ee.Ji.get(Ne)):ee.Bs.getTargetData(B,z)}(o,g,Ao(e)).next(A=>{if(A)return a=A.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(g,A.targetId).next(B=>{u=B})}).next(()=>o.Hi.getDocumentsMatchingQuery(g,e,t?a:kn.min(),t?u:wr())).next(A=>(ey(o,th(e),A),{documents:A,ir:u})))}function Sf(r,e){const t=Dn(r),o=Dn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(g=>g?g.target:null))}function Jm(r,e){const t=Dn(r),o=t.Xi.get(e)||kn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Cc(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(ey(t,e,a),a))}function ey(r,e,t){let o=r.Xi.get(e)||kn.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function ug(){return ug=(0,te.Z)(function*(r,e,t,o){const a=Dn(r);let u=wr(),g=zo();for(const z of t){const ee=e.rr(z.metadata.name);z.document&&(u=u.add(ee));const Ne=e.ur(z);Ne.setReadTime(e.cr(z.metadata.readTime)),g=g.insert(ee,Ne)}const A=a.Zi.newChangeBuffer({trackRemovals:!0}),B=yield Wc(a,(z=o,Ao(Pc(Zr.fromString(`__bundle__/docs/${z}`)))));var z;return a.persistence.runTransaction("Apply bundle documents","readwrite",z=>wh(z,A,g).next(ee=>(A.apply(z),ee)).next(ee=>a.Bs.removeMatchingKeysForTargetId(z,B.targetId).next(()=>a.Bs.addMatchingKeys(z,u,B.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(z,ee.nr,ee.sr)).next(()=>ee.nr)))}),ug.apply(this,arguments)}function ny(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,te.Z)(function*(r,e,t=wr()){const o=yield Wc(r,Ao(Gp(e.bundledQuery))),a=Dn(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const g=Mo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return a.qs.saveNamedQuery(u,e);const A=o.withResumeToken(fo.EMPTY_BYTE_STRING,g);return a.Ji=a.Ji.insert(A.targetId,A),a.Bs.updateTargetData(u,A).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),Af.apply(this,arguments)}function ry(r,e){return`firestore_clients_${r}_${e}`}function iy(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function na(r,e){return`firestore_targets_${r}_${e}`}class Mf{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,g="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(u=new Ut(a.error.code,a.error.message))),g?new Mf(e,t,a.state,u):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Th{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new Ut(o.error.code,o.error.message))),u?new Th(e,o.state,a):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=sd();for(let g=0;a&&g<o.activeTargetIds.length;++g)a=Ke(o.activeTargetIds[g]),u=u.add(o.activeTargetIds[g]);return a?new dg(e,u):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sh{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sh(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xf{constructor(){this.activeTargetIds=sd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hg{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new hi(Qn),this.started=!1,this.yr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=ry(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new xf),this.Tr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(ry(e.persistenceKey,a));if(u){const g=dg.ar(a,u);g&&(e.gr=e.gr.insert(g.clientId,g))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(na(this.persistenceKey,e));if(o){const a=Th.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(na(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xt("SharedClientState","READ",e,t),t}setItem(e,t){Xt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Xt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let g=L.ct;if(null!=u)try{const A=JSON.parse(u);Wn("number"==typeof A),g=A}catch(A){Ei("SharedClientState","Failed to read sequence number from WebStorage",A)}return g}(o.newValue);a!==L.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new Mf(this.currentUser,e,t,o),u=iy(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=iy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=na(this.persistenceKey,e),u=new Th(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return dg.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return Mf.ar(new bi(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return Th.ar(a,t)}br(e){return Sh.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),g=[],A=[];return u.forEach(B=>{a.has(B)||g.push(B)}),a.forEach(B=>{u.has(B)||A.push(B)}),this.syncEngine.Wr(g,A).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=sd();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class oy{constructor(){this.Hr=new xf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t_{Yr(e){}shutdown(){}}class fg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rf=null;function pg(){return null===Rf?Rf=268435456+Math.round(2147483648*Math.random()):Rf++,"0x"+Rf.toString(16)}const gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const qs="WebChannelConnection";class r_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const g=pg(),A=this.To(e,t);Xt("RestConnection",`Sending RPC '${e}' ${g}:`,A,o);const B={};return this.Eo(B,a,u),this.Ao(e,A,B,o).then(z=>(Xt("RestConnection",`Received RPC '${e}' ${g}: `,z),z),z=>{throw Br("RestConnection",`RPC '${e}' ${g} failed with error: `,z,"url: ",A,"request:",o),z})}vo(e,t,o,a,u,g){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+es,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${gg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=pg();return new Promise((g,A)=>{const B=new nl;B.setWithCredentials(!0),B.listenOnce(zi.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case fs.NO_ERROR:const ee=B.getResponseJson();Xt(qs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ee)),g(ee);break;case fs.TIMEOUT:Xt(qs,`RPC '${e}' ${u} timed out`),A(new Ut(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case fs.HTTP_ERROR:const Ne=B.getStatus();if(Xt(qs,`RPC '${e}' ${u} failed with status:`,Ne,"response text:",B.getResponseText()),Ne>0){let bt=B.getResponseJson();Array.isArray(bt)&&(bt=bt[0]);const Vt=null==bt?void 0:bt.error;if(Vt&&Vt.status&&Vt.message){const en=function(Sn){const Rn=Sn.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(Rn)>=0?Rn:Dt.UNKNOWN}(Vt.status);A(new Ut(en,Vt.message))}else A(new Ut(Dt.UNKNOWN,"Server responded with status "+B.getStatus()))}else A(new Ut(Dt.UNAVAILABLE,"Connection failed."));break;default:wn()}}finally{Xt(qs,`RPC '${e}' ${u} completed.`)}});const z=JSON.stringify(a);Xt(qs,`RPC '${e}' ${u} sending request:`,a),B.send(t,"POST",z,o,15)})}Ro(e,t,o){const a=pg(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=hs(),A=Bo(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(B.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(B.xmlHttpFactory=new To({})),this.Eo(B.initMessageHeaders,t,o),B.encodeInitMessageHeaders=!0;const ee=u.join("");Xt(qs,`Creating RPC '${e}' stream ${a}: ${ee}`,B);const Ne=g.createWebChannel(ee,B);let bt=!1,Vt=!1;const en=new n_({ro:Rn=>{Vt?Xt(qs,`Not sending because RPC '${e}' stream ${a} is closed:`,Rn):(bt||(Xt(qs,`Opening RPC '${e}' stream ${a} transport.`),Ne.open(),bt=!0),Xt(qs,`RPC '${e}' stream ${a} sending:`,Rn),Ne.send(Rn))},oo:()=>Ne.close()}),Sn=(Rn,br,ni)=>{Rn.listen(br,kr=>{try{ni(kr)}catch(po){setTimeout(()=>{throw po},0)}})};return Sn(Ne,Da.EventType.OPEN,()=>{Vt||Xt(qs,`RPC '${e}' stream ${a} transport opened.`)}),Sn(Ne,Da.EventType.CLOSE,()=>{Vt||(Vt=!0,Xt(qs,`RPC '${e}' stream ${a} transport closed`),en.wo())}),Sn(Ne,Da.EventType.ERROR,Rn=>{Vt||(Vt=!0,Br(qs,`RPC '${e}' stream ${a} transport errored:`,Rn),en.wo(new Ut(Dt.UNAVAILABLE,"The operation could not be completed")))}),Sn(Ne,Da.EventType.MESSAGE,Rn=>{var br;if(!Vt){const ni=Rn.data[0];Wn(!!ni);const po=ni.error||(null===(br=ni[0])||void 0===br?void 0:br.error);if(po){Xt(qs,`RPC '${e}' stream ${a} received error:`,po);const Ai=po.status;let Si=function(Yu){const Dm=lt[Yu];if(void 0!==Dm)return Fn(Dm)}(Ai),Ks=po.message;void 0===Si&&(Si=Dt.INTERNAL,Ks="Unknown error status: "+Ai+" with message "+po.message),Vt=!0,en.wo(new Ut(Si,Ks)),Ne.close()}else Xt(qs,`RPC '${e}' stream ${a} received:`,ni),en._o(ni)}}),Sn(A,bo.STAT_EVENT,Rn=>{Rn.stat===Co.PROXY?Xt(qs,`RPC '${e}' stream ${a} detected buffering proxy`):Rn.stat===Co.NOPROXY&&Xt(qs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{en.fo()},0),en}}function sy(){return typeof window<"u"?window:null}function Of(){return typeof document<"u"?document:null}function ga(r){return new Sm(r,!0)}class Ah{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&Xt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ay{constructor(e,t,o,a,u,g,A,B){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=A,this.listener=B,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ah(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,te.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new Ut(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,te.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i_ extends ay{constructor(e,t,o,a,u,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,g),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function xv(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:wn(),a=e.targetChange.targetIds||[],u=function(B,z){return B.useProto3Json?(Wn(void 0===z||"string"==typeof z),fo.fromBase64String(z||"")):(Wn(void 0===z||z instanceof Uint8Array),fo.fromUint8Array(z||new Uint8Array))}(r,e.targetChange.resumeToken),g=e.targetChange.cause,A=g&&function(B){const z=void 0===B.code?Dt.UNKNOWN:Fn(B.code);return new Ut(z,B.message||"")}(g);t=new uh(o,a,u,A||null)}else if("documentChange"in e){const o=e.documentChange,a=Nl(r,o.document.name),u=Mo(o.document.updateTime),g=o.document.createTime?Mo(o.document.createTime):kn.min(),A=new io({mapValue:{fields:o.document.fields}}),B=Xr.newFoundDocument(a,u,g,A);t=new Du(o.targetIds||[],o.removedTargetIds||[],B.key,B)}else if("documentDelete"in e){const o=e.documentDelete,a=Nl(r,o.document),u=o.readTime?Mo(o.readTime):kn.min(),g=Xr.newNoDocument(a,u);t=new Du([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,a=Nl(r,o.document);t=new Du([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return wn();{const o=e.filter,{count:a=0,unchangedNames:u}=o,g=new Ge(a,u);t=new dd(o.targetId,g)}}var B;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return kn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?kn.min():u.readTime?Mo(u.readTime):kn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=pd(this.serializer),t.addTarget=function(a,u){let g;const A=u.target;if(g=ja(A)?{documents:Hp(a,A)}:{query:ph(a,A)},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=Am(a,u.resumeToken);const B=df(a,u.expectedCount);null!==B&&(g.expectedCount=B)}else if(u.snapshotVersion.compareTo(kn.min())>0){g.readTime=fd(a,u.snapshotVersion.toTimestamp());const B=df(a,u.expectedCount);null!==B&&(g.expectedCount=B)}return g}(this.serializer,e);const o=function Rv(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class ly extends ay{constructor(e,t,o,a,u,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,g),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Cu(r,e){return r&&r.length>0?(Wn(void 0!==e),r.map(t=>function(o,a){let u=Mo(o.updateTime?o.updateTime:a);return u.isEqual(kn.min())&&(u=Mo(a)),new zs(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Mo(e.commitTime);return this.listener.cu(o,t)}return Wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>bu(this.serializer,o))};this.Wo(t)}}class o_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Ut(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ut(Dt.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.vo(e,t,o,u,g,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ut(Dt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class yg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ei(t),this.mu=!1):Xt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class a_{constructor(e,t,o,a,u){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(A=>{o.enqueueAndForget((0,te.Z)(function*(){var B;yc(g)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,te.Z)(function*(z){const ee=Dn(z);ee.vu.add(4),yield mc(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield Mh(ee)}),function(z){return B.apply(this,arguments)})(g))}))}),this.bu=new yg(o,a)}}function Mh(r){return wd.apply(this,arguments)}function wd(){return wd=(0,te.Z)(function*(r){if(yc(r))for(const e of r.Ru)yield e(!0)}),wd.apply(this,arguments)}function mc(r){return bd.apply(this,arguments)}function bd(){return bd=(0,te.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),bd.apply(this,arguments)}function vg(r,e){const t=Dn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Nf(t)?Pf(t):Td(t).Ko()&&cy(t,e))}function Ru(r,e){const t=Dn(r),o=Td(t);t.Au.delete(e),o.Ko()&&_g(t,e),0===t.Au.size&&(o.Ko()?o.jo():yc(t)&&t.bu.set("Unknown"))}function cy(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Td(r).su(e)}function _g(r,e){r.Vu.qt(e),Td(r).iu(e)}function Pf(r){r.Vu=new hd({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Td(r).start(),r.bu.gu()}function Nf(r){return yc(r)&&!Td(r).Uo()&&r.Au.size>0}function yc(r){return 0===Dn(r).vu.size}function kf(r){r.Vu=void 0}function vc(r){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,te.Z)(function*(r){r.Au.forEach((e,t)=>{cy(r,e)})}),Cd.apply(this,arguments)}function Ff(r,e){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,te.Z)(function*(r,e){kf(r),Nf(r)?(r.bu.Iu(e),Pf(r)):r.bu.set("Unknown")}),Ou.apply(this,arguments)}function l_(r,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,te.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof uh&&2===e.state&&e.cause)try{yield(o=(0,te.Z)(function*(a,u){const g=u.cause;for(const A of u.targetIds)a.Au.has(A)&&(yield a.remoteSyncer.rejectListen(A,g),a.Au.delete(A),a.Vu.removeTarget(A))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield xh(r,o)}else if(e instanceof Du?r.Vu.Ht(e):e instanceof dd?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(kn.min()))try{const o=yield Dd(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const g=a.Vu.ce(u);return g.targetChanges.forEach((A,B)=>{if(A.resumeToken.approximateByteSize()>0){const z=a.Au.get(B);z&&a.Au.set(B,z.withResumeToken(A.resumeToken,u))}}),g.targetMismatches.forEach((A,B)=>{const z=a.Au.get(A);if(!z)return;a.Au.set(A,z.withResumeToken(fo.EMPTY_BYTE_STRING,z.snapshotVersion)),_g(a,A);const ee=new kl(z.target,A,B,z.sequenceNumber);cy(a,ee)}),a.remoteSyncer.applyRemoteEvent(g)}(r,t))}catch(o){Xt("RemoteStore","Failed to raise snapshot:",o),yield xh(r,o)}var o}),Lf.apply(this,arguments)}function xh(r,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,te.Z)(function*(r,e,t){if(!gs(e))throw e;r.vu.add(1),yield mc(r),r.bu.set("Offline"),t||(t=()=>Dd(r.localStore)),r.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Mh(r)}))}),Eg.apply(this,arguments)}function uy(r,e){return e().catch(t=>xh(r,t,e))}function Fl(r){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,te.Z)(function*(r){const e=Dn(r),t=Kc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nE(e);)try{const a=yield Qm(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,c_(e,a)}catch(a){yield xh(e,a)}dy(e)&&hy(e)}),Ig.apply(this,arguments)}function nE(r){return yc(r)&&r.Eu.length<10}function c_(r,e){r.Eu.push(e);const t=Kc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function dy(r){return yc(r)&&!Kc(r).Uo()&&r.Eu.length>0}function hy(r){Kc(r).start()}function u_(r){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,te.Z)(function*(r){Kc(r).hu()}),Dg.apply(this,arguments)}function d_(r){return wg.apply(this,arguments)}function wg(){return wg=(0,te.Z)(function*(r){const e=Kc(r);for(const t of r.Eu)e.uu(t.mutations)}),wg.apply(this,arguments)}function fy(r,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,te.Z)(function*(r,e,t){const o=r.Eu.shift(),a=w.from(o,e,t);yield uy(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Fl(r)}),Rh.apply(this,arguments)}function h_(r,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,te.Z)(function*(r,e){var t;e&&Kc(r).ou&&(yield(t=(0,te.Z)(function*(o,a){if(mn(u=a.code)&&u!==Dt.ABORTED){const g=o.Eu.shift();Kc(o).Qo(),yield uy(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield Fl(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),dy(r)&&hy(r)}),Oh.apply(this,arguments)}function py(r,e){return bg.apply(this,arguments)}function bg(){return bg=(0,te.Z)(function*(r,e){const t=Dn(r);t.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const o=yc(t);t.vu.add(3),yield mc(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mh(t)}),bg.apply(this,arguments)}function Cg(r,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,te.Z)(function*(r,e){const t=Dn(r);e?(t.vu.delete(2),yield Mh(t)):e||(t.vu.add(2),yield mc(t),t.bu.set("Unknown"))}),Tg.apply(this,arguments)}function Td(r){return r.Su||(r.Su=function(e,t,o){const a=Dn(e);return a.fu(),new i_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:vc.bind(null,r),ao:Ff.bind(null,r),nu:l_.bind(null,r)}),r.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(r.Su.Qo(),Nf(r)?Pf(r):r.bu.set("Unknown")):(yield r.Su.stop(),kf(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Kc(r){return r.Du||(r.Du=function(e,t,o){const a=Dn(e);return a.fu(),new ly(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:u_.bind(null,r),ao:h_.bind(null,r),au:d_.bind(null,r),cu:fy.bind(null,r)}),r.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(r.Du.Qo(),yield Fl(r)):(yield r.Du.stop(),r.Eu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Sg{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,a,u){const g=Date.now()+o,A=new Sg(e,t,g,a,u);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pu(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),gs(r))return new Ut(Dt.UNAVAILABLE,`${e}: ${r}`);throw r}class Nu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||pn.comparator(t.key,o.key):(t,o)=>pn.comparator(t.key,o.key),this.keyedMap=pl(),this.sortedSet=new hi(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Nu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class gy{constructor(){this.Cu=new hi(pn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):wn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ph{constructor(e,t,o,a,u,g,A,B,z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=g,this.syncStateChanged=A,this.excludesMetadataChanges=B,this.hasCachedResults=z}static fromInitialDocuments(e,t,o,a,u){const g=[];return t.forEach(A=>{g.push({type:0,doc:A})}),new Ph(e,t,Nu.emptySet(t),g,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class my{constructor(){this.Nu=void 0,this.listeners=[]}}class rE{constructor(){this.queries=new fl(e=>id(e),za),this.onlineState="Unknown",this.ku=new Set}}function Sd(r,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,te.Z)(function*(r,e){const t=Dn(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new my),a)try{u.Nu=yield t.onListen(o)}catch(g){const A=Pu(g,`Initialization of query '${yu(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&ku(t)}),Ag.apply(this,arguments)}function Mg(r,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,te.Z)(function*(r,e){const t=Dn(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const g=u.listeners.indexOf(e);g>=0&&(u.listeners.splice(g,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),Nh.apply(this,arguments)}function f_(r,e){const t=Dn(r);let o=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const A of g.listeners)A.$u(a)&&(o=!0);g.Nu=a}}o&&ku(t)}function Ll(r,e,t){const o=Dn(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function ku(r){r.ku.forEach(e=>{e.next()})}class vs{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new Ph(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fu{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class kh{constructor(e){this.serializer=e}rr(e){return Nl(this.serializer,e)}ur(e){return e.metadata.exists?hf(this.serializer,e.document,!1):Xr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Mo(e)}}class Za{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bf(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Zr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new kh(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const g of a.metadata.queries){const A=(t.get(g)||wr()).add(u);t.set(g,A)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function ty(r,e,t,o){return ug.apply(this,arguments)}(e.localStore,new kh(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield ny(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Bf(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Lu{constructor(e){this.key=e}}class Bu{constructor(e){this.key=e}}class $u{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wr(),this.mutatedKeys=wr(),this.tc=nh(e),this.ec=new Nu(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new gy,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,g=a,A=!1;const B="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,Ne)=>{const bt=a.get(ee),Vt=hl(this.query,Ne)?Ne:null,en=!!bt&&this.mutatedKeys.has(bt.key),Sn=!!Vt&&(Vt.hasLocalMutations||this.mutatedKeys.has(Vt.key)&&Vt.hasCommittedMutations);let Rn=!1;bt&&Vt?bt.data.isEqual(Vt.data)?en!==Sn&&(o.track({type:3,doc:Vt}),Rn=!0):this.rc(bt,Vt)||(o.track({type:2,doc:Vt}),Rn=!0,(B&&this.tc(Vt,B)>0||z&&this.tc(Vt,z)<0)&&(A=!0)):!bt&&Vt?(o.track({type:0,doc:Vt}),Rn=!0):bt&&!Vt&&(o.track({type:1,doc:bt}),Rn=!0,(B||z)&&(A=!0)),Rn&&(Vt?(g=g.add(Vt),u=Sn?u.add(ee):u.delete(ee)):(g=g.delete(ee),u=u.delete(ee)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ee="F"===this.query.limitType?g.last():g.first();g=g.delete(ee.key),u=u.delete(ee.key),o.track({type:1,doc:ee})}return{ec:g,ic:o,zi:A,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((z,ee)=>function(Ne,bt){const Vt=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn()}};return Vt(Ne)-Vt(bt)}(z.type,ee.type)||this.tc(z.doc,ee.doc)),this.oc(o);const g=t?this.uc():[],A=0===this.Zu.size&&this.current?1:0,B=A!==this.Xu;return this.Xu=A,0!==u.length||B?{snapshot:new Ph(this.query,e.ec,a,u,e.mutatedKeys,0===A,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Bu(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Lu(o))}),t}hc(e){this.Yu=e.ir,this.Zu=wr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ph.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ad{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Md{constructor(e){this.key=e,this.fc=!1}}class xd{constructor(e,t,o,a,u,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new fl(A=>id(A),za),this._c=new Map,this.mc=new Set,this.gc=new hi(pn.comparator),this.yc=new Map,this.Ic=new wf,this.Tc={},this.Ec=new Map,this.Ac=jc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Rd(r,e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,te.Z)(function*(r,e){const t=tp(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const g=yield Wc(t.localStore,Ao(e)),A=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,a=yield Zc(t,e,o,"current"===A,g.resumeToken),t.isPrimaryClient&&vg(t.remoteStore,g)}return a}),Yc.apply(this,arguments)}function Zc(r,e,t,o,a){return $f.apply(this,arguments)}function $f(){return $f=(0,te.Z)(function*(r,e,t,o,a){r.Rc=(Ne,bt,Vt)=>{return(en=(0,te.Z)(function*(Sn,Rn,br,ni){let kr=Rn.view.sc(br);kr.zi&&(kr=yield Ch(Sn.localStore,Rn.query,!1).then(({documents:Si})=>Rn.view.sc(Si,kr)));const po=ni&&ni.targetChanges.get(Rn.targetId),Ai=Rn.view.applyChanges(kr,Sn.isPrimaryClient,po);return Fg(Sn,Rn.targetId,Ai.cc),Ai.snapshot}),function(Sn,Rn,br,ni){return en.apply(this,arguments)})(r,Ne,bt,Vt);var en};const u=yield Ch(r.localStore,e,!0),g=new $u(e,u.ir),A=g.sc(u.documents),B=hc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),z=g.applyChanges(A,r.isPrimaryClient,B);Fg(r,t,z.cc);const ee=new Ad(e,t,g);return r.wc.set(e,ee),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),z.snapshot}),$f.apply(this,arguments)}function yy(r,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,te.Z)(function*(r,e){const t=Dn(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!za(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield qc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ru(t.remoteStore,o.targetId),_c(t,o.targetId)}).catch(to))):(_c(t,o.targetId),yield qc(t.localStore,o.targetId,!0))}),Vf.apply(this,arguments)}function Uf(){return Uf=(0,te.Z)(function*(r,e,t){const o=np(r);try{const a=yield function(u,g){const A=Dn(u),B=Nr.now(),z=g.reduce((bt,Vt)=>bt.add(Vt.key),wr());let ee,Ne;return A.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let Vt=zo(),en=wr();return A.Zi.getEntries(bt,z).next(Sn=>{Vt=Sn,Vt.forEach((Rn,br)=>{br.isValidDocument()||(en=en.add(Rn))})}).next(()=>A.localDocuments.getOverlayedDocuments(bt,Vt)).next(Sn=>{ee=Sn;const Rn=[];for(const br of g){const ni=Iu(br,ee.get(br.key).overlayedDocument);null!=ni&&Rn.push(new qa(br.key,ni,$a(ni.value.mapValue),Li.exists(!0)))}return A.mutationQueue.addMutationBatch(bt,B,Rn,g)}).next(Sn=>{Ne=Sn;const Rn=Sn.applyToLocalDocumentSet(ee,en);return A.documentOverlayCache.saveOverlays(bt,Sn.batchId,Rn)})}).then(()=>({batchId:Ne.batchId,changes:od(ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,g,A){let B=u.Tc[u.currentUser.toKey()];B||(B=new hi(Qn)),B=B.insert(g,A),u.Tc[u.currentUser.toKey()]=B}(o,a.batchId,t),yield vl(o,a.changes),yield Fl(o.remoteStore)}catch(a){const u=Pu(a,"Failed to persist write");t.reject(u)}}),Uf.apply(this,arguments)}function xg(r,e){return jf.apply(this,arguments)}function jf(){return jf=(0,te.Z)(function*(r,e){const t=Dn(r);try{const o=yield function cg(r,e){const t=Dn(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const g=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const A=[];e.targetChanges.forEach((ee,Ne)=>{const bt=a.get(Ne);if(!bt)return;A.push(t.Bs.removeMatchingKeys(u,ee.removedDocuments,Ne).next(()=>t.Bs.addMatchingKeys(u,ee.addedDocuments,Ne)));let Vt=bt.withSequenceNumber(u.currentSequenceNumber);var en,Sn,Rn;null!==e.targetMismatches.get(Ne)?Vt=Vt.withResumeToken(fo.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):ee.resumeToken.approximateByteSize()>0&&(Vt=Vt.withResumeToken(ee.resumeToken,o)),a=a.insert(Ne,Vt),Sn=Vt,Rn=ee,(0===(en=bt).resumeToken.approximateByteSize()||Sn.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&A.push(t.Bs.updateTargetData(u,Vt))});let B=zo(),z=wr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(u,ee))}),A.push(wh(u,g,e.documentUpdates).next(ee=>{B=ee.nr,z=ee.sr})),!o.isEqual(kn.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(u).next(Ne=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));A.push(ee)}return Et.waitFor(A).next(()=>g.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,B,z)).next(()=>B)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const g=t.yc.get(u);g&&(Wn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.fc=!0:a.modifiedDocuments.size>0?Wn(g.fc):a.removedDocuments.size>0&&(Wn(g.fc),g.fc=!1))}),yield vl(t,o,e)}catch(o){yield to(o)}}),jf.apply(this,arguments)}function Rg(r,e,t){const o=Dn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,g)=>{const A=g.view.Mu(e);A.snapshot&&a.push(A.snapshot)}),function(u,g){const A=Dn(u);A.onlineState=g;let B=!1;A.queries.forEach((z,ee)=>{for(const Ne of ee.listeners)Ne.Mu(g)&&(B=!0)}),B&&ku(A)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function _y(r,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,te.Z)(function*(r,e,t){const o=Dn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let g=new hi(pn.comparator);g=g.insert(u,Xr.newNoDocument(u,kn.min()));const A=wr().add(u),B=new ml(kn.min(),new Map,new hi(Qn),g,A);yield xg(o,B),o.gc=o.gc.remove(u),o.yc.delete(e),Pd(o)}else yield qc(o.localStore,e,!1).then(()=>_c(o,e,t)).catch(to)}),Og.apply(this,arguments)}function p_(r,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,te.Z)(function*(r,e){const t=Dn(r),o=e.batch.batchId;try{const a=yield function lg(r,e){const t=Dn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(g,A,B,z){const ee=B.batch,Ne=ee.keys();let bt=Et.resolve();return Ne.forEach(Vt=>{bt=bt.next(()=>z.getEntry(A,Vt)).next(en=>{const Sn=B.docVersions.get(Vt);Wn(null!==Sn),en.version.compareTo(Sn)<0&&(ee.applyToRemoteDocument(en,B),en.isValidDocument()&&(en.setReadTime(B.commitVersion),z.addEntry(en)))})}),bt.next(()=>g.mutationQueue.removeMutationBatch(A,ee))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let A=wr();for(let B=0;B<g.mutationResults.length;++B)g.mutationResults[B].transformResults.length>0&&(A=A.add(g.batch.mutations[B].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);Od(t,o,null),kg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield vl(t,a)}catch(a){yield to(a)}}),Hf.apply(this,arguments)}function g_(r,e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,te.Z)(function*(r,e,t){const o=Dn(r);try{const a=yield function(u,g){const A=Dn(u);return A.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let z;return A.mutationQueue.lookupMutationBatch(B,g).next(ee=>(Wn(null!==ee),z=ee.keys(),A.mutationQueue.removeMutationBatch(B,ee))).next(()=>A.mutationQueue.performConsistencyCheck(B)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(B,z,g)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,z)).next(()=>A.localDocuments.getDocuments(B,z))})}(o.localStore,e);Od(o,e,t),kg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield vl(o,a)}catch(a){yield to(a)}}),Pg.apply(this,arguments)}function Fh(){return Fh=(0,te.Z)(function*(r,e){const t=Dn(r);yc(t.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const g=Dn(u);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>g.mutationQueue.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=Pu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Fh.apply(this,arguments)}function kg(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Od(r,e,t){const o=Dn(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function _c(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||zf(r,o)})}function zf(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Ru(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Pd(r))}function Fg(r,e,t){for(const o of t)o instanceof Lu?(r.Ic.addReference(o.key,e),Gf(r,o)):o instanceof Bu?(Xt("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||zf(r,o.key)):wn()}function Gf(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Xt("SyncEngine","New document in limbo: "+t),r.mc.add(o),Pd(r))}function Pd(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new pn(Zr.fromString(e)),o=r.Ac.next();r.yc.set(o,new Md(t)),r.gc=r.gc.insert(t,o),vg(r.remoteStore,new kl(Ao(Pc(t.path)),o,"TargetPurposeLimboResolution",L.ct))}}function vl(r,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,te.Z)(function*(r,e,t){const o=Dn(r),a=[],u=[],g=[];var A;o.wc.isEmpty()||(o.wc.forEach((A,B)=>{g.push(o.Rc(B,e,t).then(z=>{if((z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,null!=z&&z.fromCache?"not-current":"current"),z){a.push(z);const ee=sg.Li(B.targetId,z);u.push(ee)}}))}),yield Promise.all(g),o.dc.nu(a),yield(A=(0,te.Z)(function*(B,z){const ee=Dn(B);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>Et.forEach(z,bt=>Et.forEach(bt.Fi,Vt=>ee.persistence.referenceDelegate.addReference(Ne,bt.targetId,Vt)).next(()=>Et.forEach(bt.Bi,Vt=>ee.persistence.referenceDelegate.removeReference(Ne,bt.targetId,Vt)))))}catch(Ne){if(!gs(Ne))throw Ne;Xt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of z){const bt=Ne.targetId;if(!Ne.fromCache){const Vt=ee.Ji.get(bt),Sn=Vt.withLastLimboFreeSnapshotVersion(Vt.snapshotVersion);ee.Ji=ee.Ji.insert(bt,Sn)}}}),function(B,z){return A.apply(this,arguments)})(o.localStore,u))}),Wf.apply(this,arguments)}function Lg(r,e){return qf.apply(this,arguments)}function qf(){return qf=(0,te.Z)(function*(r,e){const t=Dn(r);if(!t.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const o=yield Dh(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(g=>{g.forEach(A=>{A.reject(new Ut(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield vl(t,o.er)}var a}),qf.apply(this,arguments)}function Ey(r,e){const t=Dn(r),o=t.yc.get(e);if(o&&o.fc)return wr().add(o.key);{let a=wr();const u=t._c.get(e);if(!u)return a;for(const g of u){const A=t.wc.get(g);a=a.unionWith(A.view.nc)}return a}}function Bg(r,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,te.Z)(function*(r,e){const t=Dn(r),o=yield Ch(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&Fg(t,e.targetId,a.cc),a}),Kf.apply(this,arguments)}function m_(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,te.Z)(function*(r,e){const t=Dn(r);return Jm(t.localStore,e).then(o=>vl(t,o))}),Yf.apply(this,arguments)}function Iy(r,e,t,o){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,te.Z)(function*(r,e,t,o){const a=Dn(r),u=yield function(g,A){const B=Dn(g),z=Dn(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",ee=>z.Sn(ee,A).next(Ne=>Ne?B.localDocuments.getDocuments(ee,Ne):Et.resolve(null)))}(a.localStore,e);var A;null!==u?("pending"===t?yield Fl(a.remoteStore):"acknowledged"===t||"rejected"===t?(Od(a,e,o||null),kg(a,e),A=e,Dn(Dn(a.localStore).mutationQueue).Cn(A)):wn(),yield vl(a,u)):Xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zf.apply(this,arguments)}function $g(){return $g=(0,te.Z)(function*(r,e){const t=Dn(r);if(tp(t),np(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Vg(t,o.toArray());t.vc=!0,yield Cg(t.remoteStore,!0);for(const u of a)vg(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):a=a.then(()=>(_c(t,g),qc(t.localStore,g,!0))),Ru(t.remoteStore,g)}),yield a,yield Vg(t,o),function(u){const g=Dn(u);g.yc.forEach((A,B)=>{Ru(g.remoteStore,B)}),g.Ic.Ts(),g.yc=new Map,g.gc=new hi(pn.comparator)}(t),t.vc=!1,yield Cg(t.remoteStore,!1)}}),$g.apply(this,arguments)}function Vg(r,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,te.Z)(function*(r,e,t){const o=Dn(r),a=[],u=[];for(const g of e){let A;const B=o._c.get(g);if(B&&0!==B.length){A=yield Wc(o.localStore,Ao(B[0]));for(const z of B){const ee=o.wc.get(z),Ne=yield Bg(o,ee);Ne.snapshot&&u.push(Ne.snapshot)}}else{const z=yield Sf(o.localStore,g);A=yield Wc(o.localStore,z),yield Zc(o,Qf(z),g,!1,A.resumeToken)}a.push(A)}return o.dc.nu(u),a}),Xf.apply(this,arguments)}function Qf(r){return fu(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ug(r){const e=Dn(r);return Dn(Dn(e.localStore).persistence).$i()}function wy(r,e,t,o){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,te.Z)(function*(r,e,t,o){const a=Dn(r);if(a.vc)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const g=yield Jm(a.localStore,th(u[0])),A=ml.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fo.EMPTY_BYTE_STRING);yield vl(a,g,A);break}case"rejected":yield qc(a.localStore,e,!0),_c(a,e,o);break;default:wn()}}),Jf.apply(this,arguments)}function by(r,e,t){return ep.apply(this,arguments)}function ep(){return ep=(0,te.Z)(function*(r,e,t){const o=tp(r);if(o.vc){for(const a of e){if(o._c.has(a)){Xt("SyncEngine","Adding an already active target "+a);continue}const u=yield Sf(o.localStore,a),g=yield Wc(o.localStore,u);yield Zc(o,Qf(u),g.targetId,!1,g.resumeToken),vg(o.remoteStore,g)}for(const a of t)o._c.has(a)&&(yield qc(o.localStore,a,!1).then(()=>{Ru(o.remoteStore,a),_c(o,a)}).catch(to))}}),ep.apply(this,arguments)}function tp(r){const e=Dn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_y.bind(null,e),e.dc.nu=f_.bind(null,e.eventManager),e.dc.Pc=Ll.bind(null,e.eventManager),e}function np(r){const e=Dn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g_.bind(null,e),e}class Nd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.serializer=ga(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Xm(this.persistence,new ag,e.initialUser,this.serializer)}createPersistence(e){return new bf(_h.zs,this.serializer)}createSharedClientState(e){return new oy}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bl extends Nd{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,te.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield np(o.Vc.syncEngine),yield Fl(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Xm(this.persistence,new ag,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new tg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new S(t,this.persistence);return new y(e.asyncQueue,o)}createPersistence(e){const t=Tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new og(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,sy(),Of(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oy}}class Ty extends Bl{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,te.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof hg&&(o.sharedClientState.syncEngine={jr:Iy.bind(null,a),zr:wy.bind(null,a),Wr:by.bind(null,a),$i:Ug.bind(null,a),Qr:m_.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,te.Z)(function*(g){yield function Dy(r,e){return $g.apply(this,arguments)}(o.Vc.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=sy();if(!hg.D(t))throw new Ut(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hg(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class kd{initialize(e,t){var o=this;return(0,te.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Rg(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=Lg.bind(null,o.syncEngine),yield Cg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rE}createDatastore(e){const t=ga(e.databaseInfo.databaseId),o=new r_(e.databaseInfo);return new o_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=A=>Rg(this.syncEngine,A,0),g=fg.D()?new fg:new t_,new a_(t,o,a,u,g);var t,o,a,u,g}createSyncEngine(e,t){return function(o,a,u,g,A,B,z){const ee=new xd(o,a,u,g,A,B);return z&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const o=Dn(t);Xt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield mc(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ip(r,e=10240){let t=0;return{read:()=>(0,te.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $l{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jg{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Rr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,te.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new Fu(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,te.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,te.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class y_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ut(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,te.Z)(function*(u,g){const A=Dn(u),B=pd(A.serializer)+"/documents",z={documents:g.map(Vt=>wu(A.serializer,Vt))},ee=yield A.vo("BatchGetDocuments",B,z,g.length),Ne=new Map;ee.forEach(Vt=>{const en=function ff(r,e){return"found"in e?function(t,o){Wn(!!o.found);const a=Nl(t,o.found.name),u=Mo(o.found.updateTime),g=o.found.createTime?Mo(o.found.createTime):kn.min(),A=new io({mapValue:{fields:o.found.fields}});return Xr.newFoundDocument(a,u,g,A)}(r,e):"missing"in e?function(t,o){Wn(!!o.missing),Wn(!!o.readTime);const a=Nl(t,o.missing),u=Mo(o.readTime);return Xr.newNoDocument(a,u)}(r,e):wn()}(A.serializer,Vt);Ne.set(en.key.toString(),en)});const bt=[];return g.forEach(Vt=>{const en=Ne.get(Vt.toString());Wn(!!en),bt.push(en)}),bt}),function(u,g){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=pn.fromPath(a);e.mutations.push(new d(u,e.precondition(u)))}),yield(o=(0,te.Z)(function*(a,u){const g=Dn(a),A=pd(g.serializer)+"/documents",B={writes:u.map(z=>bu(g.serializer,z))};yield g.Io("Commit",A,B)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wn();t=kn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ut(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kn.min())?Li.exists(!1):Li.updateTime(t):Li.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kn.min()))throw new Ut(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Li.updateTime(t)}return Li.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hg{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new Ah(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,te.Z)(function*(){const t=new y_(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!K(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!mn(t)}return!1}}class iE{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=bi.UNAUTHENTICATED,this.clientId=ua.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,te.Z)(function*(A){Xt("FirestoreClient","Received user=",A.uid),yield u.authCredentialListener(A),u.user=A});return function(A){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Xt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=Pu(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function zg(r,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,te.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,te.Z)(function*(u){o.isEqual(u)||(yield Dh(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Gg.apply(this,arguments)}function Wg(r,e){return op.apply(this,arguments)}function op(){return op=(0,te.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Go(r);Xt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>py(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>py(e.remoteStore,u)),r._onlineComponents=e}),op.apply(this,arguments)}function Sy(r){return"FirebaseError"===r.name?r.code===Dt.FAILED_PRECONDITION||r.code===Dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Go(r){return sp.apply(this,arguments)}function sp(){return sp=(0,te.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Sy(t))throw t;Br("Error using user provided cache. Falling back to memory cache: "+t),yield zg(r,new Nd)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield zg(r,new Nd);return r._offlineComponents}),sp.apply(this,arguments)}function ap(r){return qg.apply(this,arguments)}function qg(){return qg=(0,te.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wg(r,r._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield Wg(r,new kd))),r._onlineComponents}),qg.apply(this,arguments)}function Kg(r){return Go(r).then(e=>e.persistence)}function lp(r){return Go(r).then(e=>e.localStore)}function Yg(r){return ap(r).then(e=>e.remoteStore)}function cp(r){return ap(r).then(e=>e.syncEngine)}function Fd(r){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,te.Z)(function*(r){const e=yield ap(r),t=e.eventManager;return t.onListen=Rd.bind(null,e.syncEngine),t.onUnlisten=yy.bind(null,e.syncEngine),t}),Zg.apply(this,arguments)}function __(r,e,t={}){const o=new Rr;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(a,u,g,A,B){const z=new $l({next:Ne=>{u.enqueueAndForget(()=>Mg(a,ee));const bt=Ne.docs.has(g);!bt&&Ne.fromCache?B.reject(new Ut(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&Ne.fromCache&&A&&"server"===A.source?B.reject(new Ut(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),ee=new vs(Pc(g.path),z,{includeMetadataChanges:!0,Ku:!0});return Sd(a,ee)}(yield Fd(r),r.asyncQueue,e,t,o)})),o.promise}function up(r,e,t={}){const o=new Rr;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(a,u,g,A,B){const z=new $l({next:Ne=>{u.enqueueAndForget(()=>Mg(a,ee)),Ne.fromCache&&"server"===A.source?B.reject(new Ut(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),ee=new vs(g,z,{includeMetadataChanges:!0,Ku:!0});return Sd(a,ee)}(yield Fd(r),r.asyncQueue,e,t,o)})),o.promise}function Xa(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Qa=new Map;function dp(r,e,t){if(!t)throw new Ut(Dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Xg(r,e,t,o){if(!0===e&&!0===o)throw new Ut(Dt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ry(r){if(!pn.isDocumentKey(r))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Oy(r){if(pn.isDocumentKey(r))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":wn()}function ei(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ut(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(r);throw new Ut(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function fp(r,e){if(e<=0)throw new Ut(Dt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Ld{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xa(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Ut(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ut(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ut(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ld(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wl;switch(t.type){case"firstParty":return new Zl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ut(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qa.get(e);t&&(Xt("ComponentProvider","Removing Datastore"),Qa.delete(e),t.terminate())}(this),Promise.resolve()}}class Zi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}}class xs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class _l extends xs{constructor(e,t,o){super(e,t,Pc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new pn(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function Jg(r,e,...t){if(r=(0,Ve.m9)(r),dp("collection","path",e),r instanceof Lh){const o=Zr.fromString(e,...t);return Oy(o),new _l(r,null,o)}{if(!(r instanceof Zi||r instanceof _l))throw new Ut(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Zr.fromString(e,...t));return Oy(o),new _l(r.firestore,null,o)}}function gp(r,e,...t){if(r=(0,Ve.m9)(r),1===arguments.length&&(e=ua.A()),dp("doc","path",e),r instanceof Lh){const o=Zr.fromString(e,...t);return Ry(o),new Zi(r,null,new pn(o))}{if(!(r instanceof Zi||r instanceof _l))throw new Ut(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Zr.fromString(e,...t));return Ry(o),new Zi(r.firestore,r instanceof _l?r.converter:null,new pn(o))}}function em(r,e){return r=(0,Ve.m9)(r),e=(0,Ve.m9)(e),(r instanceof Zi||r instanceof _l)&&(e instanceof Zi||e instanceof _l)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function mp(r,e){return r=(0,Ve.m9)(r),e=(0,Ve.m9)(e),r instanceof xs&&e instanceof xs&&r.firestore===e.firestore&&za(r._query,e._query)&&r.converter===e.converter}class tm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ah(this,"async_queue_retry"),this.Xc=()=>{const t=Of();t&&Xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Of();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Of();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Rr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!gs(t))throw t;Xt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(u){let g=u.message||"";return u.stack&&(g=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),g}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Sg.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&wn()}verifyOperationInProgress(){}sa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Bd(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class nm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wi extends Lh{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new tm,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rm(this),this._firestoreClient.terminate()}}function xo(r){return r._firestoreClient||rm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function rm(r){var e,t,o;const a=r._freezeSettings(),u=(A=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new cl(r._databaseId,A,r._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,Xa(z.experimentalLongPollingOptions),z.useFetchStreams));var A,z;r._firestoreClient=new iE(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function ky(r,e,t){const o=new Rr;return r.asyncQueue.enqueue((0,te.Z)(function*(){try{yield zg(r,t),yield Wg(r,e),o.resolve()}catch(a){const u=a;if(!Sy(u))throw u;Br("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function Fy(r){if(r._initialized||r._terminated)throw new Ut(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(fo.fromBase64String(e))}catch(t){throw new Ut(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ec{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ut(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._methodName=e}}class yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const O_=/^__.*__$/;class Ly{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new pa(e,this.data,t,this.fieldTransforms)}}class im{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function om(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn()}}class $h{constructor(e,t,o,a,u,g){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new $h(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Dp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(om(this.ca)&&O_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class By{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||ga(e)}ya(e,t,o,a=!1){return new $h({ca:e,methodName:t,ga:o,path:Ni.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(r){const e=r._freezeSettings(),t=ga(r._databaseId);return new By(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Vh(r,e,t,o,a,u={}){const g=r.ya(u.merge||u.mergeFields?2:0,e,t,a);_p("Data must be an object, but it was:",g,o);const A=k_(o,g);let B,z;if(u.merge)B=new ns(g.fieldMask),z=g.fieldTransforms;else if(u.mergeFields){const ee=[];for(const Ne of u.mergeFields){const bt=Ep(e,Ne,t);if(!g.contains(bt))throw new Ut(Dt.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);Vy(ee,bt)||ee.push(bt)}B=new ns(ee),z=g.fieldTransforms.filter(Ne=>B.covers(Ne.field))}else B=null,z=g.fieldTransforms;return new Ly(new io(A),B,z)}class $d extends Uu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function sm(r,e,t){return new $h({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vp extends Uu{_toFieldTransform(e){return new _u(e.path,new Pl)}isEqual(e){return e instanceof vp}}class $y extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=sm(this,e,!0),o=this.pa.map(u=>Ic(u,t)),a=new cc(o);return new _u(e.path,a)}isEqual(e){return this===e}}class ju extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=sm(this,e,!0),o=this.pa.map(u=>Ic(u,t)),a=new uc(o);return new _u(e.path,a)}isEqual(e){return this===e}}class P_ extends Uu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new fa(e.serializer,Ms(e.serializer,this.Ia));return new _u(e.path,t)}isEqual(e){return this===e}}function am(r,e,t,o){const a=r.ya(1,e,t);_p("Data must be an object, but it was:",a,o);const u=[],g=io.empty();Ca(o,(B,z)=>{const ee=Ip(e,B,t);z=(0,Ve.m9)(z);const Ne=a.da(ee);if(z instanceof $d)u.push(ee);else{const bt=Ic(z,Ne);null!=bt&&(u.push(ee),g.set(ee,bt))}});const A=new ns(u);return new im(g,A,a.fieldTransforms)}function Qc(r,e,t,o,a,u){const g=r.ya(1,e,t),A=[Ep(e,o,t)],B=[a];if(u.length%2!=0)throw new Ut(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bt=0;bt<u.length;bt+=2)A.push(Ep(e,u[bt])),B.push(u[bt+1]);const z=[],ee=io.empty();for(let bt=A.length-1;bt>=0;--bt)if(!Vy(z,A[bt])){const Vt=A[bt];let en=B[bt];en=(0,Ve.m9)(en);const Sn=g.da(Vt);if(en instanceof $d)z.push(Vt);else{const Rn=Ic(en,Sn);null!=Rn&&(z.push(Vt),ee.set(Vt,Rn))}}const Ne=new ns(z);return new im(ee,Ne,g.fieldTransforms)}function N_(r,e,t,o=!1){return Ic(t,r.ya(o?4:3,e))}function Ic(r,e){if(lm(r=(0,Ve.m9)(r)))return _p("Unsupported field value:",e,r),k_(r,e);if(r instanceof Uu)return function(t,o){if(!om(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const g of t){let A=Ic(g,o.wa(u));null==A&&(A={nullValue:"NULL_VALUE"}),a.push(A),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,Ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ms(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Nr.fromDate(t);return{timestampValue:fd(o.serializer,a)}}if(t instanceof Nr){const a=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fd(o.serializer,a)}}if(t instanceof yp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:Am(o.serializer,t._byteString)};if(t instanceof Zi){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${hp(t)}`)}(r,e)}function k_(r,e){const t={};return tc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(r,(o,a)=>{const u=Ic(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function lm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Nr||r instanceof yp||r instanceof jl||r instanceof Zi||r instanceof Uu)}function _p(r,e,t){if(!lm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=hp(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ep(r,e,t){if((e=(0,Ve.m9)(e))instanceof Ec)return e._internalPath;if("string"==typeof e)return Ip(r,e);throw Dp("Field path arguments must be of type string or ",r,!1,void 0,t)}const pr=new RegExp("[~\\*/\\[\\]]");function Ip(r,e,t){if(e.search(pr)>=0)throw Dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw Dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Dp(r,e,t,o,a){const u=o&&!o.isEmpty(),g=void 0!==a;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let B="";return(u||g)&&(B+=" (found",u&&(B+=` in field ${o}`),g&&(B+=` in document ${a}`),B+=")"),new Ut(Dt.INVALID_ARGUMENT,A+r+B)}function Vy(r,e){return r.some(t=>t.isEqual(e))}class Hl{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new F_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class F_ extends Hl{data(){return super.data()}}function Hu(r,e){return"string"==typeof e?Ip(r,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}function Uh(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ut(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oo{}class wp extends oo{}function Dc(r,e,...t){let o=[];e instanceof oo&&o.push(e),o=o.concat(t),function(a){const u=a.filter(A=>A instanceof zu).length,g=a.filter(A=>A instanceof Vd).length;if(u>1||u>0&&g>0)throw new Ut(Dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Vd extends wp{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Vd(e,t,o)}_apply(e){const t=this._parse(e);return jd(e._query,t),new xs(e.firestore,e.converter,kc(e._query,t))}_parse(e){const t=Xc(e.firestore);return function(a,u,g,A,B,z,ee){let Ne;if(B.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Ut(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Ud(ee,z);const bt=[];for(const Vt of ee)bt.push(Hy(A,a,Vt));Ne={arrayValue:{values:bt}}}else Ne=Hy(A,a,ee)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Ud(ee,z),Ne=N_(g,"where",ee,"in"===z||"not-in"===z);return $r.create(B,z,Ne)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class zu extends oo{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zu(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const g=a.getFlattenedFilters();for(const A of g)jd(u,A),u=kc(u,A)}(e._query,t),new xs(e.firestore,e.converter,kc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bp extends wp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new Ut(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ut(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Va(a,u);return function(A,B){if(null===Nc(A)){const z=pu(A);null!==z&&zy(0,z,B.field)}}(o,g),g}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Ol(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Cp extends wp{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Cp(e,t,o)}_apply(e){return new xs(e.firestore,e.converter,mu(e._query,this._limit,this._limitType))}}class Tp extends wp{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Tp(e,t,o)}_apply(e){const t=cm(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(a=t,new Ol((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Gu extends wp{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Gu(e,t,o)}_apply(e){const t=cm(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(a=t,new Ol((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function cm(r,e,t,o){if(t[0]=(0,Ve.m9)(t[0]),t[0]instanceof Hl)return function(a,u,g,A,B){if(!A)throw new Ut(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const ee of Ha(a))if(ee.field.isKeyField())z.push(fe(u,A.key));else{const Ne=A.data.field(ee.field);if(xl(Ne))throw new Ut(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const bt=ee.field.canonicalString();throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}z.push(Ne)}return new So(z,B)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Xc(r.firestore);return function(u,g,A,B,z,ee){const Ne=u.explicitOrderBy;if(z.length>Ne.length)throw new Ut(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let Vt=0;Vt<z.length;Vt++){const en=z[Vt];if(Ne[Vt].field.isKeyField()){if("string"!=typeof en)throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof en}`);if(!gu(u)&&-1!==en.indexOf("/"))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${en}' contains a slash.`);const Sn=u.path.child(Zr.fromString(en));if(!pn.isDocumentKey(Sn))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Sn}' is not because it contains an odd number of segments.`);const Rn=new pn(Sn);bt.push(fe(g,Rn))}else{const Sn=N_(A,B,en);bt.push(Sn)}}return new So(bt,ee)}(r._query,r.firestore._databaseId,a,e,t,o)}}function Hy(r,e,t){if("string"==typeof(t=(0,Ve.m9)(t))){if(""===t)throw new Ut(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gu(e)&&-1!==t.indexOf("/"))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Zr.fromString(t));if(!pn.isDocumentKey(o))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return fe(r,new pn(o))}if(t instanceof Zi)return fe(r,t._key);throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(t)}.`)}function Ud(r,e){if(!Array.isArray(r)||0===r.length)throw new Ut(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jd(r,e){if(e.isInequality()){const o=pu(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Nc(r);null!==u&&zy(0,a,u)}const t=function(o,a){for(const u of o)for(const g of u.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ut(Dt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function zy(r,e,t){if(!t.isEqual(e))throw new Ut(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class um{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Ca(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new yp(Fi(e.latitude),Fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=nc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(as(e));default:return null}}convertTimestamp(e){const t=Sa(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Zr.fromString(e);Wn(Nm(o));const a=new Js(o.get(1),o.get(3)),u=new pn(o.popFirst(5));return a.isEqual(t)||Ei(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Hh(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Wy extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,t)}}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Hl{constructor(e,t,o,a,u,g){super(e,t,o,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Hu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Sp extends Jc{data(e={}){return super.data(e)}}class Wu{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hd(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Sp(this._firestore,this._userDataWriter,o.key,o,new Hd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Sp(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hd(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const A=new Sp(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hd(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,z=-1;return 0!==g.type&&(B=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),1!==g.type&&(u=u.add(g.doc),z=u.indexOf(g.doc.key)),{type:Ky(g.type),doc:A,oldIndex:B,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ky(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn()}}function zh(r,e){return r instanceof Jc&&e instanceof Jc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Wu&&e instanceof Wu&&r._firestore===e._firestore&&mp(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class eu extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,t)}}function Zy(r,e,t){r=ei(r,Zi);const o=ei(r.firestore,Wi),a=Hh(r.converter,e,t);return zl(o,[Vh(Xc(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Li.none())])}function Y_(r,e,t,...o){r=ei(r,Zi);const a=ei(r.firestore,Wi),u=Xc(a);let g;return g="string"==typeof(e=(0,Ve.m9)(e))||e instanceof Ec?Qc(u,"updateDoc",r._key,e,t,o):am(u,"updateDoc",r._key,e),zl(a,[g.toMutation(r._key,Li.exists(!0))])}function Qy(r,...e){var t,o,a;r=(0,Ve.m9)(r);let u={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Bd(e[g])||(u=e[g],g++);const A={includeMetadataChanges:u.includeMetadataChanges};if(Bd(e[g])){const Ne=e[g];e[g]=null===(t=Ne.next)||void 0===t?void 0:t.bind(Ne),e[g+1]=null===(o=Ne.error)||void 0===o?void 0:o.bind(Ne),e[g+2]=null===(a=Ne.complete)||void 0===a?void 0:a.bind(Ne)}let B,z,ee;if(r instanceof Zi)z=ei(r.firestore,Wi),ee=Pc(r._key.path),B={next:Ne=>{e[g]&&e[g](dm(z,r,Ne))},error:e[g+1],complete:e[g+2]};else{const Ne=ei(r,xs);z=ei(Ne.firestore,Wi),ee=Ne._query;const bt=new eu(z);B={next:Vt=>{e[g]&&e[g](new Wu(z,bt,Ne,Vt))},error:e[g+1],complete:e[g+2]},Uh(r._query)}return function(Ne,bt,Vt,en){const Sn=new $l(en),Rn=new vs(bt,Sn,Vt);return Ne.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Sd(yield Fd(Ne),Rn)})),()=>{Sn.Dc(),Ne.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Mg(yield Fd(Ne),Rn)}))}}(xo(z),ee,A,B)}function zl(r,e){return function(t,o){const a=new Rr;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function vy(r,e,t){return Uf.apply(this,arguments)}(yield cp(t),o,a)})),a.promise}(xo(r),e)}function dm(r,e,t){const o=t.docs.get(e._key),a=new eu(r);return new Jc(r,a,e._key,o,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}const l0={maxAttempts:5};class hm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xc(e)}set(e,t,o){this._verifyNotCommitted();const a=tu(e,this._firestore),u=Hh(a.converter,t,o),g=Vh(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(g.toMutation(a._key,Li.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=tu(e,this._firestore);let g;return g="string"==typeof(t=(0,Ve.m9)(t))||t instanceof Ec?Qc(this._dataReader,"WriteBatch.update",u._key,t,o,a):am(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(g.toMutation(u._key,Li.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tu(e,this._firestore);return this._mutations=this._mutations.concat(new v(t._key,Li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tu(r,e){if((r=(0,Ve.m9)(r)).firestore!==e)throw new Ut(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class c0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xc(e)}get(e){const t=tu(e,this._firestore),o=new Wy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return wn();const u=a[0];if(u.isFoundDocument())return new Hl(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new Hl(this._firestore,o,t._key,null,t.converter);throw wn()})}set(e,t,o){const a=tu(e,this._firestore),u=Hh(a.converter,t,o),g=Vh(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,g),this}update(e,t,o,...a){const u=tu(e,this._firestore);let g;return g="string"==typeof(t=(0,Ve.m9)(t))||t instanceof Ec?Qc(this._dataReader,"Transaction.update",u._key,t,o,a):am(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,g),this}delete(e){const t=tu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tu(e,this._firestore),o=new eu(this._firestore);return super.get(e).then(a=>new Jc(this._firestore,o,t._key,a._document,new Hd(!1,!1),t.converter))}}!function(r,e=!0){es=ot.SDK_VERSION,(0,ot._registerComponent)(new Xe.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),g=new Wi(new Vs(t.getProvider("auth-internal")),new ol(t.getProvider("app-check-internal")),function(A,B){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Ut(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(A.options.projectId,B)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Kl,"3.12.0",r),(0,ot.registerVersion)(Kl,"3.12.0","esm2017")}();function fm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ut("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function ov(){if(typeof Uint8Array>"u")throw new Ut("unimplemented","Uint8Arrays are not available in this environment.")}function sv(){if(!function Zh(){return typeof atob<"u"}())throw new Ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qu{constructor(e){this._delegate=e}static fromBase64String(e){return sv(),new qu(jl.fromBase64String(e))}static fromUint8Array(e){return ov(),new qu(jl.fromUint8Array(e))}toBase64(){return sv(),this._delegate.toBase64()}toUint8Array(){return ov(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wh(r){return function av(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class pm{enableIndexedDbPersistence(e,t){return function Ny(r,e){Fy(r=ei(r,Wi));const t=xo(r);if(t._uninitializedComponentsProvider)throw new Ut(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");Br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new kd;return ky(t,a,new Bl(a,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function b_(r){Fy(r=ei(r,Wi));const e=xo(r);if(e._uninitializedComponentsProvider)throw new Ut(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");Br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new kd;return ky(e,o,new Ty(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C_(r){if(r._initialized&&!r._terminated)throw new Ut(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(t=(0,te.Z)(function*(o){if(!Vo.D())return Promise.resolve();const a=o+"main";yield Vo.delete(a)}),function(o){return t.apply(this,arguments)})(Tf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lv{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Js||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Qg(r,e,t,o={}){var a;const u=(r=ei(r,Lh))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Br("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,A;if("string"==typeof o.mockUserToken)g=o.mockUserToken,A=bi.MOCK_USER;else{g=(0,Ve.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new Ut(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new bi(B)}r._authCredentials=new Pa(new ca(g,A))}}(this._delegate,e,t,o)}enableNetwork(){return function S_(r){return function Ay(r){return r.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield Kg(r),t=yield Yg(r);return e.setNetworkEnabled(!0),function(o){const a=Dn(o);return a.vu.delete(0),Mh(a)}(t)}))}(xo(r=ei(r,Wi)))}(this._delegate)}disableNetwork(){return function A_(r){return function v_(r){return r.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield Kg(r),t=yield Yg(r);return e.setNetworkEnabled(!1),(o=(0,te.Z)(function*(a){const u=Dn(a);u.vu.add(0),yield mc(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(xo(r=ei(r,Wi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Xg("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function T_(r){return function(e){const t=new Rr;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function Ng(r,e){return Fh.apply(this,arguments)}(yield cp(e),t)})),t.promise}(xo(r=ei(r,Wi)))}(this._delegate)}onSnapshotsInSync(e){return function X_(r,e){return function Vl(r,e){const t=new $l(e);return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return o=yield Fd(r),a=t,Dn(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return o=yield Fd(r),a=t,void Dn(o).ku.delete(a);var o,a}))}}(xo(r=ei(r,Wi)),Bd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nu(this,Jg(this._delegate,e))}catch(t){throw ra(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,gp(this._delegate,e))}catch(t){throw ra(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function pp(r,e){if(r=ei(r,Lh),dp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(r,null,(t=e,new Ol(Zr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ra(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function u0(r,e,t){r=ei(r,Wi);const o=Object.assign(Object.assign({},l0),t);return function(a){if(a.maxAttempts<1)throw new Ut(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,g){const A=new Rr;return a.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const B=yield function Vu(r){return ap(r).then(e=>e.datastore)}(a);new Hg(a.asyncQueue,B,g,u,A).run()})),A.promise}(xo(r),a=>e(new c0(r,a)),o)}(this._delegate,t=>e(new cv(this,t)))}batch(){return xo(this._delegate),new mm(new hm(this._delegate,e=>zl(this._delegate,e)))}loadBundle(e){return function M_(r,e){const t=xo(r=ei(r,Wi)),o=new nm;return function E_(r,e,t,o){const a=function(u,g){let A;return A="string"==typeof u?ta().encode(u):u,B=function(B,z){if(B instanceof Uint8Array)return ip(B,z);if(B instanceof ArrayBuffer)return ip(new Uint8Array(B),z);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new jg(B,g);var B}(t,ga(e));r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function Cy(r,e,t){const o=Dn(r);var a;(a=(0,te.Z)(function*(u,g,A){try{const B=yield g.getMetadata();if(yield function(bt,Vt){const en=Dn(bt),Sn=Mo(Vt.createTime);return en.persistence.runTransaction("hasNewerBundle","readonly",Rn=>en.qs.getBundleMetadata(Rn,Vt.id)).then(Rn=>!!Rn&&Rn.createTime.compareTo(Sn)>=0)}(u.localStore,B))return yield g.close(),A._completeWith({taskState:"Success",documentsLoaded:(bt=B).totalDocuments,bytesLoaded:bt.totalBytes,totalDocuments:bt.totalDocuments,totalBytes:bt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Bf(B));const z=new Za(B,u.localStore,g.serializer);let ee=yield g.bc();for(;ee;){const bt=yield z.zu(ee);bt&&A._updateProgress(bt),ee=yield g.bc()}const Ne=yield z.complete();return yield vl(u,Ne.Ju,void 0),yield function(bt,Vt){const en=Dn(bt);return en.persistence.runTransaction("Save bundle","readwrite",Sn=>en.qs.saveBundleMetadata(Sn,Vt))}(u.localStore,B),A._completeWith(Ne.progress),Promise.resolve(Ne.Hu)}catch(B){return Br("SyncEngine",`Loading bundle failed with ${B}`),A._failWith(B),Promise.resolve(new Set)}var bt}),function(u,g,A){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield cp(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function x_(r,e){return function I_(r,e){return r.asyncQueue.enqueue((0,te.Z)(function*(){return function(t,o){const a=Dn(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield lp(r),e)}))}(xo(r=ei(r,Wi)),e).then(t=>t?new xs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class Ap extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class cv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}get(e){const t=ru(e);return this._delegate.get(t).then(o=>new Ku(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=ru(e);return o?(fm("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=ru(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}}class mm{constructor(e){this._delegate=e}set(e,t,o){const a=ru(e);return o?(fm("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=ru(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ja{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qh(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ja.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Ja(e,new Ap(e),t),a.set(t,u)),u}}Ja.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new Zi(t._delegate,o,new pn(e)))}static forKey(e,t,o){return new xa(t,new Zi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new nu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nu(this.firestore,Jg(this._delegate,e))}catch(t){throw ra(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ve.m9)(e))instanceof Zi&&em(this._delegate,e)}set(e,t){t=fm("DocumentReference.set",t);try{return t?Zy(this._delegate,e,t):Zy(this._delegate,e)}catch(o){throw ra(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Y_(this._delegate,e):Y_(this._delegate,e,t,...o)}catch(a){throw ra(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Z_(r){return zl(ei(r.firestore,Wi),[new v(r._key,Li.none())])}(this._delegate)}onSnapshot(...e){const t=_0(e),o=ym(e,a=>new Ku(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Qy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Yy(r){r=ei(r,Zi);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return function My(r,e){const t=new Rr;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(o=(0,te.Z)(function*(a,u,g){try{const A=yield function(B,z){const ee=Dn(B);return ee.persistence.runTransaction("read document","readonly",Ne=>ee.localDocuments.getDocument(Ne,z))}(a,u);A.isFoundDocument()?g.resolve(A):A.isNoDocument()?g.resolve(null):g.reject(new Ut(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const B=Pu(A,`Failed to get document '${u} from cache`);g.reject(B)}}),function(a,u,g){return o.apply(this,arguments)})(yield lp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new Jc(e,o,r._key,a,new Hd(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Gh(r){r=ei(r,Zi);const e=ei(r.firestore,Wi);return __(xo(e),r._key,{source:"server"}).then(t=>dm(e,r,t))}(this._delegate):function G_(r){r=ei(r,Zi);const e=ei(r.firestore,Wi);return __(xo(e),r._key).then(t=>dm(e,r,t))}(this._delegate),t.then(o=>new Ku(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}function ra(r,e,t){return r.message=r.message.replace(e,t),r}function _0(r){for(const e of r)if("object"==typeof e&&!Wh(e))return e;return{}}function ym(r,e){var t,o;let a;return a=Wh(r[0])?r[0]:Wh(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Ku{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zh(this._delegate,e._delegate)}}class qh extends Ku{data(e){const t=this._delegate.data(e);return function Dl(r,e){r||wn()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}where(e,t,o){try{return new Rs(this.firestore,Dc(this._delegate,function L_(r,e,t){const o=e,a=Hu("where",r);return Vd._create(a,o,t)}(e,t,o)))}catch(a){throw ra(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,Dc(this._delegate,function V_(r,e="asc"){const t=e,o=Hu("orderBy",r);return bp._create(o,t)}(e,t)))}catch(o){throw ra(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,Dc(this._delegate,function U_(r){return fp("limit",r),Cp._create("limit",r,"F")}(e)))}catch(t){throw ra(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,Dc(this._delegate,function jh(r){return fp("limitToLast",r),Cp._create("limitToLast",r,"L")}(e)))}catch(t){throw ra(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,Dc(this._delegate,function j_(...r){return Tp._create("startAt",r,!0)}(...e)))}catch(t){throw ra(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,Dc(this._delegate,function H_(...r){return Tp._create("startAfter",r,!1)}(...e)))}catch(t){throw ra(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,Dc(this._delegate,function Uy(...r){return Gu._create("endBefore",r,!1)}(...e)))}catch(t){throw ra(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,Dc(this._delegate,function jy(...r){return Gu._create("endAt",r,!0)}(...e)))}catch(t){throw ra(t,"endAt()","Query.endAt()")}}isEqual(e){return mp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function q_(r){r=ei(r,xs);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return function xy(r,e){const t=new Rr;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(o=(0,te.Z)(function*(a,u,g){try{const A=yield Ch(a,u,!0),B=new $u(u,A.ir),z=B.sc(A.documents),ee=B.applyChanges(z,!1);g.resolve(ee.snapshot)}catch(A){const B=Pu(A,`Failed to execute query '${u} against cache`);g.reject(B)}}),function(a,u,g){return o.apply(this,arguments)})(yield lp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Wu(e,o,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function K_(r){r=ei(r,xs);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return up(t,r._query,{source:"server"}).then(a=>new Wu(e,o,r,a))}(this._delegate):function W_(r){r=ei(r,xs);const e=ei(r.firestore,Wi),t=xo(e),o=new eu(e);return Uh(r._query),up(t,r._query).then(a=>new Wu(e,o,r,a))}(this._delegate),t.then(o=>new Mp(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=_0(e),o=ym(e,a=>new Mp(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Qy(this._delegate,t,o)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new E0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new qh(this._firestore,o))})}isEqual(e){return zh(this._delegate,e._delegate)}}class nu extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?gp(this._delegate):gp(this._delegate,e))}catch(t){throw ra(t,"doc()","CollectionReference.doc()")}}add(e){return function Xy(r,e){const t=ei(r.firestore,Wi),o=gp(r),a=Hh(r.converter,e);return zl(t,[Vh(Xc(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,Li.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return em(this._delegate,e._delegate)}withConverter(e){return new nu(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}function ru(r){return ei(r,Zi)}class xp{constructor(...e){this._delegate=new Ec(...e)}static documentId(){return new xp(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,Ve.m9)(e))instanceof Ec&&this._delegate._internalPath.isEqual(e._internalPath)}}class iu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function h0(){return new vp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new iu(e)}static delete(){const e=function d0(){return new $d("deleteField")}();return e._methodName="FieldValue.delete",new iu(e)}static arrayUnion(...e){const t=function f0(...r){return new $y("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new iu(t)}static arrayRemove(...e){const t=function p0(...r){return new ju("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new iu(t)}static increment(e){const t=function g0(r){return new P_("increment",r)}(e);return t._methodName="FieldValue.increment",new iu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uv={Firestore:lv,GeoPoint:yp,Timestamp:Nr,Blob:qu,Transaction:cv,WriteBatch:mm,DocumentReference:xa,DocumentSnapshot:Ku,Query:Rs,QueryDocumentSnapshot:qh,QuerySnapshot:Mp,CollectionReference:nu,FieldPath:xp,FieldValue:iu,setLogLevel:function gm(r){!function il(r){$o.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function D0(r){(function I0(r,e){r.INTERNAL.registerComponent(new Xe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},uv)))})(r,(e,t)=>new lv(e,t,new pm)),r.registerVersion("@firebase/firestore-compat","0.3.9")}(ye.Z);var ou=F(1205),w0=F(6217),dv=F(9260);function vm(r,e){return function dE(r,e=h.z){return new W.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,e)}function _m(r,e){return vm(r,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function Em(r,e){return _m(r,e).pipe((0,le.O)(void 0),he(),(0,se.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,A)=>{const B=a.find(ee=>ee.doc.ref.isEqual(g.ref)),z=null==t?void 0:t.payload.docs.find(ee=>ee.ref.isEqual(g.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(g.metadata)||!B&&z&&JSON.stringify(z.metadata)===JSON.stringify(g.metadata)||u.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:g}})}),u}))}function hv(r,e,t){return Em(r,t).pipe((0,ae.R)((o,a)=>function C0(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function fv(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Rp(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Rp(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Rp(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,Oe.x)(),(0,se.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Rp(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function pv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class gv{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Em(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,le.O)(void 0),he(),(0,me.h)(([o,a])=>a.length>0||!o),(0,se.U)(([o,a])=>a),we.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=pv(e);return hv(this.query,t,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(e={}){return _m(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),we.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(we.iC)}add(e){return this.ref.add(e)}doc(e){return new mv(this.ref.doc(e),this.afs)}}class mv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=zd(o,t);return new gv(a,u,this.afs)}snapshotChanges(){return function b0(r,e){return vm(r,e).pipe((0,le.O)(void 0),he(),(0,se.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(we.iC)}}class T0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Em(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,me.h)(t=>t.length>0),we.iC):Em(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=pv(e);return hv(this.query,t,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(e={}){return _m(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),we.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(we.iC)}}const yv=new m.OlP("angularfire2.enableFirestorePersistence"),vv=new m.OlP("angularfire2.firestore.persistenceSettings"),S0=new m.OlP("angularfire2.firestore.settings"),A0=new m.OlP("angularfire2.firestore.use-emulator");function zd(r,e=(t=>t)){return{query:e(r),ref:r}}let Im=(()=>{class r{constructor(t,o,a,u,g,A,B,z,ee,Ne,bt,Vt,en,Sn,Rn,br,ni){this.schedulers=B;const kr=(0,We.on)(t,A,o),po=ee;Ne&&(0,ou.nw)(kr,A,bt,en,Sn,Rn,Vt,br),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${kr.name}.firestore`,"AngularFirestore",kr.name,()=>{const Ai=A.runOutsideAngular(()=>kr.firestore());if(u&&Ai.settings(u),po&&Ai.useEmulator(...po),a&&!(0,mt.PM)(g)){const Si=()=>{try{return(0,ne.D)(Ai.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(Ks){return typeof console<"u"&&console.warn(Ks),(0,Ae.of)(!1)}};return[Ai,A.runOutsideAngular(Si)]}return[Ai,(0,Ae.of)(!1)]},[u,po,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:g}=zd(a,o),A=this.schedulers.ngZone.run(()=>u);return new gv(A,g,this)}collectionGroup(t,o){const a=o||(g=>g),u=this.firestore.collectionGroup(t);return new T0(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new mv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(m.LFG(We.Dh),m.LFG(We.xv,8),m.LFG(yv,8),m.LFG(S0,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(we.HU),m.LFG(vv,8),m.LFG(A0,8),m.LFG(ou.zQ,8),m.LFG(ou.Qv,8),m.LFG(ou.L6,8),m.LFG(ou._Q,8),m.LFG(ou.rT,8),m.LFG(ou.lh,8),m.LFG(ou.f7,8),m.LFG(w0.nm,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),_v=(()=>{class r{constructor(){dv.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:yv,useValue:!0},{provide:vv,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({providers:[Im]}),r})()},2011:(on,st,F)=>{"use strict";F.d(st,{Dh:()=>xe,GT:()=>we,cc:()=>me,hO:()=>Oe,on:()=>he,pX:()=>Ae,xv:()=>Re});var m=F(4650),h=F(9260),W=F(4976);on=F.hmd(on);const ne=["ngOnDestroy"],Ae=(ye,te,ot,Xe={})=>new Proxy(ye,{get:(qe,Ve)=>ot.runOutsideAngular(()=>{var yt;if(ye[Ve])return!(null===(yt=null==Xe?void 0:Xe.spy)||void 0===yt)&&yt.get&&Xe.spy.get(Ve,ye[Ve]),ye[Ve];if(ne.indexOf(Ve)>-1)return()=>{};const Se=te.toPromise().then(Ee=>{const Ie=Ee&&Ee[Ve];return"function"==typeof Ie?Ie.bind(Ee):Ie&&Ie.then?Ie.then(ve=>ot.run(()=>ve)):ot.run(()=>Ie)});return new Proxy(()=>{},{get:(Ee,Ie)=>Se[Ie],apply:(Ee,Ie,ve)=>Se.then(Be=>{var rt;const ct=Be&&Be(...ve);return!(null===(rt=null==Xe?void 0:Xe.spy)||void 0===rt)&&rt.apply&&Xe.spy.apply(Ve,ve,ct),ct})})})}),we=(ye,te)=>{te.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Xe=>{Object.defineProperty(ye.prototype,Xe,Object.getOwnPropertyDescriptor(ot.prototype||ot,Xe))})})};class le{constructor(te){return te}}const xe=new m.OlP("angularfire2.app.options"),Re=new m.OlP("angularfire2.app.name");function he(ye,te,ot){const qe="object"==typeof ot&&ot||{};qe.name=qe.name||"string"==typeof ot&&ot||"[DEFAULT]";const yt=h.Z.apps.filter(Se=>Se&&Se.name===qe.name)[0]||te.runOutsideAngular(()=>h.Z.initializeApp(ye,qe));try{JSON.stringify(ye)!==JSON.stringify(yt.options)&&se("error",`${yt.name} Firebase App already initialized with different options${on.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(yt)}const se=(ye,...te)=>{(0,m.X6Q)()&&typeof console<"u"&&console[ye](...te)},ae={provide:le,useFactory:he,deps:[xe,m.R0b,[new m.FiY,Re]]};let Oe=(()=>{class ye{constructor(ot){h.Z.registerVersion("angularfire",W.q4.full,"core"),h.Z.registerVersion("angularfire",W.q4.full,"app-compat"),h.Z.registerVersion("angular",m.q4F.full,ot.toString())}static initializeApp(ot,Xe){return{ngModule:ye,providers:[{provide:xe,useValue:ot},{provide:Re,useValue:Xe}]}}}return ye.\u0275fac=function(ot){return new(ot||ye)(m.LFG(m.Lbi))},ye.\u0275mod=m.oAB({type:ye}),ye.\u0275inj=m.cJS({providers:[ae]}),ye})();function me(ye,te,ot,Xe,qe){const[,Ve,yt]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===ye)||[];if(Ve)return function We(ye,te){try{return ye.toString()===te.toString()}catch{return ye===te}}(qe,yt)||(be("error",`${te} was already initialized on the ${ot} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:qe,was:yt})),Ve;{const Se=Xe();return globalThis.\u0275AngularfireInstanceCache.push([ye,Se,qe]),Se}}const mt=!!on.hot,be=(ye,...te)=>{(0,m.X6Q)()&&typeof console<"u"&&console[ye](...te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(on,st,F)=>{"use strict";F.d(st,{q4:()=>hi,iC:()=>ea,HU:()=>as,vb:()=>Fi,JM:()=>Sa});var m=F(4650),h=F(259),W=F(5861),ne=F(6881),Ae=F(2090),we=F(4859),le=F(1877);const xe=(T,P)=>P.some(H=>T instanceof H);let Re,he;const Oe=new WeakMap,me=new WeakMap,We=new WeakMap,mt=new WeakMap,be=new WeakMap;let ot={get(T,P,H){if(T instanceof IDBTransaction){if("done"===P)return me.get(T);if("objectStoreNames"===P)return T.objectStoreNames||We.get(T);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return yt(T[P])},set:(T,P,H)=>(T[P]=H,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function Ve(T){return"function"==typeof T?function qe(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(Se(this),P),yt(Oe.get(this))}:function(...P){return yt(T.apply(Se(this),P))}:function(P,...H){const fe=T.call(Se(this),P,...H);return We.set(fe,P.sort?P.sort():[P]),yt(fe)}}(T):(T instanceof IDBTransaction&&function te(T){if(me.has(T))return;const P=new Promise((H,fe)=>{const Ze=()=>{T.removeEventListener("complete",dt),T.removeEventListener("error",xt),T.removeEventListener("abort",xt)},dt=()=>{H(),Ze()},xt=()=>{fe(T.error||new DOMException("AbortError","AbortError")),Ze()};T.addEventListener("complete",dt),T.addEventListener("error",xt),T.addEventListener("abort",xt)});me.set(T,P)}(T),xe(T,function se(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ot):T)}function yt(T){if(T instanceof IDBRequest)return function ye(T){const P=new Promise((H,fe)=>{const Ze=()=>{T.removeEventListener("success",dt),T.removeEventListener("error",xt)},dt=()=>{H(yt(T.result)),Ze()},xt=()=>{fe(T.error),Ze()};T.addEventListener("success",dt),T.addEventListener("error",xt)});return P.then(H=>{H instanceof IDBCursor&&Oe.set(H,T)}).catch(()=>{}),be.set(P,T),P}(T);if(mt.has(T))return mt.get(T);const P=Ve(T);return P!==T&&(mt.set(T,P),be.set(P,T)),P}const Se=T=>be.get(T),ve=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],rt=new Map;function ct(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(rt.get(P))return rt.get(P);const H=P.replace(/FromIndex$/,""),fe=P!==H,Ze=Be.includes(H);if(!(H in(fe?IDBIndex:IDBObjectStore).prototype)||!Ze&&!ve.includes(H))return;const dt=function(){var xt=(0,W.Z)(function*(vn,...fn){const $n=this.transaction(vn,Ze?"readwrite":"readonly");let gr=$n.store;return fe&&(gr=gr.index(fn.shift())),(yield Promise.all([gr[H](...fn),Ze&&$n.done]))[0]});return function(fn){return xt.apply(this,arguments)}}();return rt.set(P,dt),dt}!function Xe(T){ot=T(ot)}(T=>({...T,get:(P,H,fe)=>ct(P,H)||T.get(P,H,fe),has:(P,H)=>!!ct(P,H)||T.has(P,H)}));const Je="@firebase/installations",ht="0.6.4",it=1e4,De=`w:${ht}`,Te="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",Qe=36e5,sn=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(T){return T instanceof Ae.ZR&&T.code.includes("request-failed")}function pe({projectId:T}){return`${Ce}/projects/${T}/installations`}function vt(T){return{token:T.token,requestStatus:2,expiresIn:Kn(T.expiresIn),creationTime:Date.now()}}function Zt(T,P){return hn.apply(this,arguments)}function hn(){return(hn=(0,W.Z)(function*(T,P){const fe=(yield P.json()).error;return sn.create("request-failed",{requestName:T,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function xn({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Wt(T){return _n.apply(this,arguments)}function _n(){return(_n=(0,W.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Kn(T){return Number(T.replace("s","000"))}function nn(){return(nn=(0,W.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:H}){const fe=pe(T),Ze=xn(T),dt=P.getImmediate({optional:!0});if(dt){const $n=yield dt.getHeartbeatsHeader();$n&&Ze.append("x-firebase-client",$n)}const vn={method:"POST",headers:Ze,body:JSON.stringify({fid:H,authVersion:Te,appId:T.appId,sdkVersion:De})},fn=yield Wt(()=>fetch(fe,vn));if(fn.ok){const $n=yield fn.json();return{fid:$n.fid||H,registrationStatus:2,refreshToken:$n.refreshToken,authToken:vt($n.authToken)}}throw yield Zt("Create Installation",fn)})).apply(this,arguments)}function bn(T){return new Promise(P=>{setTimeout(P,T)})}const lr=/^[cdef][\w-]{21}$/,Gr="";function ri(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const H=function On(T){return function Vr(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return lr.test(H)?H:Gr}catch{return Gr}}function jn(T){return`${T.appName}!${T.appId}`}const Ht=new Map;function an(T,P){const H=jn(T);cr(H,P),function Lr(T,P){const H=function Wr(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=T=>{cr(T.data.key,T.data.fid)}),Ar}();H&&H.postMessage({key:T,fid:P}),function vr(){0===Ht.size&&Ar&&(Ar.close(),Ar=null)}()}(H,P)}function cr(T,P){const H=Ht.get(T);if(H)for(const fe of H)fe(P)}let Ar=null;const qr="firebase-installations-database",qn=1,Hn="firebase-installations-store";let rr=null;function ti(){return rr||(rr=function Ee(T,P,{blocked:H,upgrade:fe,blocking:Ze,terminated:dt}={}){const xt=indexedDB.open(T,P),vn=yt(xt);return fe&&xt.addEventListener("upgradeneeded",fn=>{fe(yt(xt.result),fn.oldVersion,fn.newVersion,yt(xt.transaction))}),H&&xt.addEventListener("blocked",()=>H()),vn.then(fn=>{dt&&fn.addEventListener("close",()=>dt()),Ze&&fn.addEventListener("versionchange",()=>Ze())}).catch(()=>{}),vn}(qr,qn,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Hn)}})),rr}function _r(T,P){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,W.Z)(function*(T,P){const H=jn(T),Ze=(yield ti()).transaction(Hn,"readwrite"),dt=Ze.objectStore(Hn),xt=yield dt.get(H);return yield dt.put(P,H),yield Ze.done,(!xt||xt.fid!==P.fid)&&an(T,P.fid),P})).apply(this,arguments)}function Le(T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,W.Z)(function*(T){const P=jn(T),fe=(yield ti()).transaction(Hn,"readwrite");yield fe.objectStore(Hn).delete(P),yield fe.done})).apply(this,arguments)}function Nt(T,P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,W.Z)(function*(T,P){const H=jn(T),Ze=(yield ti()).transaction(Hn,"readwrite"),dt=Ze.objectStore(Hn),xt=yield dt.get(H),vn=P(xt);return void 0===vn?yield dt.delete(H):yield dt.put(vn,H),yield Ze.done,vn&&(!xt||xt.fid!==vn.fid)&&an(T,vn.fid),vn})).apply(this,arguments)}function ue(T){return ce.apply(this,arguments)}function ce(){return ce=(0,W.Z)(function*(T){let P;const H=yield Nt(T.appConfig,fe=>{const Ze=function ke(T){return He(T||{fid:ri(),registrationStatus:0})}(fe),dt=function ft(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(sn.create("app-offline"))};const H={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},fe=function tt(T,P){return Gt.apply(this,arguments)}(T,H);return{installationEntry:H,registrationPromise:fe}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:je(T)}:{installationEntry:P}}(T,Ze);return P=dt.registrationPromise,dt.installationEntry});return H.fid===Gr?{installationEntry:yield P}:{installationEntry:H,registrationPromise:P}}),ce.apply(this,arguments)}function Gt(){return Gt=(0,W.Z)(function*(T,P){try{const H=yield function Bn(T,P){return nn.apply(this,arguments)}(T,P);return _r(T.appConfig,H)}catch(H){throw gt(H)&&409===H.customData.serverCode?yield Le(T.appConfig):yield _r(T.appConfig,{fid:P.fid,registrationStatus:0}),H}}),Gt.apply(this,arguments)}function je(T){return Me.apply(this,arguments)}function Me(){return(Me=(0,W.Z)(function*(T){let P=yield oe(T.appConfig);for(;1===P.registrationStatus;)yield bn(100),P=yield oe(T.appConfig);if(0===P.registrationStatus){const{installationEntry:H,registrationPromise:fe}=yield ue(T);return fe||H}return P})).apply(this,arguments)}function oe(T){return Nt(T,P=>{if(!P)throw sn.create("installation-not-found");return He(P)})}function He(T){return function Tt(T){return 1===T.registrationStatus&&T.registrationTime+it<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function dn(){return(dn=(0,W.Z)(function*({appConfig:T,heartbeatServiceProvider:P},H){const fe=function Vn(T,{fid:P}){return`${pe(T)}/${P}/authTokens:generate`}(T,H),Ze=function un(T,{refreshToken:P}){const H=xn(T);return H.append("Authorization",function ir(T){return`${Te} ${T}`}(P)),H}(T,H),dt=P.getImmediate({optional:!0});if(dt){const $n=yield dt.getHeartbeatsHeader();$n&&Ze.append("x-firebase-client",$n)}const vn={method:"POST",headers:Ze,body:JSON.stringify({installation:{sdkVersion:De,appId:T.appId}})},fn=yield Wt(()=>fetch(fe,vn));if(fn.ok)return vt(yield fn.json());throw yield Zt("Generate Auth Token",fn)})).apply(this,arguments)}function Yn(T){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,W.Z)(function*(T,P=!1){let H;const fe=yield Nt(T.appConfig,dt=>{if(!er(dt))throw sn.create("not-registered");const xt=dt.authToken;if(!P&&function En(T){return 2===T.requestStatus&&!function or(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+Qe}(T)}(xt))return dt;if(1===xt.requestStatus)return H=function At(T,P){return pt.apply(this,arguments)}(T,P),dt;{if(!navigator.onLine)throw sn.create("app-offline");const vn=function tr(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}(dt);return H=function yn(T,P){return Cn.apply(this,arguments)}(T,vn),vn}});return H?yield H:fe.authToken}),Ir.apply(this,arguments)}function pt(){return(pt=(0,W.Z)(function*(T,P){let H=yield jt(T.appConfig);for(;1===H.authToken.requestStatus;)yield bn(100),H=yield jt(T.appConfig);const fe=H.authToken;return 0===fe.requestStatus?Yn(T,P):fe})).apply(this,arguments)}function jt(T){return Nt(T,P=>{if(!er(P))throw sn.create("not-registered");return function zn(T){return 1===T.requestStatus&&T.requestTime+it<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function Cn(){return Cn=(0,W.Z)(function*(T,P){try{const H=yield function qt(T,P){return dn.apply(this,arguments)}(T,P),fe=Object.assign(Object.assign({},P),{authToken:H});return yield _r(T.appConfig,fe),H}catch(H){if(!gt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const fe=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield _r(T.appConfig,fe)}else yield Le(T.appConfig);throw H}}),Cn.apply(this,arguments)}function er(T){return void 0!==T&&2===T.registrationStatus}function qi(){return(qi=(0,W.Z)(function*(T){const P=T,{installationEntry:H,registrationPromise:fe}=yield ue(P);return fe?fe.catch(console.error):Yn(P).catch(console.error),H.fid})).apply(this,arguments)}function xi(){return xi=(0,W.Z)(function*(T,P=!1){const H=T;return yield function fi(T){return ln.apply(this,arguments)}(H),(yield Yn(H,P)).token}),xi.apply(this,arguments)}function ln(){return(ln=(0,W.Z)(function*(T){const{registrationPromise:P}=yield ue(T);P&&(yield P)})).apply(this,arguments)}function de(T){return sn.create("missing-app-config-values",{valueName:T})}const Pe="installations",$e=T=>{const P=T.getProvider("app").getImmediate(),H=function Z(T){if(!T||!T.options)throw de("App Configuration");if(!T.name)throw de("App Name");const P=["projectId","apiKey","appId"];for(const H of P)if(!T.options[H])throw de(H);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:H,heartbeatServiceProvider:(0,ne._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Fe=T=>{const P=T.getProvider("app").getImmediate(),H=(0,ne._getProvider)(P,Pe).getImmediate();return{getId:()=>function Pn(T){return qi.apply(this,arguments)}(H),getToken:Ze=>function Mi(T){return xi.apply(this,arguments)}(H,Ze)}};(function _t(){(0,ne._registerComponent)(new we.wA(Pe,$e,"PUBLIC")),(0,ne._registerComponent)(new we.wA("installations-internal",Fe,"PRIVATE"))})(),(0,ne.registerVersion)(Je,ht),(0,ne.registerVersion)(Je,ht,"esm2017");const Ct="@firebase/remote-config",An=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mi{constructor(P,H,fe,Ze){this.client=P,this.storage=H,this.storageCache=fe,this.logger=Ze}isCachedDataFresh(P,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-H,Ze=fe<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Ze}.`),Ze}fetch(P){var H=this;return(0,W.Z)(function*(){const[fe,Ze]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Ze&&H.isCachedDataFresh(P.cacheMaxAgeMillis,fe))return Ze;P.eTag=Ze&&Ze.eTag;const dt=yield H.client.fetch(P),xt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&xt.push(H.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(xt),dt})()}}function ao(T=navigator){return T.languages&&T.languages[0]||T.language}class lo{constructor(P,H,fe,Ze,dt,xt){this.firebaseInstallations=P,this.sdkVersion=H,this.namespace=fe,this.projectId=Ze,this.apiKey=dt,this.appId=xt}fetch(P){var H=this;return(0,W.Z)(function*(){const[fe,Ze]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,vn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},fn={sdk_version:H.sdkVersion,app_instance_id:fe,app_instance_id_token:Ze,app_id:H.appId,language_code:ao()},$n={method:"POST",headers:vn,body:JSON.stringify(fn)},gr=fetch(xt,$n),yr=new Promise((Xr,So)=>{P.signal.addEventListener(()=>{const ic=new Error("The operation was aborted.");ic.name="AbortError",So(ic)})});let Hs;try{yield Promise.race([gr,yr]),Hs=yield gr}catch(Xr){let So="fetch-client-network";throw"AbortError"===(null==Xr?void 0:Xr.name)&&(So="fetch-timeout"),An.create(So,{originalErrorMessage:null==Xr?void 0:Xr.message})}let Yi=Hs.status;const ul=Hs.headers.get("ETag")||void 0;let io,$a;if(200===Hs.status){let Xr;try{Xr=yield Hs.json()}catch(So){throw An.create("fetch-client-parse",{originalErrorMessage:null==So?void 0:So.message})}io=Xr.entries,$a=Xr.state}if("INSTANCE_STATE_UNSPECIFIED"===$a?Yi=500:"NO_CHANGE"===$a?Yi=304:("NO_TEMPLATE"===$a||"EMPTY_CONFIG"===$a)&&(io={}),304!==Yi&&200!==Yi)throw An.create("fetch-status",{httpStatus:Yi});return{status:Yi,eTag:ul,config:io}})()}}class Qi{constructor(P,H){this.client=P,this.storage=H}fetch(P){var H=this;return(0,W.Z)(function*(){const fe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(P,fe)})()}attemptFetch(P,{throttleEndTimeMillis:H,backoffCount:fe}){var Ze=this;return(0,W.Z)(function*(){yield function Os(T,P){return new Promise((H,fe)=>{const Ze=Math.max(P-Date.now(),0),dt=setTimeout(H,Ze);T.addEventListener(()=>{clearTimeout(dt),fe(An.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,H);try{const dt=yield Ze.client.fetch(P);return yield Ze.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function qo(T){if(!(T instanceof Ae.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(dt))throw dt;const xt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(fe),backoffCount:fe+1};return yield Ze.storage.setThrottleMetadata(xt),Ze.attemptFetch(P,xt)}})()}}class ia{constructor(P,H,fe,Ze,dt){this.app=P,this._client=H,this._storageCache=fe,this._storage=Ze,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ko(T,P){const H=T.target.error||void 0;return An.create(P,{originalErrorMessage:H&&(null==H?void 0:H.message)})}const $i="app_namespace_store";class ks{constructor(P,H,fe,Ze=function Di(){return new Promise((T,P)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=fe=>{P(Ko(fe,"storage-open"))},H.onsuccess=fe=>{T(fe.target.result)},H.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(H){P(An.create("storage-open",{originalErrorMessage:null==H?void 0:H.message}))}})}()){this.appId=P,this.appName=H,this.namespace=fe,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var H=this;return(0,W.Z)(function*(){const fe=yield H.openDbPromise;return new Promise((Ze,dt)=>{const vn=fe.transaction([$i],"readonly").objectStore($i),fn=H.createCompositeKey(P);try{const $n=vn.get(fn);$n.onerror=gr=>{dt(Ko(gr,"storage-get"))},$n.onsuccess=gr=>{const yr=gr.target.result;Ze(yr?yr.value:void 0)}}catch($n){dt(An.create("storage-get",{originalErrorMessage:null==$n?void 0:$n.message}))}})})()}set(P,H){var fe=this;return(0,W.Z)(function*(){const Ze=yield fe.openDbPromise;return new Promise((dt,xt)=>{const fn=Ze.transaction([$i],"readwrite").objectStore($i),$n=fe.createCompositeKey(P);try{const gr=fn.put({compositeKey:$n,value:H});gr.onerror=yr=>{xt(Ko(yr,"storage-set"))},gr.onsuccess=()=>{dt()}}catch(gr){xt(An.create("storage-set",{originalErrorMessage:null==gr?void 0:gr.message}))}})})()}delete(P){var H=this;return(0,W.Z)(function*(){const fe=yield H.openDbPromise;return new Promise((Ze,dt)=>{const vn=fe.transaction([$i],"readwrite").objectStore($i),fn=H.createCompositeKey(P);try{const $n=vn.delete(fn);$n.onerror=gr=>{dt(Ko(gr,"storage-delete"))},$n.onsuccess=()=>{Ze()}}catch($n){dt(An.create("storage-delete",{originalErrorMessage:null==$n?void 0:$n.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Yo{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,W.Z)(function*(){const H=P.storage.getLastFetchStatus(),fe=P.storage.getLastSuccessfulFetchTimestampMillis(),Ze=P.storage.getActiveConfig(),dt=yield H;dt&&(P.lastFetchStatus=dt);const xt=yield fe;xt&&(P.lastSuccessfulFetchTimestampMillis=xt);const vn=yield Ze;vn&&(P.activeConfig=vn)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function vo(){return _o.apply(this,arguments)}function _o(){return(_o=(0,W.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function yo(){(0,ne._registerComponent)(new we.wA("remote-config",function T(P,{instanceIdentifier:H}){const fe=P.getProvider("app").getImmediate(),Ze=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,Ae.hl)())throw An.create("indexed-db-unavailable");const{projectId:dt,apiKey:xt,appId:vn}=fe.options;if(!dt)throw An.create("registration-project-id");if(!xt)throw An.create("registration-api-key");if(!vn)throw An.create("registration-app-id");const fn=new ks(vn,fe.name,H=H||"firebase"),$n=new Yo(fn),gr=new le.Yd(Ct);gr.logLevel=le.in.ERROR;const yr=new lo(Ze,ne.SDK_VERSION,H,dt,xt,vn),Hs=new Qi(yr,fn),Yi=new mi(Hs,fn,$n,gr),ul=new ia(fe,Yi,$n,fn,gr);return function Xn(T){const P=(0,Ae.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(ul),ul},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Ct,"0.4.4"),(0,ne.registerVersion)(Ct,"0.4.4","esm2017")}();const Es=(T,P)=>P.some(H=>T instanceof H);let Eo,Ui;const Is=new WeakMap,ji=new WeakMap,si=new WeakMap,wi=new WeakMap,Po=new WeakMap;let ko={get(T,P,H){if(T instanceof IDBTransaction){if("done"===P)return ji.get(T);if("objectStoreNames"===P)return T.objectStoreNames||si.get(T);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return yi(T[P])},set:(T,P,H)=>(T[P]=H,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function ma(T){return"function"==typeof T?function Ds(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oo(){return Ui||(Ui=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(vi(this),P),yi(Is.get(this))}:function(...P){return yi(T.apply(vi(this),P))}:function(P,...H){const fe=T.call(vi(this),P,...H);return si.set(fe,P.sort?P.sort():[P]),yi(fe)}}(T):(T instanceof IDBTransaction&&function No(T){if(ji.has(T))return;const P=new Promise((H,fe)=>{const Ze=()=>{T.removeEventListener("complete",dt),T.removeEventListener("error",xt),T.removeEventListener("abort",xt)},dt=()=>{H(),Ze()},xt=()=>{fe(T.error||new DOMException("AbortError","AbortError")),Ze()};T.addEventListener("complete",dt),T.addEventListener("error",xt),T.addEventListener("abort",xt)});ji.set(T,P)}(T),Es(T,function is(){return Eo||(Eo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ko):T)}function yi(T){if(T instanceof IDBRequest)return function ai(T){const P=new Promise((H,fe)=>{const Ze=()=>{T.removeEventListener("success",dt),T.removeEventListener("error",xt)},dt=()=>{H(yi(T.result)),Ze()},xt=()=>{fe(T.error),Ze()};T.addEventListener("success",dt),T.addEventListener("error",xt)});return P.then(H=>{H instanceof IDBCursor&&Is.set(H,T)}).catch(()=>{}),Po.set(P,T),P}(T);if(wi.has(T))return wi.get(T);const P=ma(T);return P!==T&&(wi.set(T,P),Po.set(P,T)),P}const vi=T=>Po.get(T);function Fo(T,P,{blocked:H,upgrade:fe,blocking:Ze,terminated:dt}={}){const xt=indexedDB.open(T,P),vn=yi(xt);return fe&&xt.addEventListener("upgradeneeded",fn=>{fe(yi(xt.result),fn.oldVersion,fn.newVersion,yi(xt.transaction))}),H&&xt.addEventListener("blocked",()=>H()),vn.then(fn=>{dt&&fn.addEventListener("close",()=>dt()),Ze&&fn.addEventListener("versionchange",()=>Ze())}).catch(()=>{}),vn}function ui(T,{blocked:P}={}){const H=indexedDB.deleteDatabase(T);return P&&H.addEventListener("blocked",()=>P()),yi(H).then(()=>{})}const Ys=["get","getKey","getAll","getAllKeys","count"],co=["put","add","delete","clear"],Zo=new Map;function cs(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Zo.get(P))return Zo.get(P);const H=P.replace(/FromIndex$/,""),fe=P!==H,Ze=co.includes(H);if(!(H in(fe?IDBIndex:IDBObjectStore).prototype)||!Ze&&!Ys.includes(H))return;const dt=function(){var xt=(0,W.Z)(function*(vn,...fn){const $n=this.transaction(vn,Ze?"readwrite":"readonly");let gr=$n.store;return fe&&(gr=gr.index(fn.shift())),(yield Promise.all([gr[H](...fn),Ze&&$n.done]))[0]});return function(fn){return xt.apply(this,arguments)}}();return Zo.set(P,dt),dt}!function Vi(T){ko=T(ko)}(T=>({...T,get:(P,H,fe)=>cs(P,H)||T.get(P,H,fe),has:(P,H)=>!!cs(P,H)||T.has(P,H)}));const sr="/firebase-messaging-sw.js",us="/firebase-cloud-messaging-push-scope",ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ds="https://fcmregistrations.googleapis.com/v1",_="google.c.a.c_id",U="google.c.a.c_l",I="google.c.a.ts",$="google.c.a.e";var C=(()=>{return(T=C||(C={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",C;var T})();function x(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(T){const H=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(H),Ze=new Uint8Array(fe.length);for(let dt=0;dt<fe.length;++dt)Ze[dt]=fe.charCodeAt(dt);return Ze}const q="fcm_token_details_db",nt=5,rn="fcm_token_object_Store";function xr(){return xr=(0,W.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(q))return null;let P=null;return(yield Fo(q,nt,{upgrade:(fe=(0,W.Z)(function*(Ze,dt,xt,vn){var fn;if(dt<2||!Ze.objectStoreNames.contains(rn))return;const $n=vn.objectStore(rn),gr=yield $n.index("fcmSenderId").get(T);if(yield $n.clear(),gr)if(2===dt){const yr=gr;if(!yr.auth||!yr.p256dh||!yr.endpoint)return;P={token:yr.fcmToken,createTime:null!==(fn=yr.createTime)&&void 0!==fn?fn:Date.now(),subscriptionOptions:{auth:yr.auth,p256dh:yr.p256dh,endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:"string"==typeof yr.vapidKey?yr.vapidKey:x(yr.vapidKey)}}}else if(3===dt){const yr=gr;P={token:yr.fcmToken,createTime:yr.createTime,subscriptionOptions:{auth:x(yr.auth),p256dh:x(yr.p256dh),endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:x(yr.vapidKey)}}}else if(4===dt){const yr=gr;P={token:yr.fcmToken,createTime:yr.createTime,subscriptionOptions:{auth:x(yr.auth),p256dh:x(yr.p256dh),endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:x(yr.vapidKey)}}}}),function(dt,xt,vn,fn){return fe.apply(this,arguments)})})).close(),yield ui(q),yield ui("fcm_vapid_details_db"),yield ui("undefined"),function _i(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var fe}),xr.apply(this,arguments)}const Ri="firebase-messaging-database",Lo=1,Qr="firebase-messaging-store";let Fs=null;function Oi(){return Fs||(Fs=Fo(Ri,Lo,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Qr)}})),Fs}function Io(T){return Do.apply(this,arguments)}function Do(){return Do=(0,W.Z)(function*(T){const P=Zs(T),fe=yield(yield Oi()).transaction(Qr).objectStore(Qr).get(P);if(fe)return fe;{const Ze=yield function hr(T){return xr.apply(this,arguments)}(T.appConfig.senderId);if(Ze)return yield Ls(T,Ze),Ze}}),Do.apply(this,arguments)}function Ls(T,P){return wo.apply(this,arguments)}function wo(){return(wo=(0,W.Z)(function*(T,P){const H=Zs(T),Ze=(yield Oi()).transaction(Qr,"readwrite");return yield Ze.objectStore(Qr).put(P,H),yield Ze.done,P})).apply(this,arguments)}function oa(){return(oa=(0,W.Z)(function*(T){const P=Zs(T),fe=(yield Oi()).transaction(Qr,"readwrite");yield fe.objectStore(Qr).delete(P),yield fe.done})).apply(this,arguments)}function Zs({appConfig:T}){return T.appId}const Pi=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xo(T,P){return va.apply(this,arguments)}function va(){return(va=(0,W.Z)(function*(T,P){const H=yield Oa(T),fe=Cs(P),Ze={method:"POST",headers:H,body:JSON.stringify(fe)};let dt;try{dt=yield(yield fetch(Bs(T.appConfig),Ze)).json()}catch(xt){throw Pi.create("token-subscribe-failed",{errorInfo:null==xt?void 0:xt.toString()})}if(dt.error)throw Pi.create("token-subscribe-failed",{errorInfo:dt.error.message});if(!dt.token)throw Pi.create("token-subscribe-no-token");return dt.token})).apply(this,arguments)}function Qs(){return(Qs=(0,W.Z)(function*(T,P){const H=yield Oa(T),fe=Cs(P.subscriptionOptions),Ze={method:"PATCH",headers:H,body:JSON.stringify(fe)};let dt;try{dt=yield(yield fetch(`${Bs(T.appConfig)}/${P.token}`,Ze)).json()}catch(xt){throw Pi.create("token-update-failed",{errorInfo:null==xt?void 0:xt.toString()})}if(dt.error)throw Pi.create("token-update-failed",{errorInfo:dt.error.message});if(!dt.token)throw Pi.create("token-update-no-token");return dt.token})).apply(this,arguments)}function sa(T,P){return _a.apply(this,arguments)}function _a(){return(_a=(0,W.Z)(function*(T,P){const fe={method:"DELETE",headers:yield Oa(T)};try{const dt=yield(yield fetch(`${Bs(T.appConfig)}/${P}`,fe)).json();if(dt.error)throw Pi.create("token-unsubscribe-failed",{errorInfo:dt.error.message})}catch(Ze){throw Pi.create("token-unsubscribe-failed",{errorInfo:null==Ze?void 0:Ze.toString()})}})).apply(this,arguments)}function Bs({projectId:T}){return`${ds}/projects/${T}/registrations`}function Oa(T){return bs.apply(this,arguments)}function bs(){return(bs=(0,W.Z)(function*({appConfig:T,installations:P}){const H=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Cs({p256dh:T,auth:P,endpoint:H,vapidKey:fe}){const Ze={web:{endpoint:H,auth:P,p256dh:T}};return fe!==ws&&(Ze.web.applicationPubKey=fe),Ze}const aa=6048e5;function $s(){return $s=(0,W.Z)(function*(T){const P=yield function ql(T,P){return Jo.apply(this,arguments)}(T.swRegistration,T.vapidKey),H={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:x(P.getKey("auth")),p256dh:x(P.getKey("p256dh"))},fe=yield Io(T.firebaseDependencies);if(fe){if(function el(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}(fe.subscriptionOptions,H))return Date.now()>=fe.createTime+aa?function Pr(T,P){return la.apply(this,arguments)}(T,{token:fe.token,createTime:Date.now(),subscriptionOptions:H}):fe.token;try{yield sa(T.firebaseDependencies,fe.token)}catch(Ze){console.warn(Ze)}return El(T.firebaseDependencies,H)}return El(T.firebaseDependencies,H)}),$s.apply(this,arguments)}function eo(){return eo=(0,W.Z)(function*(T){const P=yield Io(T.firebaseDependencies);P&&(yield sa(T.firebaseDependencies,P.token),yield function ya(T){return oa.apply(this,arguments)}(T.firebaseDependencies));const H=yield T.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),eo.apply(this,arguments)}function la(){return la=(0,W.Z)(function*(T,P){try{const H=yield function Xs(T,P){return Qs.apply(this,arguments)}(T.firebaseDependencies,P),fe=Object.assign(Object.assign({},P),{token:H,createTime:Date.now()});return yield Ls(T.firebaseDependencies,fe),H}catch(H){throw yield function Hi(T){return eo.apply(this,arguments)}(T),H}}),la.apply(this,arguments)}function El(T,P){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,W.Z)(function*(T,P){const fe={token:yield Xo(T,P),createTime:Date.now(),subscriptionOptions:P};return yield Ls(T,fe),fe.token})).apply(this,arguments)}function Jo(){return(Jo=(0,W.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(P)})})).apply(this,arguments)}function Hr(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function tl(T,P){if(!P.notification)return;T.notification={};const H=P.notification.title;H&&(T.notification.title=H);const fe=P.notification.body;fe&&(T.notification.body=fe);const Ze=P.notification.image;Ze&&(T.notification.image=Ze);const dt=P.notification.icon;dt&&(T.notification.icon=dt)}(P,T),function Ia(T,P){P.data&&(T.data=P.data)}(P,T),function O(T,P){var H,fe,Ze,dt,xt;if(!(P.fcmOptions||null!==(H=P.notification)&&void 0!==H&&H.click_action))return;T.fcmOptions={};const vn=null!==(Ze=null===(fe=P.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ze?Ze:null===(dt=P.notification)||void 0===dt?void 0:dt.click_action;vn&&(T.fcmOptions.link=vn);const fn=null===(xt=P.fcmOptions)||void 0===xt?void 0:xt.analytics_label;fn&&(T.fcmOptions.analyticsLabel=fn)}(P,T),P}function k(T,P){const H=[];for(let fe=0;fe<T.length;fe++)H.push(T.charAt(fe)),fe<P.length&&H.push(P.charAt(fe));return H.join("")}function _e(T){return Pi.create("missing-app-config-values",{valueName:T})}k("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),k("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rt{constructor(P,H,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function Y(T){if(!T||!T.options)throw _e("App Configuration Object");if(!T.name)throw _e("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:H}=T;for(const fe of P)if(!H[fe])throw _e(fe);return{appName:T.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Ze,installations:H,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Lt(T){return In.apply(this,arguments)}function In(){return(In=(0,W.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(sr,{scope:us}),T.swRegistration.update().catch(()=>{})}catch(P){throw Pi.create("failed-service-worker-registration",{browserErrorMessage:null==P?void 0:P.message})}})).apply(this,arguments)}function Dr(){return(Dr=(0,W.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield Lt(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Pi.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function ar(){return(ar=(0,W.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=ws)})).apply(this,arguments)}function Yr(){return Yr=(0,W.Z)(function*(T,P){if(!navigator)throw Pi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pi.create("permission-blocked");return yield function fr(T,P){return ar.apply(this,arguments)}(T,null==P?void 0:P.vapidKey),yield function dr(T,P){return Dr.apply(this,arguments)}(T,null==P?void 0:P.serviceWorkerRegistration),function Ea(T){return $s.apply(this,arguments)}(T)}),Yr.apply(this,arguments)}function hs(){return(hs=(0,W.Z)(function*(T,P,H){const fe=function Bo(T){switch(T){case C.NOTIFICATION_CLICKED:return"notification_open";case C.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:H[_],message_name:H[U],message_time:H[I],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zi(){return zi=(0,W.Z)(function*(T,P){const H=P.data;if(!H.isFirebaseMessaging)return;T.onMessageHandler&&H.messageType===C.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Hr(H)):T.onMessageHandler.next(Hr(H)));const fe=H.data;(function G(T){return"object"==typeof T&&!!T&&_ in T})(fe)&&"1"===fe[$]&&(yield function di(T,P,H){return hs.apply(this,arguments)}(T,H.messageType,fe))}),zi.apply(this,arguments)}const bo="@firebase/messaging",To=T=>{const P=new Rt(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function fs(T,P){return zi.apply(this,arguments)}(P,H)),P},Da=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:fe=>function oi(T,P){return Yr.apply(this,arguments)}(P,fe)}};function Il(){return ps.apply(this,arguments)}function ps(){return(ps=(0,W.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nl(){(0,ne._registerComponent)(new we.wA("messaging",To,"PUBLIC")),(0,ne._registerComponent)(new we.wA("messaging-internal",Da,"PRIVATE")),(0,ne.registerVersion)(bo,"0.12.4"),(0,ne.registerVersion)(bo,"0.12.4","esm2017")}();const Br="analytics",Yl="firebase_id",wn="origin",Wn=6e4,Dl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dn="https://www.googletagmanager.com/gtag/js",Dt=new le.Yd("@firebase/analytics"),Rr=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ca(T){if(!T.startsWith(Dn)){const P=Rr.create("invalid-gtag-resource",{gtagURL:T});return Dt.warn(P.message),""}return T}function wl(T){return Promise.all(T.map(P=>P.catch(H=>H)))}function wa(){return(wa=(0,W.Z)(function*(T,P,H,fe,Ze,dt){const xt=fe[Ze];try{if(xt)yield P[xt];else{const fn=(yield wl(H)).find($n=>$n.measurementId===Ze);fn&&(yield P[fn.appId])}}catch(vn){Dt.error(vn)}T("config",Ze,dt)})).apply(this,arguments)}function bl(){return(bl=(0,W.Z)(function*(T,P,H,fe,Ze){try{let dt=[];if(Ze&&Ze.send_to){let xt=Ze.send_to;Array.isArray(xt)||(xt=[xt]);const vn=yield wl(H);for(const fn of xt){const $n=vn.find(yr=>yr.measurementId===fn),gr=$n&&P[$n.appId];if(!gr){dt=[];break}dt.push(gr)}}0===dt.length&&(dt=Object.values(P)),yield Promise.all(dt),T("event",fe,Ze||{})}catch(dt){Dt.error(dt)}})).apply(this,arguments)}const Us=30,kn=new class Nr{constructor(P={},H=1e3){this.throttleMetadata=P,this.intervalMillis=H}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,H){this.throttleMetadata[P]=H}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function Cl(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function li(){return(li=(0,W.Z)(function*(T){var P;const{appId:H,apiKey:fe}=T,Ze={method:"GET",headers:Cl(fe)},dt=Dl.replace("{app-id}",H),xt=yield fetch(dt,Ze);if(200!==xt.status&&304!==xt.status){let vn="";try{const fn=yield xt.json();null!==(P=fn.error)&&void 0!==P&&P.message&&(vn=fn.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:xt.status,responseMessage:vn})}return xt.json()})).apply(this,arguments)}function pn(){return(pn=(0,W.Z)(function*(T,P=kn,H){const{appId:fe,apiKey:Ze,measurementId:dt}=T.options;if(!fe)throw Rr.create("no-app-id");if(!Ze){if(dt)return{measurementId:dt,appId:fe};throw Rr.create("no-api-key")}const xt=P.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vn=new Sl;return setTimeout((0,W.Z)(function*(){vn.abort()}),void 0!==H?H:Wn),Na({appId:fe,apiKey:Ze,measurementId:dt},xt,vn,P)})).apply(this,arguments)}function Na(T,P,H){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,W.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:H},fe,Ze=kn){var dt;const{appId:xt,measurementId:vn}=T;try{yield function ka(T,P){return new Promise((H,fe)=>{const Ze=Math.max(P-Date.now(),0),dt=setTimeout(H,Ze);T.addEventListener(()=>{clearTimeout(dt),fe(Rr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(fe,P)}catch(fn){if(vn)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${null==fn?void 0:fn.message}]`),{appId:xt,measurementId:vn};throw fn}try{const fn=yield function Zr(T){return li.apply(this,arguments)}(T);return Ze.deleteThrottleMetadata(xt),fn}catch(fn){const $n=fn;if(!function bc(T){if(!(T instanceof Ae.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}($n)){if(Ze.deleteThrottleMetadata(xt),vn)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${null==$n?void 0:$n.message}]`),{appId:xt,measurementId:vn};throw fn}const gr=503===Number(null===(dt=null==$n?void 0:$n.customData)||void 0===dt?void 0:dt.httpStatus)?(0,Ae.$s)(H,Ze.intervalMillis,Us):(0,Ae.$s)(H,Ze.intervalMillis),yr={throttleEndTimeMillis:Date.now()+gr,backoffCount:H+1};return Ze.setThrottleMetadata(xt,yr),Dt.debug(`Calling attemptFetch again in ${gr} millis`),Na(T,yr,fe,Ze)}}),Tl.apply(this,arguments)}class Sl{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let ba,Tc;function Cc(){return(Cc=(0,W.Z)(function*(T,P,H,fe,Ze){if(Ze&&Ze.global)T("event",H,fe);else{const dt=yield P;T("event",H,Object.assign(Object.assign({},fe),{send_to:dt}))}})).apply(this,arguments)}function js(){return(js=(0,W.Z)(function*(){if(!(0,Ae.hl)())return Dt.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(T){return Dt.warn(Rr.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function b(){return b=(0,W.Z)(function*(T,P,H,fe,Ze,dt,xt){var vn;const fn=function Ni(T){return pn.apply(this,arguments)}(T);fn.then(Yi=>{H[Yi.measurementId]=Yi.appId,T.options.measurementId&&Yi.measurementId!==T.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yi=>Dt.error(Yi)),P.push(fn);const $n=function Uo(){return js.apply(this,arguments)}().then(Yi=>{if(Yi)return fe.getId()}),[gr,yr]=yield Promise.all([fn,$n]);(function Qn(T){const P=window.document.getElementsByTagName("script");for(const H of Object.values(P))if(H.src&&H.src.includes(Dn)&&H.src.includes(T))return H;return null})(dt)||function Vs(T,P){const H=function Pa(T,P){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(T,P)),H}("firebase-js-sdk-policy",{createScriptURL:ca}),fe=document.createElement("script"),Ze=`${Dn}?l=${T}&id=${P}`;fe.src=H?null==H?void 0:H.createScriptURL(Ze):Ze,fe.async=!0,document.head.appendChild(fe)}(dt,gr.measurementId),Tc&&(Ze("consent","default",Tc),function ha(T){Tc=T}(void 0)),Ze("js",new Date);const Hs=null!==(vn=null==xt?void 0:xt.config)&&void 0!==vn?vn:{};return Hs[wn]="firebase",Hs.update=!0,null!=yr&&(Hs[Yl]=yr),Ze("config",gr.measurementId,Hs),ba&&(Ze("set",ba),function gs(T){ba=T}(void 0)),gr.measurementId}),b.apply(this,arguments)}class y{constructor(P){this.app=P}_delete(){return delete S[this.app.options.appId],Promise.resolve()}}let S={},L=[];const K={};let wt,Qt,Q="dataLayer",Ke="gtag",Tn=!1;function Ci(T,P,H){!function zr(){const T=[];if((0,Ae.ru)()&&T.push("This is a browser extension environment."),(0,Ae.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((fe,Ze)=>`(${Ze+1}) ${fe}`).join(" "),H=Rr.create("invalid-analytics-context",{errorInfo:P});Dt.warn(H.message)}}();const fe=T.options.appId;if(!fe)throw Rr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Rr.create("no-api-key");Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=S[fe])throw Rr.create("already-exists",{id:fe});if(!Tn){!function su(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(Q);const{wrappedGtag:dt,gtagCore:xt}=function ua(T,P,H,fe,Ze){let dt=function(...xt){window[fe].push(arguments)};return window[Ze]&&"function"==typeof window[Ze]&&(dt=window[Ze]),window[Ze]=function uo(T,P,H,fe){function dt(){return dt=(0,W.Z)(function*(xt,...vn){try{if("event"===xt){const[fn,$n]=vn;yield function ol(T,P,H,fe,Ze){return bl.apply(this,arguments)}(T,P,H,fn,$n)}else if("config"===xt){const[fn,$n]=vn;yield function Zl(T,P,H,fe,Ze,dt){return wa.apply(this,arguments)}(T,P,H,fe,fn,$n)}else if("consent"===xt){const[fn]=vn;T("consent","update",fn)}else if("get"===xt){const[fn,$n,gr]=vn;T("get",fn,$n,gr)}else if("set"===xt){const[fn]=vn;T("set",fn)}else T(xt,...vn)}catch(fn){Dt.error(fn)}}),dt.apply(this,arguments)}return function Ze(xt){return dt.apply(this,arguments)}}(dt,T,P,H),{gtagCore:dt,wrappedGtag:window[Ze]}}(S,L,K,Q,Ke);Qt=dt,wt=xt,Tn=!0}return S[fe]=function D(T,P,H,fe,Ze,dt,xt){return b.apply(this,arguments)}(T,L,K,P,wt,Q,H),new y(T)}function ts(){return jo.apply(this,arguments)}function jo(){return(jo=(0,W.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const au="@firebase/analytics";!function qd(){(0,ne._registerComponent)(new we.wA(Br,(P,{options:H})=>Ci(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,ne._registerComponent)(new we.wA("analytics-internal",function T(P){try{const H=P.getProvider(Br).getImmediate();return{logEvent:(fe,Ze,dt)=>function Xu(T,P,H,fe){T=(0,Ae.m9)(T),function Ql(T,P,H,fe,Ze){return Cc.apply(this,arguments)}(Qt,S[T.app.options.appId],P,H,fe).catch(Ze=>Dt.error(Ze))}(H,fe,Ze,dt)}}catch(H){throw Rr.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,ne.registerVersion)(au,"0.10.0"),(0,ne.registerVersion)(au,"0.10.0","esm2017")}();var Mc=F(4408),Jl=F(7565);const Yd=new class ec extends Jl.v{}(class Kd extends Mc.o{constructor(P,H){super(P,H),this.scheduler=P,this.work=H}schedule(P,H=0){return H>0?super.schedule(P,H):(this.delay=H,this.state=P,this.scheduler.flush(this),this)}execute(P,H){return H>0||this.closed?super.execute(P,H):this._execute(P,H)}requestAsyncId(P,H,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(P,H,fe):(P.flush(this),0)}});var ho=F(4986),cu=F(8505),Ca=F(9468),tc=F(5363);const hi=new m.GfV("7.5.0"),Ta="__angularfire_symbol__analyticsIsSupportedValue",ro="__angularfire_symbol__analyticsIsSupported",Ti="__angularfire_symbol__remoteConfigIsSupportedValue",ll="__angularfire_symbol__remoteConfigIsSupported",La="__angularfire_symbol__messagingIsSupportedValue",ns="__angularfire_symbol__messagingIsSupported";function Sa(T,P,H){if(P){if(1===P.length)return P[0];const dt=P.filter(xt=>xt.app===H);if(1===dt.length)return dt[0]}return H.container.getProvider(T).getImmediate({optional:!0})}globalThis[ro]||(globalThis[ro]=ts().then(T=>globalThis[Ta]=T).catch(()=>globalThis[Ta]=!1)),globalThis[ns]||(globalThis[ns]=Il().then(T=>globalThis[La]=T).catch(()=>globalThis[La]=!1)),globalThis[ll]||(globalThis[ll]=vo().then(T=>globalThis[Ti]=T).catch(()=>globalThis[Ti]=!1));const Fi=(T,P)=>{const H=P?[P]:(0,h.C6)(),fe=[];return H.forEach(Ze=>{Ze.container.getProvider(T).instances.forEach(xt=>{fe.includes(xt)||fe.push(xt)})}),fe};function Ho(){}class xl{constructor(P,H=Yd){this.zone=P,this.delegate=H}now(){return this.delegate.now()}schedule(P,H,fe){const Ze=this.zone;return this.delegate.schedule(function(xt){Ze.runGuarded(()=>{P.apply(this,[xt])})},H,fe)}}class nc{constructor(P){this.zone=P,this.task=null}call(P,H){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho)),H.pipe((0,cu.b)({next:fe,complete:fe,error:fe})).subscribe(P).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class T{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=H.run(()=>new xl(Zone.current,ho.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(H){return new(H||T)(m.LFG(m.R0b))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function cl(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function ea(T){return cl(),function rc(T){return function(H){return(H=H.lift(new nc(T.ngZone))).pipe((0,Ca.R)(T.outsideAngular),(0,tc.Q)(T.insideAngular))}}(cl())(T)}},2090:(on,st,F)=>{"use strict";F.d(st,{$s:()=>Le,BH:()=>Ve,G6:()=>De,L:()=>Re,LL:()=>St,Pz:()=>qe,Sg:()=>yt,UG:()=>Ie,US:()=>we,ZB:()=>ae,ZR:()=>Ft,aH:()=>Xe,b$:()=>rt,eu:()=>Ce,hl:()=>Te,jU:()=>ve,m9:()=>Ot,ne:()=>jn,pd:()=>ri,r3:()=>_n,ru:()=>Be,tV:()=>he,uI:()=>Ee,vZ:()=>nn,w1:()=>Je,xO:()=>lr,xb:()=>ir,z$:()=>Se,zI:()=>Qe,zd:()=>Gr});const ne=function(ue){const ce=[];let ke=0;for(let ft=0;ft<ue.length;ft++){let tt=ue.charCodeAt(ft);tt<128?ce[ke++]=tt:tt<2048?(ce[ke++]=tt>>6|192,ce[ke++]=63&tt|128):55296==(64512&tt)&&ft+1<ue.length&&56320==(64512&ue.charCodeAt(ft+1))?(tt=65536+((1023&tt)<<10)+(1023&ue.charCodeAt(++ft)),ce[ke++]=tt>>18|240,ce[ke++]=tt>>12&63|128,ce[ke++]=tt>>6&63|128,ce[ke++]=63&tt|128):(ce[ke++]=tt>>12|224,ce[ke++]=tt>>6&63|128,ce[ke++]=63&tt|128)}return ce},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ce){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,ft=[];for(let tt=0;tt<ue.length;tt+=3){const Gt=ue[tt],je=tt+1<ue.length,Me=je?ue[tt+1]:0,oe=tt+2<ue.length,He=oe?ue[tt+2]:0;let dn=(15&Me)<<2|He>>6,Vn=63&He;oe||(Vn=64,je||(dn=64)),ft.push(ke[Gt>>2],ke[(3&Gt)<<4|Me>>4],ke[dn],ke[Vn])}return ft.join("")},encodeString(ue,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(ue):this.encodeByteArray(ne(ue),ce)},decodeString(ue,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(ue):function(ue){const ce=[];let ke=0,ft=0;for(;ke<ue.length;){const tt=ue[ke++];if(tt<128)ce[ft++]=String.fromCharCode(tt);else if(tt>191&&tt<224){const Gt=ue[ke++];ce[ft++]=String.fromCharCode((31&tt)<<6|63&Gt)}else if(tt>239&&tt<365){const oe=((7&tt)<<18|(63&ue[ke++])<<12|(63&ue[ke++])<<6|63&ue[ke++])-65536;ce[ft++]=String.fromCharCode(55296+(oe>>10)),ce[ft++]=String.fromCharCode(56320+(1023&oe))}else{const Gt=ue[ke++],je=ue[ke++];ce[ft++]=String.fromCharCode((15&tt)<<12|(63&Gt)<<6|63&je)}}return ce.join("")}(this.decodeStringToByteArray(ue,ce))},decodeStringToByteArray(ue,ce){this.init_();const ke=ce?this.charToByteMapWebSafe_:this.charToByteMap_,ft=[];for(let tt=0;tt<ue.length;){const Gt=ke[ue.charAt(tt++)],Me=tt<ue.length?ke[ue.charAt(tt)]:0;++tt;const He=tt<ue.length?ke[ue.charAt(tt)]:64;++tt;const qt=tt<ue.length?ke[ue.charAt(tt)]:64;if(++tt,null==Gt||null==Me||null==He||null==qt)throw new le;ft.push(Gt<<2|Me>>4),64!==He&&(ft.push(Me<<4&240|He>>2),64!==qt&&ft.push(He<<6&192|qt))}return ft},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(ue){return function(ue){const ce=ne(ue);return we.encodeByteArray(ce,!0)}(ue).replace(/\./g,"")},he=function(ue){try{return we.decodeString(ue,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function ae(ue,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ce}for(const ke in ce)!ce.hasOwnProperty(ke)||!Oe(ke)||(ue[ke]=ae(ue[ke],ce[ke]));return ue}function Oe(ue){return"__proto__"!==ue}const ye=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=ue&&he(ue[1]);return ce&&JSON.parse(ce)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},Xe=()=>{var ue;return null===(ue=ye())||void 0===ue?void 0:ue.config},qe=ue=>{var ce;return null===(ce=ye())||void 0===ce?void 0:ce[`_${ue}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,ke)=>{this.resolve=ce,this.reject=ke})}wrapCallback(ce){return(ke,ft)=>{ke?this.reject(ke):this.resolve(ft),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(ke):ce(ke,ft))}}}function yt(ue,ce){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ft=ce||"demo-project",tt=ue.iat||0,Gt=ue.sub||ue.user_id;if(!Gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${ft}`,aud:ft,iat:tt,exp:tt+3600,auth_time:tt,sub:Gt,user_id:Gt,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(je)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function Ie(){var ue;const ce=null===(ue=ye())||void 0===ue?void 0:ue.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function Be(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const ue=Se();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function De(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((ue,ce)=>{try{let ke=!0;const ft="validate-browser-context-for-indexeddb-analytics-module",tt=self.indexedDB.open(ft);tt.onsuccess=()=>{tt.result.close(),ke||self.indexedDB.deleteDatabase(ft),ue(!0)},tt.onupgradeneeded=()=>{ke=!1},tt.onerror=()=>{var Gt;ce((null===(Gt=tt.error)||void 0===Gt?void 0:Gt.message)||"")}}catch(ke){ce(ke)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(ce,ke,ft){super(ke),this.code=ce,this.customData=ft,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(ce,ke,ft){this.service=ce,this.serviceName=ke,this.errors=ft}create(ce,...ke){const ft=ke[0]||{},tt=`${this.service}/${ce}`,Gt=this.errors[ce],je=Gt?function sn(ue,ce){return ue.replace(gt,(ke,ft)=>{const tt=ce[ft];return null!=tt?String(tt):`<${ft}?>`})}(Gt,ft):"Error";return new Ft(tt,`${this.serviceName}: ${je} (${tt}).`,ft)}}const gt=/\{\$([^}]+)}/g;function _n(ue,ce){return Object.prototype.hasOwnProperty.call(ue,ce)}function ir(ue){for(const ce in ue)if(Object.prototype.hasOwnProperty.call(ue,ce))return!1;return!0}function nn(ue,ce){if(ue===ce)return!0;const ke=Object.keys(ue),ft=Object.keys(ce);for(const tt of ke){if(!ft.includes(tt))return!1;const Gt=ue[tt],je=ce[tt];if(bn(Gt)&&bn(je)){if(!nn(Gt,je))return!1}else if(Gt!==je)return!1}for(const tt of ft)if(!ke.includes(tt))return!1;return!0}function bn(ue){return null!==ue&&"object"==typeof ue}function lr(ue){const ce=[];for(const[ke,ft]of Object.entries(ue))Array.isArray(ft)?ft.forEach(tt=>{ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(tt))}):ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(ft));return ce.length?"&"+ce.join("&"):""}function Gr(ue){const ce={};return ue.replace(/^\?/,"").split("&").forEach(ft=>{if(ft){const[tt,Gt]=ft.split("=");ce[decodeURIComponent(tt)]=decodeURIComponent(Gt)}}),ce}function ri(ue){const ce=ue.indexOf("?");if(!ce)return"";const ke=ue.indexOf("#",ce);return ue.substring(ce,ke>0?ke:void 0)}function jn(ue,ce){const ke=new Ht(ue,ce);return ke.subscribe.bind(ke)}class Ht{constructor(ce,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{ce(this)}).catch(ft=>{this.error(ft)})}next(ce){this.forEachObserver(ke=>{ke.next(ce)})}error(ce){this.forEachObserver(ke=>{ke.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,ke,ft){let tt;if(void 0===ce&&void 0===ke&&void 0===ft)throw new Error("Missing Observer.");tt=function zt(ue,ce){if("object"!=typeof ue||null===ue)return!1;for(const ke of ce)if(ke in ue&&"function"==typeof ue[ke])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:ke,complete:ft},void 0===tt.next&&(tt.next=Fr),void 0===tt.error&&(tt.error=Fr),void 0===tt.complete&&(tt.complete=Fr);const Gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?tt.error(this.finalError):tt.complete()}catch{}}),this.observers.push(tt),Gt}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,ce)}sendOne(ce,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{ke(this.observers[ce])}catch(ft){typeof console<"u"&&console.error&&console.error(ft)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fr(){}const rr=1e3,ti=2,_r=144e5,Mt=.5;function Le(ue,ce=rr,ke=ti){const ft=ce*Math.pow(ke,ue),tt=Math.round(Mt*ft*(Math.random()-.5)*2);return Math.min(_r,ft+tt)}function Ot(ue){return ue&&ue._delegate?ue._delegate:ue}},9613:(on,st,F)=>{"use strict";F.d(st,{c:()=>mt});var m=F(3577),h=F(3457);let W;const Ae=be=>be.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=be=>(void 0===W&&(W=void 0===be.style.animationName&&void 0!==be.style.webkitAnimationName?"-webkit-":""),W),le=(be,ye,te)=>{const ot=ye.startsWith("animation")?we(be):"";be.style.setProperty(ot+ye,te)},xe=(be,ye)=>{const te=ye.startsWith("animation")?we(be):"";be.style.removeProperty(te+ye)},se=[],We=(be=[],ye)=>{if(void 0!==ye){const te=Array.isArray(ye)?ye:[ye];return[...be,...te]}return be},mt=be=>{let ye,te,ot,Xe,qe,Ve,ve,Te,Ce,Qe,at,gt,pe,yt=[],Se=[],Ee=[],Ie=!1,Be={},rt=[],ct=[],Je={},ht=0,it=!1,De=!1,Ft=!0,St=!1,sn=!0,vt=!1;const Zt=be,hn=[],xn=[],un=[],Wt=[],_n=[],Kn=[],ir=[],Bn=[],nn=[],bn=[],Vr="function"==typeof AnimationEffect||void 0!==h.w&&"function"==typeof h.w.AnimationEffect,lr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Vr,ri=()=>bn,zt=(ie,$e)=>((null!=$e&&$e.oneTimeCallback?xn:hn).push({c:ie,o:$e}),pe),cr=()=>{if(lr)bn.forEach(ie=>{ie.cancel()}),bn.length=0;else{const ie=un.slice();(0,m.r)(()=>{ie.forEach($e=>{xe($e,"animation-name"),xe($e,"animation-duration"),xe($e,"animation-timing-function"),xe($e,"animation-iteration-count"),xe($e,"animation-delay"),xe($e,"animation-play-state"),xe($e,"animation-fill-mode"),xe($e,"animation-direction")})})}},Lr=()=>{_n.forEach(ie=>{null!=ie&&ie.parentNode&&ie.parentNode.removeChild(ie)}),_n.length=0},Nt=()=>void 0!==qe?qe:ve?ve.getFill():"both",Ot=()=>void 0!==Ce?Ce:void 0!==Ve?Ve:ve?ve.getDirection():"normal",ue=()=>it?"linear":void 0!==ot?ot:ve?ve.getEasing():"linear",ce=()=>De?0:void 0!==Qe?Qe:void 0!==te?te:ve?ve.getDuration():0,ke=()=>void 0!==Xe?Xe:ve?ve.getIterations():1,ft=()=>void 0!==at?at:void 0!==ye?ye:ve?ve.getDelay():0,jt=()=>{0!==ht&&(ht--,0===ht&&((()=>{Un(),Bn.forEach(Ct=>Ct()),nn.forEach(Ct=>Ct());const ie=Ft?1:0,$e=rt,Fe=ct,_t=Je;un.forEach(Ct=>{const Pt=Ct.classList;$e.forEach($t=>Pt.add($t)),Fe.forEach($t=>Pt.remove($t));for(const $t in _t)_t.hasOwnProperty($t)&&le(Ct,$t,_t[$t])}),hn.forEach(Ct=>Ct.c(ie,pe)),xn.forEach(Ct=>Ct.c(ie,pe)),xn.length=0,sn=!0,Ft&&(St=!0),Ft=!0})(),ve&&ve.animationFinish()))},yn=(ie=!0)=>{Lr();const $e=(be=>(be.forEach(ye=>{for(const te in ye)if(ye.hasOwnProperty(te)){const ot=ye[te];if("easing"===te)ye["animation-timing-function"]=ot,delete ye[te];else{const Xe=Ae(te);Xe!==te&&(ye[Xe]=ot,delete ye[te])}}}),be))(yt);un.forEach(Fe=>{if($e.length>0){const _t=((be=[])=>be.map(ye=>{const te=ye.offset,ot=[];for(const Xe in ye)ye.hasOwnProperty(Xe)&&"offset"!==Xe&&ot.push(`${Xe}: ${ye[Xe]};`);return`${100*te}% { ${ot.join(" ")} }`}).join(" "))($e);gt=void 0!==be?be:(be=>{let ye=se.indexOf(be);return ye<0&&(ye=se.push(be)-1),`ion-animation-${ye}`})(_t);const Ct=((be,ye,te)=>{var ot;const Xe=(be=>{const ye=void 0!==be.getRootNode?be.getRootNode():be;return ye.head||ye})(te),qe=we(te),Ve=Xe.querySelector("#"+be);if(Ve)return Ve;const yt=(null!==(ot=te.ownerDocument)&&void 0!==ot?ot:document).createElement("style");return yt.id=be,yt.textContent=`@${qe}keyframes ${be} { ${ye} } @${qe}keyframes ${be}-alt { ${ye} }`,Xe.appendChild(yt),yt})(gt,_t,Fe);_n.push(Ct),le(Fe,"animation-duration",`${ce()}ms`),le(Fe,"animation-timing-function",ue()),le(Fe,"animation-delay",`${ft()}ms`),le(Fe,"animation-fill-mode",Nt()),le(Fe,"animation-direction",Ot());const Pt=ke()===1/0?"infinite":ke().toString();le(Fe,"animation-iteration-count",Pt),le(Fe,"animation-play-state","paused"),ie&&le(Fe,"animation-name",`${Ct.id}-alt`),(0,m.r)(()=>{le(Fe,"animation-name",Ct.id||null)})}})},er=(ie=!0)=>{(()=>{Kn.forEach(_t=>_t()),ir.forEach(_t=>_t());const ie=Se,$e=Ee,Fe=Be;un.forEach(_t=>{const Ct=_t.classList;ie.forEach(Pt=>Ct.add(Pt)),$e.forEach(Pt=>Ct.remove(Pt));for(const Pt in Fe)Fe.hasOwnProperty(Pt)&&le(_t,Pt,Fe[Pt])})})(),yt.length>0&&(lr?(un.forEach(ie=>{const $e=ie.animate(yt,{id:Zt,delay:ft(),duration:ce(),easing:ue(),iterations:ke(),fill:Nt(),direction:Ot()});$e.pause(),bn.push($e)}),bn.length>0&&(bn[0].onfinish=()=>{jt()})):yn(ie)),Ie=!0},En=ie=>{if(ie=Math.min(Math.max(ie,0),.9999),lr)bn.forEach($e=>{$e.currentTime=$e.effect.getComputedTiming().delay+ce()*ie,$e.pause()});else{const $e=`-${ce()*ie}ms`;un.forEach(Fe=>{yt.length>0&&(le(Fe,"animation-delay",$e),le(Fe,"animation-play-state","paused"))})}},or=ie=>{bn.forEach($e=>{$e.effect.updateTiming({delay:ft(),duration:ce(),easing:ue(),iterations:ke(),fill:Nt(),direction:Ot()})}),void 0!==ie&&En(ie)},tr=(ie=!0,$e)=>{(0,m.r)(()=>{un.forEach(Fe=>{le(Fe,"animation-name",gt||null),le(Fe,"animation-duration",`${ce()}ms`),le(Fe,"animation-timing-function",ue()),le(Fe,"animation-delay",void 0!==$e?`-${$e*ce()}ms`:`${ft()}ms`),le(Fe,"animation-fill-mode",Nt()||null),le(Fe,"animation-direction",Ot()||null);const _t=ke()===1/0?"infinite":ke().toString();le(Fe,"animation-iteration-count",_t),ie&&le(Fe,"animation-name",`${gt}-alt`),(0,m.r)(()=>{le(Fe,"animation-name",gt||null)})})})},zn=(ie=!1,$e=!0,Fe)=>(ie&&Wt.forEach(_t=>{_t.update(ie,$e,Fe)}),lr?or(Fe):tr($e,Fe),pe),xi=()=>{Ie&&(lr?bn.forEach(ie=>{ie.pause()}):un.forEach(ie=>{le(ie,"animation-play-state","paused")}),vt=!0)},ln=()=>{Te=void 0,jt()},Un=()=>{Te&&clearTimeout(Te)},ci=ie=>new Promise($e=>{null!=ie&&ie.sync&&(De=!0,zt(()=>De=!1,{oneTimeCallback:!0})),Ie||er(),St&&(lr?(En(0),or()):tr(),St=!1),sn&&(ht=Wt.length+1,sn=!1),zt(()=>$e(),{oneTimeCallback:!0}),Wt.forEach(Fe=>{Fe.play()}),lr?(bn.forEach(ie=>{ie.play()}),(0===yt.length||0===un.length)&&jt()):(()=>{if(Un(),(0,m.r)(()=>{un.forEach(ie=>{yt.length>0&&le(ie,"animation-play-state","running")})}),0===yt.length||0===un.length)jt();else{const ie=ft()||0,$e=ce()||0,Fe=ke()||1;isFinite(Fe)&&(Te=setTimeout(ln,ie+$e*Fe+100)),((be,ye)=>{let te;const ot={passive:!0},qe=Ve=>{be===Ve.target&&(te&&te(),Un(),(0,m.r)(()=>{un.forEach(ie=>{xe(ie,"animation-duration"),xe(ie,"animation-delay"),xe(ie,"animation-play-state")}),(0,m.r)(jt)}))};be&&(be.addEventListener("webkitAnimationEnd",qe,ot),be.addEventListener("animationend",qe,ot),te=()=>{be.removeEventListener("webkitAnimationEnd",qe,ot),be.removeEventListener("animationend",qe,ot)})})(un[0])}})(),vt=!1}),Z=(ie,$e)=>{const Fe=yt[0];return void 0===Fe||void 0!==Fe.offset&&0!==Fe.offset?yt=[{offset:0,[ie]:$e},...yt]:Fe[ie]=$e,pe};return pe={parentAnimation:ve,elements:un,childAnimations:Wt,id:Zt,animationFinish:jt,from:Z,to:(ie,$e)=>{const Fe=yt[yt.length-1];return void 0===Fe||void 0!==Fe.offset&&1!==Fe.offset?yt=[...yt,{offset:1,[ie]:$e}]:Fe[ie]=$e,pe},fromTo:(ie,$e,Fe)=>Z(ie,$e).to(ie,Fe),parent:ie=>(ve=ie,pe),play:ci,pause:()=>(Wt.forEach(ie=>{ie.pause()}),xi(),pe),stop:()=>{Wt.forEach(ie=>{ie.stop()}),Ie&&(cr(),Ie=!1),it=!1,De=!1,sn=!0,Ce=void 0,Qe=void 0,at=void 0,ht=0,St=!1,Ft=!0,vt=!1},destroy:ie=>(Wt.forEach($e=>{$e.destroy(ie)}),(ie=>{cr(),ie&&Lr()})(ie),un.length=0,Wt.length=0,yt.length=0,hn.length=0,xn.length=0,Ie=!1,sn=!0,pe),keyframes:ie=>{const $e=yt!==ie;return yt=ie,$e&&(ie=>{lr?ri().forEach($e=>{if($e.effect.setKeyframes)$e.effect.setKeyframes(ie);else{const Fe=new KeyframeEffect($e.effect.target,ie,$e.effect.getTiming());$e.effect=Fe}}):yn()})(yt),pe},addAnimation:ie=>{if(null!=ie)if(Array.isArray(ie))for(const $e of ie)$e.parent(pe),Wt.push($e);else ie.parent(pe),Wt.push(ie);return pe},addElement:ie=>{if(null!=ie)if(1===ie.nodeType)un.push(ie);else if(ie.length>=0)for(let $e=0;$e<ie.length;$e++)un.push(ie[$e]);else console.error("Invalid addElement value");return pe},update:zn,fill:ie=>(qe=ie,zn(!0),pe),direction:ie=>(Ve=ie,zn(!0),pe),iterations:ie=>(Xe=ie,zn(!0),pe),duration:ie=>(!lr&&0===ie&&(ie=1),te=ie,zn(!0),pe),easing:ie=>(ot=ie,zn(!0),pe),delay:ie=>(ye=ie,zn(!0),pe),getWebAnimations:ri,getKeyframes:()=>yt,getFill:Nt,getDirection:Ot,getDelay:ft,getIterations:ke,getEasing:ue,getDuration:ce,afterAddRead:ie=>(Bn.push(ie),pe),afterAddWrite:ie=>(nn.push(ie),pe),afterClearStyles:(ie=[])=>{for(const $e of ie)Je[$e]="";return pe},afterStyles:(ie={})=>(Je=ie,pe),afterRemoveClass:ie=>(ct=We(ct,ie),pe),afterAddClass:ie=>(rt=We(rt,ie),pe),beforeAddRead:ie=>(Kn.push(ie),pe),beforeAddWrite:ie=>(ir.push(ie),pe),beforeClearStyles:(ie=[])=>{for(const $e of ie)Be[$e]="";return pe},beforeStyles:(ie={})=>(Be=ie,pe),beforeRemoveClass:ie=>(Ee=We(Ee,ie),pe),beforeAddClass:ie=>(Se=We(Se,ie),pe),onFinish:zt,isRunning:()=>0!==ht&&!vt,progressStart:(ie=!1,$e)=>(Wt.forEach(Fe=>{Fe.progressStart(ie,$e)}),xi(),it=ie,Ie||er(),zn(!1,!0,$e),pe),progressStep:ie=>(Wt.forEach($e=>{$e.progressStep(ie)}),En(ie),pe),progressEnd:(ie,$e,Fe)=>(it=!1,Wt.forEach(_t=>{_t.progressEnd(ie,$e,Fe)}),void 0!==Fe&&(Qe=Fe),St=!1,Ft=!0,0===ie?(Ce="reverse"===Ot()?"normal":"reverse","reverse"===Ce&&(Ft=!1),lr?(zn(),En(1-$e)):(at=(1-$e)*ce()*-1,zn(!1,!1))):1===ie&&(lr?(zn(),En($e)):(at=$e*ce()*-1,zn(!1,!1))),void 0!==ie&&(zt(()=>{Qe=void 0,Ce=void 0,at=void 0},{oneTimeCallback:!0}),ve||ci()),pe)}}},3982:(on,st,F)=>{"use strict";F.d(st,{E:()=>he,a:()=>m,s:()=>xe});const m=se=>{try{if(se instanceof le)return se.value;if(!ne()||"string"!=typeof se||""===se)return se;if(se.includes("onload="))return"";const ae=document.createDocumentFragment(),Oe=document.createElement("div");ae.appendChild(Oe),Oe.innerHTML=se,we.forEach(be=>{const ye=ae.querySelectorAll(be);for(let te=ye.length-1;te>=0;te--){const ot=ye[te];ot.parentNode?ot.parentNode.removeChild(ot):ae.removeChild(ot);const Xe=W(ot);for(let qe=0;qe<Xe.length;qe++)h(Xe[qe])}});const me=W(ae);for(let be=0;be<me.length;be++)h(me[be]);const We=document.createElement("div");We.appendChild(ae);const mt=We.querySelector("div");return null!==mt?mt.innerHTML:We.innerHTML}catch(ae){return console.error(ae),""}},h=se=>{if(se.nodeType&&1!==se.nodeType)return;if(typeof NamedNodeMap<"u"&&!(se.attributes instanceof NamedNodeMap))return void se.remove();for(let Oe=se.attributes.length-1;Oe>=0;Oe--){const me=se.attributes.item(Oe),We=me.name;if(!Ae.includes(We.toLowerCase())){se.removeAttribute(We);continue}const mt=me.value,be=se[We];(null!=mt&&mt.toLowerCase().includes("javascript:")||null!=be&&be.toLowerCase().includes("javascript:"))&&se.removeAttribute(We)}const ae=W(se);for(let Oe=0;Oe<ae.length;Oe++)h(ae[Oe])},W=se=>null!=se.children?se.children:se.childNodes,ne=()=>{var se;const ae=window,Oe=null===(se=null==ae?void 0:ae.Ionic)||void 0===se?void 0:se.config;return!Oe||(Oe.get?Oe.get("sanitizerEnabled",!0):!0===Oe.sanitizerEnabled||void 0===Oe.sanitizerEnabled)},Ae=["class","id","href","src","name","slot"],we=["script","style","iframe","meta","link","object","embed"];class le{constructor(ae){this.value=ae}}const xe=se=>{const ae=window,Oe=ae.Ionic;if(!Oe||!Oe.config||"Object"===Oe.config.constructor.name)return ae.Ionic=ae.Ionic||{},ae.Ionic.config=Object.assign(Object.assign({},ae.Ionic.config),se),ae.Ionic.config},he=!1},6782:(on,st,F)=>{"use strict";F.d(st,{C:()=>Ae,a:()=>W,d:()=>ne});var m=F(5861),h=F(3577);const W=function(){var we=(0,m.Z)(function*(le,xe,Re,he,se,ae){var Oe;if(le)return le.attachViewToDom(xe,Re,se,he);if(!(ae||"string"==typeof Re||Re instanceof HTMLElement))throw new Error("framework delegate is missing");const me="string"==typeof Re?null===(Oe=xe.ownerDocument)||void 0===Oe?void 0:Oe.createElement(Re):Re;return he&&he.forEach(We=>me.classList.add(We)),se&&Object.assign(me,se),xe.appendChild(me),yield new Promise(We=>(0,h.c)(me,We)),me});return function(xe,Re,he,se,ae,Oe){return we.apply(this,arguments)}}(),ne=(we,le)=>{if(le){if(we)return we.removeViewFromDom(le.parentElement,le);le.remove()}return Promise.resolve()},Ae=()=>{let we,le;return{attachViewToDom:function(){var he=(0,m.Z)(function*(se,ae,Oe={},me=[]){var We,mt;if(we=se,ae){const ye="string"==typeof ae?null===(We=we.ownerDocument)||void 0===We?void 0:We.createElement(ae):ae;me.forEach(te=>ye.classList.add(te)),Object.assign(ye,Oe),we.appendChild(ye),yield new Promise(te=>(0,h.c)(ye,te))}else if(we.children.length>0&&("ION-MODAL"===we.tagName||"ION-POPOVER"===we.tagName)&&!we.children[0].classList.contains("ion-delegate-host")){const te=null===(mt=we.ownerDocument)||void 0===mt?void 0:mt.createElement("div");te.classList.add("ion-delegate-host"),me.forEach(ot=>te.classList.add(ot)),te.append(...we.children),we.appendChild(te)}const be=document.querySelector("ion-app")||document.body;return le=document.createComment("ionic teleport"),we.parentNode.insertBefore(le,we),be.appendChild(we),we});return function(ae,Oe){return he.apply(this,arguments)}}(),removeViewFromDom:()=>(we&&le&&(le.parentNode.insertBefore(we,le),le.remove()),Promise.resolve())}}},4349:(on,st,F)=>{"use strict";F.d(st,{G:()=>Ae});class h{constructor(le,xe,Re,he,se){this.id=xe,this.name=Re,this.disableScroll=se,this.priority=1e6*he+xe,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(le,xe,Re,he){this.id=xe,this.disable=Re,this.disableScroll=he,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ne="backdrop-no-scroll",Ae=new class m{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var xe;return new h(this,this.newID(),le.name,null!==(xe=le.priority)&&void 0!==xe?xe:0,!!le.disableScroll)}createBlocker(le={}){return new W(this,this.newID(),le.disable,!!le.disableScroll)}start(le,xe,Re){return this.canStart(le)?(this.requestedStart.set(xe,Re),!0):(this.requestedStart.delete(xe),!1)}capture(le,xe,Re){if(!this.start(le,xe,Re))return!1;const he=this.requestedStart;let se=-1e4;if(he.forEach(ae=>{se=Math.max(se,ae)}),se===Re){this.capturedId=xe,he.clear();const ae=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(ae),!0}return he.delete(xe),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,xe){let Re=this.disabledGestures.get(le);void 0===Re&&(Re=new Set,this.disabledGestures.set(le,Re)),Re.add(xe)}enableGesture(le,xe){const Re=this.disabledGestures.get(le);void 0!==Re&&Re.delete(xe)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(ne)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(ne)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const xe=this.disabledGestures.get(le);return!!(xe&&xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(on,st,F)=>{"use strict";F.r(st),F.d(st,{MENU_BACK_BUTTON_PRIORITY:()=>Ae,OVERLAY_BACK_BUTTON_PRIORITY:()=>ne,blockHardwareBackButton:()=>h,startHardwareBackButton:()=>W});var m=F(5861);const h=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const we=document;let le=!1;we.addEventListener("backbutton",()=>{if(le)return;let xe=0,Re=[];const he=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Oe,me){Re.push({priority:Oe,handler:me,id:xe++})}}});we.dispatchEvent(he);const se=function(){var Oe=(0,m.Z)(function*(me){try{if(null!=me&&me.handler){const We=me.handler(ae);null!=We&&(yield We)}}catch(We){console.error(We)}});return function(We){return Oe.apply(this,arguments)}}(),ae=()=>{if(Re.length>0){let Oe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Re.forEach(me=>{me.priority>=Oe.priority&&(Oe=me)}),le=!0,Re=Re.filter(me=>me.id!==Oe.id),se(Oe).then(()=>le=!1)}};ae()})},ne=100,Ae=99},3577:(on,st,F)=>{"use strict";F.d(st,{a:()=>xe,b:()=>Re,c:()=>W,d:()=>mt,e:()=>We,f:()=>me,g:()=>he,h:()=>Oe,i:()=>le,j:()=>qe,k:()=>Ae,l:()=>be,m:()=>ne,n:()=>ae,o:()=>ye,p:()=>ot,q:()=>Xe,r:()=>se,s:()=>yt,t:()=>m,u:()=>Ve,v:()=>te});const m=(Se,Ee=0)=>new Promise(Ie=>{h(Se,Ee,Ie)}),h=(Se,Ee=0,Ie)=>{let ve,Be;const rt={passive:!0},Je=()=>{ve&&ve()},ht=it=>{(void 0===it||Se===it.target)&&(Je(),Ie(it))};return Se&&(Se.addEventListener("webkitTransitionEnd",ht,rt),Se.addEventListener("transitionend",ht,rt),Be=setTimeout(ht,Ee+500),ve=()=>{Be&&(clearTimeout(Be),Be=void 0),Se.removeEventListener("webkitTransitionEnd",ht,rt),Se.removeEventListener("transitionend",ht,rt)}),Je},W=(Se,Ee)=>{Se.componentOnReady?Se.componentOnReady().then(Ie=>Ee(Ie)):se(()=>Ee(Se))},ne=Se=>void 0!==Se.componentOnReady,Ae=(Se,Ee=[])=>{const Ie={};return Ee.forEach(ve=>{Se.hasAttribute(ve)&&(null!==Se.getAttribute(ve)&&(Ie[ve]=Se.getAttribute(ve)),Se.removeAttribute(ve))}),Ie},we=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],le=(Se,Ee)=>{let Ie=we;return Ee&&Ee.length>0&&(Ie=Ie.filter(ve=>!Ee.includes(ve))),Ae(Se,Ie)},xe=(Se,Ee,Ie,ve)=>{var Be;if(typeof window<"u"){const rt=window,ct=null===(Be=null==rt?void 0:rt.Ionic)||void 0===Be?void 0:Be.config;if(ct){const Je=ct.get("_ael");if(Je)return Je(Se,Ee,Ie,ve);if(ct._ael)return ct._ael(Se,Ee,Ie,ve)}}return Se.addEventListener(Ee,Ie,ve)},Re=(Se,Ee,Ie,ve)=>{var Be;if(typeof window<"u"){const rt=window,ct=null===(Be=null==rt?void 0:rt.Ionic)||void 0===Be?void 0:Be.config;if(ct){const Je=ct.get("_rel");if(Je)return Je(Se,Ee,Ie,ve);if(ct._rel)return ct._rel(Se,Ee,Ie,ve)}}return Se.removeEventListener(Ee,Ie,ve)},he=(Se,Ee=Se)=>Se.shadowRoot||Ee,se=Se=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Se):"function"==typeof requestAnimationFrame?requestAnimationFrame(Se):setTimeout(Se),ae=Se=>!!Se.shadowRoot&&!!Se.attachShadow,Oe=Se=>{const Ee=Se.closest("ion-item");return Ee?Ee.querySelector("ion-label"):null},me=Se=>{if(Se.focus(),Se.classList.contains("ion-focusable")){const Ee=Se.closest("ion-app");Ee&&Ee.setFocus([Se])}},We=(Se,Ee)=>{let Ie;const ve=Se.getAttribute("aria-labelledby"),Be=Se.id;let rt=null!==ve&&""!==ve.trim()?ve:Ee+"-lbl",ct=null!==ve&&""!==ve.trim()?document.getElementById(ve):Oe(Se);return ct?(null===ve&&(ct.id=rt),Ie=ct.textContent,ct.setAttribute("aria-hidden","true")):""!==Be.trim()&&(ct=document.querySelector(`label[for="${Be}"]`),ct&&(""!==ct.id?rt=ct.id:ct.id=rt=`${Be}-lbl`,Ie=ct.textContent)),{label:ct,labelId:rt,labelText:Ie}},mt=(Se,Ee,Ie,ve,Be)=>{if(Se||ae(Ee)){let rt=Ee.querySelector("input.aux-input");rt||(rt=Ee.ownerDocument.createElement("input"),rt.type="hidden",rt.classList.add("aux-input"),Ee.appendChild(rt)),rt.disabled=Be,rt.name=Ie,rt.value=ve||""}},be=(Se,Ee,Ie)=>Math.max(Se,Math.min(Ee,Ie)),ye=(Se,Ee)=>{if(!Se){const Ie="ASSERT: "+Ee;throw console.error(Ie),new Error(Ie)}},te=Se=>Se.timeStamp||Date.now(),ot=Se=>{if(Se){const Ee=Se.changedTouches;if(Ee&&Ee.length>0){const Ie=Ee[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==Se.pageX)return{x:Se.pageX,y:Se.pageY}}return{x:0,y:0}},Xe=Se=>{const Ee="rtl"===document.dir;switch(Se){case"start":return Ee;case"end":return!Ee;default:throw new Error(`"${Se}" is not a valid value for [side]. Use "start" or "end" instead.`)}},qe=(Se,Ee)=>{const Ie=Se._original||Se;return{_original:Se,emit:Ve(Ie.emit.bind(Ie),Ee)}},Ve=(Se,Ee=0)=>{let Ie;return(...ve)=>{clearTimeout(Ie),Ie=setTimeout(Se,Ee,...ve)}},yt=(Se,Ee)=>{if(null!=Se||(Se={}),null!=Ee||(Ee={}),Se===Ee)return!0;const Ie=Object.keys(Se);if(Ie.length!==Object.keys(Ee).length)return!1;for(const ve of Ie)if(!(ve in Ee)||Se[ve]!==Ee[ve])return!1;return!0}},3457:(on,st,F)=>{"use strict";F.d(st,{w:()=>m});const m=typeof window<"u"?window:void 0},1898:(on,st,F)=>{"use strict";F.r(st),F.d(st,{GESTURE_CONTROLLER:()=>m.G,createGesture:()=>Re});var m=F(4349);const h=(Oe,me,We,mt)=>{const be=W(Oe)?{capture:!!mt.capture,passive:!!mt.passive}:!!mt.capture;let ye,te;return Oe.__zone_symbol__addEventListener?(ye="__zone_symbol__addEventListener",te="__zone_symbol__removeEventListener"):(ye="addEventListener",te="removeEventListener"),Oe[ye](me,We,be),()=>{Oe[te](me,We,be)}},W=Oe=>{if(void 0===ne)try{const me=Object.defineProperty({},"passive",{get:()=>{ne=!0}});Oe.addEventListener("optsTest",()=>{},me)}catch{ne=!1}return!!ne};let ne;const le=Oe=>Oe instanceof Document?Oe:Oe.ownerDocument,Re=Oe=>{let me=!1,We=!1,mt=!0,be=!1;const ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Oe),te=ye.canStart,ot=ye.onWillStart,Xe=ye.onStart,qe=ye.onEnd,Ve=ye.notCaptured,yt=ye.onMove,Se=ye.threshold,Ee=ye.passive,Ie=ye.blurOnStart,ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Be=((Oe,me,We)=>{const mt=We*(Math.PI/180),be="x"===Oe,ye=Math.cos(mt),te=me*me;let ot=0,Xe=0,qe=!1,Ve=0;return{start(yt,Se){ot=yt,Xe=Se,Ve=0,qe=!0},detect(yt,Se){if(!qe)return!1;const Ee=yt-ot,Ie=Se-Xe,ve=Ee*Ee+Ie*Ie;if(ve<te)return!1;const Be=Math.sqrt(ve),rt=(be?Ee:Ie)/Be;return Ve=rt>ye?1:rt<-ye?-1:0,qe=!1,!0},isGesture:()=>0!==Ve,getDirection:()=>Ve}})(ye.direction,ye.threshold,ye.maxAngle),rt=m.G.createGesture({name:Oe.gestureName,priority:Oe.gesturePriority,disableScroll:Oe.disableScroll}),ht=()=>{me&&(be=!1,yt&&yt(ve))},it=()=>!!rt.capture()&&(me=!0,mt=!1,ve.startX=ve.currentX,ve.startY=ve.currentY,ve.startTime=ve.currentTime,ot?ot(ve).then(Te):Te(),!0),Te=()=>{Ie&&(()=>{if(typeof document<"u"){const St=document.activeElement;null!=St&&St.blur&&St.blur()}})(),Xe&&Xe(ve),mt=!0},Ce=()=>{me=!1,We=!1,be=!1,mt=!0,rt.release()},Qe=St=>{const sn=me,gt=mt;if(Ce(),gt){if(he(ve,St),sn)return void(qe&&qe(ve));Ve&&Ve(ve)}},at=((Oe,me,We,mt,be)=>{let ye,te,ot,Xe,qe,Ve,yt,Se=0;const Ee=De=>{Se=Date.now()+2e3,me(De)&&(!te&&We&&(te=h(Oe,"touchmove",We,be)),ot||(ot=h(De.target,"touchend",ve,be)),Xe||(Xe=h(De.target,"touchcancel",ve,be)))},Ie=De=>{Se>Date.now()||me(De)&&(!Ve&&We&&(Ve=h(le(Oe),"mousemove",We,be)),yt||(yt=h(le(Oe),"mouseup",Be,be)))},ve=De=>{rt(),mt&&mt(De)},Be=De=>{ct(),mt&&mt(De)},rt=()=>{te&&te(),ot&&ot(),Xe&&Xe(),te=ot=Xe=void 0},ct=()=>{Ve&&Ve(),yt&&yt(),Ve=yt=void 0},Je=()=>{rt(),ct()},ht=(De=!0)=>{De?(ye||(ye=h(Oe,"touchstart",Ee,be)),qe||(qe=h(Oe,"mousedown",Ie,be))):(ye&&ye(),qe&&qe(),ye=qe=void 0,Je())};return{enable:ht,stop:Je,destroy:()=>{ht(!1),mt=We=me=void 0}}})(ye.el,St=>{const sn=ae(St);return!(We||!mt||(se(St,ve),ve.startX=ve.currentX,ve.startY=ve.currentY,ve.startTime=ve.currentTime=sn,ve.velocityX=ve.velocityY=ve.deltaX=ve.deltaY=0,ve.event=St,te&&!1===te(ve))||(rt.release(),!rt.start()))&&(We=!0,0===Se?it():(Be.start(ve.startX,ve.startY),!0))},St=>{me?!be&&mt&&(be=!0,he(ve,St),requestAnimationFrame(ht)):(he(ve,St),Be.detect(ve.currentX,ve.currentY)&&(!Be.isGesture()||!it())&&Ft())},Qe,{capture:!1,passive:Ee}),Ft=()=>{Ce(),at.stop(),Ve&&Ve(ve)};return{enable(St=!0){St||(me&&Qe(void 0),Ce()),at.enable(St)},destroy(){rt.destroy(),at.destroy()}}},he=(Oe,me)=>{if(!me)return;const We=Oe.currentX,mt=Oe.currentY,be=Oe.currentTime;se(me,Oe);const ye=Oe.currentX,te=Oe.currentY,Xe=(Oe.currentTime=ae(me))-be;if(Xe>0&&Xe<100){const Ve=(te-mt)/Xe;Oe.velocityX=(ye-We)/Xe*.7+.3*Oe.velocityX,Oe.velocityY=.7*Ve+.3*Oe.velocityY}Oe.deltaX=ye-Oe.startX,Oe.deltaY=te-Oe.startY,Oe.event=me},se=(Oe,me)=>{let We=0,mt=0;if(Oe){const be=Oe.changedTouches;if(be&&be.length>0){const ye=be[0];We=ye.clientX,mt=ye.clientY}else void 0!==Oe.pageX&&(We=Oe.pageX,mt=Oe.pageY)}me.currentX=We,me.currentY=mt},ae=Oe=>Oe.timeStamp||Date.now()},4083:(on,st,F)=>{"use strict";F.d(st,{B:()=>se,H:()=>Je,a:()=>qi,b:()=>oe,c:()=>St,d:()=>vt,e:()=>ci,f:()=>pe,g:()=>sn,h:()=>rt,i:()=>Le,j:()=>ae,p:()=>xi,r:()=>At,w:()=>Er});var m=F(5861);let W,ne,Ae,we=!1,le=!1,xe=!1,Re=!1,he=!1;const se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ae=Z=>{const de=new URL(Z,Pn.$resourcesUrl$);return de.origin!==tr.location.origin?de.href:de.pathname},te="s-id",ot="sty-id",Ve="http://www.w3.org/1999/xlink",yt={},ve=Z=>"object"==(Z=typeof Z)||"function"===Z;function Be(Z){var de,Pe,ie;return null!==(ie=null===(Pe=null===(de=Z.head)||void 0===de?void 0:de.querySelector('meta[name="csp-nonce"]'))||void 0===Pe?void 0:Pe.getAttribute("content"))&&void 0!==ie?ie:void 0}const rt=(Z,de,...Pe)=>{let ie=null,$e=null,Fe=null,_t=!1,Ct=!1;const Pt=[],$t=Nn=>{for(let An=0;An<Nn.length;An++)ie=Nn[An],Array.isArray(ie)?$t(ie):null!=ie&&"boolean"!=typeof ie&&((_t="function"!=typeof Z&&!ve(ie))&&(ie=String(ie)),_t&&Ct?Pt[Pt.length-1].$text$+=ie:Pt.push(_t?ct(null,ie):ie),Ct=_t)};if($t(Pe),de){de.key&&($e=de.key),de.name&&(Fe=de.name);{const Nn=de.className||de.class;Nn&&(de.class="object"!=typeof Nn?Nn:Object.keys(Nn).filter(An=>Nn[An]).join(" "))}}if("function"==typeof Z)return Z(null===de?{}:de,Pt,it);const Jt=ct(Z,null);return Jt.$attrs$=de,Pt.length>0&&(Jt.$children$=Pt),Jt.$key$=$e,Jt.$name$=Fe,Jt},ct=(Z,de)=>({$flags$:0,$tag$:Z,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Je={},it={forEach:(Z,de)=>Z.map(De).forEach(de),map:(Z,de)=>Z.map(De).map(de).map(Te)},De=Z=>({vattrs:Z.$attrs$,vchildren:Z.$children$,vkey:Z.$key$,vname:Z.$name$,vtag:Z.$tag$,vtext:Z.$text$}),Te=Z=>{if("function"==typeof Z.vtag){const Pe=Object.assign({},Z.vattrs);return Z.vkey&&(Pe.key=Z.vkey),Z.vname&&(Pe.name=Z.vname),rt(Z.vtag,Pe,...Z.vchildren||[])}const de=ct(Z.vtag,Z.vtext);return de.$attrs$=Z.vattrs,de.$children$=Z.vchildren,de.$key$=Z.vkey,de.$name$=Z.vname,de},Qe=(Z,de,Pe,ie,$e,Fe,_t)=>{let Ct,Pt,$t,Jt;if(1===Fe.nodeType){for(Ct=Fe.getAttribute("c-id"),Ct&&(Pt=Ct.split("."),(Pt[0]===_t||"0"===Pt[0])&&($t={$flags$:0,$hostId$:Pt[0],$nodeId$:Pt[1],$depth$:Pt[2],$index$:Pt[3],$tag$:Fe.tagName.toLowerCase(),$elm$:Fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push($t),Fe.removeAttribute("c-id"),Z.$children$||(Z.$children$=[]),Z.$children$[$t.$index$]=$t,Z=$t,ie&&"0"===$t.$depth$&&(ie[$t.$index$]=$t.$elm$))),Jt=Fe.childNodes.length-1;Jt>=0;Jt--)Qe(Z,de,Pe,ie,$e,Fe.childNodes[Jt],_t);if(Fe.shadowRoot)for(Jt=Fe.shadowRoot.childNodes.length-1;Jt>=0;Jt--)Qe(Z,de,Pe,ie,$e,Fe.shadowRoot.childNodes[Jt],_t)}else if(8===Fe.nodeType)Pt=Fe.nodeValue.split("."),(Pt[1]===_t||"0"===Pt[1])&&(Ct=Pt[0],$t={$flags$:0,$hostId$:Pt[1],$nodeId$:Pt[2],$depth$:Pt[3],$index$:Pt[4],$elm$:Fe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ct?($t.$elm$=Fe.nextSibling,$t.$elm$&&3===$t.$elm$.nodeType&&($t.$text$=$t.$elm$.textContent,de.push($t),Fe.remove(),Z.$children$||(Z.$children$=[]),Z.$children$[$t.$index$]=$t,ie&&"0"===$t.$depth$&&(ie[$t.$index$]=$t.$elm$))):$t.$hostId$===_t&&("s"===Ct?($t.$tag$="slot",Fe["s-sn"]=Pt[5]?$t.$name$=Pt[5]:"",Fe["s-sr"]=!0,ie&&($t.$elm$=zn.createElement($t.$tag$),$t.$name$&&$t.$elm$.setAttribute("name",$t.$name$),Fe.parentNode.insertBefore($t.$elm$,Fe),Fe.remove(),"0"===$t.$depth$&&(ie[$t.$index$]=$t.$elm$)),Pe.push($t),Z.$children$||(Z.$children$=[]),Z.$children$[$t.$index$]=$t):"r"===Ct&&(ie?Fe.remove():($e["s-cr"]=Fe,Fe["s-cn"]=!0))));else if(Z&&"style"===Z.$tag$){const Nn=ct(null,Fe.textContent);Nn.$elm$=Fe,Nn.$index$="0",Z.$children$=[Nn]}},at=(Z,de)=>{if(1===Z.nodeType){let Pe=0;for(;Pe<Z.childNodes.length;Pe++)at(Z.childNodes[Pe],de);if(Z.shadowRoot)for(Pe=0;Pe<Z.shadowRoot.childNodes.length;Pe++)at(Z.shadowRoot.childNodes[Pe],de)}else if(8===Z.nodeType){const Pe=Z.nodeValue.split(".");"o"===Pe[0]&&(de.set(Pe[1]+"."+Pe[2],Z),Z.nodeValue="",Z["s-en"]=Pe[3])}},St=Z=>or.push(Z),sn=Z=>Ir(Z).$modeName$,pe=Z=>Ir(Z).$hostElement$,vt=(Z,de,Pe)=>{const ie=pe(Z);return{emit:$e=>Zt(ie,de,{bubbles:!!(4&Pe),composed:!!(2&Pe),cancelable:!!(1&Pe),detail:$e})}},Zt=(Z,de,Pe)=>{const ie=Pn.ce(de,Pe);return Z.dispatchEvent(ie),ie},hn=new WeakMap,xn=(Z,de,Pe)=>{let ie=En.get(Z);fi&&Pe?(ie=ie||new CSSStyleSheet,"string"==typeof ie?ie=de:ie.replaceSync(de)):ie=de,En.set(Z,ie)},un=(Z,de,Pe,ie)=>{var $e;let Fe=_n(de,Pe);const _t=En.get(Fe);if(Z=11===Z.nodeType?Z:zn,_t)if("string"==typeof _t){let Pt,Ct=hn.get(Z=Z.head||Z);if(Ct||hn.set(Z,Ct=new Set),!Ct.has(Fe)){if(Z.host&&(Pt=Z.querySelector(`[${ot}="${Fe}"]`)))Pt.innerHTML=_t;else{Pt=zn.createElement("style"),Pt.innerHTML=_t;const $t=null!==($e=Pn.$nonce$)&&void 0!==$e?$e:Be(zn);null!=$t&&Pt.setAttribute("nonce",$t),Z.insertBefore(Pt,Z.querySelector("link"))}Ct&&Ct.add(Fe)}}else Z.adoptedStyleSheets.includes(_t)||(Z.adoptedStyleSheets=[...Z.adoptedStyleSheets,_t]);return Fe},_n=(Z,de)=>"sc-"+(de&&32&Z.$flags$?Z.$tagName$+"-"+de:Z.$tagName$),Kn=Z=>Z.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ir=(Z,de,Pe,ie,$e,Fe)=>{if(Pe!==ie){let _t=jt(Z,de),Ct=de.toLowerCase();if("class"===de){const Pt=Z.classList,$t=nn(Pe),Jt=nn(ie);Pt.remove(...$t.filter(Nn=>Nn&&!Jt.includes(Nn))),Pt.add(...Jt.filter(Nn=>Nn&&!$t.includes(Nn)))}else if("style"===de){for(const Pt in Pe)(!ie||null==ie[Pt])&&(Pt.includes("-")?Z.style.removeProperty(Pt):Z.style[Pt]="");for(const Pt in ie)(!Pe||ie[Pt]!==Pe[Pt])&&(Pt.includes("-")?Z.style.setProperty(Pt,ie[Pt]):Z.style[Pt]=ie[Pt])}else if("key"!==de)if("ref"===de)ie&&ie(Z);else if(_t||"o"!==de[0]||"n"!==de[1]){const Pt=ve(ie);if((_t||Pt&&null!==ie)&&!$e)try{if(Z.tagName.includes("-"))Z[de]=ie;else{const Jt=null==ie?"":ie;"list"===de?_t=!1:(null==Pe||Z[de]!=Jt)&&(Z[de]=Jt)}}catch{}let $t=!1;Ct!==(Ct=Ct.replace(/^xlink\:?/,""))&&(de=Ct,$t=!0),null==ie||!1===ie?(!1!==ie||""===Z.getAttribute(de))&&($t?Z.removeAttributeNS(Ve,de):Z.removeAttribute(de)):(!_t||4&Fe||$e)&&!Pt&&(ie=!0===ie?"":ie,$t?Z.setAttributeNS(Ve,de,ie):Z.setAttribute(de,ie))}else de="-"===de[2]?de.slice(3):jt(tr,Ct)?Ct.slice(2):Ct[2]+de.slice(3),Pe&&Pn.rel(Z,de,Pe,!1),ie&&Pn.ael(Z,de,ie,!1)}},Bn=/\s/,nn=Z=>Z?Z.split(Bn):[],bn=(Z,de,Pe,ie)=>{const $e=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,Fe=Z&&Z.$attrs$||yt,_t=de.$attrs$||yt;for(ie in Fe)ie in _t||ir($e,ie,Fe[ie],void 0,Pe,de.$flags$);for(ie in _t)ir($e,ie,Fe[ie],_t[ie],Pe,de.$flags$)},Vr=(Z,de,Pe,ie)=>{const $e=de.$children$[Pe];let _t,Ct,Pt,Fe=0;if(we||(xe=!0,"slot"===$e.$tag$&&(W&&ie.classList.add(W+"-s"),$e.$flags$|=$e.$children$?2:1)),null!==$e.$text$)_t=$e.$elm$=zn.createTextNode($e.$text$);else if(1&$e.$flags$)_t=$e.$elm$=zn.createTextNode("");else{if(Re||(Re="svg"===$e.$tag$),_t=$e.$elm$=zn.createElementNS(Re?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&$e.$flags$?"slot-fb":$e.$tag$),Re&&"foreignObject"===$e.$tag$&&(Re=!1),bn(null,$e,Re),(Z=>null!=Z)(W)&&_t["s-si"]!==W&&_t.classList.add(_t["s-si"]=W),$e.$children$)for(Fe=0;Fe<$e.$children$.length;++Fe)Ct=Vr(Z,$e,Fe,_t),Ct&&_t.appendChild(Ct);"svg"===$e.$tag$?Re=!1:"foreignObject"===_t.tagName&&(Re=!0)}return _t["s-hn"]=Ae,3&$e.$flags$&&(_t["s-sr"]=!0,_t["s-cr"]=ne,_t["s-sn"]=$e.$name$||"",Pt=Z&&Z.$children$&&Z.$children$[Pe],Pt&&Pt.$tag$===$e.$tag$&&Z.$elm$&&lr(Z.$elm$,!1)),_t},lr=(Z,de)=>{Pn.$flags$|=1;const Pe=Z.childNodes;for(let ie=Pe.length-1;ie>=0;ie--){const $e=Pe[ie];$e["s-hn"]!==Ae&&$e["s-ol"]&&(an($e).insertBefore($e,Ht($e)),$e["s-ol"].remove(),$e["s-ol"]=void 0,xe=!0),de&&lr($e,de)}Pn.$flags$&=-2},Gr=(Z,de,Pe,ie,$e,Fe)=>{let Ct,_t=Z["s-cr"]&&Z["s-cr"].parentNode||Z;for(_t.shadowRoot&&_t.tagName===Ae&&(_t=_t.shadowRoot);$e<=Fe;++$e)ie[$e]&&(Ct=Vr(null,Pe,$e,Z),Ct&&(ie[$e].$elm$=Ct,_t.insertBefore(Ct,Ht(de))))},ri=(Z,de,Pe)=>{for(let ie=de;ie<=Pe;++ie){const $e=Z[ie];if($e){const Fe=$e.$elm$;Wr($e),Fe&&(le=!0,Fe["s-ol"]?Fe["s-ol"].remove():lr(Fe,!0),Fe.remove())}}},jn=(Z,de)=>Z.$tag$===de.$tag$&&("slot"===Z.$tag$?Z.$name$===de.$name$:Z.$key$===de.$key$),Ht=Z=>Z&&Z["s-ol"]||Z,an=Z=>(Z["s-ol"]?Z["s-ol"]:Z).parentNode,zt=(Z,de)=>{const Pe=de.$elm$=Z.$elm$,ie=Z.$children$,$e=de.$children$,Fe=de.$tag$,_t=de.$text$;let Ct;null===_t?(Re="svg"===Fe||"foreignObject"!==Fe&&Re,"slot"===Fe||bn(Z,de,Re),null!==ie&&null!==$e?((Z,de,Pe,ie)=>{let Kr,ii,$e=0,Fe=0,_t=0,Ct=0,Pt=de.length-1,$t=de[0],Jt=de[Pt],Nn=ie.length-1,An=ie[0],Zn=ie[Nn];for(;$e<=Pt&&Fe<=Nn;)if(null==$t)$t=de[++$e];else if(null==Jt)Jt=de[--Pt];else if(null==An)An=ie[++Fe];else if(null==Zn)Zn=ie[--Nn];else if(jn($t,An))zt($t,An),$t=de[++$e],An=ie[++Fe];else if(jn(Jt,Zn))zt(Jt,Zn),Jt=de[--Pt],Zn=ie[--Nn];else if(jn($t,Zn))("slot"===$t.$tag$||"slot"===Zn.$tag$)&&lr($t.$elm$.parentNode,!1),zt($t,Zn),Z.insertBefore($t.$elm$,Jt.$elm$.nextSibling),$t=de[++$e],Zn=ie[--Nn];else if(jn(Jt,An))("slot"===$t.$tag$||"slot"===Zn.$tag$)&&lr(Jt.$elm$.parentNode,!1),zt(Jt,An),Z.insertBefore(Jt.$elm$,$t.$elm$),Jt=de[--Pt],An=ie[++Fe];else{for(_t=-1,Ct=$e;Ct<=Pt;++Ct)if(de[Ct]&&null!==de[Ct].$key$&&de[Ct].$key$===An.$key$){_t=Ct;break}_t>=0?(ii=de[_t],ii.$tag$!==An.$tag$?Kr=Vr(de&&de[Fe],Pe,_t,Z):(zt(ii,An),de[_t]=void 0,Kr=ii.$elm$),An=ie[++Fe]):(Kr=Vr(de&&de[Fe],Pe,Fe,Z),An=ie[++Fe]),Kr&&an($t.$elm$).insertBefore(Kr,Ht($t.$elm$))}$e>Pt?Gr(Z,null==ie[Nn+1]?null:ie[Nn+1].$elm$,Pe,ie,Fe,Nn):Fe>Nn&&ri(de,$e,Pt)})(Pe,ie,de,$e):null!==$e?(null!==Z.$text$&&(Pe.textContent=""),Gr(Pe,null,de,$e,0,$e.length-1)):null!==ie&&ri(ie,0,ie.length-1),Re&&"svg"===Fe&&(Re=!1)):(Ct=Pe["s-cr"])?Ct.parentNode.textContent=_t:Z.$text$!==_t&&(Pe.data=_t)},Fr=Z=>{const de=Z.childNodes;let Pe,ie,$e,Fe,_t,Ct;for(ie=0,$e=de.length;ie<$e;ie++)if(Pe=de[ie],1===Pe.nodeType){if(Pe["s-sr"])for(_t=Pe["s-sn"],Pe.hidden=!1,Fe=0;Fe<$e;Fe++)if(Ct=de[Fe].nodeType,de[Fe]["s-hn"]!==Pe["s-hn"]||""!==_t){if(1===Ct&&_t===de[Fe].getAttribute("slot")){Pe.hidden=!0;break}}else if(1===Ct||3===Ct&&""!==de[Fe].textContent.trim()){Pe.hidden=!0;break}Fr(Pe)}},cr=[],Lr=Z=>{let de,Pe,ie,$e,Fe,_t,Ct=0;const Pt=Z.childNodes,$t=Pt.length;for(;Ct<$t;Ct++){if(de=Pt[Ct],de["s-sr"]&&(Pe=de["s-cr"])&&Pe.parentNode)for(ie=Pe.parentNode.childNodes,$e=de["s-sn"],_t=ie.length-1;_t>=0;_t--)Pe=ie[_t],!Pe["s-cn"]&&!Pe["s-nr"]&&Pe["s-hn"]!==de["s-hn"]&&(Ar(Pe,$e)?(Fe=cr.find(Jt=>Jt.$nodeToRelocate$===Pe),le=!0,Pe["s-sn"]=Pe["s-sn"]||$e,Fe?Fe.$slotRefNode$=de:cr.push({$slotRefNode$:de,$nodeToRelocate$:Pe}),Pe["s-sr"]&&cr.map(Jt=>{Ar(Jt.$nodeToRelocate$,Pe["s-sn"])&&(Fe=cr.find(Nn=>Nn.$nodeToRelocate$===Pe),Fe&&!Jt.$slotRefNode$&&(Jt.$slotRefNode$=Fe.$slotRefNode$))})):cr.some(Jt=>Jt.$nodeToRelocate$===Pe)||cr.push({$nodeToRelocate$:Pe}));1===de.nodeType&&Lr(de)}},Ar=(Z,de)=>1===Z.nodeType?null===Z.getAttribute("slot")&&""===de||Z.getAttribute("slot")===de:Z["s-sn"]===de||""===de,Wr=Z=>{Z.$attrs$&&Z.$attrs$.ref&&Z.$attrs$.ref(null),Z.$children$&&Z.$children$.map(Wr)},qr=(Z,de)=>{de&&!Z.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(Pe=>Z.$onRenderResolve$=Pe))},qn=(Z,de)=>{if(Z.$flags$|=16,!(4&Z.$flags$))return qr(Z,Z.$ancestorComponent$),Er(()=>Hn(Z,de));Z.$flags$|=512},Hn=(Z,de)=>{const ie=Z.$lazyInstance$;let $e;return de&&(Z.$flags$|=256,Z.$queuedListeners$&&(Z.$queuedListeners$.map(([Fe,_t])=>Nt(ie,Fe,_t)),Z.$queuedListeners$=null),$e=Nt(ie,"componentWillLoad")),$e=rr($e,()=>Nt(ie,"componentWillRender")),rr($e,()=>ti(Z,ie,de))},rr=(Z,de)=>Z instanceof Promise?Z.then(de):de(),ti=function(){var Z=(0,m.Z)(function*(de,Pe,ie){const $e=de.$hostElement$,_t=$e["s-rc"];ie&&(Z=>{const de=Z.$cmpMeta$,Pe=Z.$hostElement$,ie=de.$flags$,Fe=un(Pe.shadowRoot?Pe.shadowRoot:Pe.getRootNode(),de,Z.$modeName$);10&ie&&(Pe["s-sc"]=Fe,Pe.classList.add(Fe+"-h"),2&ie&&Pe.classList.add(Fe+"-s"))})(de);_r(de,Pe),_t&&(_t.map(Pt=>Pt()),$e["s-rc"]=void 0);{const Pt=$e["s-p"],$t=()=>Mt(de);0===Pt.length?$t():(Promise.all(Pt).then($t),de.$flags$|=4,Pt.length=0)}});return function(Pe,ie,$e){return Z.apply(this,arguments)}}(),_r=(Z,de,Pe)=>{try{de=de.render&&de.render(),Z.$flags$&=-17,Z.$flags$|=2,((Z,de)=>{const Pe=Z.$hostElement$,ie=Z.$cmpMeta$,$e=Z.$vnode$||ct(null,null),Fe=(Z=>Z&&Z.$tag$===Je)(de)?de:rt(null,null,de);if(Ae=Pe.tagName,ie.$attrsToReflect$&&(Fe.$attrs$=Fe.$attrs$||{},ie.$attrsToReflect$.map(([_t,Ct])=>Fe.$attrs$[Ct]=Pe[_t])),Fe.$tag$=null,Fe.$flags$|=4,Z.$vnode$=Fe,Fe.$elm$=$e.$elm$=Pe.shadowRoot||Pe,W=Pe["s-sc"],ne=Pe["s-cr"],we=0!=(1&ie.$flags$),le=!1,zt($e,Fe),Pn.$flags$|=1,xe){Lr(Fe.$elm$);let _t,Ct,Pt,$t,Jt,Nn,An=0;for(;An<cr.length;An++)_t=cr[An],Ct=_t.$nodeToRelocate$,Ct["s-ol"]||(Pt=zn.createTextNode(""),Pt["s-nr"]=Ct,Ct.parentNode.insertBefore(Ct["s-ol"]=Pt,Ct));for(An=0;An<cr.length;An++)if(_t=cr[An],Ct=_t.$nodeToRelocate$,_t.$slotRefNode$){for($t=_t.$slotRefNode$.parentNode,Jt=_t.$slotRefNode$.nextSibling,Pt=Ct["s-ol"];Pt=Pt.previousSibling;)if(Nn=Pt["s-nr"],Nn&&Nn["s-sn"]===Ct["s-sn"]&&$t===Nn.parentNode&&(Nn=Nn.nextSibling,!Nn||!Nn["s-nr"])){Jt=Nn;break}(!Jt&&$t!==Ct.parentNode||Ct.nextSibling!==Jt)&&Ct!==Jt&&(!Ct["s-hn"]&&Ct["s-ol"]&&(Ct["s-hn"]=Ct["s-ol"].parentNode.nodeName),$t.insertBefore(Ct,Jt))}else 1===Ct.nodeType&&(Ct.hidden=!0)}le&&Fr(Fe.$elm$),Pn.$flags$&=-2,cr.length=0})(Z,de)}catch(ie){yn(ie,Z.$hostElement$)}return null},Mt=Z=>{const Pe=Z.$hostElement$,$e=Z.$lazyInstance$,Fe=Z.$ancestorComponent$;Nt($e,"componentDidRender"),64&Z.$flags$?Nt($e,"componentDidUpdate"):(Z.$flags$|=64,Ot(Pe),Nt($e,"componentDidLoad"),Z.$onReadyResolve$(Pe),Fe||Ue()),Z.$onInstanceResolve$(Pe),Z.$onRenderResolve$&&(Z.$onRenderResolve$(),Z.$onRenderResolve$=void 0),512&Z.$flags$&&Ur(()=>qn(Z,!1)),Z.$flags$&=-517},Le=Z=>{{const de=Ir(Z),Pe=de.$hostElement$.isConnected;return Pe&&2==(18&de.$flags$)&&qn(de,!1),Pe}},Ue=Z=>{Ot(zn.documentElement),Ur(()=>Zt(tr,"appload",{detail:{namespace:"ionic"}}))},Nt=(Z,de,Pe)=>{if(Z&&Z[de])try{return Z[de](Pe)}catch(ie){yn(ie)}},Ot=Z=>Z.classList.add("hydrated"),ke=(Z,de,Pe)=>{if(de.$members$){Z.watchers&&(de.$watchers$=Z.watchers);const ie=Object.entries(de.$members$),$e=Z.prototype;if(ie.map(([Fe,[_t]])=>{31&_t||2&Pe&&32&_t?Object.defineProperty($e,Fe,{get(){return((Z,de)=>Ir(this).$instanceValues$.get(de))(0,Fe)},set(Ct){((Z,de,Pe,ie)=>{const $e=Ir(Z),Fe=$e.$hostElement$,_t=$e.$instanceValues$.get(de),Ct=$e.$flags$,Pt=$e.$lazyInstance$;Pe=((Z,de)=>null==Z||ve(Z)?Z:4&de?"false"!==Z&&(""===Z||!!Z):2&de?parseFloat(Z):1&de?String(Z):Z)(Pe,ie.$members$[de][0]);const $t=Number.isNaN(_t)&&Number.isNaN(Pe);if((!(8&Ct)||void 0===_t)&&Pe!==_t&&!$t&&($e.$instanceValues$.set(de,Pe),Pt)){if(ie.$watchers$&&128&Ct){const Nn=ie.$watchers$[de];Nn&&Nn.map(An=>{try{Pt[An](Pe,_t,de)}catch(Zn){yn(Zn,Fe)}})}2==(18&Ct)&&qn($e,!1)}})(this,Fe,Ct,de)},configurable:!0,enumerable:!0}):1&Pe&&64&_t&&Object.defineProperty($e,Fe,{value(...Ct){const Pt=Ir(this);return Pt.$onInstancePromise$.then(()=>Pt.$lazyInstance$[Fe](...Ct))}})}),1&Pe){const Fe=new Map;$e.attributeChangedCallback=function(_t,Ct,Pt){Pn.jmp(()=>{const $t=Fe.get(_t);if(this.hasOwnProperty($t))Pt=this[$t],delete this[$t];else if($e.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==Pt)return;this[$t]=(null!==Pt||"boolean"!=typeof this[$t])&&Pt})},Z.observedAttributes=ie.filter(([_t,Ct])=>15&Ct[0]).map(([_t,Ct])=>{const Pt=Ct[1]||_t;return Fe.set(Pt,_t),512&Ct[0]&&de.$attrsToReflect$.push([_t,Pt]),Pt})}}return Z},ft=function(){var Z=(0,m.Z)(function*(de,Pe,ie,$e,Fe){if(!(32&Pe.$flags$)){Pe.$flags$|=32;{if((Fe=er(ie)).then){const $t=()=>{};Fe=yield Fe,$t()}Fe.isProxied||(ie.$watchers$=Fe.watchers,ke(Fe,ie,2),Fe.isProxied=!0);const Pt=()=>{};Pe.$flags$|=8;try{new Fe(Pe)}catch($t){yn($t)}Pe.$flags$&=-9,Pe.$flags$|=128,Pt(),tt(Pe.$lazyInstance$)}if(Fe.style){let Pt=Fe.style;"string"!=typeof Pt&&(Pt=Pt[Pe.$modeName$=(Z=>or.map(de=>de(Z)).find(de=>!!de))(de)]);const $t=_n(ie,Pe.$modeName$);if(!En.has($t)){const Jt=()=>{};xn($t,Pt,!!(1&ie.$flags$)),Jt()}}}const _t=Pe.$ancestorComponent$,Ct=()=>qn(Pe,!0);_t&&_t["s-rc"]?_t["s-rc"].push(Ct):Ct()});return function(Pe,ie,$e,Fe,_t){return Z.apply(this,arguments)}}(),tt=Z=>{Nt(Z,"connectedCallback")},je=Z=>{const de=Z["s-cr"]=zn.createComment("");de["s-cn"]=!0,Z.insertBefore(de,Z.firstChild)},oe=(Z,de={})=>{var Pe;const $e=[],Fe=de.exclude||[],_t=tr.customElements,Ct=zn.head,Pt=Ct.querySelector("meta[charset]"),$t=zn.createElement("style"),Jt=[],Nn=zn.querySelectorAll(`[${ot}]`);let An,Zn=!0,Kr=0;for(Object.assign(Pn,de),Pn.$resourcesUrl$=new URL(de.resourcesUrl||"./",zn.baseURI).href,Pn.$flags$|=2;Kr<Nn.length;Kr++)xn(Nn[Kr].getAttribute(ot),Kn(Nn[Kr].innerHTML),!0);Z.map(ii=>{ii[1].map(et=>{const ze={$flags$:et[0],$tagName$:et[1],$members$:et[2],$listeners$:et[3]};ze.$members$=et[2],ze.$listeners$=et[3],ze.$attrsToReflect$=[],ze.$watchers$={};const ut=ze.$tagName$,kt=class extends HTMLElement{constructor(Kt){super(Kt),pt(Kt=this,ze),1&ze.$flags$&&Kt.attachShadow({mode:"open",delegatesFocus:!!(16&ze.$flags$)})}connectedCallback(){An&&(clearTimeout(An),An=null),Zn?Jt.push(this):Pn.jmp(()=>(Z=>{if(!(1&Pn.$flags$)){const de=Ir(Z),Pe=de.$cmpMeta$,ie=()=>{};if(1&de.$flags$)He(Z,de,Pe.$listeners$),tt(de.$lazyInstance$);else{let $e;if(de.$flags$|=1,$e=Z.getAttribute(te),$e){if(1&Pe.$flags$){const Fe=un(Z.shadowRoot,Pe,Z.getAttribute("s-mode"));Z.classList.remove(Fe+"-h",Fe+"-s")}((Z,de,Pe,ie)=>{const Fe=Z.shadowRoot,_t=[],Pt=Fe?[]:null,$t=ie.$vnode$=ct(de,null);Pn.$orgLocNodes$||at(zn.body,Pn.$orgLocNodes$=new Map),Z[te]=Pe,Z.removeAttribute(te),Qe($t,_t,[],Pt,Z,Z,Pe),_t.map(Jt=>{const Nn=Jt.$hostId$+"."+Jt.$nodeId$,An=Pn.$orgLocNodes$.get(Nn),Zn=Jt.$elm$;An&&Mi&&""===An["s-en"]&&An.parentNode.insertBefore(Zn,An.nextSibling),Fe||(Zn["s-hn"]=de,An&&(Zn["s-ol"]=An,Zn["s-ol"]["s-nr"]=Zn)),Pn.$orgLocNodes$.delete(Nn)}),Fe&&Pt.map(Jt=>{Jt&&Fe.appendChild(Jt)})})(Z,Pe.$tagName$,$e,de)}$e||12&Pe.$flags$&&je(Z);{let Fe=Z;for(;Fe=Fe.parentNode||Fe.host;)if(1===Fe.nodeType&&Fe.hasAttribute("s-id")&&Fe["s-p"]||Fe["s-p"]){qr(de,de.$ancestorComponent$=Fe);break}}Pe.$members$&&Object.entries(Pe.$members$).map(([Fe,[_t]])=>{if(31&_t&&Z.hasOwnProperty(Fe)){const Ct=Z[Fe];delete Z[Fe],Z[Fe]=Ct}}),ft(Z,de,Pe)}ie()}})(this))}disconnectedCallback(){Pn.jmp(()=>(Z=>{if(!(1&Pn.$flags$)){const de=Ir(this),Pe=de.$lazyInstance$;de.$rmListeners$&&(de.$rmListeners$.map(ie=>ie()),de.$rmListeners$=void 0),Nt(Pe,"disconnectedCallback")}})())}componentOnReady(){return Ir(this).$onReadyPromise$}};ze.$lazyBundleId$=ii[0],!Fe.includes(ut)&&!_t.get(ut)&&($e.push(ut),_t.define(ut,ke(kt,ze,1)))})});{$t.innerHTML=$e+"{visibility:hidden}.hydrated{visibility:inherit}",$t.setAttribute("data-styles","");const ii=null!==(Pe=Pn.$nonce$)&&void 0!==Pe?Pe:Be(zn);null!=ii&&$t.setAttribute("nonce",ii),Ct.insertBefore($t,Pt?Pt.nextSibling:Ct.firstChild)}Zn=!1,Jt.length?Jt.map(ii=>ii.connectedCallback()):Pn.jmp(()=>An=setTimeout(Ue,30))},He=(Z,de,Pe,ie)=>{Pe&&Pe.map(([$e,Fe,_t])=>{const Ct=qt(Z,$e),Pt=Tt(de,_t),$t=dn($e);Pn.ael(Ct,Fe,Pt,$t),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>Pn.rel(Ct,Fe,Pt,$t))})},Tt=(Z,de)=>Pe=>{try{256&Z.$flags$?Z.$lazyInstance$[de](Pe):(Z.$queuedListeners$=Z.$queuedListeners$||[]).push([de,Pe])}catch(ie){yn(ie)}},qt=(Z,de)=>4&de?zn:8&de?tr:16&de?zn.body:Z,dn=Z=>0!=(2&Z),Yn=new WeakMap,Ir=Z=>Yn.get(Z),At=(Z,de)=>Yn.set(de.$lazyInstance$=Z,de),pt=(Z,de)=>{const Pe={$flags$:0,$hostElement$:Z,$cmpMeta$:de,$instanceValues$:new Map};return Pe.$onInstancePromise$=new Promise(ie=>Pe.$onInstanceResolve$=ie),Pe.$onReadyPromise$=new Promise(ie=>Pe.$onReadyResolve$=ie),Z["s-p"]=[],Z["s-rc"]=[],He(Z,Pe,de.$listeners$),Yn.set(Z,Pe)},jt=(Z,de)=>de in Z,yn=(Z,de)=>(0,console.error)(Z,de),Cn=new Map,er=(Z,de,Pe)=>{const ie=Z.$tagName$.replace(/-/g,"_"),$e=Z.$lazyBundleId$,Fe=Cn.get($e);return Fe?Fe[ie]:F(863)(`./${$e}.entry.js`).then(_t=>(Cn.set($e,_t),_t[ie]),yn)},En=new Map,or=[],tr=typeof window<"u"?window:{},zn=tr.document||{head:{}},Pn={$flags$:0,$resourcesUrl$:"",jmp:Z=>Z(),raf:Z=>requestAnimationFrame(Z),ael:(Z,de,Pe,ie)=>Z.addEventListener(de,Pe,ie),rel:(Z,de,Pe,ie)=>Z.removeEventListener(de,Pe,ie),ce:(Z,de)=>new CustomEvent(Z,de)},qi=Z=>{Object.assign(Pn,Z)},Mi=!0,xi=Z=>Promise.resolve(Z),fi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ln=[],Un=[],Mr=(Z,de)=>Pe=>{Z.push(Pe),he||(he=!0,de&&4&Pn.$flags$?Ur(ur):Pn.raf(ur))},pi=Z=>{for(let de=0;de<Z.length;de++)try{Z[de](performance.now())}catch(Pe){yn(Pe)}Z.length=0},ur=()=>{pi(ln),pi(Un),(he=ln.length>0)&&Pn.raf(ur)},Ur=Z=>xi().then(Z),ci=Mr(ln,!1),Er=Mr(Un,!0)},8126:(on,st,F)=>{"use strict";F.d(st,{m:()=>se});var m=F(5861),h=F(7593),W=F(3577),ne=F(5273),Ae=F(9613);const we=ae=>(0,Ae.c)().duration(ae?400:300),le=ae=>{let Oe,me;const We=ae.width+8,mt=(0,Ae.c)(),be=(0,Ae.c)();ae.isEndSide?(Oe=We+"px",me="0px"):(Oe=-We+"px",me="0px"),mt.addElement(ae.menuInnerEl).fromTo("transform",`translateX(${Oe})`,`translateX(${me})`);const te="ios"===(0,ne.b)(ae),ot=te?.2:.25;return be.addElement(ae.backdropEl).fromTo("opacity",.01,ot),we(te).addAnimation([mt,be])},xe=ae=>{let Oe,me;const We=(0,ne.b)(ae),mt=ae.width;ae.isEndSide?(Oe=-mt+"px",me=mt+"px"):(Oe=mt+"px",me=-mt+"px");const be=(0,Ae.c)().addElement(ae.menuInnerEl).fromTo("transform",`translateX(${me})`,"translateX(0px)"),ye=(0,Ae.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${Oe})`),te=(0,Ae.c)().addElement(ae.backdropEl).fromTo("opacity",.01,.32);return we("ios"===We).addAnimation([be,ye,te])},Re=ae=>{const Oe=(0,ne.b)(ae),me=ae.width*(ae.isEndSide?-1:1)+"px",We=(0,Ae.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${me})`);return we("ios"===Oe).addAnimation(We)},se=(()=>{const ae=new Map,Oe=[],me=function(){var Te=(0,m.Z)(function*(Ce){const Qe=yield Xe(Ce);return!!Qe&&Qe.open()});return function(Qe){return Te.apply(this,arguments)}}(),We=function(){var Te=(0,m.Z)(function*(Ce){const Qe=yield void 0!==Ce?Xe(Ce):qe();return void 0!==Qe&&Qe.close()});return function(Qe){return Te.apply(this,arguments)}}(),mt=function(){var Te=(0,m.Z)(function*(Ce){const Qe=yield Xe(Ce);return!!Qe&&Qe.toggle()});return function(Qe){return Te.apply(this,arguments)}}(),be=function(){var Te=(0,m.Z)(function*(Ce,Qe){const at=yield Xe(Qe);return at&&(at.disabled=!Ce),at});return function(Qe,at){return Te.apply(this,arguments)}}(),ye=function(){var Te=(0,m.Z)(function*(Ce,Qe){const at=yield Xe(Qe);return at&&(at.swipeGesture=Ce),at});return function(Qe,at){return Te.apply(this,arguments)}}(),te=function(){var Te=(0,m.Z)(function*(Ce){if(null!=Ce){const Qe=yield Xe(Ce);return void 0!==Qe&&Qe.isOpen()}return void 0!==(yield qe())});return function(Qe){return Te.apply(this,arguments)}}(),ot=function(){var Te=(0,m.Z)(function*(Ce){const Qe=yield Xe(Ce);return!!Qe&&!Qe.disabled});return function(Qe){return Te.apply(this,arguments)}}(),Xe=function(){var Te=(0,m.Z)(function*(Ce){return yield De(),"start"===Ce||"end"===Ce?it(Ft=>Ft.side===Ce&&!Ft.disabled)||it(Ft=>Ft.side===Ce):null!=Ce?it(at=>at.menuId===Ce):it(at=>!at.disabled)||(Oe.length>0?Oe[0].el:void 0)});return function(Qe){return Te.apply(this,arguments)}}(),qe=function(){var Te=(0,m.Z)(function*(){return yield De(),ct()});return function(){return Te.apply(this,arguments)}}(),Ve=function(){var Te=(0,m.Z)(function*(){return yield De(),Je()});return function(){return Te.apply(this,arguments)}}(),yt=function(){var Te=(0,m.Z)(function*(){return yield De(),ht()});return function(){return Te.apply(this,arguments)}}(),Se=(Te,Ce)=>{ae.set(Te,Ce)},ve=Te=>{const Ce=Te.side;Oe.filter(Qe=>Qe.side===Ce&&Qe!==Te).forEach(Qe=>Qe.disabled=!0)},Be=function(){var Te=(0,m.Z)(function*(Ce,Qe,at){if(ht())return!1;if(Qe){const Ft=yield qe();Ft&&Ce.el!==Ft&&(yield Ft.setOpen(!1,!1))}return Ce._setOpen(Qe,at)});return function(Qe,at,Ft){return Te.apply(this,arguments)}}(),ct=()=>it(Te=>Te._isOpen),Je=()=>Oe.map(Te=>Te.el),ht=()=>Oe.some(Te=>Te.isAnimating),it=Te=>{const Ce=Oe.find(Te);if(void 0!==Ce)return Ce.el},De=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Te=>new Promise(Ce=>(0,W.c)(Te,Ce))));return Se("reveal",Re),Se("push",xe),Se("overlay",le),typeof document<"u"&&document.addEventListener("ionBackButton",Te=>{const Ce=ct();Ce&&Te.detail.register(h.MENU_BACK_BUTTON_PRIORITY,()=>Ce.close())}),{registerAnimation:Se,get:Xe,getMenus:Ve,getOpen:qe,isEnabled:ot,swipeGesture:ye,isAnimating:yt,isOpen:te,enable:be,toggle:mt,close:We,open:me,_getOpenSync:ct,_createAnimation:(Te,Ce)=>{const Qe=ae.get(Te);if(!Qe)throw new Error("animation not registered");return Qe(Ce)},_register:Te=>{Oe.indexOf(Te)<0&&(Te.disabled||ve(Te),Oe.push(Te))},_unregister:Te=>{const Ce=Oe.indexOf(Te);Ce>-1&&Oe.splice(Ce,1)},_setOpen:Be,_setActiveMenu:ve}})()},1178:(on,st,F)=>{"use strict";F.d(st,{a:()=>h,b:()=>W,p:()=>m});const m=(ne,...Ae)=>console.warn(`[Ionic Warning]: ${ne}`,...Ae),h=(ne,...Ae)=>console.error(`[Ionic Error]: ${ne}`,...Ae),W=(ne,...Ae)=>console.error(`<${ne.tagName.toLowerCase()}> must be used inside ${Ae.join(" or ")}.`)},9866:(on,st,F)=>{"use strict";F.d(st,{L:()=>ne,a:()=>Ae,b:()=>we,c:()=>le,d:()=>xe,e:()=>yt,g:()=>Ie,l:()=>Ve,s:()=>Se,t:()=>se});var m=F(5861),h=F(4083),W=F(3577);const ne="ionViewWillEnter",Ae="ionViewDidEnter",we="ionViewWillLeave",le="ionViewDidLeave",xe="ionViewWillUnload",se=ve=>new Promise((Be,rt)=>{(0,h.w)(()=>{ae(ve),Oe(ve).then(ct=>{ct.animation&&ct.animation.destroy(),me(ve),Be(ct)},ct=>{me(ve),rt(ct)})})}),ae=ve=>{const Be=ve.enteringEl,rt=ve.leavingEl;Ee(Be,rt,ve.direction),ve.showGoBack?Be.classList.add("can-go-back"):Be.classList.remove("can-go-back"),Se(Be,!1),Be.style.setProperty("pointer-events","none"),rt&&(Se(rt,!1),rt.style.setProperty("pointer-events","none"))},Oe=function(){var ve=(0,m.Z)(function*(Be){const rt=yield We(Be);return rt&&h.B.isBrowser?mt(rt,Be):be(Be)});return function(rt){return ve.apply(this,arguments)}}(),me=ve=>{const Be=ve.enteringEl,rt=ve.leavingEl;Be.classList.remove("ion-page-invisible"),Be.style.removeProperty("pointer-events"),void 0!==rt&&(rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"))},We=function(){var ve=(0,m.Z)(function*(Be){return Be.leavingEl&&Be.animated&&0!==Be.duration?Be.animationBuilder?Be.animationBuilder:"ios"===Be.mode?(yield Promise.resolve().then(F.bind(F,3551))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,1138))).mdTransitionAnimation:void 0});return function(rt){return ve.apply(this,arguments)}}(),mt=function(){var ve=(0,m.Z)(function*(Be,rt){yield ye(rt,!0);const ct=Be(rt.baseEl,rt);Xe(rt.enteringEl,rt.leavingEl);const Je=yield ot(ct,rt);return rt.progressCallback&&rt.progressCallback(void 0),Je&&qe(rt.enteringEl,rt.leavingEl),{hasCompleted:Je,animation:ct}});return function(rt,ct){return ve.apply(this,arguments)}}(),be=function(){var ve=(0,m.Z)(function*(Be){const rt=Be.enteringEl,ct=Be.leavingEl;return yield ye(Be,!1),Xe(rt,ct),qe(rt,ct),{hasCompleted:!0}});return function(rt){return ve.apply(this,arguments)}}(),ye=function(){var ve=(0,m.Z)(function*(Be,rt){(void 0!==Be.deepWait?Be.deepWait:rt)&&(yield Promise.all([yt(Be.enteringEl),yt(Be.leavingEl)])),yield te(Be.viewIsReady,Be.enteringEl)});return function(rt,ct){return ve.apply(this,arguments)}}(),te=function(){var ve=(0,m.Z)(function*(Be,rt){Be&&(yield Be(rt))});return function(rt,ct){return ve.apply(this,arguments)}}(),ot=(ve,Be)=>{const rt=Be.progressCallback,ct=new Promise(Je=>{ve.onFinish(ht=>Je(1===ht))});return rt?(ve.progressStart(!0),rt(ve)):ve.play(),ct},Xe=(ve,Be)=>{Ve(Be,we),Ve(ve,ne)},qe=(ve,Be)=>{Ve(ve,Ae),Ve(Be,le)},Ve=(ve,Be)=>{if(ve){const rt=new CustomEvent(Be,{bubbles:!1,cancelable:!1});ve.dispatchEvent(rt)}},yt=function(){var ve=(0,m.Z)(function*(Be){const rt=Be;if(rt){if(null!=rt.componentOnReady){if(null!=(yield rt.componentOnReady()))return}else if(null!=rt.__registerHost)return void(yield new Promise(Je=>(0,W.r)(Je)));yield Promise.all(Array.from(rt.children).map(yt))}});return function(rt){return ve.apply(this,arguments)}}(),Se=(ve,Be)=>{Be?(ve.setAttribute("aria-hidden","true"),ve.classList.add("ion-page-hidden")):(ve.hidden=!1,ve.removeAttribute("aria-hidden"),ve.classList.remove("ion-page-hidden"))},Ee=(ve,Be,rt)=>{void 0!==ve&&(ve.style.zIndex="back"===rt?"99":"101"),void 0!==Be&&(Be.style.zIndex="100")},Ie=ve=>ve.classList.contains("ion-page")?ve:ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ve},5273:(on,st,F)=>{"use strict";F.d(st,{a:()=>se,b:()=>ht,c:()=>W,g:()=>he,i:()=>it});var m=F(4083);class h{constructor(){this.m=new Map}reset(Te){this.m=new Map(Object.entries(Te))}get(Te,Ce){const Qe=this.m.get(Te);return void 0!==Qe?Qe:Ce}getBoolean(Te,Ce=!1){const Qe=this.m.get(Te);return void 0===Qe?Ce:"string"==typeof Qe?"true"===Qe:!!Qe}getNumber(Te,Ce){const Qe=parseFloat(this.m.get(Te));return isNaN(Qe)?void 0!==Ce?Ce:NaN:Qe}set(Te,Ce){this.m.set(Te,Ce)}}const W=new h,Re="ionic-persist-config",he=De=>ae(De),se=(De,Te)=>("string"==typeof De&&(Te=De,De=void 0),he(De).includes(Te)),ae=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let Te=De.Ionic.platforms;return null==Te&&(Te=De.Ionic.platforms=Oe(De),Te.forEach(Ce=>De.document.documentElement.classList.add(`plt-${Ce}`))),Te},Oe=De=>{const Te=W.get("platform");return Object.keys(ct).filter(Ce=>{const Qe=null==Te?void 0:Te[Ce];return"function"==typeof Qe?Qe(De):ct[Ce](De)})},We=De=>!!(Be(De,/iPad/i)||Be(De,/Macintosh/i)&&qe(De)),ye=De=>Be(De,/android|sink/i),qe=De=>rt(De,"(any-pointer:coarse)"),yt=De=>Se(De)||Ee(De),Se=De=>!!(De.cordova||De.phonegap||De.PhoneGap),Ee=De=>{const Te=De.Capacitor;return!(null==Te||!Te.isNative)},Be=(De,Te)=>Te.test(De.navigator.userAgent),rt=(De,Te)=>{var Ce;return null===(Ce=De.matchMedia)||void 0===Ce?void 0:Ce.call(De,Te).matches},ct={ipad:We,iphone:De=>Be(De,/iPhone/i),ios:De=>Be(De,/iPhone|iPod/i)||We(De),android:ye,phablet:De=>{const Te=De.innerWidth,Ce=De.innerHeight,Qe=Math.min(Te,Ce),at=Math.max(Te,Ce);return Qe>390&&Qe<520&&at>620&&at<800},tablet:De=>{const Te=De.innerWidth,Ce=De.innerHeight,Qe=Math.min(Te,Ce),at=Math.max(Te,Ce);return We(De)||(De=>ye(De)&&!Be(De,/mobile/i))(De)||Qe>460&&Qe<820&&at>780&&at<1400},cordova:Se,capacitor:Ee,electron:De=>Be(De,/electron/i),pwa:De=>{var Te;return!!(null!==(Te=De.matchMedia)&&void 0!==Te&&Te.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:qe,mobileweb:De=>qe(De)&&!yt(De),desktop:De=>!qe(De),hybrid:yt};let Je;const ht=De=>De&&(0,m.g)(De)||Je,it=(De={})=>{if(typeof window>"u")return;const Te=window.document,Ce=window,Qe=Ce.Ionic=Ce.Ionic||{},at={};De._ael&&(at.ael=De._ael),De._rel&&(at.rel=De._rel),De._ce&&(at.ce=De._ce),(0,m.a)(at);const Ft=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(De=>{try{const Te=De.sessionStorage.getItem(Re);return null!==Te?JSON.parse(Te):{}}catch{return{}}})(Ce)),{persistConfig:!1}),Qe.config),(De=>{const Te={};return De.location.search.slice(1).split("&").map(Ce=>Ce.split("=")).map(([Ce,Qe])=>[decodeURIComponent(Ce),decodeURIComponent(Qe)]).filter(([Ce])=>((De,Te)=>De.substr(0,Te.length)===Te)(Ce,"ionic:")).map(([Ce,Qe])=>[Ce.slice("ionic:".length),Qe]).forEach(([Ce,Qe])=>{Te[Ce]=Qe}),Te})(Ce)),De);W.reset(Ft),W.getBoolean("persistConfig")&&((De,Te)=>{try{De.sessionStorage.setItem(Re,JSON.stringify(Te))}catch{return}})(Ce,Ft),ae(Ce),Qe.config=W,Qe.mode=Je=W.get("mode",Te.documentElement.getAttribute("mode")||(se(Ce,"ios")?"ios":"md")),W.set("mode",Je),Te.documentElement.setAttribute("mode",Je),Te.documentElement.classList.add(Je),W.getBoolean("_testing")&&W.set("animated",!1);const St=gt=>{var pe;return null===(pe=gt.tagName)||void 0===pe?void 0:pe.startsWith("ION-")},sn=gt=>["ios","md"].includes(gt);(0,m.c)(gt=>{for(;gt;){const pe=gt.mode||gt.getAttribute("mode");if(pe){if(sn(pe))return pe;St(gt)&&console.warn('Invalid ionic mode: "'+pe+'", expected: "ios" or "md"')}gt=gt.parentElement}return Je})}},3551:(on,st,F)=>{"use strict";F.r(st),F.d(st,{iosTransitionAnimation:()=>Oe,shadow:()=>le});var m=F(9613),h=F(9866);F(3457),F(4083);const we=me=>document.querySelector(`${me}.ion-cloned-element`),le=me=>me.shadowRoot||me,xe=me=>{const We="ION-TABS"===me.tagName?me:me.querySelector("ion-tabs"),mt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=We){const be=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=be?be.querySelector(mt):null}return me.querySelector(mt)},Re=(me,We)=>{const mt="ION-TABS"===me.tagName?me:me.querySelector("ion-tabs");let be=[];if(null!=mt){const ye=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ye&&(be=ye.querySelectorAll("ion-buttons"))}else be=me.querySelectorAll("ion-buttons");for(const ye of be){const te=ye.closest("ion-header"),ot=te&&!te.classList.contains("header-collapse-condense-inactive"),Xe=ye.querySelector("ion-back-button"),qe=ye.classList.contains("buttons-collapse");if(null!==Xe&&("start"===ye.slot||""===ye.slot)&&(qe&&ot&&We||!qe))return Xe}return null},se=(me,We,mt,be,ye,te)=>{const ot=We?`calc(100% - ${te.right+4}px)`:te.left-4+"px",Xe=We?"7px":"-7px",qe=We?"-4px":"4px",Ve=We?"-4px":"4px",yt=We?"right":"left",Se=We?"left":"right",ve=mt?[{offset:0,opacity:1,transform:`translate3d(${qe}, ${te.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Xe}, ${ye.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Xe}, ${ye.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${qe}, ${te.top-46}px, 0) scale(1)`}],ct=mt?[{offset:0,opacity:1,transform:`translate3d(${Ve}, ${te.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ve}, ${te.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${te.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${te.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ve}, ${te.top-46}px, 0) scale(1)`}],Je=(0,m.c)(),ht=(0,m.c)(),it=we("ion-back-button"),De=le(it).querySelector(".button-text"),Te=le(it).querySelector("ion-icon");it.text=be.text,it.mode=be.mode,it.icon=be.icon,it.color=be.color,it.disabled=be.disabled,it.style.setProperty("display","block"),it.style.setProperty("position","fixed"),ht.addElement(Te),Je.addElement(De),Je.beforeStyles({"transform-origin":`${yt} center`}).beforeAddWrite(()=>{be.style.setProperty("display","none"),it.style.setProperty(yt,ot)}).afterAddWrite(()=>{be.style.setProperty("display",""),it.style.setProperty("display","none"),it.style.removeProperty(yt)}).keyframes(ve),ht.beforeStyles({"transform-origin":`${Se} center`}).keyframes(ct),me.addAnimation([Je,ht])},ae=(me,We,mt,be,ye,te)=>{const ot=We?`calc(100% - ${ye.right}px)`:`${ye.left}px`,Xe=We?"-18px":"18px",qe=We?"right":"left",Se=mt?[{offset:0,opacity:0,transform:`translate3d(${Xe}, ${te.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Xe}, ${te.top-4}px, 0) scale(0.5)`}],Ee=we("ion-title"),Ie=(0,m.c)();Ee.innerText=be.innerText,Ee.size=be.size,Ee.color=be.color,Ie.addElement(Ee),Ie.beforeStyles({"transform-origin":`${qe} center`,height:"46px",display:"",position:"relative",[qe]:ot}).beforeAddWrite(()=>{be.style.setProperty("display","none")}).afterAddWrite(()=>{be.style.setProperty("display",""),Ee.style.setProperty("display","none")}).keyframes(Se),me.addAnimation(Ie)},Oe=(me,We)=>{var mt;try{const be="cubic-bezier(0.32,0.72,0,1)",ye="opacity",te="transform",ot="0%",qe="rtl"===me.ownerDocument.dir,Ve=qe?"-99.5%":"99.5%",yt=qe?"33%":"-33%",Se=We.enteringEl,Ee=We.leavingEl,Ie="back"===We.direction,ve=Se.querySelector(":scope > ion-content"),Be=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),rt=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),ct=(0,m.c)(),Je=(0,m.c)();if(ct.addElement(Se).duration((null!==(mt=We.duration)&&void 0!==mt?mt:0)||540).easing(We.easing||be).fill("both").beforeRemoveClass("ion-page-invisible"),Ee&&null!=me){const Te=(0,m.c)();Te.addElement(me),ct.addAnimation(Te)}if(ve||0!==rt.length||0!==Be.length?(Je.addElement(ve),Je.addElement(Be)):Je.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ct.addAnimation(Je),Ie?Je.beforeClearStyles([ye]).fromTo("transform",`translateX(${yt})`,`translateX(${ot})`).fromTo(ye,.8,1):Je.beforeClearStyles([ye]).fromTo("transform",`translateX(${Ve})`,`translateX(${ot})`),ve){const Te=le(ve).querySelector(".transition-effect");if(Te){const Ce=Te.querySelector(".transition-cover"),Qe=Te.querySelector(".transition-shadow"),at=(0,m.c)(),Ft=(0,m.c)(),St=(0,m.c)();at.addElement(Te).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ft.addElement(Ce).beforeClearStyles([ye]).fromTo(ye,0,.1),St.addElement(Qe).beforeClearStyles([ye]).fromTo(ye,.03,.7),at.addAnimation([Ft,St]),Je.addAnimation([at])}}const ht=Se.querySelector("ion-header.header-collapse-condense"),{forward:it,backward:De}=((me,We,mt,be,ye)=>{const te=Re(be,mt),ot=xe(ye),Xe=xe(be),qe=Re(ye,mt),Ve=null!==te&&null!==ot&&!mt,yt=null!==Xe&&null!==qe&&mt;if(Ve){const Se=ot.getBoundingClientRect(),Ee=te.getBoundingClientRect();ae(me,We,mt,ot,Se,Ee),se(me,We,mt,te,Se,Ee)}else if(yt){const Se=Xe.getBoundingClientRect(),Ee=qe.getBoundingClientRect();ae(me,We,mt,Xe,Se,Ee),se(me,We,mt,qe,Se,Ee)}return{forward:Ve,backward:yt}})(ct,qe,Ie,Se,Ee);if(rt.forEach(Te=>{const Ce=(0,m.c)();Ce.addElement(Te),ct.addAnimation(Ce);const Qe=(0,m.c)();Qe.addElement(Te.querySelector("ion-title"));const at=(0,m.c)(),Ft=Array.from(Te.querySelectorAll("ion-buttons,[menuToggle]")),St=Te.closest("ion-header"),sn=null==St?void 0:St.classList.contains("header-collapse-condense-inactive");let gt;gt=Ft.filter(Ie?xn=>{const un=xn.classList.contains("buttons-collapse");return un&&!sn||!un}:xn=>!xn.classList.contains("buttons-collapse")),at.addElement(gt);const pe=(0,m.c)();pe.addElement(Te.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const vt=(0,m.c)();vt.addElement(le(Te).querySelector(".toolbar-background"));const Zt=(0,m.c)(),hn=Te.querySelector("ion-back-button");if(hn&&Zt.addElement(hn),Ce.addAnimation([Qe,at,pe,vt,Zt]),at.fromTo(ye,.01,1),pe.fromTo(ye,.01,1),Ie)sn||Qe.fromTo("transform",`translateX(${yt})`,`translateX(${ot})`).fromTo(ye,.01,1),pe.fromTo("transform",`translateX(${yt})`,`translateX(${ot})`),Zt.fromTo(ye,.01,1);else if(ht||Qe.fromTo("transform",`translateX(${Ve})`,`translateX(${ot})`).fromTo(ye,.01,1),pe.fromTo("transform",`translateX(${Ve})`,`translateX(${ot})`),vt.beforeClearStyles([ye,"transform"]),(null==St?void 0:St.translucent)?vt.fromTo("transform",qe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):vt.fromTo(ye,.01,"var(--opacity)"),it||Zt.fromTo(ye,.01,1),hn&&!it){const un=(0,m.c)();un.addElement(le(hn).querySelector(".button-text")).fromTo("transform",qe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ce.addAnimation(un)}}),Ee){const Te=(0,m.c)(),Ce=Ee.querySelector(":scope > ion-content"),Qe=Ee.querySelectorAll(":scope > ion-header > ion-toolbar"),at=Ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ce||0!==Qe.length||0!==at.length?(Te.addElement(Ce),Te.addElement(at)):Te.addElement(Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ct.addAnimation(Te),Ie){Te.beforeClearStyles([ye]).fromTo("transform",`translateX(${ot})`,qe?"translateX(-100%)":"translateX(100%)");const Ft=(0,h.g)(Ee);ct.afterAddWrite(()=>{"normal"===ct.getDirection()&&Ft.style.setProperty("display","none")})}else Te.fromTo("transform",`translateX(${ot})`,`translateX(${yt})`).fromTo(ye,1,.8);if(Ce){const Ft=le(Ce).querySelector(".transition-effect");if(Ft){const St=Ft.querySelector(".transition-cover"),sn=Ft.querySelector(".transition-shadow"),gt=(0,m.c)(),pe=(0,m.c)(),vt=(0,m.c)();gt.addElement(Ft).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(St).beforeClearStyles([ye]).fromTo(ye,.1,0),vt.addElement(sn).beforeClearStyles([ye]).fromTo(ye,.7,.03),gt.addAnimation([pe,vt]),Te.addAnimation([gt])}}Qe.forEach(Ft=>{const St=(0,m.c)();St.addElement(Ft);const sn=(0,m.c)();sn.addElement(Ft.querySelector("ion-title"));const gt=(0,m.c)(),pe=Ft.querySelectorAll("ion-buttons,[menuToggle]"),vt=Ft.closest("ion-header"),Zt=null==vt?void 0:vt.classList.contains("header-collapse-condense-inactive"),hn=Array.from(pe).filter(ir=>{const Bn=ir.classList.contains("buttons-collapse");return Bn&&!Zt||!Bn});gt.addElement(hn);const xn=(0,m.c)(),un=Ft.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");un.length>0&&xn.addElement(un);const Wt=(0,m.c)();Wt.addElement(le(Ft).querySelector(".toolbar-background"));const _n=(0,m.c)(),Kn=Ft.querySelector("ion-back-button");if(Kn&&_n.addElement(Kn),St.addAnimation([sn,gt,xn,_n,Wt]),ct.addAnimation(St),_n.fromTo(ye,.99,0),gt.fromTo(ye,.99,0),xn.fromTo(ye,.99,0),Ie){if(Zt||sn.fromTo("transform",`translateX(${ot})`,qe?"translateX(-100%)":"translateX(100%)").fromTo(ye,.99,0),xn.fromTo("transform",`translateX(${ot})`,qe?"translateX(-100%)":"translateX(100%)"),Wt.beforeClearStyles([ye,"transform"]),(null==vt?void 0:vt.translucent)?Wt.fromTo("transform","translateX(0px)",qe?"translateX(-100%)":"translateX(100%)"):Wt.fromTo(ye,"var(--opacity)",0),Kn&&!De){const Bn=(0,m.c)();Bn.addElement(le(Kn).querySelector(".button-text")).fromTo("transform",`translateX(${ot})`,`translateX(${(qe?-124:124)+"px"})`),St.addAnimation(Bn)}}else Zt||sn.fromTo("transform",`translateX(${ot})`,`translateX(${yt})`).fromTo(ye,.99,0).afterClearStyles([te,ye]),xn.fromTo("transform",`translateX(${ot})`,`translateX(${yt})`).afterClearStyles([te,ye]),_n.afterClearStyles([ye]),sn.afterClearStyles([ye]),gt.afterClearStyles([ye])})}return ct}catch(be){throw be}}},1138:(on,st,F)=>{"use strict";F.r(st),F.d(st,{mdTransitionAnimation:()=>Ae});var m=F(9613),h=F(9866);F(3457),F(4083);const Ae=(we,le)=>{var xe,Re,he;const Oe="back"===le.direction,We=le.leavingEl,mt=(0,h.g)(le.enteringEl),be=mt.querySelector("ion-toolbar"),ye=(0,m.c)();if(ye.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),Oe?ye.duration((null!==(xe=le.duration)&&void 0!==xe?xe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ye.duration((null!==(Re=le.duration)&&void 0!==Re?Re:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),be){const te=(0,m.c)();te.addElement(be),ye.addAnimation(te)}if(We&&Oe){ye.duration((null!==(he=le.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const te=(0,m.c)();te.addElement((0,h.g)(We)).onFinish(ot=>{1===ot&&te.elements.length>0&&te.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ye.addAnimation(te)}return ye}},2583:(on,st,F)=>{"use strict";F.d(st,{B:()=>at,G:()=>Ft,a:()=>he,b:()=>se,c:()=>We,d:()=>St,e:()=>sn,f:()=>Be,g:()=>ct,h:()=>it,i:()=>Te,j:()=>be,k:()=>xe,m:()=>Oe,n:()=>ot,o:()=>Ie,s:()=>Qe,t:()=>mt});var m=F(5861),h=F(5273),W=F(6782),ne=F(7593),Ae=F(3577),we=F(1178);let le=0;const xe=new WeakMap,Re=gt=>({create:pe=>ye(gt,pe),dismiss:(pe,vt,Zt)=>Se(document,pe,vt,gt,Zt),getTop:()=>(0,m.Z)(function*(){return Ie(document,gt)})()}),he=Re("ion-alert"),se=Re("ion-action-sheet"),Oe=Re("ion-modal"),We=Re("ion-popover"),mt=Re("ion-toast"),be=gt=>{typeof document<"u"&&yt(document);const pe=le++;gt.overlayIndex=pe,gt.hasAttribute("id")||(gt.id=`ion-overlay-${pe}`)},ye=(gt,pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(gt).then(()=>{const vt=document.createElement(gt);return vt.classList.add("overlay-hidden"),Object.assign(vt,Object.assign(Object.assign({},pe),{hasController:!0})),Je(document).appendChild(vt),new Promise(Zt=>(0,Ae.c)(vt,Zt))}):Promise.resolve(),te='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ot=(gt,pe)=>{let vt=gt.querySelector(te);const Zt=null==vt?void 0:vt.shadowRoot;Zt&&(vt=Zt.querySelector(te)||vt),vt?(0,Ae.f)(vt):pe.focus()},qe=(gt,pe)=>{const vt=Array.from(gt.querySelectorAll(te));let Zt=vt.length>0?vt[vt.length-1]:null;const hn=null==Zt?void 0:Zt.shadowRoot;hn&&(Zt=hn.querySelector(te)||Zt),Zt?Zt.focus():pe.focus()},yt=gt=>{0===le&&(le=1,gt.addEventListener("focus",pe=>{((gt,pe)=>{const vt=Ie(pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Zt=gt.target;vt&&Zt&&!vt.classList.contains("ion-disable-focus-trap")&&(vt.shadowRoot?(()=>{if(vt.contains(Zt))vt.lastFocus=Zt;else{const un=vt.lastFocus;ot(vt,vt),un===pe.activeElement&&qe(vt,vt),vt.lastFocus=pe.activeElement}})():(()=>{if(vt===Zt)vt.lastFocus=void 0;else{const un=(0,Ae.g)(vt);if(!un.contains(Zt))return;const Wt=un.querySelector(".ion-overlay-wrapper");if(!Wt)return;if(Wt.contains(Zt))vt.lastFocus=Zt;else{const _n=vt.lastFocus;ot(Wt,vt),_n===pe.activeElement&&qe(Wt,vt),vt.lastFocus=pe.activeElement}}})())})(pe,gt)},!0),gt.addEventListener("ionBackButton",pe=>{const vt=Ie(gt);null!=vt&&vt.backdropDismiss&&pe.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>vt.dismiss(void 0,at))}),gt.addEventListener("keydown",pe=>{if("Escape"===pe.key){const vt=Ie(gt);null!=vt&&vt.backdropDismiss&&vt.dismiss(void 0,at)}}))},Se=(gt,pe,vt,Zt,hn)=>{const xn=Ie(gt,Zt,hn);return xn?xn.dismiss(pe,vt):Promise.reject("overlay does not exist")},Ie=(gt,pe,vt)=>{const Zt=((gt,pe)=>(void 0===pe&&(pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(gt.querySelectorAll(pe)).filter(vt=>vt.overlayIndex>0)))(gt,pe).filter(hn=>!(gt=>gt.classList.contains("overlay-hidden"))(hn));return void 0===vt?Zt[Zt.length-1]:Zt.find(hn=>hn.id===vt)},ve=(gt=!1)=>{const vt=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");vt&&(gt?vt.setAttribute("aria-hidden","true"):vt.removeAttribute("aria-hidden"))},Be=function(){var gt=(0,m.Z)(function*(pe,vt,Zt,hn,xn){var un,Wt;if(pe.presented)return;ve(!0),pe.presented=!0,pe.willPresent.emit(),null===(un=pe.willPresentShorthand)||void 0===un||un.emit();const _n=(0,h.b)(pe),Kn=pe.enterAnimation?pe.enterAnimation:h.c.get(vt,"ios"===_n?Zt:hn);(yield ht(pe,Kn,pe.el,xn))&&(pe.didPresent.emit(),null===(Wt=pe.didPresentShorthand)||void 0===Wt||Wt.emit()),"ION-TOAST"!==pe.el.tagName&&rt(pe.el),pe.keyboardClose&&(null===document.activeElement||!pe.el.contains(document.activeElement))&&pe.el.focus()});return function(vt,Zt,hn,xn,un){return gt.apply(this,arguments)}}(),rt=function(){var gt=(0,m.Z)(function*(pe){let vt=document.activeElement;if(!vt)return;const Zt=null==vt?void 0:vt.shadowRoot;Zt&&(vt=Zt.querySelector(te)||vt),yield pe.onDidDismiss(),vt.focus()});return function(vt){return gt.apply(this,arguments)}}(),ct=function(){var gt=(0,m.Z)(function*(pe,vt,Zt,hn,xn,un,Wt){var _n,Kn;if(!pe.presented)return!1;ve(!1),pe.presented=!1;try{pe.el.style.setProperty("pointer-events","none"),pe.willDismiss.emit({data:vt,role:Zt}),null===(_n=pe.willDismissShorthand)||void 0===_n||_n.emit({data:vt,role:Zt});const ir=(0,h.b)(pe),Bn=pe.leaveAnimation?pe.leaveAnimation:h.c.get(hn,"ios"===ir?xn:un);Zt!==Ft&&(yield ht(pe,Bn,pe.el,Wt)),pe.didDismiss.emit({data:vt,role:Zt}),null===(Kn=pe.didDismissShorthand)||void 0===Kn||Kn.emit({data:vt,role:Zt}),xe.delete(pe),pe.el.classList.add("overlay-hidden"),pe.el.style.removeProperty("pointer-events"),void 0!==pe.el.lastFocus&&(pe.el.lastFocus=void 0)}catch(ir){console.error(ir)}return pe.el.remove(),!0});return function(vt,Zt,hn,xn,un,Wt,_n){return gt.apply(this,arguments)}}(),Je=gt=>gt.querySelector("ion-app")||gt.body,ht=function(){var gt=(0,m.Z)(function*(pe,vt,Zt,hn){Zt.classList.remove("overlay-hidden");const un=vt(pe.el,hn);(!pe.animated||!h.c.getBoolean("animated",!0))&&un.duration(0),pe.keyboardClose&&un.beforeAddWrite(()=>{const _n=Zt.ownerDocument.activeElement;null!=_n&&_n.matches("input,ion-input, ion-textarea")&&_n.blur()});const Wt=xe.get(pe)||[];return xe.set(pe,[...Wt,un]),yield un.play(),!0});return function(vt,Zt,hn,xn){return gt.apply(this,arguments)}}(),it=(gt,pe)=>{let vt;const Zt=new Promise(hn=>vt=hn);return De(gt,pe,hn=>{vt(hn.detail)}),Zt},De=(gt,pe,vt)=>{const Zt=hn=>{(0,Ae.b)(gt,pe,Zt),vt(hn)};(0,Ae.a)(gt,pe,Zt)},Te=gt=>"cancel"===gt||gt===at,Ce=gt=>gt(),Qe=(gt,pe)=>{if("function"==typeof gt)return h.c.get("_zoneGate",Ce)(()=>{try{return gt(pe)}catch(Zt){throw Zt}})},at="backdrop",Ft="gesture",St=gt=>{let vt,pe=!1;const Zt=(0,W.C)(),hn=(Wt=!1)=>{if(vt&&!Wt)return{delegate:vt,inline:pe};const{el:_n,hasController:Kn,delegate:ir}=gt;return pe=null!==_n.parentNode&&!Kn,vt=pe?ir||Zt:ir,{inline:pe,delegate:vt}};return{attachViewToDom:function(){var Wt=(0,m.Z)(function*(_n){const{delegate:Kn}=hn(!0);if(Kn)return yield Kn.attachViewToDom(gt.el,_n);const{hasController:ir}=gt;if(ir&&void 0!==_n)throw new Error("framework delegate is missing");return null});return function(Kn){return Wt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Wt}=hn();Wt&&void 0!==gt.el&&Wt.removeViewFromDom(gt.el.parentElement,gt.el)}}},sn=()=>{let gt;const pe=()=>{gt&&(gt(),gt=void 0)};return{addClickListener:(Zt,hn)=>{pe();const xn=void 0!==hn?document.getElementById(hn):null;xn?gt=((Wt,_n)=>{const Kn=()=>{_n.present()};return Wt.addEventListener("click",Kn),()=>{Wt.removeEventListener("click",Kn)}})(xn,Zt):(0,we.p)(`A trigger element with the ID "${hn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Zt)},removeClickListener:pe}}},3543:(on,st,F)=>{"use strict";var m=F(1481),h=F(4650),W=F(1194),ne=F(650);const Ae=[{path:"home",loadChildren:()=>Promise.all([F.e(7151),F.e(8592),F.e(4851)]).then(F.bind(F,4851)).then(me=>me.HomePageModule)},{path:"",loadChildren:()=>F.e(174).then(F.bind(F,5652)).then(me=>me.TabsPageModule)},{path:"track-details/:_id",loadChildren:()=>Promise.all([F.e(7151),F.e(8527),F.e(1916),F.e(8592),F.e(3626)]).then(F.bind(F,3626)).then(me=>me.TrackDetailsPageModule)},{path:"login",loadChildren:()=>Promise.all([F.e(7151),F.e(8592),F.e(6235)]).then(F.bind(F,6235)).then(me=>me.LoginPageModule)},{path:"add-track",loadChildren:()=>Promise.all([F.e(7151),F.e(8527),F.e(1916),F.e(8592),F.e(7843)]).then(F.bind(F,7843)).then(me=>me.AddTrackPageModule)},{path:"add-comment",loadChildren:()=>Promise.all([F.e(7151),F.e(8527),F.e(8592),F.e(8731)]).then(F.bind(F,8731)).then(me=>me.AddCommentPageModule)},{path:"signup",loadChildren:()=>Promise.all([F.e(7151),F.e(8592),F.e(3426)]).then(F.bind(F,3426)).then(me=>me.SignupPageModule)},{path:"edit-track",loadChildren:()=>Promise.all([F.e(7151),F.e(1916),F.e(8592),F.e(383)]).then(F.bind(F,6154)).then(me=>me.EditTrackPageModule)}];let we=(()=>{class me{}return me.\u0275fac=function(mt){return new(mt||me)},me.\u0275mod=h.oAB({type:me}),me.\u0275inj=h.cJS({imports:[W.Bz.forRoot(Ae,{preloadingStrategy:W.wm}),W.Bz]}),me})(),le=(()=>{class me{constructor(){}}return me.\u0275fac=function(mt){return new(mt||me)},me.\u0275cmp=h.Xpm({type:me,selectors:[["app-root"]],decls:2,vars:0,template:function(mt,be){1&mt&&(h.TgZ(0,"ion-app"),h._UZ(1,"ion-router-outlet"),h.qZA())},dependencies:[ne.dr,ne.jP]}),me})();var xe=F(529),Re=F(2011),he=F(1205),se=F(1762);const ae_firebase={apiKey:"AIzaSyBCqW1Je309w12lwr8wNWUB6aEdg8RleKI",authDomain:"aspotic-4a772.firebaseapp.com",projectId:"aspotic-4a772",storageBucket:"aspotic-4a772.appspot.com",messagingSenderId:"807555290163",appId:"1:807555290163:web:cfb17134549c11f6a3ff46"};let Oe=(()=>{class me{}return me.\u0275fac=function(mt){return new(mt||me)},me.\u0275mod=h.oAB({type:me,bootstrap:[le]}),me.\u0275inj=h.cJS({providers:[{provide:W.wN,useClass:ne.r4}],imports:[m.b2,ne.Pc.forRoot(),we,xe.JF,Re.hO.initializeApp(ae_firebase),se.yb,he.ww,se.yb,Re.hO]}),me})();(0,h.G48)(),m.q6().bootstrapModule(Oe).catch(me=>console.log(me))},1135:(on,st,F)=>{"use strict";F.d(st,{X:()=>h});var m=F(7579);class h extends m.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const Ae=super._subscribe(ne);return!Ae.closed&&ne.next(this._value),Ae}getValue(){const{hasError:ne,thrownError:Ae,_value:we}=this;if(ne)throw Ae;return this._throwIfClosed(),we}next(ne){super.next(this._value=ne)}}},9751:(on,st,F)=>{"use strict";F.d(st,{y:()=>xe});var m=F(2961),h=F(727),W=F(8822),ne=F(9635),Ae=F(2416),we=F(576),le=F(2806);let xe=(()=>{class ae{constructor(me){me&&(this._subscribe=me)}lift(me){const We=new ae;return We.source=this,We.operator=me,We}subscribe(me,We,mt){const be=function se(ae){return ae&&ae instanceof m.Lv||function he(ae){return ae&&(0,we.m)(ae.next)&&(0,we.m)(ae.error)&&(0,we.m)(ae.complete)}(ae)&&(0,h.Nn)(ae)}(me)?me:new m.Hp(me,We,mt);return(0,le.x)(()=>{const{operator:ye,source:te}=this;be.add(ye?ye.call(be,te):te?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(me){try{return this._subscribe(me)}catch(We){me.error(We)}}forEach(me,We){return new(We=Re(We))((mt,be)=>{const ye=new m.Hp({next:te=>{try{me(te)}catch(ot){be(ot),ye.unsubscribe()}},error:be,complete:mt});this.subscribe(ye)})}_subscribe(me){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(me)}[W.L](){return this}pipe(...me){return(0,ne.U)(me)(this)}toPromise(me){return new(me=Re(me))((We,mt)=>{let be;this.subscribe(ye=>be=ye,ye=>mt(ye),()=>We(be))})}}return ae.create=Oe=>new ae(Oe),ae})();function Re(ae){var Oe;return null!==(Oe=null!=ae?ae:Ae.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(on,st,F)=>{"use strict";F.d(st,{x:()=>le});var m=F(9751),h=F(727);const ne=(0,F(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=F(8737),we=F(2806);let le=(()=>{class Re extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ae=new xe(this,this);return ae.operator=se,ae}_throwIfClosed(){if(this.closed)throw new ne}next(se){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(se)}})}error(se){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ae}=this;for(;ae.length;)ae.shift().error(se)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ae,isStopped:Oe,observers:me}=this;return ae||Oe?h.Lc:(this.currentObservers=null,me.push(se),new h.w0(()=>{this.currentObservers=null,(0,Ae.P)(me,se)}))}_checkFinalizedStatuses(se){const{hasError:ae,thrownError:Oe,isStopped:me}=this;ae?se.error(Oe):me&&se.complete()}asObservable(){const se=new m.y;return se.source=this,se}}return Re.create=(he,se)=>new xe(he,se),Re})();class xe extends le{constructor(he,se){super(),this.destination=he,this.source=se}next(he){var se,ae;null===(ae=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ae||ae.call(se,he)}error(he){var se,ae;null===(ae=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ae||ae.call(se,he)}complete(){var he,se;null===(se=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===se||se.call(he)}_subscribe(he){var se,ae;return null!==(ae=null===(se=this.source)||void 0===se?void 0:se.subscribe(he))&&void 0!==ae?ae:h.Lc}}},2961:(on,st,F)=>{"use strict";F.d(st,{Hp:()=>mt,Lv:()=>ae});var m=F(576),h=F(727),W=F(2416),ne=F(7849);function Ae(){}const we=Re("C",void 0,void 0);function Re(Xe,qe,Ve){return{kind:Xe,value:qe,error:Ve}}var he=F(3410),se=F(2806);class ae extends h.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,h.Nn)(qe)&&qe.add(this)):this.destination=ot}static create(qe,Ve,yt){return new mt(qe,Ve,yt)}next(qe){this.isStopped?te(function xe(Xe){return Re("N",Xe,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?te(function le(Xe){return Re("E",void 0,Xe)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?te(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function me(Xe,qe){return Oe.call(Xe,qe)}class We{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(qe)}catch(yt){be(yt)}}error(qe){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(qe)}catch(yt){be(yt)}else be(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(Ve){be(Ve)}}}class mt extends ae{constructor(qe,Ve,yt){let Se;if(super(),(0,m.m)(qe)||!qe)Se={next:null!=qe?qe:void 0,error:null!=Ve?Ve:void 0,complete:null!=yt?yt:void 0};else{let Ee;this&&W.v.useDeprecatedNextContext?(Ee=Object.create(qe),Ee.unsubscribe=()=>this.unsubscribe(),Se={next:qe.next&&me(qe.next,Ee),error:qe.error&&me(qe.error,Ee),complete:qe.complete&&me(qe.complete,Ee)}):Se=qe}this.destination=new We(Se)}}function be(Xe){W.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Xe):(0,ne.h)(Xe)}function te(Xe,qe){const{onStoppedNotification:Ve}=W.v;Ve&&he.z.setTimeout(()=>Ve(Xe,qe))}const ot={closed:!0,next:Ae,error:function ye(Xe){throw Xe},complete:Ae}},727:(on,st,F)=>{"use strict";F.d(st,{Lc:()=>we,w0:()=>Ae,Nn:()=>le});var m=F(576);const W=(0,F(3888).d)(Re=>function(se){Re(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ae,Oe)=>`${Oe+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var ne=F(8737);class Ae{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const me of se)me.remove(this);else se.remove(this);const{initialTeardown:ae}=this;if((0,m.m)(ae))try{ae()}catch(me){he=me instanceof W?me.errors:[me]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const me of Oe)try{xe(me)}catch(We){he=null!=he?he:[],We instanceof W?he=[...he,...We.errors]:he.push(We)}}if(he)throw new W(he)}}add(he){var se;if(he&&he!==this)if(this.closed)xe(he);else{if(he instanceof Ae){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(he)}}_hasParent(he){const{_parentage:se}=this;return se===he||Array.isArray(se)&&se.includes(he)}_addParent(he){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(he),se):se?[se,he]:he}_removeParent(he){const{_parentage:se}=this;se===he?this._parentage=null:Array.isArray(se)&&(0,ne.P)(se,he)}remove(he){const{_finalizers:se}=this;se&&(0,ne.P)(se,he),he instanceof Ae&&he._removeParent(this)}}Ae.EMPTY=(()=>{const Re=new Ae;return Re.closed=!0,Re})();const we=Ae.EMPTY;function le(Re){return Re instanceof Ae||Re&&"closed"in Re&&(0,m.m)(Re.remove)&&(0,m.m)(Re.add)&&(0,m.m)(Re.unsubscribe)}function xe(Re){(0,m.m)(Re)?Re():Re.unsubscribe()}},2416:(on,st,F)=>{"use strict";F.d(st,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(on,st,F)=>{"use strict";F.d(st,{z:()=>Ae});var m=F(8189),W=F(7669),ne=F(8996);function Ae(...we){return function h(){return(0,m.J)(1)}()((0,ne.D)(we,(0,W.yG)(we)))}},515:(on,st,F)=>{"use strict";F.d(st,{E:()=>h});const h=new(F(9751).y)(Ae=>Ae.complete())},8996:(on,st,F)=>{"use strict";F.d(st,{D:()=>qe});var m=F(8421),h=F(5363),W=F(9468),we=F(9751),xe=F(2202),Re=F(576),he=F(9672);function ae(Ve,yt){if(!Ve)throw new Error("Iterable cannot be null");return new we.y(Se=>{(0,he.f)(Se,yt,()=>{const Ee=Ve[Symbol.asyncIterator]();(0,he.f)(Se,yt,()=>{Ee.next().then(Ie=>{Ie.done?Se.complete():Se.next(Ie.value)})},0,!0)})})}var Oe=F(3670),me=F(8239),We=F(1144),mt=F(6495),be=F(2206),ye=F(4532),te=F(3260);function qe(Ve,yt){return yt?function Xe(Ve,yt){if(null!=Ve){if((0,Oe.c)(Ve))return function ne(Ve,yt){return(0,m.Xf)(Ve).pipe((0,W.R)(yt),(0,h.Q)(yt))}(Ve,yt);if((0,We.z)(Ve))return function le(Ve,yt){return new we.y(Se=>{let Ee=0;return yt.schedule(function(){Ee===Ve.length?Se.complete():(Se.next(Ve[Ee++]),Se.closed||this.schedule())})})}(Ve,yt);if((0,me.t)(Ve))return function Ae(Ve,yt){return(0,m.Xf)(Ve).pipe((0,W.R)(yt),(0,h.Q)(yt))}(Ve,yt);if((0,be.D)(Ve))return ae(Ve,yt);if((0,mt.T)(Ve))return function se(Ve,yt){return new we.y(Se=>{let Ee;return(0,he.f)(Se,yt,()=>{Ee=Ve[xe.h](),(0,he.f)(Se,yt,()=>{let Ie,ve;try{({value:Ie,done:ve}=Ee.next())}catch(Be){return void Se.error(Be)}ve?Se.complete():Se.next(Ie)},0,!0)}),()=>(0,Re.m)(null==Ee?void 0:Ee.return)&&Ee.return()})}(Ve,yt);if((0,te.L)(Ve))return function ot(Ve,yt){return ae((0,te.Q)(Ve),yt)}(Ve,yt)}throw(0,ye.z)(Ve)}(Ve,yt):(0,m.Xf)(Ve)}},8421:(on,st,F)=>{"use strict";F.d(st,{Xf:()=>Oe});var m=F(655),h=F(1144),W=F(8239),ne=F(9751),Ae=F(3670),we=F(2206),le=F(4532),xe=F(6495),Re=F(3260),he=F(576),se=F(7849),ae=F(8822);function Oe(Xe){if(Xe instanceof ne.y)return Xe;if(null!=Xe){if((0,Ae.c)(Xe))return function me(Xe){return new ne.y(qe=>{const Ve=Xe[ae.L]();if((0,he.m)(Ve.subscribe))return Ve.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,h.z)(Xe))return function We(Xe){return new ne.y(qe=>{for(let Ve=0;Ve<Xe.length&&!qe.closed;Ve++)qe.next(Xe[Ve]);qe.complete()})}(Xe);if((0,W.t)(Xe))return function mt(Xe){return new ne.y(qe=>{Xe.then(Ve=>{qe.closed||(qe.next(Ve),qe.complete())},Ve=>qe.error(Ve)).then(null,se.h)})}(Xe);if((0,we.D)(Xe))return ye(Xe);if((0,xe.T)(Xe))return function be(Xe){return new ne.y(qe=>{for(const Ve of Xe)if(qe.next(Ve),qe.closed)return;qe.complete()})}(Xe);if((0,Re.L)(Xe))return function te(Xe){return ye((0,Re.Q)(Xe))}(Xe)}throw(0,le.z)(Xe)}function ye(Xe){return new ne.y(qe=>{(function ot(Xe,qe){var Ve,yt,Se,Ee;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,m.KL)(Xe);!(yt=yield Ve.next()).done;)if(qe.next(yt.value),qe.closed)return}catch(Ie){Se={error:Ie}}finally{try{yt&&!yt.done&&(Ee=Ve.return)&&(yield Ee.call(Ve))}finally{if(Se)throw Se.error}}qe.complete()})})(Xe,qe).catch(Ve=>qe.error(Ve))})}},6451:(on,st,F)=>{"use strict";F.d(st,{T:()=>we});var m=F(8189),h=F(8421),W=F(515),ne=F(7669),Ae=F(8996);function we(...le){const xe=(0,ne.yG)(le),Re=(0,ne._6)(le,1/0),he=le;return he.length?1===he.length?(0,h.Xf)(he[0]):(0,m.J)(Re)((0,Ae.D)(he,xe)):W.E}},9646:(on,st,F)=>{"use strict";F.d(st,{of:()=>W});var m=F(7669),h=F(8996);function W(...ne){const Ae=(0,m.yG)(ne);return(0,h.D)(ne,Ae)}},5403:(on,st,F)=>{"use strict";F.d(st,{x:()=>h});var m=F(2961);function h(ne,Ae,we,le,xe){return new W(ne,Ae,we,le,xe)}class W extends m.Lv{constructor(Ae,we,le,xe,Re,he){super(Ae),this.onFinalize=Re,this.shouldUnsubscribe=he,this._next=we?function(se){try{we(se)}catch(ae){Ae.error(ae)}}:super._next,this._error=xe?function(se){try{xe(se)}catch(ae){Ae.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(se){Ae.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4351:(on,st,F)=>{"use strict";F.d(st,{b:()=>W});var m=F(5577),h=F(576);function W(ne,Ae){return(0,h.m)(Ae)?(0,m.z)(ne,Ae,1):(0,m.z)(ne,1)}},6590:(on,st,F)=>{"use strict";F.d(st,{d:()=>W});var m=F(4482),h=F(5403);function W(ne){return(0,m.e)((Ae,we)=>{let le=!1;Ae.subscribe((0,h.x)(we,xe=>{le=!0,we.next(xe)},()=>{le||we.next(ne),we.complete()}))})}},1884:(on,st,F)=>{"use strict";F.d(st,{x:()=>ne});var m=F(4671),h=F(4482),W=F(5403);function ne(we,le=m.y){return we=null!=we?we:Ae,(0,h.e)((xe,Re)=>{let he,se=!0;xe.subscribe((0,W.x)(Re,ae=>{const Oe=le(ae);(se||!we(he,Oe))&&(se=!1,he=Oe,Re.next(ae))}))})}function Ae(we,le){return we===le}},9300:(on,st,F)=>{"use strict";F.d(st,{h:()=>W});var m=F(4482),h=F(5403);function W(ne,Ae){return(0,m.e)((we,le)=>{let xe=0;we.subscribe((0,h.x)(le,Re=>ne.call(Ae,Re,xe++)&&le.next(Re)))})}},590:(on,st,F)=>{"use strict";F.d(st,{P:()=>le});var m=F(6805),h=F(9300),W=F(5698),ne=F(6590),Ae=F(8068),we=F(4671);function le(xe,Re){const he=arguments.length>=2;return se=>se.pipe(xe?(0,h.h)((ae,Oe)=>xe(ae,Oe,se)):we.y,(0,W.q)(1),he?(0,ne.d)(Re):(0,Ae.T)(()=>new m.K))}},4004:(on,st,F)=>{"use strict";F.d(st,{U:()=>W});var m=F(4482),h=F(5403);function W(ne,Ae){return(0,m.e)((we,le)=>{let xe=0;we.subscribe((0,h.x)(le,Re=>{le.next(ne.call(Ae,Re,xe++))}))})}},8189:(on,st,F)=>{"use strict";F.d(st,{J:()=>W});var m=F(5577),h=F(4671);function W(ne=1/0){return(0,m.z)(h.y,ne)}},5577:(on,st,F)=>{"use strict";F.d(st,{z:()=>xe});var m=F(4004),h=F(8421),W=F(4482),ne=F(9672),Ae=F(5403),le=F(576);function xe(Re,he,se=1/0){return(0,le.m)(he)?xe((ae,Oe)=>(0,m.U)((me,We)=>he(ae,me,Oe,We))((0,h.Xf)(Re(ae,Oe))),se):("number"==typeof he&&(se=he),(0,W.e)((ae,Oe)=>function we(Re,he,se,ae,Oe,me,We,mt){const be=[];let ye=0,te=0,ot=!1;const Xe=()=>{ot&&!be.length&&!ye&&he.complete()},qe=yt=>ye<ae?Ve(yt):be.push(yt),Ve=yt=>{me&&he.next(yt),ye++;let Se=!1;(0,h.Xf)(se(yt,te++)).subscribe((0,Ae.x)(he,Ee=>{null==Oe||Oe(Ee),me?qe(Ee):he.next(Ee)},()=>{Se=!0},void 0,()=>{if(Se)try{for(ye--;be.length&&ye<ae;){const Ee=be.shift();We?(0,ne.f)(he,We,()=>Ve(Ee)):Ve(Ee)}Xe()}catch(Ee){he.error(Ee)}}))};return Re.subscribe((0,Ae.x)(he,qe,()=>{ot=!0,Xe()})),()=>{null==mt||mt()}}(ae,Oe,Re,se)))}},5363:(on,st,F)=>{"use strict";F.d(st,{Q:()=>ne});var m=F(9672),h=F(4482),W=F(5403);function ne(Ae,we=0){return(0,h.e)((le,xe)=>{le.subscribe((0,W.x)(xe,Re=>(0,m.f)(xe,Ae,()=>xe.next(Re),we),()=>(0,m.f)(xe,Ae,()=>xe.complete(),we),Re=>(0,m.f)(xe,Ae,()=>xe.error(Re),we)))})}},5026:(on,st,F)=>{"use strict";F.d(st,{R:()=>ne});var m=F(4482),h=F(5403);function ne(Ae,we){return(0,m.e)(function W(Ae,we,le,xe,Re){return(he,se)=>{let ae=le,Oe=we,me=0;he.subscribe((0,h.x)(se,We=>{const mt=me++;Oe=ae?Ae(Oe,We,mt):(ae=!0,We),xe&&se.next(Oe)},Re&&(()=>{ae&&se.next(Oe),se.complete()})))}}(Ae,we,arguments.length>=2,!0))}},3099:(on,st,F)=>{"use strict";F.d(st,{B:()=>Ae});var m=F(8421),h=F(7579),W=F(2961),ne=F(4482);function Ae(le={}){const{connector:xe=(()=>new h.x),resetOnError:Re=!0,resetOnComplete:he=!0,resetOnRefCountZero:se=!0}=le;return ae=>{let Oe,me,We,mt=0,be=!1,ye=!1;const te=()=>{null==me||me.unsubscribe(),me=void 0},ot=()=>{te(),Oe=We=void 0,be=ye=!1},Xe=()=>{const qe=Oe;ot(),null==qe||qe.unsubscribe()};return(0,ne.e)((qe,Ve)=>{mt++,!ye&&!be&&te();const yt=We=null!=We?We:xe();Ve.add(()=>{mt--,0===mt&&!ye&&!be&&(me=we(Xe,se))}),yt.subscribe(Ve),!Oe&&mt>0&&(Oe=new W.Hp({next:Se=>yt.next(Se),error:Se=>{ye=!0,te(),me=we(ot,Re,Se),yt.error(Se)},complete:()=>{be=!0,te(),me=we(ot,he),yt.complete()}}),(0,m.Xf)(qe).subscribe(Oe))})(ae)}}function we(le,xe,...Re){if(!0===xe)return void le();if(!1===xe)return;const he=new W.Hp({next:()=>{he.unsubscribe(),le()}});return xe(...Re).subscribe(he)}},8675:(on,st,F)=>{"use strict";F.d(st,{O:()=>ne});var m=F(7272),h=F(7669),W=F(4482);function ne(...Ae){const we=(0,h.yG)(Ae);return(0,W.e)((le,xe)=>{(we?(0,m.z)(Ae,le,we):(0,m.z)(Ae,le)).subscribe(xe)})}},9468:(on,st,F)=>{"use strict";F.d(st,{R:()=>h});var m=F(4482);function h(W,ne=0){return(0,m.e)((Ae,we)=>{we.add(W.schedule(()=>Ae.subscribe(we),ne))})}},3900:(on,st,F)=>{"use strict";F.d(st,{w:()=>ne});var m=F(8421),h=F(4482),W=F(5403);function ne(Ae,we){return(0,h.e)((le,xe)=>{let Re=null,he=0,se=!1;const ae=()=>se&&!Re&&xe.complete();le.subscribe((0,W.x)(xe,Oe=>{null==Re||Re.unsubscribe();let me=0;const We=he++;(0,m.Xf)(Ae(Oe,We)).subscribe(Re=(0,W.x)(xe,mt=>xe.next(we?we(Oe,mt,We,me++):mt),()=>{Re=null,ae()}))},()=>{se=!0,ae()}))})}},5698:(on,st,F)=>{"use strict";F.d(st,{q:()=>ne});var m=F(515),h=F(4482),W=F(5403);function ne(Ae){return Ae<=0?()=>m.E:(0,h.e)((we,le)=>{let xe=0;we.subscribe((0,W.x)(le,Re=>{++xe<=Ae&&(le.next(Re),Ae<=xe&&le.complete())}))})}},8505:(on,st,F)=>{"use strict";F.d(st,{b:()=>Ae});var m=F(576),h=F(4482),W=F(5403),ne=F(4671);function Ae(we,le,xe){const Re=(0,m.m)(we)||le||xe?{next:we,error:le,complete:xe}:we;return Re?(0,h.e)((he,se)=>{var ae;null===(ae=Re.subscribe)||void 0===ae||ae.call(Re);let Oe=!0;he.subscribe((0,W.x)(se,me=>{var We;null===(We=Re.next)||void 0===We||We.call(Re,me),se.next(me)},()=>{var me;Oe=!1,null===(me=Re.complete)||void 0===me||me.call(Re),se.complete()},me=>{var We;Oe=!1,null===(We=Re.error)||void 0===We||We.call(Re,me),se.error(me)},()=>{var me,We;Oe&&(null===(me=Re.unsubscribe)||void 0===me||me.call(Re)),null===(We=Re.finalize)||void 0===We||We.call(Re)}))}):ne.y}},8068:(on,st,F)=>{"use strict";F.d(st,{T:()=>ne});var m=F(6805),h=F(4482),W=F(5403);function ne(we=Ae){return(0,h.e)((le,xe)=>{let Re=!1;le.subscribe((0,W.x)(xe,he=>{Re=!0,xe.next(he)},()=>Re?xe.complete():xe.error(we())))})}function Ae(){return new m.K}},4408:(on,st,F)=>{"use strict";F.d(st,{o:()=>Ae});var m=F(727);class h extends m.w0{constructor(le,xe){super()}schedule(le,xe=0){return this}}const W={setInterval(we,le,...xe){const{delegate:Re}=W;return null!=Re&&Re.setInterval?Re.setInterval(we,le,...xe):setInterval(we,le,...xe)},clearInterval(we){const{delegate:le}=W;return((null==le?void 0:le.clearInterval)||clearInterval)(we)},delegate:void 0};var ne=F(8737);class Ae extends h{constructor(le,xe){super(le,xe),this.scheduler=le,this.work=xe,this.pending=!1}schedule(le,xe=0){var Re;if(this.closed)return this;this.state=le;const he=this.id,se=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(se,he,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Re=this.id)&&void 0!==Re?Re:this.requestAsyncId(se,this.id,xe),this}requestAsyncId(le,xe,Re=0){return W.setInterval(le.flush.bind(le,this),Re)}recycleAsyncId(le,xe,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return xe;null!=xe&&W.clearInterval(xe)}execute(le,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(le,xe);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,xe){let he,Re=!1;try{this.work(le)}catch(se){Re=!0,he=se||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:le,scheduler:xe}=this,{actions:Re}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(Re,this),null!=le&&(this.id=this.recycleAsyncId(xe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(on,st,F)=>{"use strict";F.d(st,{v:()=>W});var m=F(6063);class h{constructor(Ae,we=h.now){this.schedulerActionCtor=Ae,this.now=we}schedule(Ae,we=0,le){return new this.schedulerActionCtor(this,Ae).schedule(le,we)}}h.now=m.l.now;class W extends h{constructor(Ae,we=h.now){super(Ae,we),this.actions=[],this._active=!1}flush(Ae){const{actions:we}=this;if(this._active)return void we.push(Ae);let le;this._active=!0;do{if(le=Ae.execute(Ae.state,Ae.delay))break}while(Ae=we.shift());if(this._active=!1,le){for(;Ae=we.shift();)Ae.unsubscribe();throw le}}}},4986:(on,st,F)=>{"use strict";F.d(st,{z:()=>W});var m=F(4408);const W=new(F(7565).v)(m.o)},6063:(on,st,F)=>{"use strict";F.d(st,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(on,st,F)=>{"use strict";F.d(st,{z:()=>m});const m={setTimeout(h,W,...ne){const{delegate:Ae}=m;return null!=Ae&&Ae.setTimeout?Ae.setTimeout(h,W,...ne):setTimeout(h,W,...ne)},clearTimeout(h){const{delegate:W}=m;return((null==W?void 0:W.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(on,st,F)=>{"use strict";F.d(st,{h:()=>h});const h=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(on,st,F)=>{"use strict";F.d(st,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(on,st,F)=>{"use strict";F.d(st,{K:()=>h});const h=(0,F(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(on,st,F)=>{"use strict";F.d(st,{_6:()=>we,jO:()=>ne,yG:()=>Ae});var m=F(576);function W(le){return le[le.length-1]}function ne(le){return(0,m.m)(W(le))?le.pop():void 0}function Ae(le){return function h(le){return le&&(0,m.m)(le.schedule)}(W(le))?le.pop():void 0}function we(le,xe){return"number"==typeof W(le)?le.pop():xe}},4742:(on,st,F)=>{"use strict";F.d(st,{D:()=>Ae});const{isArray:m}=Array,{getPrototypeOf:h,prototype:W,keys:ne}=Object;function Ae(le){if(1===le.length){const xe=le[0];if(m(xe))return{args:xe,keys:null};if(function we(le){return le&&"object"==typeof le&&h(le)===W}(xe)){const Re=ne(xe);return{args:Re.map(he=>xe[he]),keys:Re}}}return{args:le,keys:null}}},8737:(on,st,F)=>{"use strict";function m(h,W){if(h){const ne=h.indexOf(W);0<=ne&&h.splice(ne,1)}}F.d(st,{P:()=>m})},3888:(on,st,F)=>{"use strict";function m(h){const ne=h(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}F.d(st,{d:()=>m})},1810:(on,st,F)=>{"use strict";function m(h,W){return h.reduce((ne,Ae,we)=>(ne[Ae]=W[we],ne),{})}F.d(st,{n:()=>m})},2806:(on,st,F)=>{"use strict";F.d(st,{O:()=>ne,x:()=>W});var m=F(2416);let h=null;function W(Ae){if(m.v.useDeprecatedSynchronousErrorHandling){const we=!h;if(we&&(h={errorThrown:!1,error:null}),Ae(),we){const{errorThrown:le,error:xe}=h;if(h=null,le)throw xe}}else Ae()}function ne(Ae){m.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Ae)}},9672:(on,st,F)=>{"use strict";function m(h,W,ne,Ae=0,we=!1){const le=W.schedule(function(){ne(),we?h.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(h.add(le),!we)return le}F.d(st,{f:()=>m})},4671:(on,st,F)=>{"use strict";function m(h){return h}F.d(st,{y:()=>m})},1144:(on,st,F)=>{"use strict";F.d(st,{z:()=>m});const m=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(on,st,F)=>{"use strict";F.d(st,{D:()=>h});var m=F(576);function h(W){return Symbol.asyncIterator&&(0,m.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(on,st,F)=>{"use strict";function m(h){return"function"==typeof h}F.d(st,{m:()=>m})},3670:(on,st,F)=>{"use strict";F.d(st,{c:()=>W});var m=F(8822),h=F(576);function W(ne){return(0,h.m)(ne[m.L])}},6495:(on,st,F)=>{"use strict";F.d(st,{T:()=>W});var m=F(2202),h=F(576);function W(ne){return(0,h.m)(null==ne?void 0:ne[m.h])}},8239:(on,st,F)=>{"use strict";F.d(st,{t:()=>h});var m=F(576);function h(W){return(0,m.m)(null==W?void 0:W.then)}},3260:(on,st,F)=>{"use strict";F.d(st,{L:()=>ne,Q:()=>W});var m=F(655),h=F(576);function W(Ae){return(0,m.FC)(this,arguments,function*(){const le=Ae.getReader();try{for(;;){const{value:xe,done:Re}=yield(0,m.qq)(le.read());if(Re)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(xe)}}finally{le.releaseLock()}})}function ne(Ae){return(0,h.m)(null==Ae?void 0:Ae.getReader)}},4482:(on,st,F)=>{"use strict";F.d(st,{A:()=>h,e:()=>W});var m=F(576);function h(ne){return(0,m.m)(null==ne?void 0:ne.lift)}function W(ne){return Ae=>{if(h(Ae))return Ae.lift(function(we){try{return ne(we,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(on,st,F)=>{"use strict";F.d(st,{Z:()=>ne});var m=F(4004);const{isArray:h}=Array;function ne(Ae){return(0,m.U)(we=>function W(Ae,we){return h(we)?Ae(...we):Ae(we)}(Ae,we))}},9635:(on,st,F)=>{"use strict";F.d(st,{U:()=>W,z:()=>h});var m=F(4671);function h(...ne){return W(ne)}function W(ne){return 0===ne.length?m.y:1===ne.length?ne[0]:function(we){return ne.reduce((le,xe)=>xe(le),we)}}},7849:(on,st,F)=>{"use strict";F.d(st,{h:()=>W});var m=F(2416),h=F(3410);function W(ne){h.z.setTimeout(()=>{const{onUnhandledError:Ae}=m.v;if(!Ae)throw ne;Ae(ne)})}},4532:(on,st,F)=>{"use strict";function m(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(st,{z:()=>m})},863:(on,st,F)=>{var m={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[8372,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[7066,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function h(W){if(!F.o(m,W))return Promise.resolve().then(()=>{var we=new Error("Cannot find module '"+W+"'");throw we.code="MODULE_NOT_FOUND",we});var ne=m[W],Ae=ne[0];return Promise.all(ne.slice(1).map(F.e)).then(()=>F(Ae))}h.keys=()=>Object.keys(m),h.id=863,on.exports=h},655:(on,st,F)=>{"use strict";function ne(Je,ht){var it={};for(var De in Je)Object.prototype.hasOwnProperty.call(Je,De)&&ht.indexOf(De)<0&&(it[De]=Je[De]);if(null!=Je&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(De=Object.getOwnPropertySymbols(Je);Te<De.length;Te++)ht.indexOf(De[Te])<0&&Object.prototype.propertyIsEnumerable.call(Je,De[Te])&&(it[De[Te]]=Je[De[Te]])}return it}function Ae(Je,ht,it,De){var Qe,Te=arguments.length,Ce=Te<3?ht:null===De?De=Object.getOwnPropertyDescriptor(ht,it):De;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ce=Reflect.decorate(Je,ht,it,De);else for(var at=Je.length-1;at>=0;at--)(Qe=Je[at])&&(Ce=(Te<3?Qe(Ce):Te>3?Qe(ht,it,Ce):Qe(ht,it))||Ce);return Te>3&&Ce&&Object.defineProperty(ht,it,Ce),Ce}function ae(Je,ht,it,De){return new(it||(it=Promise))(function(Ce,Qe){function at(sn){try{St(De.next(sn))}catch(gt){Qe(gt)}}function Ft(sn){try{St(De.throw(sn))}catch(gt){Qe(gt)}}function St(sn){sn.done?Ce(sn.value):function Te(Ce){return Ce instanceof it?Ce:new it(function(Qe){Qe(Ce)})}(sn.value).then(at,Ft)}St((De=De.apply(Je,ht||[])).next())})}function Xe(Je){return this instanceof Xe?(this.v=Je,this):new Xe(Je)}function qe(Je,ht,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,De=it.apply(Je,ht||[]),Ce=[];return Te={},Qe("next"),Qe("throw"),Qe("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Qe(pe){De[pe]&&(Te[pe]=function(vt){return new Promise(function(Zt,hn){Ce.push([pe,vt,Zt,hn])>1||at(pe,vt)})})}function at(pe,vt){try{!function Ft(pe){pe.value instanceof Xe?Promise.resolve(pe.value.v).then(St,sn):gt(Ce[0][2],pe)}(De[pe](vt))}catch(Zt){gt(Ce[0][3],Zt)}}function St(pe){at("next",pe)}function sn(pe){at("throw",pe)}function gt(pe,vt){pe(vt),Ce.shift(),Ce.length&&at(Ce[0][0],Ce[0][1])}}function yt(Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ht=Je[Symbol.asyncIterator];return ht?ht.call(Je):(Je=function mt(Je){var ht="function"==typeof Symbol&&Symbol.iterator,it=ht&&Je[ht],De=0;if(it)return it.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&De>=Je.length&&(Je=void 0),{value:Je&&Je[De++],done:!Je}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}(Je),it={},De("next"),De("throw"),De("return"),it[Symbol.asyncIterator]=function(){return this},it);function De(Ce){it[Ce]=Je[Ce]&&function(Qe){return new Promise(function(at,Ft){!function Te(Ce,Qe,at,Ft){Promise.resolve(Ft).then(function(St){Ce({value:St,done:at})},Qe)}(at,Ft,(Qe=Je[Ce](Qe)).done,Qe.value)})}}}F.d(st,{FC:()=>qe,KL:()=>yt,_T:()=>ne,gn:()=>Ae,mG:()=>ae,qq:()=>Xe})},6895:(on,st,F)=>{"use strict";F.d(st,{Do:()=>te,EM:()=>_o,HT:()=>ne,JF:()=>Oo,K0:()=>we,Mx:()=>xi,O5:()=>de,Ov:()=>kt,PM:()=>yo,S$:()=>mt,V_:()=>Re,Ye:()=>ot,b0:()=>ye,bD:()=>Ns,ez:()=>$i,q:()=>W,sg:()=>ci,tP:()=>An,uU:()=>jr,w_:()=>Ae});var m=F(4650);let h=null;function W(){return h}function ne(O){h||(h=O)}class Ae{}const we=new m.OlP("DocumentToken");let le=(()=>{class O{historyGo(k){throw new Error("Not implemented")}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.Yz7({token:O,factory:function(){return function xe(){return(0,m.LFG)(he)}()},providedIn:"platform"}),O})();const Re=new m.OlP("Location Initialized");let he=(()=>{class O extends le{constructor(k){super(),this._doc=k,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(k){const Y=W().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",k,!1),()=>Y.removeEventListener("popstate",k)}onHashChange(k){const Y=W().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",k,!1),()=>Y.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,Y,_e){se()?this._history.pushState(k,Y,_e):this._location.hash=_e}replaceState(k,Y,_e){se()?this._history.replaceState(k,Y,_e):this._location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(we))},O.\u0275prov=m.Yz7({token:O,factory:function(){return function ae(){return new he((0,m.LFG)(we))}()},providedIn:"platform"}),O})();function se(){return!!window.history.pushState}function Oe(O,G){if(0==O.length)return G;if(0==G.length)return O;let k=0;return O.endsWith("/")&&k++,G.startsWith("/")&&k++,2==k?O+G.substring(1):1==k?O+G:O+"/"+G}function me(O){const G=O.match(/#|\?|$/),k=G&&G.index||O.length;return O.slice(0,k-("/"===O[k-1]?1:0))+O.slice(k)}function We(O){return O&&"?"!==O[0]?"?"+O:O}let mt=(()=>{class O{historyGo(k){throw new Error("Not implemented")}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.Yz7({token:O,factory:function(){return(0,m.f3M)(ye)},providedIn:"root"}),O})();const be=new m.OlP("appBaseHref");let ye=(()=>{class O extends mt{constructor(k,Y){var _e,Rt,Lt;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(_e=null!==(Rt=null!=Y?Y:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Rt?Rt:null===(Lt=(0,m.f3M)(we).location)||void 0===Lt?void 0:Lt.origin)&&void 0!==_e?_e:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Oe(this._baseHref,k)}path(k=!1){const Y=this._platformLocation.pathname+We(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&k?`${Y}${_e}`:Y}pushState(k,Y,_e,Rt){const Lt=this.prepareExternalUrl(_e+We(Rt));this._platformLocation.pushState(k,Y,Lt)}replaceState(k,Y,_e,Rt){const Lt=this.prepareExternalUrl(_e+We(Rt));this._platformLocation.replaceState(k,Y,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var Y,_e;null===(Y=(_e=this._platformLocation).historyGo)||void 0===Y||Y.call(_e,k)}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(le),m.LFG(be,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),te=(()=>{class O extends mt{constructor(k,Y){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(k){const Y=Oe(this._baseHref,k);return Y.length>0?"#"+Y:Y}pushState(k,Y,_e,Rt){let Lt=this.prepareExternalUrl(_e+We(Rt));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.pushState(k,Y,Lt)}replaceState(k,Y,_e,Rt){let Lt=this.prepareExternalUrl(_e+We(Rt));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.replaceState(k,Y,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var Y,_e;null===(Y=(_e=this._platformLocation).historyGo)||void 0===Y||Y.call(_e,k)}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(le),m.LFG(be,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})(),ot=(()=>{class O{constructor(k){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Y=this._locationStrategy.getBaseHref();this._basePath=function yt(O){if(new RegExp("^(https?:)?//").test(O)){const[,k]=O.split(/\/\/[^\/]+/);return k}return O}(me(Ve(Y))),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Y=""){return this.path()==this.normalize(k+We(Y))}normalize(k){return O.stripTrailingSlash(function qe(O,G){if(!O||!G.startsWith(O))return G;const k=G.substring(O.length);return""===k||["/",";","?","#"].includes(k[0])?k:G}(this._basePath,Ve(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Y="",_e=null){this._locationStrategy.pushState(_e,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+We(Y)),_e)}replaceState(k,Y="",_e=null){this._locationStrategy.replaceState(_e,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+We(Y)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var Y,_e;null===(Y=(_e=this._locationStrategy).historyGo)||void 0===Y||Y.call(_e,k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(k);var _e;this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(null===(_e=this._urlChangeSubscription)||void 0===_e||_e.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Y){this._urlChangeListeners.forEach(_e=>_e(k,Y))}subscribe(k,Y,_e){return this._subject.subscribe({next:k,error:Y,complete:_e})}}return O.normalizeQueryParams=We,O.joinWithSlash=Oe,O.stripTrailingSlash=me,O.\u0275fac=function(k){return new(k||O)(m.LFG(mt))},O.\u0275prov=m.Yz7({token:O,factory:function(){return function Xe(){return new ot((0,m.LFG)(mt))}()},providedIn:"root"}),O})();function Ve(O){return O.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Format=0]="Format",ve[ve.Standalone=1]="Standalone",ve))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.Medium=1]="Medium",rt[rt.Long=2]="Long",rt[rt.Full=3]="Full",rt))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function Ft(O,G){return Bn((0,m.cg1)(O)[m.wAp.DateFormat],G)}function St(O,G){return Bn((0,m.cg1)(O)[m.wAp.TimeFormat],G)}function sn(O,G){return Bn((0,m.cg1)(O)[m.wAp.DateTimeFormat],G)}function gt(O,G){const k=(0,m.cg1)(O),Y=k[m.wAp.NumberSymbols][G];if(typeof Y>"u"){if(G===ct.CurrencyDecimal)return k[m.wAp.NumberSymbols][ct.Decimal];if(G===ct.CurrencyGroup)return k[m.wAp.NumberSymbols][ct.Group]}return Y}function Wt(O){if(!O[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bn(O,G){for(let k=G;k>-1;k--)if(typeof O[k]<"u")return O[k];throw new Error("Locale data API: locale data undefined")}function nn(O){const[G,k]=O.split(":");return{hours:+G,minutes:+k}}const Gr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ri={},On=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jn=(()=>((jn=jn||{})[jn.Short=0]="Short",jn[jn.ShortGMT=1]="ShortGMT",jn[jn.Long=2]="Long",jn[jn.Extended=3]="Extended",jn))(),Ht=(()=>((Ht=Ht||{})[Ht.FullYear=0]="FullYear",Ht[Ht.Month=1]="Month",Ht[Ht.Date=2]="Date",Ht[Ht.Hours=3]="Hours",Ht[Ht.Minutes=4]="Minutes",Ht[Ht.Seconds=5]="Seconds",Ht[Ht.FractionalSeconds=6]="FractionalSeconds",Ht[Ht.Day=7]="Day",Ht))(),an=(()=>((an=an||{})[an.DayPeriods=0]="DayPeriods",an[an.Days=1]="Days",an[an.Months=2]="Months",an[an.Eras=3]="Eras",an))();function zt(O,G,k,Y){let _e=function tt(O){if(je(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[_e,Rt=1,Lt=1]=O.split("-").map(In=>+In);return Fr(_e,Rt-1,Lt)}const k=parseFloat(O);if(!isNaN(O-k))return new Date(k);let Y;if(Y=O.match(Gr))return function Gt(O){const G=new Date(0);let k=0,Y=0;const _e=O[8]?G.setUTCFullYear:G.setFullYear,Rt=O[8]?G.setUTCHours:G.setHours;O[9]&&(k=Number(O[9]+O[10]),Y=Number(O[9]+O[11])),_e.call(G,Number(O[1]),Number(O[2])-1,Number(O[3]));const Lt=Number(O[4]||0)-k,In=Number(O[5]||0)-Y,dr=Number(O[6]||0),Dr=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Rt.call(G,Lt,In,dr,Dr),G}(Y)}const G=new Date(O);if(!je(G))throw new Error(`Unable to convert "${O}" into a date`);return G}(O);G=cr(k,G)||G;let In,Lt=[];for(;G;){if(In=On.exec(G),!In){Lt.push(G);break}{Lt=Lt.concat(In.slice(1));const fr=Lt.pop();if(!fr)break;G=fr}}let dr=_e.getTimezoneOffset();Y&&(dr=ce(Y,dr),_e=function ft(O,G,k){const Y=k?-1:1,_e=O.getTimezoneOffset();return function ke(O,G){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+G),O}(O,Y*(ce(G,_e)-_e))}(_e,Y,!0));let Dr="";return Lt.forEach(fr=>{const ar=function ue(O){if(Ot[O])return Ot[O];let G;switch(O){case"G":case"GG":case"GGG":G=qn(an.Eras,Be.Abbreviated);break;case"GGGG":G=qn(an.Eras,Be.Wide);break;case"GGGGG":G=qn(an.Eras,Be.Narrow);break;case"y":G=vr(Ht.FullYear,1,0,!1,!0);break;case"yy":G=vr(Ht.FullYear,2,0,!0,!0);break;case"yyy":G=vr(Ht.FullYear,3,0,!1,!0);break;case"yyyy":G=vr(Ht.FullYear,4,0,!1,!0);break;case"Y":G=Nt(1);break;case"YY":G=Nt(2,!0);break;case"YYY":G=Nt(3);break;case"YYYY":G=Nt(4);break;case"M":case"L":G=vr(Ht.Month,1,1);break;case"MM":case"LL":G=vr(Ht.Month,2,1);break;case"MMM":G=qn(an.Months,Be.Abbreviated);break;case"MMMM":G=qn(an.Months,Be.Wide);break;case"MMMMM":G=qn(an.Months,Be.Narrow);break;case"LLL":G=qn(an.Months,Be.Abbreviated,ve.Standalone);break;case"LLLL":G=qn(an.Months,Be.Wide,ve.Standalone);break;case"LLLLL":G=qn(an.Months,Be.Narrow,ve.Standalone);break;case"w":G=Ue(1);break;case"ww":G=Ue(2);break;case"W":G=Ue(1,!0);break;case"d":G=vr(Ht.Date,1);break;case"dd":G=vr(Ht.Date,2);break;case"c":case"cc":G=vr(Ht.Day,1);break;case"ccc":G=qn(an.Days,Be.Abbreviated,ve.Standalone);break;case"cccc":G=qn(an.Days,Be.Wide,ve.Standalone);break;case"ccccc":G=qn(an.Days,Be.Narrow,ve.Standalone);break;case"cccccc":G=qn(an.Days,Be.Short,ve.Standalone);break;case"E":case"EE":case"EEE":G=qn(an.Days,Be.Abbreviated);break;case"EEEE":G=qn(an.Days,Be.Wide);break;case"EEEEE":G=qn(an.Days,Be.Narrow);break;case"EEEEEE":G=qn(an.Days,Be.Short);break;case"a":case"aa":case"aaa":G=qn(an.DayPeriods,Be.Abbreviated);break;case"aaaa":G=qn(an.DayPeriods,Be.Wide);break;case"aaaaa":G=qn(an.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":G=qn(an.DayPeriods,Be.Abbreviated,ve.Standalone,!0);break;case"bbbb":G=qn(an.DayPeriods,Be.Wide,ve.Standalone,!0);break;case"bbbbb":G=qn(an.DayPeriods,Be.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":G=qn(an.DayPeriods,Be.Abbreviated,ve.Format,!0);break;case"BBBB":G=qn(an.DayPeriods,Be.Wide,ve.Format,!0);break;case"BBBBB":G=qn(an.DayPeriods,Be.Narrow,ve.Format,!0);break;case"h":G=vr(Ht.Hours,1,-12);break;case"hh":G=vr(Ht.Hours,2,-12);break;case"H":G=vr(Ht.Hours,1);break;case"HH":G=vr(Ht.Hours,2);break;case"m":G=vr(Ht.Minutes,1);break;case"mm":G=vr(Ht.Minutes,2);break;case"s":G=vr(Ht.Seconds,1);break;case"ss":G=vr(Ht.Seconds,2);break;case"S":G=vr(Ht.FractionalSeconds,1);break;case"SS":G=vr(Ht.FractionalSeconds,2);break;case"SSS":G=vr(Ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=rr(jn.Short);break;case"ZZZZZ":G=rr(jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=rr(jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=rr(jn.Long);break;default:return null}return Ot[O]=G,G}(fr);Dr+=ar?ar(_e,k,dr):"''"===fr?"'":fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Dr}function Fr(O,G,k){const Y=new Date(0);return Y.setFullYear(O,G,k),Y.setHours(0,0,0),Y}function cr(O,G){const k=function ht(O){return(0,m.cg1)(O)[m.wAp.LocaleId]}(O);if(ri[k]=ri[k]||{},ri[k][G])return ri[k][G];let Y="";switch(G){case"shortDate":Y=Ft(O,rt.Short);break;case"mediumDate":Y=Ft(O,rt.Medium);break;case"longDate":Y=Ft(O,rt.Long);break;case"fullDate":Y=Ft(O,rt.Full);break;case"shortTime":Y=St(O,rt.Short);break;case"mediumTime":Y=St(O,rt.Medium);break;case"longTime":Y=St(O,rt.Long);break;case"fullTime":Y=St(O,rt.Full);break;case"short":const _e=cr(O,"shortTime"),Rt=cr(O,"shortDate");Y=Lr(sn(O,rt.Short),[_e,Rt]);break;case"medium":const Lt=cr(O,"mediumTime"),In=cr(O,"mediumDate");Y=Lr(sn(O,rt.Medium),[Lt,In]);break;case"long":const dr=cr(O,"longTime"),Dr=cr(O,"longDate");Y=Lr(sn(O,rt.Long),[dr,Dr]);break;case"full":const fr=cr(O,"fullTime"),ar=cr(O,"fullDate");Y=Lr(sn(O,rt.Full),[fr,ar])}return Y&&(ri[k][G]=Y),Y}function Lr(O,G){return G&&(O=O.replace(/\{([^}]+)}/g,function(k,Y){return null!=G&&Y in G?G[Y]:k})),O}function Ar(O,G,k="-",Y,_e){let Rt="";(O<0||_e&&O<=0)&&(_e?O=1-O:(O=-O,Rt=k));let Lt=String(O);for(;Lt.length<G;)Lt="0"+Lt;return Y&&(Lt=Lt.slice(Lt.length-G)),Rt+Lt}function vr(O,G,k=0,Y=!1,_e=!1){return function(Rt,Lt){let In=function qr(O,G){switch(O){case Ht.FullYear:return G.getFullYear();case Ht.Month:return G.getMonth();case Ht.Date:return G.getDate();case Ht.Hours:return G.getHours();case Ht.Minutes:return G.getMinutes();case Ht.Seconds:return G.getSeconds();case Ht.FractionalSeconds:return G.getMilliseconds();case Ht.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Rt);if((k>0||In>-k)&&(In+=k),O===Ht.Hours)0===In&&-12===k&&(In=12);else if(O===Ht.FractionalSeconds)return function Wr(O,G){return Ar(O,3).substring(0,G)}(In,G);const dr=gt(Lt,ct.MinusSign);return Ar(In,G,dr,Y,_e)}}function qn(O,G,k=ve.Format,Y=!1){return function(_e,Rt){return function Hn(O,G,k,Y,_e,Rt){switch(k){case an.Months:return function Te(O,G,k){const Y=(0,m.cg1)(O),Rt=Bn([Y[m.wAp.MonthsFormat],Y[m.wAp.MonthsStandalone]],G);return Bn(Rt,k)}(G,_e,Y)[O.getMonth()];case an.Days:return function De(O,G,k){const Y=(0,m.cg1)(O),Rt=Bn([Y[m.wAp.DaysFormat],Y[m.wAp.DaysStandalone]],G);return Bn(Rt,k)}(G,_e,Y)[O.getDay()];case an.DayPeriods:const Lt=O.getHours(),In=O.getMinutes();if(Rt){const Dr=function _n(O){const G=(0,m.cg1)(O);return Wt(G),(G[m.wAp.ExtraData][2]||[]).map(Y=>"string"==typeof Y?nn(Y):[nn(Y[0]),nn(Y[1])])}(G),fr=function Kn(O,G,k){const Y=(0,m.cg1)(O);Wt(Y);const Rt=Bn([Y[m.wAp.ExtraData][0],Y[m.wAp.ExtraData][1]],G)||[];return Bn(Rt,k)||[]}(G,_e,Y),ar=Dr.findIndex(oi=>{if(Array.isArray(oi)){const[Yr,di]=oi,hs=Lt>=Yr.hours&&In>=Yr.minutes,Bo=Lt<di.hours||Lt===di.hours&&In<di.minutes;if(Yr.hours<di.hours){if(hs&&Bo)return!0}else if(hs||Bo)return!0}else if(oi.hours===Lt&&oi.minutes===In)return!0;return!1});if(-1!==ar)return fr[ar]}return function it(O,G,k){const Y=(0,m.cg1)(O),Rt=Bn([Y[m.wAp.DayPeriodsFormat],Y[m.wAp.DayPeriodsStandalone]],G);return Bn(Rt,k)}(G,_e,Y)[Lt<12?0:1];case an.Eras:return function Ce(O,G){return Bn((0,m.cg1)(O)[m.wAp.Eras],G)}(G,Y)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(_e,Rt,O,G,k,Y)}}function rr(O){return function(G,k,Y){const _e=-1*Y,Rt=gt(k,ct.MinusSign),Lt=_e>0?Math.floor(_e/60):Math.ceil(_e/60);switch(O){case jn.Short:return(_e>=0?"+":"")+Ar(Lt,2,Rt)+Ar(Math.abs(_e%60),2,Rt);case jn.ShortGMT:return"GMT"+(_e>=0?"+":"")+Ar(Lt,1,Rt);case jn.Long:return"GMT"+(_e>=0?"+":"")+Ar(Lt,2,Rt)+":"+Ar(Math.abs(_e%60),2,Rt);case jn.Extended:return 0===Y?"Z":(_e>=0?"+":"")+Ar(Lt,2,Rt)+":"+Ar(Math.abs(_e%60),2,Rt);default:throw new Error(`Unknown zone width "${O}"`)}}}const ti=0,_r=4;function Le(O){return Fr(O.getFullYear(),O.getMonth(),O.getDate()+(_r-O.getDay()))}function Ue(O,G=!1){return function(k,Y){let _e;if(G){const Rt=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,Lt=k.getDate();_e=1+Math.floor((Lt+Rt)/7)}else{const Rt=Le(k),Lt=function Mt(O){const G=Fr(O,ti,1).getDay();return Fr(O,0,1+(G<=_r?_r:_r+7)-G)}(Rt.getFullYear()),In=Rt.getTime()-Lt.getTime();_e=1+Math.round(In/6048e5)}return Ar(_e,O,gt(Y,ct.MinusSign))}}function Nt(O,G=!1){return function(k,Y){return Ar(Le(k).getFullYear(),O,gt(Y,ct.MinusSign),G)}}const Ot={};function ce(O,G){O=O.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(k)?G:k}function je(O){return O instanceof Date&&!isNaN(O.valueOf())}function xi(O,G){G=encodeURIComponent(G);for(const k of O.split(";")){const Y=k.indexOf("="),[_e,Rt]=-1==Y?[k,""]:[k.slice(0,Y),k.slice(Y+1)];if(_e.trim()===G)return decodeURIComponent(Rt)}return null}class Ur{constructor(G,k,Y,_e){this.$implicit=G,this.ngForOf=k,this.index=Y,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ci=(()=>{class O{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,Y,_e){this._viewContainer=k,this._template=Y,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const Y=this._viewContainer;k.forEachOperation((_e,Rt,Lt)=>{if(null==_e.previousIndex)Y.createEmbeddedView(this._template,new Ur(_e.item,this._ngForOf,-1,-1),null===Lt?void 0:Lt);else if(null==Lt)Y.remove(null===Rt?void 0:Rt);else if(null!==Rt){const In=Y.get(Rt);Y.move(In,Lt),Er(In,_e)}});for(let _e=0,Rt=Y.length;_e<Rt;_e++){const In=Y.get(_e).context;In.index=_e,In.count=Rt,In.ngForOf=this._ngForOf}k.forEachIdentityChange(_e=>{Er(Y.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(k,Y){return!0}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function Er(O,G){O.context.$implicit=G.item}let de=(()=>{class O{constructor(k,Y){this._viewContainer=k,this._context=new Pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){ie("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){ie("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Y){return!0}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b),m.Y36(m.Rgc))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class Pe{constructor(){this.$implicit=null,this.ngIf=null}}function ie(O,G){if(G&&!G.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,m.AaK)(G)}'.`)}let An=(()=>{class O{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const Y=this._viewContainerRef;if(this._viewRef&&Y.remove(Y.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_e,ngTemplateOutletContext:Rt,ngTemplateOutletInjector:Lt}=this;this._viewRef=Y.createEmbeddedView(_e,Rt,Lt?{injector:Lt}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),O})();function Kr(O,G){return new m.vHH(2100,!1)}class ii{createSubscription(G,k){return G.subscribe({next:k,error:Y=>{throw Y}})}dispose(G){G.unsubscribe()}}class et{createSubscription(G,k){return G.then(k,Y=>{throw Y})}dispose(G){}}const ze=new et,ut=new ii;let kt=(()=>{class O{constructor(k){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,Y=>this._updateLatestValue(k,Y))}_selectStrategy(k){if((0,m.QGY)(k))return ze;if((0,m.F4k)(k))return ut;throw Kr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,Y){k===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.sBO,16))},O.\u0275pipe=m.Yjl({name:"async",type:O,pure:!1,standalone:!0}),O})();const Bi=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ro=new m.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class O{constructor(k,Y,_e){this.locale=k,this.defaultTimezone=Y,this.defaultOptions=_e}transform(k,Y,_e,Rt){if(null==k||""===k||k!=k)return null;try{var Lt,In,dr,Dr,fr;const ar=null!==(Lt=null!=Y?Y:null===(In=this.defaultOptions)||void 0===In?void 0:In.dateFormat)&&void 0!==Lt?Lt:"mediumDate",oi=null!==(dr=null!==(Dr=null!=_e?_e:null===(fr=this.defaultOptions)||void 0===fr?void 0:fr.timezone)&&void 0!==Dr?Dr:this.defaultTimezone)&&void 0!==dr?dr:void 0;return zt(k,ar,Rt||this.locale,oi)}catch(ar){throw Kr()}}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.soG,16),m.Y36(Bi,24),m.Y36(Ro,24))},O.\u0275pipe=m.Yjl({name:"date",type:O,pure:!0,standalone:!0}),O})(),$i=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=m.oAB({type:O}),O.\u0275inj=m.cJS({}),O})();const Ns="browser",mo="server";function yo(O){return O===mo}let _o=(()=>{class O{}return O.\u0275prov=(0,m.Yz7)({token:O,providedIn:"root",factory:()=>new Es((0,m.LFG)(we),window)}),O})();class Es{constructor(G,k){this.document=G,this.window=k,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const k=function Ui(O,G){const k=O.getElementById(G)||O.getElementsByName(G)[0];if(k)return k;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const Y=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let _e=Y.currentNode;for(;_e;){const Rt=_e.shadowRoot;if(Rt){const Lt=Rt.getElementById(G)||Rt.querySelector(`[name="${G}"]`);if(Lt)return Lt}_e=Y.nextNode()}}return null}(this.document,G);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=G)}}scrollToElement(G){const k=G.getBoundingClientRect(),Y=k.left+this.window.pageXOffset,_e=k.top+this.window.pageYOffset,Rt=this.offset();this.window.scrollTo(Y-Rt[0],_e-Rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Eo(this.window.history)||Eo(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Eo(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class Oo{}},529:(on,st,F)=>{"use strict";F.d(st,{JF:()=>rr,WM:()=>he,eN:()=>ht});var m=F(6895),h=F(4650),W=F(9646),ne=F(9751),Ae=F(4351),we=F(9300),le=F(4004);class xe{}class Re{}class he{constructor(Le){this.normalizedNames=new Map,this.lazyUpdate=null,Le?this.lazyInit="string"==typeof Le?()=>{this.headers=new Map,Le.split("\n").forEach(Ue=>{const Nt=Ue.indexOf(":");if(Nt>0){const Ot=Ue.slice(0,Nt),ue=Ot.toLowerCase(),ce=Ue.slice(Nt+1).trim();this.maybeSetNormalizedName(Ot,ue),this.headers.has(ue)?this.headers.get(ue).push(ce):this.headers.set(ue,[ce])}})}:()=>{this.headers=new Map,Object.entries(Le).forEach(([Ue,Nt])=>{let Ot;if(Ot="string"==typeof Nt?[Nt]:"number"==typeof Nt?[Nt.toString()]:Nt.map(ue=>ue.toString()),Ot.length>0){const ue=Ue.toLowerCase();this.headers.set(ue,Ot),this.maybeSetNormalizedName(Ue,ue)}})}:this.headers=new Map}has(Le){return this.init(),this.headers.has(Le.toLowerCase())}get(Le){this.init();const Ue=this.headers.get(Le.toLowerCase());return Ue&&Ue.length>0?Ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Le){return this.init(),this.headers.get(Le.toLowerCase())||null}append(Le,Ue){return this.clone({name:Le,value:Ue,op:"a"})}set(Le,Ue){return this.clone({name:Le,value:Ue,op:"s"})}delete(Le,Ue){return this.clone({name:Le,value:Ue,op:"d"})}maybeSetNormalizedName(Le,Ue){this.normalizedNames.has(Ue)||this.normalizedNames.set(Ue,Le)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Le=>this.applyUpdate(Le)),this.lazyUpdate=null))}copyFrom(Le){Le.init(),Array.from(Le.headers.keys()).forEach(Ue=>{this.headers.set(Ue,Le.headers.get(Ue)),this.normalizedNames.set(Ue,Le.normalizedNames.get(Ue))})}clone(Le){const Ue=new he;return Ue.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,Ue.lazyUpdate=(this.lazyUpdate||[]).concat([Le]),Ue}applyUpdate(Le){const Ue=Le.name.toLowerCase();switch(Le.op){case"a":case"s":let Nt=Le.value;if("string"==typeof Nt&&(Nt=[Nt]),0===Nt.length)return;this.maybeSetNormalizedName(Le.name,Ue);const Ot=("a"===Le.op?this.headers.get(Ue):void 0)||[];Ot.push(...Nt),this.headers.set(Ue,Ot);break;case"d":const ue=Le.value;if(ue){let ce=this.headers.get(Ue);if(!ce)return;ce=ce.filter(ke=>-1===ue.indexOf(ke)),0===ce.length?(this.headers.delete(Ue),this.normalizedNames.delete(Ue)):this.headers.set(Ue,ce)}else this.headers.delete(Ue),this.normalizedNames.delete(Ue)}}forEach(Le){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ue=>Le(this.normalizedNames.get(Ue),this.headers.get(Ue)))}}class ae{encodeKey(Le){return mt(Le)}encodeValue(Le){return mt(Le)}decodeKey(Le){return decodeURIComponent(Le)}decodeValue(Le){return decodeURIComponent(Le)}}const me=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mt(Mt){return encodeURIComponent(Mt).replace(me,(Le,Ue)=>{var Nt;return null!==(Nt=We[Ue])&&void 0!==Nt?Nt:Le})}function be(Mt){return`${Mt}`}class ye{constructor(Le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Le.encoder||new ae,Le.fromString){if(Le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Oe(Mt,Le){const Ue=new Map;return Mt.length>0&&Mt.replace(/^\?/,"").split("&").forEach(Ot=>{const ue=Ot.indexOf("="),[ce,ke]=-1==ue?[Le.decodeKey(Ot),""]:[Le.decodeKey(Ot.slice(0,ue)),Le.decodeValue(Ot.slice(ue+1))],ft=Ue.get(ce)||[];ft.push(ke),Ue.set(ce,ft)}),Ue}(Le.fromString,this.encoder)}else Le.fromObject?(this.map=new Map,Object.keys(Le.fromObject).forEach(Ue=>{const Nt=Le.fromObject[Ue],Ot=Array.isArray(Nt)?Nt.map(be):[be(Nt)];this.map.set(Ue,Ot)})):this.map=null}has(Le){return this.init(),this.map.has(Le)}get(Le){this.init();const Ue=this.map.get(Le);return Ue?Ue[0]:null}getAll(Le){return this.init(),this.map.get(Le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Le,Ue){return this.clone({param:Le,value:Ue,op:"a"})}appendAll(Le){const Ue=[];return Object.keys(Le).forEach(Nt=>{const Ot=Le[Nt];Array.isArray(Ot)?Ot.forEach(ue=>{Ue.push({param:Nt,value:ue,op:"a"})}):Ue.push({param:Nt,value:Ot,op:"a"})}),this.clone(Ue)}set(Le,Ue){return this.clone({param:Le,value:Ue,op:"s"})}delete(Le,Ue){return this.clone({param:Le,value:Ue,op:"d"})}toString(){return this.init(),this.keys().map(Le=>{const Ue=this.encoder.encodeKey(Le);return this.map.get(Le).map(Nt=>Ue+"="+this.encoder.encodeValue(Nt)).join("&")}).filter(Le=>""!==Le).join("&")}clone(Le){const Ue=new ye({encoder:this.encoder});return Ue.cloneFrom=this.cloneFrom||this,Ue.updates=(this.updates||[]).concat(Le),Ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Le=>this.map.set(Le,this.cloneFrom.map.get(Le))),this.updates.forEach(Le=>{switch(Le.op){case"a":case"s":const Ue=("a"===Le.op?this.map.get(Le.param):void 0)||[];Ue.push(be(Le.value)),this.map.set(Le.param,Ue);break;case"d":if(void 0===Le.value){this.map.delete(Le.param);break}{let Nt=this.map.get(Le.param)||[];const Ot=Nt.indexOf(be(Le.value));-1!==Ot&&Nt.splice(Ot,1),Nt.length>0?this.map.set(Le.param,Nt):this.map.delete(Le.param)}}}),this.cloneFrom=this.updates=null)}}class ot{constructor(){this.map=new Map}set(Le,Ue){return this.map.set(Le,Ue),this}get(Le){return this.map.has(Le)||this.map.set(Le,Le.defaultValue()),this.map.get(Le)}delete(Le){return this.map.delete(Le),this}has(Le){return this.map.has(Le)}keys(){return this.map.keys()}}function qe(Mt){return typeof ArrayBuffer<"u"&&Mt instanceof ArrayBuffer}function Ve(Mt){return typeof Blob<"u"&&Mt instanceof Blob}function yt(Mt){return typeof FormData<"u"&&Mt instanceof FormData}class Ee{constructor(Le,Ue,Nt,Ot){let ue;if(this.url=Ue,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Le.toUpperCase(),function Xe(Mt){switch(Mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ot?(this.body=void 0!==Nt?Nt:null,ue=Ot):ue=Nt,ue&&(this.reportProgress=!!ue.reportProgress,this.withCredentials=!!ue.withCredentials,ue.responseType&&(this.responseType=ue.responseType),ue.headers&&(this.headers=ue.headers),ue.context&&(this.context=ue.context),ue.params&&(this.params=ue.params)),this.headers||(this.headers=new he),this.context||(this.context=new ot),this.params){const ce=this.params.toString();if(0===ce.length)this.urlWithParams=Ue;else{const ke=Ue.indexOf("?");this.urlWithParams=Ue+(-1===ke?"?":ke<Ue.length-1?"&":"")+ce}}else this.params=new ye,this.urlWithParams=Ue}serializeBody(){return null===this.body?null:qe(this.body)||Ve(this.body)||yt(this.body)||function Se(Mt){return typeof URLSearchParams<"u"&&Mt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yt(this.body)?null:Ve(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Le={}){var Ue;const Nt=Le.method||this.method,Ot=Le.url||this.url,ue=Le.responseType||this.responseType,ce=void 0!==Le.body?Le.body:this.body,ke=void 0!==Le.withCredentials?Le.withCredentials:this.withCredentials,ft=void 0!==Le.reportProgress?Le.reportProgress:this.reportProgress;let tt=Le.headers||this.headers,Gt=Le.params||this.params;const je=null!==(Ue=Le.context)&&void 0!==Ue?Ue:this.context;return void 0!==Le.setHeaders&&(tt=Object.keys(Le.setHeaders).reduce((Me,oe)=>Me.set(oe,Le.setHeaders[oe]),tt)),Le.setParams&&(Gt=Object.keys(Le.setParams).reduce((Me,oe)=>Me.set(oe,Le.setParams[oe]),Gt)),new Ee(Nt,Ot,ce,{params:Gt,headers:tt,context:je,reportProgress:ft,responseType:ue,withCredentials:ke})}}var Ie=(()=>((Ie=Ie||{})[Ie.Sent=0]="Sent",Ie[Ie.UploadProgress=1]="UploadProgress",Ie[Ie.ResponseHeader=2]="ResponseHeader",Ie[Ie.DownloadProgress=3]="DownloadProgress",Ie[Ie.Response=4]="Response",Ie[Ie.User=5]="User",Ie))();class ve{constructor(Le,Ue=200,Nt="OK"){this.headers=Le.headers||new he,this.status=void 0!==Le.status?Le.status:Ue,this.statusText=Le.statusText||Nt,this.url=Le.url||null,this.ok=this.status>=200&&this.status<300}}class Be extends ve{constructor(Le={}){super(Le),this.type=Ie.ResponseHeader}clone(Le={}){return new Be({headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class rt extends ve{constructor(Le={}){super(Le),this.type=Ie.Response,this.body=void 0!==Le.body?Le.body:null}clone(Le={}){return new rt({body:void 0!==Le.body?Le.body:this.body,headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class ct extends ve{constructor(Le){super(Le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Le.url||"(unknown url)"}`:`Http failure response for ${Le.url||"(unknown url)"}: ${Le.status} ${Le.statusText}`,this.error=Le.error||null}}function Je(Mt,Le){return{body:Le,headers:Mt.headers,context:Mt.context,observe:Mt.observe,params:Mt.params,reportProgress:Mt.reportProgress,responseType:Mt.responseType,withCredentials:Mt.withCredentials}}let ht=(()=>{class Mt{constructor(Ue){this.handler=Ue}request(Ue,Nt,Ot={}){let ue;if(Ue instanceof Ee)ue=Ue;else{let ft,tt;ft=Ot.headers instanceof he?Ot.headers:new he(Ot.headers),Ot.params&&(tt=Ot.params instanceof ye?Ot.params:new ye({fromObject:Ot.params})),ue=new Ee(Ue,Nt,void 0!==Ot.body?Ot.body:null,{headers:ft,context:Ot.context,params:tt,reportProgress:Ot.reportProgress,responseType:Ot.responseType||"json",withCredentials:Ot.withCredentials})}const ce=(0,W.of)(ue).pipe((0,Ae.b)(ft=>this.handler.handle(ft)));if(Ue instanceof Ee||"events"===Ot.observe)return ce;const ke=ce.pipe((0,we.h)(ft=>ft instanceof rt));switch(Ot.observe||"body"){case"body":switch(ue.responseType){case"arraybuffer":return ke.pipe((0,le.U)(ft=>{if(null!==ft.body&&!(ft.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ft.body}));case"blob":return ke.pipe((0,le.U)(ft=>{if(null!==ft.body&&!(ft.body instanceof Blob))throw new Error("Response is not a Blob.");return ft.body}));case"text":return ke.pipe((0,le.U)(ft=>{if(null!==ft.body&&"string"!=typeof ft.body)throw new Error("Response is not a string.");return ft.body}));default:return ke.pipe((0,le.U)(ft=>ft.body))}case"response":return ke;default:throw new Error(`Unreachable: unhandled observe type ${Ot.observe}}`)}}delete(Ue,Nt={}){return this.request("DELETE",Ue,Nt)}get(Ue,Nt={}){return this.request("GET",Ue,Nt)}head(Ue,Nt={}){return this.request("HEAD",Ue,Nt)}jsonp(Ue,Nt){return this.request("JSONP",Ue,{params:(new ye).append(Nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ue,Nt={}){return this.request("OPTIONS",Ue,Nt)}patch(Ue,Nt,Ot={}){return this.request("PATCH",Ue,Je(Ot,Nt))}post(Ue,Nt,Ot={}){return this.request("POST",Ue,Je(Ot,Nt))}put(Ue,Nt,Ot={}){return this.request("PUT",Ue,Je(Ot,Nt))}}return Mt.\u0275fac=function(Ue){return new(Ue||Mt)(h.LFG(xe))},Mt.\u0275prov=h.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();function it(Mt,Le){return Le(Mt)}function De(Mt,Le){return(Ue,Nt)=>Le.intercept(Ue,{handle:Ot=>Mt(Ot,Nt)})}const Ce=new h.OlP("HTTP_INTERCEPTORS"),Qe=new h.OlP("HTTP_INTERCEPTOR_FNS");function at(){let Mt=null;return(Le,Ue)=>{var Nt;return null===Mt&&(Mt=(null!==(Nt=(0,h.f3M)(Ce,{optional:!0}))&&void 0!==Nt?Nt:[]).reduceRight(De,it)),Mt(Le,Ue)}}let Ft=(()=>{class Mt extends xe{constructor(Ue,Nt){super(),this.backend=Ue,this.injector=Nt,this.chain=null}handle(Ue){if(null===this.chain){const Nt=Array.from(new Set(this.injector.get(Qe)));this.chain=Nt.reduceRight((Ot,ue)=>function Te(Mt,Le,Ue){return(Nt,Ot)=>Ue.runInContext(()=>Le(Nt,ue=>Mt(ue,Ot)))}(Ot,ue,this.injector),it)}return this.chain(Ue,Nt=>this.backend.handle(Nt))}}return Mt.\u0275fac=function(Ue){return new(Ue||Mt)(h.LFG(Re),h.LFG(h.lqb))},Mt.\u0275prov=h.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();const Kn=/^\)\]\}',?\n/;let Bn=(()=>{class Mt{constructor(Ue){this.xhrFactory=Ue}handle(Ue){if("JSONP"===Ue.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ne.y(Nt=>{const Ot=this.xhrFactory.build();if(Ot.open(Ue.method,Ue.urlWithParams),Ue.withCredentials&&(Ot.withCredentials=!0),Ue.headers.forEach((oe,He)=>Ot.setRequestHeader(oe,He.join(","))),Ue.headers.has("Accept")||Ot.setRequestHeader("Accept","application/json, text/plain, */*"),!Ue.headers.has("Content-Type")){const oe=Ue.detectContentTypeHeader();null!==oe&&Ot.setRequestHeader("Content-Type",oe)}if(Ue.responseType){const oe=Ue.responseType.toLowerCase();Ot.responseType="json"!==oe?oe:"text"}const ue=Ue.serializeBody();let ce=null;const ke=()=>{if(null!==ce)return ce;const oe=Ot.statusText||"OK",He=new he(Ot.getAllResponseHeaders()),Tt=function ir(Mt){return"responseURL"in Mt&&Mt.responseURL?Mt.responseURL:/^X-Request-URL:/m.test(Mt.getAllResponseHeaders())?Mt.getResponseHeader("X-Request-URL"):null}(Ot)||Ue.url;return ce=new Be({headers:He,status:Ot.status,statusText:oe,url:Tt}),ce},ft=()=>{let{headers:oe,status:He,statusText:Tt,url:qt}=ke(),dn=null;204!==He&&(dn=typeof Ot.response>"u"?Ot.responseText:Ot.response),0===He&&(He=dn?200:0);let Vn=He>=200&&He<300;if("json"===Ue.responseType&&"string"==typeof dn){const Yn=dn;dn=dn.replace(Kn,"");try{dn=""!==dn?JSON.parse(dn):null}catch(Ir){dn=Yn,Vn&&(Vn=!1,dn={error:Ir,text:dn})}}Vn?(Nt.next(new rt({body:dn,headers:oe,status:He,statusText:Tt,url:qt||void 0})),Nt.complete()):Nt.error(new ct({error:dn,headers:oe,status:He,statusText:Tt,url:qt||void 0}))},tt=oe=>{const{url:He}=ke(),Tt=new ct({error:oe,status:Ot.status||0,statusText:Ot.statusText||"Unknown Error",url:He||void 0});Nt.error(Tt)};let Gt=!1;const je=oe=>{Gt||(Nt.next(ke()),Gt=!0);let He={type:Ie.DownloadProgress,loaded:oe.loaded};oe.lengthComputable&&(He.total=oe.total),"text"===Ue.responseType&&Ot.responseText&&(He.partialText=Ot.responseText),Nt.next(He)},Me=oe=>{let He={type:Ie.UploadProgress,loaded:oe.loaded};oe.lengthComputable&&(He.total=oe.total),Nt.next(He)};return Ot.addEventListener("load",ft),Ot.addEventListener("error",tt),Ot.addEventListener("timeout",tt),Ot.addEventListener("abort",tt),Ue.reportProgress&&(Ot.addEventListener("progress",je),null!==ue&&Ot.upload&&Ot.upload.addEventListener("progress",Me)),Ot.send(ue),Nt.next({type:Ie.Sent}),()=>{Ot.removeEventListener("error",tt),Ot.removeEventListener("abort",tt),Ot.removeEventListener("load",ft),Ot.removeEventListener("timeout",tt),Ue.reportProgress&&(Ot.removeEventListener("progress",je),null!==ue&&Ot.upload&&Ot.upload.removeEventListener("progress",Me)),Ot.readyState!==Ot.DONE&&Ot.abort()}})}}return Mt.\u0275fac=function(Ue){return new(Ue||Mt)(h.LFG(m.JF))},Mt.\u0275prov=h.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();const nn=new h.OlP("XSRF_ENABLED"),Vr=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gr=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ri{}let On=(()=>{class Mt{constructor(Ue,Nt,Ot){this.doc=Ue,this.platform=Nt,this.cookieName=Ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ue=this.doc.cookie||"";return Ue!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(Ue,this.cookieName),this.lastCookieString=Ue),this.lastToken}}return Mt.\u0275fac=function(Ue){return new(Ue||Mt)(h.LFG(m.K0),h.LFG(h.Lbi),h.LFG(Vr))},Mt.\u0275prov=h.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();function jn(Mt,Le){const Ue=Mt.url.toLowerCase();if(!(0,h.f3M)(nn)||"GET"===Mt.method||"HEAD"===Mt.method||Ue.startsWith("http://")||Ue.startsWith("https://"))return Le(Mt);const Nt=(0,h.f3M)(ri).getToken(),Ot=(0,h.f3M)(Gr);return null!=Nt&&!Mt.headers.has(Ot)&&(Mt=Mt.clone({headers:Mt.headers.set(Ot,Nt)})),Le(Mt)}var an=(()=>((an=an||{})[an.Interceptors=0]="Interceptors",an[an.LegacyInterceptors=1]="LegacyInterceptors",an[an.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",an[an.NoXsrfProtection=3]="NoXsrfProtection",an[an.JsonpSupport=4]="JsonpSupport",an[an.RequestsMadeViaParent=5]="RequestsMadeViaParent",an))();function zt(Mt,Le){return{\u0275kind:Mt,\u0275providers:Le}}function Fr(...Mt){const Le=[ht,Bn,Ft,{provide:xe,useExisting:Ft},{provide:Re,useExisting:Bn},{provide:Qe,useValue:jn,multi:!0},{provide:nn,useValue:!0},{provide:ri,useClass:On}];for(const Ue of Mt)Le.push(...Ue.\u0275providers);return(0,h.MR2)(Le)}const Lr=new h.OlP("LEGACY_INTERCEPTOR_FN");let rr=(()=>{class Mt{}return Mt.\u0275fac=function(Ue){return new(Ue||Mt)},Mt.\u0275mod=h.oAB({type:Mt}),Mt.\u0275inj=h.cJS({providers:[Fr(zt(an.LegacyInterceptors,[{provide:Lr,useFactory:at},{provide:Qe,useExisting:Lr,multi:!0}]))]}),Mt})()},4650:(on,st,F)=>{"use strict";F.d(st,{$8M:()=>uo,$WT:()=>zn,$Z:()=>Tf,AFp:()=>UE,ALo:()=>o,AaK:()=>xe,AsE:()=>nm,BQk:()=>Pd,CHM:()=>R,CRH:()=>_E,CZH:()=>Dv,CqO:()=>Ey,D6c:()=>RD,DdM:()=>Rp,EJc:()=>WI,EiD:()=>ta,EpF:()=>Wf,F$t:()=>Vg,F4k:()=>qf,FYo:()=>vd,FiY:()=>zr,G48:()=>fD,Gf:()=>yE,GfV:()=>qp,GkF:()=>vl,Gpc:()=>se,Hsn:()=>Xf,JOm:()=>as,JVY:()=>lf,JZr:()=>mt,KtG:()=>q,L6k:()=>_u,LAX:()=>zs,LFG:()=>rr,LMc:()=>PD,LSH:()=>ml,Lbi:()=>HI,Lck:()=>ra,MMx:()=>Rs,MR2:()=>fd,NdJ:()=>Bg,O4$:()=>la,OlP:()=>li,Oqu:()=>tm,P3R:()=>hd,PXZ:()=>aD,Q6J:()=>Ng,QGY:()=>Lg,Qsj:()=>km,R0b:()=>Gl,RDi:()=>sf,Rgc:()=>br,SBq:()=>yl,Sil:()=>KI,Suo:()=>vE,TTD:()=>vo,TgZ:()=>Od,VKq:()=>fv,X6Q:()=>hD,XFs:()=>nn,Xpm:()=>Vn,Xts:()=>Up,Y36:()=>gc,YKP:()=>xa,YNc:()=>Hf,Yjl:()=>er,Yz7:()=>gt,Z0I:()=>hn,ZZ4:()=>X0,_Bn:()=>mm,_UZ:()=>zf,_Vd:()=>yd,_c5:()=>MD,_uU:()=>mp,aQg:()=>Q0,c2e:()=>zI,cJS:()=>vt,cg1:()=>Ic,dDg:()=>rD,dqk:()=>On,eBb:()=>cf,eFA:()=>eI,eJc:()=>k0,ekj:()=>up,eoX:()=>ZE,f3M:()=>_r,g9A:()=>HE,h0i:()=>Ja,hGG:()=>xD,hij:()=>Bd,iGM:()=>mE,ifc:()=>ft,ip1:()=>VE,jDz:()=>Mp,kL8:()=>lm,lG2:()=>Cn,lcZ:()=>g,lqb:()=>Cu,lri:()=>KE,mCW:()=>Iu,n5z:()=>Zl,oAB:()=>pt,oxw:()=>Dy,pB0:()=>Li,q3G:()=>Gi,q4F:()=>Kp,qLn:()=>fc,qOj:()=>Rh,qZA:()=>_c,qzn:()=>fa,rWj:()=>YE,s9C:()=>Qf,sBO:()=>pD,s_b:()=>Si,soG:()=>wv,tb:()=>QE,tp0:()=>no,uIk:()=>Bf,vHH:()=>be,vpe:()=>en,wAp:()=>pr,xi3:()=>A,xp6:()=>vh,ynx:()=>Gf,z2F:()=>bv,z3N:()=>ls,zSh:()=>hf,zs3:()=>Mu});var m=F(7579),h=F(727),W=F(9751),ne=F(6451),Ae=F(3099);function we(n){for(let i in n)if(n[i]===we)return i;throw Error("Could not find renamed property on target object.")}function le(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Re(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const he=we({__forward_ref__:we});function se(n){return n.__forward_ref__=se,n.toString=function(){return xe(this())},n}function ae(n){return Oe(n)?n():n}function Oe(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===se}function me(n){return n&&!!n.\u0275providers}const mt="https://g.co/ng/security#xss";class be extends Error{constructor(i,s){super(ye(i,s)),this.code=i}}function ye(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function yt(n,i){throw new be(-201,!1)}function Qe(n,i){null==n&&function at(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zt(n){return xn(n,_n)||xn(n,ir)}function hn(n){return null!==Zt(n)}function xn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Wt(n){return n&&(n.hasOwnProperty(Kn)||n.hasOwnProperty(Bn))?n[Kn]:null}const _n=we({\u0275prov:we}),Kn=we({\u0275inj:we}),ir=we({ngInjectableDef:we}),Bn=we({ngInjectorDef:we});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let bn;function lr(n){const i=bn;return bn=n,i}function Gr(n,i,s){const l=Zt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&nn.Optional?null:void 0!==i?i:void yt(xe(n))}const On=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zt={},Fr="__NG_DI_FLAG__",cr="ngTempTokenPath",Lr="ngTokenPath",Ar=/\n/gm,Wr="\u0275",vr="__source";let qr;function qn(n){const i=qr;return qr=n,i}function Hn(n,i=nn.Default){if(void 0===qr)throw new be(-203,!1);return null===qr?Gr(n,void 0,i):qr.get(n,i&nn.Optional?null:void 0,i)}function rr(n,i=nn.Default){return(function Vr(){return bn}()||Hn)(ae(n),i)}function _r(n,i=nn.Default){return rr(n,Mt(i))}function Mt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Le(n){const i=[];for(let s=0;s<n.length;s++){const l=ae(n[s]);if(Array.isArray(l)){if(0===l.length)throw new be(900,!1);let c,p=nn.Default;for(let E=0;E<l.length;E++){const M=l[E],N=Nt(M);"number"==typeof N?-1===N?c=M.token:p|=N:c=M}i.push(rr(c,p))}else i.push(rr(l))}return i}function Ue(n,i){return n[Fr]=i,n.prototype[Fr]=i,n}function Nt(n){return n[Fr]}function ce(n){return{toString:n}.toString()}var ke=(()=>((ke=ke||{})[ke.OnPush=0]="OnPush",ke[ke.Default=1]="Default",ke))(),ft=(()=>{return(n=ft||(ft={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ft;var n})();const tt={},Gt=[],je=we({\u0275cmp:we}),Me=we({\u0275dir:we}),oe=we({\u0275pipe:we}),He=we({\u0275mod:we}),Tt=we({\u0275fac:we}),qt=we({__NG_ELEMENT_ID__:we});let dn=0;function Vn(n){return ce(()=>{const i=qi(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ft.Emulated,id:"c"+dn++,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null};Mi(s);const l=n.dependencies;return s.directiveDefs=xi(l,!1),s.pipeDefs=xi(l,!0),s})}function Ir(n){return En(n)||or(n)}function At(n){return null!==n}function pt(n){return ce(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yn(n,i){if(null==n)return tt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),s[c]=l,i&&(i[c]=p)}return s}function Cn(n){return ce(()=>{const i=qi(n);return Mi(i),i})}function er(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function En(n){return n[je]||null}function or(n){return n[Me]||null}function tr(n){return n[oe]||null}function zn(n){const i=En(n)||or(n)||tr(n);return null!==i&&i.standalone}function Pn(n,i){const s=n[He]||null;if(!s&&!0===i)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return s}function qi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yn(n.inputs,i),outputs:yn(n.outputs)}}function Mi(n){var i;null===(i=n.features)||void 0===i||i.forEach(s=>s(n))}function xi(n,i){if(!n)return null;const s=i?tr:Ir;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(At)}const fi=0,ln=1,Un=2,Mr=3,pi=4,ur=5,Ur=6,ci=7,Er=8,Z=9,de=10,Pe=11,ie=12,$e=13,Fe=14,_t=15,Ct=16,Pt=17,$t=18,Jt=19,Nn=20,An=21,Zn=22,ii=1,et=2,ze=7,ut=8,kt=9,Kt=10;function Xn(n){return Array.isArray(n)&&"object"==typeof n[ii]}function nr(n){return Array.isArray(n)&&!0===n[ii]}function Tr(n){return 0!=(4&n.flags)}function Bi(n){return n.componentOffset>-1}function Ro(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function so(n){return 0!=(256&n[Un])}function Sr(n,i){return n.hasOwnProperty(Tt)?n[Tt]:null}class Ji{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function vo(){return _o}function _o(n){return n.type.prototype.ngOnChanges&&(n.setInput=Eo),Es}function Es(){const n=is(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===tt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Eo(n,i,s,l){const c=this.declaredInputs[s],p=is(n)||function Oo(n,i){return n[Ui]=i}(n,{previous:tt,current:null}),E=p.current||(p.current={}),M=p.previous,N=M[c];E[c]=new Ji(N&&N.currentValue,i,M===tt),n[l]=i}vo.ngInherit=!0;const Ui="__ngSimpleChanges__";function is(n){return n[Ui]||null}const si=function(n,i,s){},wi="svg";function ai(n){for(;Array.isArray(n);)n=n[fi];return n}function ko(n,i){return ai(i[n])}function Vi(n,i){return ai(i[n.index])}function ma(n,i){return n.data[i]}function yi(n,i){return n[i]}function vi(n,i){const s=i[n];return Xn(s)?s:s[fi]}function ui(n){return 64==(64&n[Un])}function co(n,i){return null==i?null:n[i]}function Zo(n){n[$t]=0}function cs(n,i){n[ur]+=i;let s=n,l=n[Mr];for(;null!==l&&(1===i&&1===s[ur]||-1===i&&0===s[ur]);)l[ur]+=i,s=l,l=l[Mr]}const sr={lFrame:Oa(null),bindingsEnabled:!0};function I(){return sr.bindingsEnabled}function C(){return sr.lFrame.lView}function x(){return sr.lFrame.tView}function R(n){return sr.lFrame.contextLView=n,n[Er]}function q(n){return sr.lFrame.contextLView=null,n}function nt(){let n=rn();for(;null!==n&&64===n.type;)n=n.parent;return n}function rn(){return sr.lFrame.currentTNode}function xr(n,i){const s=sr.lFrame;s.currentTNode=n,s.isParent=i}function _i(){return sr.lFrame.isParent}function Ri(){sr.lFrame.isParent=!1}function Oi(){const n=sr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Ls(){return sr.lFrame.bindingIndex++}function wo(n){const i=sr.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Zs(n,i){const s=sr.lFrame;s.bindingIndex=s.bindingRootIndex=n,Pi(i)}function Pi(n){sr.lFrame.currentDirectiveIndex=n}function va(){return sr.lFrame.currentQueryIndex}function Xs(n){sr.lFrame.currentQueryIndex=n}function Qs(n){const i=n[ln];return 2===i.type?i.declTNode:1===i.type?n[Ur]:null}function sa(n,i,s){if(s&nn.SkipSelf){let c=i,p=n;for(;!(c=c.parent,null!==c||s&nn.Host||(c=Qs(p),null===c||(p=p[_t],10&c.type))););if(null===c)return!1;i=c,n=p}const l=sr.lFrame=Bs();return l.currentTNode=i,l.lView=n,!0}function _a(n){const i=Bs(),s=n[ln];sr.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Bs(){const n=sr.lFrame,i=null===n?null:n.child;return null===i?Oa(n):i}function Oa(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function bs(){const n=sr.lFrame;return sr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Cs=bs;function aa(){const n=bs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Hi(){return sr.lFrame.selectedIndex}function eo(n){sr.lFrame.selectedIndex=n}function Pr(){const n=sr.lFrame;return ma(n.tView,n.selectedIndex)}function la(){sr.lFrame.currentNamespace=wi}function Hr(n,i){for(let j=i.directiveStart,J=i.directiveEnd;j<J;j++){const Ye=n.data[j].type.prototype,{ngAfterContentInit:It,ngAfterContentChecked:Yt,ngAfterViewInit:cn,ngAfterViewChecked:Mn,ngOnDestroy:Jn}=Ye;var s,l,c,p,E,M,N;It&&(null!==(s=n.contentHooks)&&void 0!==s?s:n.contentHooks=[]).push(-j,It),Yt&&((null!==(l=n.contentHooks)&&void 0!==l?l:n.contentHooks=[]).push(j,Yt),(null!==(c=n.contentCheckHooks)&&void 0!==c?c:n.contentCheckHooks=[]).push(j,Yt)),cn&&(null!==(p=n.viewHooks)&&void 0!==p?p:n.viewHooks=[]).push(-j,cn),Mn&&((null!==(E=n.viewHooks)&&void 0!==E?E:n.viewHooks=[]).push(j,Mn),(null!==(M=n.viewCheckHooks)&&void 0!==M?M:n.viewCheckHooks=[]).push(j,Mn)),null!=Jn&&(null!==(N=n.destroyHooks)&&void 0!==N?N:n.destroyHooks=[]).push(j,Jn)}}function tl(n,i,s){G(n,i,3,s)}function Ia(n,i,s,l){(3&n[Un])===s&&G(n,i,s,l)}function O(n,i){let s=n[Un];(3&s)===i&&(s&=2047,s+=1,n[Un]=s)}function G(n,i,s,l){const p=null!=l?l:-1,E=i.length-1;let M=0;for(let N=void 0!==l?65535&n[$t]:0;N<E;N++)if("number"==typeof i[N+1]){if(M=i[N],null!=l&&M>=l)break}else i[N]<0&&(n[$t]+=65536),(M<p||-1==p)&&(k(n,s,i,N),n[$t]=(4294901760&n[$t])+N+2),N++}function k(n,i,s,l){const c=s[l]<0,p=s[l+1],M=n[c?-s[l]:s[l]];if(c){if(n[Un]>>11<n[$t]>>16&&(3&n[Un])===i){n[Un]+=2048,si(4,M,p);try{p.call(M)}finally{si(5,M,p)}}}else{si(4,M,p);try{p.call(M)}finally{si(5,M,p)}}}const Y=-1;class _e{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Yr(n,i,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const p=s[l++],E=s[l++],M=s[l++];n.setAttribute(i,E,M,p)}else{const p=c,E=s[++l];hs(p)?n.setProperty(i,p,E):n.setAttribute(i,p,E),l++}}return l}function di(n){return 3===n||4===n||6===n}function hs(n){return 64===n.charCodeAt(0)}function Bo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||fs(n,s,c,null,-1===s||2===s?i[++l]:null)}}return n}function fs(n,i,s,l,c){let p=0,E=n.length;if(-1===i)E=-1;else for(;p<n.length;){const M=n[p++];if("number"==typeof M){if(M===i){E=-1;break}if(M>i){E=p-1;break}}}for(;p<n.length;){const M=n[p];if("number"==typeof M)break;if(M===s){if(null===l)return void(null!==c&&(n[p+1]=c));if(l===n[p+1])return void(n[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==E&&(n.splice(E,0,i),p=E+1),n.splice(p++,0,s),null!==l&&n.splice(p++,0,l),null!==c&&n.splice(p++,0,c)}function zi(n){return n!==Y}function bo(n){return 32767&n}function To(n,i){let s=function Co(n){return n>>16}(n),l=i;for(;s>0;)l=l[_t],s--;return l}let Da=!0;function nl(n){const i=Da;return Da=n,i}const ps=255,Kl=5;let bi=0;const es={};function rl(n,i){const s=Xt(n,i);if(-1!==s)return s;const l=i[ln];l.firstCreatePass&&(n.injectorIndex=i.length,il(l.data,n),il(i,null),il(l.blueprint,null));const c=Ei(n,i),p=n.injectorIndex;if(zi(c)){const E=bo(c),M=To(c,i),N=M[ln].data;for(let j=0;j<8;j++)i[p+j]=M[E+j]|N[E+j]}return i[p+8]=c,p}function il(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Xt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ei(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){if(l=bl(c),null===l)return Y;if(s++,c=c[_t],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return Y}function Br(n,i,s){!function $o(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(qt)&&(l=s[qt]),null==l&&(l=s[qt]=bi++);const c=l&ps;i.data[n+(c>>Kl)]|=1<<c}(n,i,s)}function wn(n,i,s){if(s&nn.Optional||void 0!==n)return n;yt()}function Wn(n,i,s,l){if(s&nn.Optional&&void 0===l&&(l=null),!(s&(nn.Self|nn.Host))){const c=n[Z],p=lr(void 0);try{return c?c.get(i,l,s&nn.Optional):Gr(i,l,s&nn.Optional)}finally{lr(p)}}return wn(l,0,s)}function Dl(n,i,s,l=nn.Default,c){if(null!==n){if(1024&i[Un]){const E=function ol(n,i,s,l,c){let p=n,E=i;for(;null!==p&&null!==E&&1024&E[Un]&&!(256&E[Un]);){const M=Dn(p,E,s,l|nn.Self,es);if(M!==es)return M;let N=p.parent;if(!N){const j=E[An];if(j){const J=j.get(s,es,l);if(J!==es)return J}N=bl(E),E=E[_t]}p=N}return c}(n,i,s,l,es);if(E!==es)return E}const p=Dn(n,i,s,l,es);if(p!==es)return p}return Wn(i,s,l,c)}function Dn(n,i,s,l,c){const p=function ca(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(qt)?n[qt]:void 0;return"number"==typeof i?i>=0?i&ps:su:i}(s);if("function"==typeof p){if(!sa(i,n,l))return l&nn.Host?wn(c,0,l):Wn(i,s,l,c);try{const E=p(l);if(null!=E||l&nn.Optional)return E;yt()}finally{Cs()}}else if("number"==typeof p){let E=null,M=Xt(n,i),N=Y,j=l&nn.Host?i[Ct][Ur]:null;for((-1===M||l&nn.SkipSelf)&&(N=-1===M?Ei(n,i):i[M+8],N!==Y&&Pa(l,!1)?(E=i[ln],M=bo(N),i=To(N,i)):M=-1);-1!==M;){const J=i[ln];if(wl(p,M,J.data)){const ge=Dt(M,i,s,E,l,j);if(ge!==es)return ge}N=i[M+8],N!==Y&&Pa(l,i[ln].data[M+8]===j)&&wl(p,M,i)?(E=J,M=bo(N),i=To(N,i)):M=-1}}return c}function Dt(n,i,s,l,c,p){const E=i[ln],M=E.data[n+8],J=Ut(M,E,s,null==l?Bi(M)&&Da:l!=E&&0!=(3&M.type),c&nn.Host&&p===M);return null!==J?Rr(i,E,J,M):es}function Ut(n,i,s,l,c){const p=n.providerIndexes,E=i.data,M=1048575&p,N=n.directiveStart,J=p>>20,Ye=c?M+J:n.directiveEnd;for(let It=l?M:M+J;It<Ye;It++){const Yt=E[It];if(It<N&&s===Yt||It>=N&&Yt.type===s)return It}if(c){const It=E[N];if(It&&jr(It)&&It.type===s)return N}return null}function Rr(n,i,s,l){let c=n[s];const p=i.data;if(function Rt(n){return n instanceof _e}(c)){const E=c;E.resolving&&function Xe(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new be(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ot(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(p[s]));const M=nl(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?lr(E.injectImpl):null;sa(n,l,nn.Default);try{c=n[s]=E.factory(void 0,p,n,l),i.firstCreatePass&&s>=l.directiveStart&&function el(n,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(l){var E,M;const ge=_o(i);(null!==(E=s.preOrderHooks)&&void 0!==E?E:s.preOrderHooks=[]).push(n,ge),(null!==(M=s.preOrderCheckHooks)&&void 0!==M?M:s.preOrderCheckHooks=[]).push(n,ge)}var N,j,J;c&&(null!==(N=s.preOrderHooks)&&void 0!==N?N:s.preOrderHooks=[]).push(0-n,c),p&&((null!==(j=s.preOrderHooks)&&void 0!==j?j:s.preOrderHooks=[]).push(n,p),(null!==(J=s.preOrderCheckHooks)&&void 0!==J?J:s.preOrderCheckHooks=[]).push(n,p))}(s,p[s],i)}finally{null!==N&&lr(N),nl(M),E.resolving=!1,Cs()}}return c}function wl(n,i,s){return!!(s[i+(n>>Kl)]&1<<n)}function Pa(n,i){return!(n&nn.Self||n&nn.Host&&i)}class Vs{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Dl(this._tNode,this._lView,i,Mt(l),s)}}function su(){return new Vs(nt(),C())}function Zl(n){return ce(()=>{const i=n.prototype.constructor,s=i[Tt]||wa(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const p=c[Tt]||wa(c);if(p&&p!==s)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function wa(n){return Oe(n)?()=>{const i=wa(ae(n));return i&&i()}:Sr(n)}function bl(n){const i=n[ln],s=i.type;return 2===s?i.declTNode:1===s?n[Ur]:null}function uo(n){return function Yl(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const p=s[c];if(di(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(p===i)return s[c+1];c+=2}}}return null}(nt(),n)}const Qn="__parameters__";function kn(n,i,s){return ce(()=>{const l=function Nr(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...p){if(this instanceof c)return l.apply(this,p),this;const E=new c(...p);return M.annotation=E,M;function M(N,j,J){const ge=N.hasOwnProperty(Qn)?N[Qn]:Object.defineProperty(N,Qn,{value:[]})[Qn];for(;ge.length<=J;)ge.push(null);return(ge[J]=ge[J]||[]).push(E),N}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class li{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=gt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function to(n,i){n.forEach(s=>Array.isArray(s)?to(s,i):i(s))}function Al(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Et(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function da(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Uo(n,i,s){let l=D(n,i);return l>=0?n[1|l]=s:(l=~l,function ha(n,i,s,l){let c=n.length;if(c==i)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function js(n,i){const s=D(n,i);if(s>=0)return n[1|s]}function D(n,i){return function y(n,i,s){let l=0,c=n.length>>s;for(;c!==l;){const p=l+(c-l>>1),E=n[p<<s];if(i===E)return p<<s;E>i?c=p:l=p+1}return~(c<<s)}(n,i,1)}const zr=Ue(kn("Optional"),8),no=Ue(kn("SkipSelf"),4);var as=(()=>((as=as||{})[as.Important=1]="Important",as[as.DashCase=2]="DashCase",as))();const Aa=new Map;let ea=0;const dt="__ngContext__";function xt(n,i){Xn(i)?(n[dt]=i[Nn],function Ba(n){Aa.set(n[Nn],n)}(i)):n[dt]=i}let So;function ic(n,i){return So(n,i)}function Va(n){const i=n[Mr];return nr(i)?i[Mr]:i}function $r(n){return Rl(n[$e])}function Jr(n){return Rl(n[pi])}function Rl(n){for(;null!==n&&!nr(n);)n=n[pi];return n}function dl(n,i,s,l,c){if(null!=l){let p,E=!1;nr(l)?p=l:Xn(l)&&(E=!0,l=l[fi]);const M=ai(l);0===n&&null!==s?null==c?sc(i,s,M):ja(i,s,M,c||null,!0):1===n&&null!==s?ja(i,s,M,c||null,!0):2===n?function id(n,i,s){const l=fu(n,i);l&&function nf(n,i,s,l){n.removeChild(i,s,l)}(n,l,i,s)}(i,M,E):3===n&&i.destroyNode(M),null!=p&&function Fp(n,i,s,l,c){const p=s[ze];p!==ai(s)&&dl(i,n,l,p,c);for(let M=Kt;M<s.length;M++){const N=s[M];hl(N[ln],N,n,i,l,p)}}(i,n,p,s,c)}}function nd(n,i,s){return n.createElement(i,s)}function ef(n,i){const s=n[kt],l=s.indexOf(i),c=i[Mr];512&i[Un]&&(i[Un]&=-513,cs(c,-1)),s.splice(l,1)}function Rc(n,i){if(n.length<=Kt)return;const s=Kt+i,l=n[s];if(l){const c=l[Pt];null!==c&&c!==n&&ef(c,l),i>0&&(n[s-1][pi]=l[pi]);const p=Et(n,Kt+i);!function Qh(n,i){hl(n,i,i[Pe],2,null,null),i[fi]=null,i[Ur]=null}(l[ln],l);const E=p[Jt];null!==E&&E.detachView(p[ln]),l[Mr]=null,l[pi]=null,l[Un]&=-65}return l}function tf(n,i){if(!(128&i[Un])){const s=i[Pe];s.destroyNode&&hl(n,i,s,3,null,null),function Cm(n){let i=n[$e];if(!i)return hu(n[ln],n);for(;i;){let s=null;if(Xn(i))s=i[$e];else{const l=i[Kt];l&&(s=l)}if(!s){for(;i&&!i[pi]&&i!==n;)Xn(i)&&hu(i[ln],i),i=i[Mr];null===i&&(i=n),Xn(i)&&hu(i[ln],i),s=i&&i[pi]}i=s}}(i)}}function hu(n,i){if(!(128&i[Un])){i[Un]&=-65,i[Un]|=128,function Jd(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof _e)){const p=s[l+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const M=c[p[E]],N=p[E+1];si(4,M,N);try{N.call(M)}finally{si(5,M,N)}}else{si(4,c,p);try{p.call(c)}finally{si(5,c,p)}}}}}(n,i),function kp(n,i){const s=n.cleanup,l=i[ci];let c=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const E=s[p+3];E>=0?l[c=E]():l[c=-E].unsubscribe(),p+=2}else{const E=l[c=s[p+1]];s[p].call(E)}if(null!==l){for(let p=c+1;p<l.length;p++)(0,l[p])();i[ci]=null}}(n,i),1===i[ln].type&&i[Pe].destroy();const s=i[Pt];if(null!==s&&nr(i[Mr])){s!==i[Mr]&&ef(s,i);const l=i[Jt];null!==l&&l.detachView(n)}!function T(n){Aa.delete(n[Nn])}(i)}}function Ua(n,i,s){return function Oc(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[fi];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:p}=n.data[l.directiveStart+c];if(p===ft.None||p===ft.Emulated)return null}return Vi(l,s)}}(n,i.parent,s)}function ja(n,i,s,l,c){n.insertBefore(i,s,l,c)}function sc(n,i,s){n.appendChild(i,s)}function eh(n,i,s,l,c){null!==l?ja(n,i,s,l,c):sc(n,i,s)}function fu(n,i){return n.parentNode(i)}function rd(n,i,s){return pu(n,i,s)}let gu,pl,wr,ac,pu=function Nc(n,i,s){return 40&n.type?Vi(n,s):null};function Ao(n,i,s,l){const c=Ua(n,l,i),p=i[Pe],M=rd(l.parent||i[Ur],l,i);if(null!=c)if(Array.isArray(s))for(let N=0;N<s.length;N++)eh(p,c,s[N],M,!1);else eh(p,c,s,M,!1);void 0!==gu&&gu(p,l,i,s,c)}function kc(n,i){if(null!==i){const s=i.type;if(3&s)return Vi(i,n);if(4&s)return za(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return kc(n,l);{const c=n[i.index];return nr(c)?za(-1,c):ai(c)}}if(32&s)return ic(i,n)()||ai(n[i.index]);{const l=mu(n,i);return null!==l?Array.isArray(l)?l[0]:kc(Va(n[Ct]),l):kc(n,i.next)}}return null}function mu(n,i){return null!==i?n[Ct][Ur].projection[i.projection]:null}function za(n,i){const s=Kt+n+1;if(s<i.length){const l=i[s],c=l[ln].firstChild;if(null!==c)return kc(l,c)}return i[ze]}function yu(n,i,s,l,c,p,E){for(;null!=s;){const M=l[s.index],N=s.type;if(E&&0===i&&(M&&xt(ai(M),l),s.flags|=2),32!=(32&s.flags))if(8&N)yu(n,i,s.child,l,c,p,!1),dl(i,n,c,M,p);else if(32&N){const j=ic(s,l);let J;for(;J=j();)dl(i,n,c,J,p);dl(i,n,c,M,p)}else 16&N?nh(n,i,l,s,c,p):dl(i,n,c,M,p);s=E?s.projectionNext:s.next}}function hl(n,i,s,l,c,p){yu(s,l,n.firstChild,i,c,p,!1)}function nh(n,i,s,l,c,p){const E=s[Ct],N=E[Ur].projection[l.projection];if(Array.isArray(N))for(let j=0;j<N.length;j++)dl(i,n,c,N[j],p);else yu(n,i,N,E[Mr],c,p,!0)}function zo(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function rh(n,i,s){const{mergedAttrs:l,classes:c,styles:p}=s;null!==l&&Yr(n,i,l),null!==c&&zo(n,i,c),null!==p&&function Lp(n,i,s){n.setAttribute(i,"style",s)}(n,i,p)}function As(n){var i;return(null===(i=function od(){if(void 0===pl&&(pl=null,On.trustedTypes))try{pl=On.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pl}())||void 0===i?void 0:i.createHTML(n))||n}function sf(n){wr=n}function oh(n){var i;return(null===(i=function ad(){if(void 0===ac&&(ac=null,On.trustedTypes))try{ac=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ac}())||void 0===i?void 0:i.createScriptURL(n))||n}class lc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class ld extends lc{getTypeName(){return"HTML"}}class Pl extends lc{getTypeName(){return"Style"}}class cc extends lc{getTypeName(){return"Script"}}class sh extends lc{getTypeName(){return"URL"}}class uc extends lc{getTypeName(){return"ResourceURL"}}function ls(n){return n instanceof lc?n.changingThisBreaksApplicationSecurity:n}function fa(n,i){const s=function af(n){return n instanceof lc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${mt})`)}return s===i}function lf(n){return new ld(n)}function _u(n){return new Pl(n)}function cf(n){return new cc(n)}function zs(n){return new sh(n)}function Li(n){return new uc(n)}class cd{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(As(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ga{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=As(i),s}}const Fc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Iu(n){return(n=String(n)).match(Fc)?n:"unsafe:"+n}function Wa(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function pa(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const qa=Wa("area,br,col,hr,img,wbr"),ah=Wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=Wa("rp,rt"),f=pa(qa,pa(ah,Wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pa(lh,Wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pa(lh,ah)),w=Wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ge=pa(w,Wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lt=Wa("script,style,template");class Bt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!f.hasOwnProperty(s))return this.sanitizedSomething=!0,!lt.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),E=p.name,M=E.toLowerCase();if(!Ge.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let N=p.value;w[M]&&(N=Iu(N)),this.buf.push(" ",E,'="',Ln(N),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();f.hasOwnProperty(s)&&!qa.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Ln(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const mn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fn=/([^\#-~ |!])/g;function Ln(n){return n.replace(/&/g,"&amp;").replace(mn,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Fn,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ii;function ta(n,i){let s=null;try{Ii=Ii||function dc(n){const i=new Ga(n);return function Eu(){try{return!!(new window.DOMParser).parseFromString(As(""),"text/html")}catch{return!1}}()?new cd(i):i}(n);let l=i?String(i):"";s=Ii.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=s.innerHTML,s=Ii.getInertBodyElement(l)}while(l!==p);return As((new Bt).sanitizeChildren(Lc(s)||s))}finally{if(s){const l=Lc(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Lc(n){return"content"in n&&function ch(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Gi=(()=>((Gi=Gi||{})[Gi.NONE=0]="NONE",Gi[Gi.HTML=1]="HTML",Gi[Gi.STYLE=2]="STYLE",Gi[Gi.SCRIPT=3]="SCRIPT",Gi[Gi.URL=4]="URL",Gi[Gi.RESOURCE_URL=5]="RESOURCE_URL",Gi))();function ml(n){const i=dh();return i?i.sanitize(Gi.URL,n)||"":fa(n,"URL")?ls(n):Iu(te(n))}function hc(n){const i=dh();if(i)return oh(i.sanitize(Gi.RESOURCE_URL,n)||"");if(fa(n,"ResourceURL"))return oh(ls(n));throw new be(904,!1)}function hd(n,i,s){return function uf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?hc:ml}(i,s)(n)}function dh(){const n=C();return n&&n[ie]}const Up=new li("ENVIRONMENT_INITIALIZER"),Tm=new li("INJECTOR",-1),Sm=new li("INJECTOR_DEF_TYPES");class df{get(i,s=zt){if(s===zt){const l=new Error(`NullInjectorError: No provider for ${xe(i)}!`);throw l.name="NullInjectorError",l}return s}}function fd(n){return{\u0275providers:n}}function Am(...n){return{\u0275providers:Mm(0,n),\u0275fromNgModule:!0}}function Mm(n,...i){const s=[],l=new Set;let c;return to(i,p=>{const E=p;hh(E,s,[],l)&&(c||(c=[]),c.push(E))}),void 0!==c&&Mo(c,s),s}function Mo(n,i){for(let s=0;s<n.length;s++){const{providers:c}=n[s];wu(c,p=>{i.push(p)})}}function hh(n,i,s,l){if(!(n=ae(n)))return!1;let c=null,p=Wt(n);const E=!p&&En(n);if(p||E){if(E&&!E.standalone)return!1;c=n}else{const N=n.ngModule;if(p=Wt(N),!p)return!1;c=N}const M=l.has(c);if(E){if(M)return!1;if(l.add(c),E.dependencies){const N="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const j of N)hh(j,i,s,l)}}else{if(!p)return!1;{if(null!=p.imports&&!M){let j;l.add(c);try{to(p.imports,J=>{hh(J,i,s,l)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&Mo(j,i)}if(!M){const j=Sr(c)||(()=>new c);i.push({provide:c,useFactory:j,deps:Gt},{provide:Sm,useValue:c,multi:!0},{provide:Up,useValue:()=>rr(c),multi:!0})}const N=p.providers;null==N||M||wu(N,J=>{i.push(J)})}}return c!==n&&void 0!==n.providers}function wu(n,i){for(let s of n)me(s)&&(s=s.\u0275providers),Array.isArray(s)?wu(s,i):i(s)}const Nl=we({provide:String,useValue:we});function fh(n){return null!==n&&"object"==typeof n&&Nl in n}function $c(n){return"function"==typeof n}const hf=new li("Set Injector scope."),ff={},xv={};let bu;function gd(){return void 0===bu&&(bu=new df),bu}class Cu{}class Hp extends Cu{get destroyed(){return this._destroyed}constructor(i,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uc(i,E=>this.processProvider(E)),this.records.set(Tm,md(void 0,this)),c.has("environment")&&this.records.set(Cu,md(void 0,this));const p=this.records.get(hf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Sm.multi,Gt,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=qn(this),l=lr(void 0);try{return i()}finally{qn(s),lr(l)}}get(i,s=zt,l=nn.Default){this.assertNotDestroyed(),l=Mt(l);const c=qn(this),p=lr(void 0);try{if(!(l&nn.SkipSelf)){let M=this.records.get(i);if(void 0===M){const N=function Vc(n){return"function"==typeof n||"object"==typeof n&&n instanceof li}(i)&&Zt(i);M=N&&this.injectableDefInScope(N)?md(ph(i),ff):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(l&nn.Self?gd():this.parent).get(i,s=l&nn.Optional&&s===zt?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[cr]=E[cr]||[]).unshift(xe(i)),c)throw E;return function Ot(n,i,s,l){const c=n[cr];throw i[vr]&&c.unshift(i[vr]),n.message=function ue(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Wr?n.slice(2):n;let c=xe(i);if(Array.isArray(i))c=i.map(xe).join(" -> ");else if("object"==typeof i){let p=[];for(let E in i)if(i.hasOwnProperty(E)){let M=i[E];p.push(E+":"+("string"==typeof M?JSON.stringify(M):xe(M)))}c=`{${p.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(Ar,"\n  ")}`}("\n"+n.message,c,s,l),n[Lr]=c,n[cr]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{lr(p),qn(c)}}resolveInjectorInitializers(){const i=qn(this),s=lr(void 0);try{const l=this.get(Up.multi,Gt,nn.Self);for(const c of l)c()}finally{qn(i),lr(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(xe(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(i){let s=$c(i=ae(i))?i:ae(i&&i.provide);const l=function Rv(n){return fh(n)?md(void 0,n.useValue):md(zp(n),ff)}(i);if($c(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=md(void 0,ff,!0),c.factory=()=>Le(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===ff&&(s.value=xv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Pv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ae(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function ph(n){const i=Zt(n),s=null!==i?i.factory:Sr(n);if(null!==s)return s;if(n instanceof li)throw new be(204,!1);if(n instanceof Function)return function Rm(n){const i=n.length;if(i>0)throw da(i,"?"),new be(204,!1);const s=function un(n){return n&&(n[_n]||n[ir])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new be(204,!1)}function zp(n,i,s){let l;if($c(n)){const c=ae(n);return Sr(c)||ph(c)}if(fh(n))l=()=>ae(n.useValue);else if(function pd(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Le(n.deps||[]));else if(function jp(n){return!(!n||!n.useExisting)}(n))l=()=>rr(ae(n.useExisting));else{const c=ae(n&&(n.useClass||n.provide));if(!function Ov(n){return!!n.deps}(n))return Sr(c)||ph(c);l=()=>new c(...Le(n.deps))}return l}function md(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Uc(n,i){for(const s of n)Array.isArray(s)?Uc(s,i):s&&me(s)?Uc(s.\u0275providers,i):i(s)}class Om{}class Pm{}class kv{resolveComponentFactory(i){throw function Nm(n){const i=Error(`No component factory found for ${xe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let yd=(()=>{class n{}return n.NULL=new kv,n})();function pf(){return Ka(nt(),C())}function Ka(n,i){return new yl(Vi(n,i))}let yl=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=pf,n})();function Tu(n){return n instanceof yl?n.nativeElement:n}class vd{}let km=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Gp(){const n=C(),s=vi(nt().index,n);return(Xn(s)?s:n)[Pe]}(),n})(),Wp=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>null}),n})();class qp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Kp=new qp("15.2.9"),Yp={},gf="ngOriginalError";function _d(n){return n[gf]}class fc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&_d(i);for(;s&&_d(s);)s=_d(s);return s||null}}function Gs(n){return n instanceof Function?n():n}function Zp(n,i,s){let l=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=i.length;if(c+p===l||n.charCodeAt(c+p)<=32)return c}s=c+1}}const yf="ng-template";function Xp(n,i,s){let l=0,c=!0;for(;l<n.length;){let p=n[l++];if("string"==typeof p&&c){const E=n[l++];if(s&&"class"===p&&-1!==Zp(E.toLowerCase(),i,0))return!0}else{if(1===p){for(;l<n.length&&"string"==typeof(p=n[l++]);)if(p.toLowerCase()===i)return!0;return!1}"number"==typeof p&&(c=!1)}}return!1}function Qp(n){return 4===n.type&&n.value!==yf}function vf(n,i,s){return i===(4!==n.type||s?n.value:yf)}function jv(n,i,s){let l=4;const c=n.attrs||[],p=function mh(n){for(let i=0;i<n.length;i++)if(di(n[i]))return i;return n.length}(c);let E=!1;for(let M=0;M<i.length;M++){const N=i[M];if("number"!=typeof N){if(!E)if(4&l){if(l=2|1&l,""!==N&&!vf(n,N,s)||""===N&&1===i.length){if(Ma(l))return!1;E=!0}}else{const j=8&l?N:i[++M];if(8&l&&null!==n.attrs){if(!Xp(n.attrs,j,s)){if(Ma(l))return!1;E=!0}continue}const ge=_f(8&l?"class":N,c,Qp(n),s);if(-1===ge){if(Ma(l))return!1;E=!0;continue}if(""!==j){let Ye;Ye=ge>p?"":c[ge+1].toLowerCase();const It=8&l?Ye:null;if(It&&-1!==Zp(It,j,0)||2&l&&j!==Ye){if(Ma(l))return!1;E=!0}}}}else{if(!E&&!Ma(l)&&!Ma(N))return!1;if(E&&Ma(N))continue;E=!1,l=N|1&l}}return Ma(l)||E}function Ma(n){return 0==(1&n)}function _f(n,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let p=!1;for(;c<i.length;){const E=i[c];if(E===n)return c;if(3===E||6===E)p=!0;else{if(1===E||2===E){let M=i[++c];for(;"string"==typeof M;)M=i[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=p?1:2}return-1}return function Ef(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function Vm(n,i,s=!1){for(let l=0;l<i.length;l++)if(jv(n,i[l],s))return!0;return!1}function yh(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function Jp(n,i){return n?":not("+i.trim()+")":i}function jm(n){let i=n[0],s=1,l=2,c="",p=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&l){const M=n[++s];c+="["+E+(M.length>0?'="'+M+'"':"")+"]"}else 8&l?c+="."+E:4&l&&(c+=" "+E);else""!==c&&!Ma(E)&&(i+=Jp(p,c),c=""),l=E,p=p||!Ma(l);s++}return""!==c&&(i+=Jp(p,c)),i}const Cr={};function vh(n){eg(x(),C(),Hi()+n,!1)}function eg(n,i,s,l){if(!l)if(3==(3&i[Un])){const p=n.preOrderCheckHooks;null!==p&&tl(i,p,s)}else{const p=n.preOrderHooks;null!==p&&Ia(i,p,0,s)}eo(s)}function Wm(n,i=null,s=null,l){const c=tg(n,i,s,l);return c.resolveInjectorInitializers(),c}function tg(n,i=null,s=null,l,c=new Set){const p=[s||Gt,Am(n)];return l=l||("object"==typeof n?void 0:xe(n)),new Hp(p,i||gd(),l||null,c)}let Mu=(()=>{class n{static create(s,l){if(Array.isArray(s))return Wm({name:""},l,s,"");{var c;const p=null!==(c=s.name)&&void 0!==c?c:"";return Wm({name:p},s.parent,s.providers,p)}}}return n.THROW_IF_NOT_FOUND=zt,n.NULL=new df,n.\u0275prov=gt({token:n,providedIn:"any",factory:()=>rr(Tm)}),n.__NG_ELEMENT_ID__=-1,n})();function gc(n,i=nn.Default){const s=C();return null===s?rr(n,i):Dl(nt(),s,ae(n),i)}function Tf(){throw new Error("invalid")}function ag(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const p=s[l+1];if(-1!==p){const E=n.data[p];Xs(s[l]),E.contentQueries(2,i[p],p)}}}function Dh(n,i,s,l,c,p,E,M,N,j,J){const ge=i.blueprint.slice();return ge[fi]=c,ge[Un]=76|l,(null!==J||n&&1024&n[Un])&&(ge[Un]|=1024),Zo(ge),ge[Mr]=ge[_t]=n,ge[Er]=s,ge[de]=E||n&&n[de],ge[Pe]=M||n&&n[Pe],ge[ie]=N||n&&n[ie]||null,ge[Z]=j||n&&n[Z]||null,ge[Ur]=p,ge[Nn]=function rc(){return ea++}(),ge[An]=J,ge[Ct]=2==i.type?n[Ct]:ge,ge}function Gc(n,i,s,l,c){let p=n.data[i];if(null===p)p=function lg(n,i,s,l,c){const p=rn(),E=_i(),N=n.data[i]=function ug(n,i,s,l,c,p){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,s,i,l,c);return null===n.firstChild&&(n.firstChild=N),null!==p&&(E?null==p.child&&null!==N.parent&&(p.child=N):null===p.next&&(p.next=N,N.prev=p)),N}(n,i,s,l,c),function ya(){return sr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=s,p.value=l,p.attrs=c;const E=function hr(){const n=sr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return xr(p,!0),p}function Dd(n,i,s,l){if(0===s)return-1;const c=i.length;for(let p=0;p<s;p++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function cg(n,i,s){_a(i);try{const l=n.viewQuery;null!==l&&Ru(1,l,s);const c=n.template;null!==c&&Qm(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ag(n,i),n.staticViewQueries&&Ru(2,n.viewQuery,s);const p=n.components;null!==p&&function Xm(n,i){for(let s=0;s<i.length;s++)a_(n,i[s])}(i,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[Un]&=-5,aa()}}function wh(n,i,s,l){const c=i[Un];if(128!=(128&c)){_a(i);try{Zo(i),function Do(n){return sr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Qm(n,i,s,2,l);const E=3==(3&c);if(E){const j=n.preOrderCheckHooks;null!==j&&tl(i,j,null)}else{const j=n.preOrderHooks;null!==j&&Ia(i,j,0,null),O(i,0)}if(function s_(n){for(let i=$r(n);null!==i;i=Jr(i)){if(!i[et])continue;const s=i[kt];for(let l=0;l<s.length;l++){const c=s[l];512&c[Un]||cs(c[Mr],1),c[Un]|=512}}}(i),function o_(n){for(let i=$r(n);null!==i;i=Jr(i))for(let s=Kt;s<i.length;s++){const l=i[s],c=l[ln];ui(l)&&wh(c,l,c.template,l[Er])}}(i),null!==n.contentQueries&&ag(n,i),E){const j=n.contentCheckHooks;null!==j&&tl(i,j)}else{const j=n.contentHooks;null!==j&&Ia(i,j,1),O(i,1)}!function sg(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)eo(~c);else{const p=c,E=s[++l],M=s[++l];Zs(E,p),M(2,i[p])}}}finally{eo(-1)}}(n,i);const M=n.components;null!==M&&function e_(n,i){for(let s=0;s<i.length;s++)mg(n,i[s])}(i,M);const N=n.viewQuery;if(null!==N&&Ru(2,N,l),E){const j=n.viewCheckHooks;null!==j&&tl(i,j)}else{const j=n.viewHooks;null!==j&&Ia(i,j,2),O(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Un]&=-41,512&i[Un]&&(i[Un]&=-513,cs(i[Mr],-1))}finally{aa()}}}function Qm(n,i,s,l,c){const p=Hi(),E=2&l;try{eo(-1),E&&i.length>Zn&&eg(n,i,Zn,!1),si(E?2:0,c),s(l,c)}finally{eo(p),si(E?3:1,c)}}function Wc(n,i,s){if(Tr(i)){const c=i.directiveEnd;for(let p=i.directiveStart;p<c;p++){const E=n.data[p];E.contentQueries&&E.contentQueries(1,s[p],p)}}}function qc(n,i,s){I()&&(function t_(n,i,s,l){const c=s.directiveStart,p=s.directiveEnd;Bi(s)&&function Of(n,i,s){const l=Vi(i,n),c=Ch(s),p=n[de],E=wd(n,Dh(n,c,null,s.onPush?32:16,l,i,p,p.createRenderer(l,s),null,null,null));n[i.index]=E}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||rl(s,i),xt(l,i);const E=s.initialInputs;for(let M=c;M<p;M++){const N=n.data[M],j=Rr(i,n,M,s);xt(j,i),null!==E&&ay(0,M-c,j,N,0,E),jr(N)&&(vi(s.index,i)[Er]=Rr(i,n,M,s))}}(n,i,s,Vi(s,i)),64==(64&s.flags)&&fg(n,i,s))}function bh(n,i,s=Vi){const l=i.localNames;if(null!==l){let c=i.index+1;for(let p=0;p<l.length;p+=2){const E=l[p+1],M=-1===E?s(i,n):n[E];n[c++]=M}}}function Ch(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Sf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Sf(n,i,s,l,c,p,E,M,N,j){const J=Zn+l,ge=J+c,Ye=function Jm(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Cr);return s}(J,ge),It="function"==typeof j?j():j;return Ye[ln]={type:n,blueprint:Ye,template:s,queries:null,viewQuery:M,declTNode:i,data:Ye.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:It,incompleteFirstPass:!1}}function ty(n,i,s,l){const c=_g(i);null===s?c.push(l):(c.push(s),n.firstCreatePass&&Pf(n).push(l,c.length-1))}function ny(n,i,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const p=n[c];null===l?Af(s,i,c,p):l.hasOwnProperty(c)&&Af(s,i,l[c],p)}return s}function Af(n,i,s,l){n.hasOwnProperty(s)?n[s].push(i,l):n[s]=[i,l]}function na(n,i,s,l,c,p,E,M){const N=Vi(i,s);let J,j=i.inputs;!M&&null!=j&&(J=j[l])?(kf(n,s,J,l,c),Bi(i)&&function Mf(n,i){const s=vi(i,n);16&s[Un]||(s[Un]|=32)}(s,i.index)):3&i.type&&(l=function iy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=E?E(c,i.value||"",l):c,p.setProperty(N,l,c))}function Sh(n,i,s,l){if(I()){const c=null===l?null:{"":-1},p=function pg(n,i){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let E=0;E<s.length;E++){const M=s[E];if(Vm(i,M.selectors,!1))if(l||(l=[]),jr(M))if(null!==M.findHostDirectiveDefs){const N=[];c=c||new Map,M.findHostDirectiveDefs(M,N,c),l.unshift(...N,M),gg(n,i,N.length)}else l.unshift(M),gg(n,i,0);else{var p;c=c||new Map,null===(p=M.findHostDirectiveDefs)||void 0===p||p.call(M,M,l,c),l.push(M)}}return null===l?null:[l,c]}(n,s);let E,M;null===p?E=M=null:[E,M]=p,null!==E&&xf(n,i,s,E,c,M),c&&function n_(n,i,s){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const p=s[i[c+1]];if(null==p)throw new be(-301,!1);l.push(i[c],p)}}}(s,l,c)}s.mergedAttrs=Bo(s.mergedAttrs,s.attrs)}function xf(n,i,s,l,c,p){for(let ge=0;ge<l.length;ge++)Br(rl(s,i),n,l[ge].type);!function r_(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,l.length);for(let ge=0;ge<l.length;ge++){const Ye=l[ge];Ye.providersResolver&&Ye.providersResolver(Ye)}let E=!1,M=!1,N=Dd(n,i,l.length,null);for(let ge=0;ge<l.length;ge++){const Ye=l[ge];s.mergedAttrs=Bo(s.mergedAttrs,Ye.hostAttrs),sy(n,s,i,N,Ye),qs(N,Ye,c),null!==Ye.contentQueries&&(s.flags|=4),(null!==Ye.hostBindings||null!==Ye.hostAttrs||0!==Ye.hostVars)&&(s.flags|=64);const It=Ye.type.prototype;var j,J;!E&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((null!==(j=n.preOrderHooks)&&void 0!==j?j:n.preOrderHooks=[]).push(s.index),E=!0),M||!It.ngOnChanges&&!It.ngDoCheck||((null!==(J=n.preOrderCheckHooks)&&void 0!==J?J:n.preOrderCheckHooks=[]).push(s.index),M=!0),N++}!function ry(n,i,s){const c=i.directiveEnd,p=n.data,E=i.attrs,M=[];let N=null,j=null;for(let J=i.directiveStart;J<c;J++){const ge=p[J],Ye=s?s.get(ge):null,Yt=Ye?Ye.outputs:null;N=ny(ge.inputs,J,N,Ye?Ye.inputs:null),j=ny(ge.outputs,J,j,Yt);const cn=null===N||null===E||Qp(i)?null:i_(N,J,E);M.push(cn)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=M,i.inputs=N,i.outputs=j}(n,s,p)}function fg(n,i,s){const l=s.directiveStart,c=s.directiveEnd,p=s.index,E=function Wl(){return sr.lFrame.currentDirectiveIndex}();try{eo(p);for(let M=l;M<c;M++){const N=n.data[M],j=i[M];Pi(M),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Rf(N,j)}}finally{eo(-1),Pi(E)}}function Rf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function gg(n,i,s){var l;i.componentOffset=s,(null!==(l=n.components)&&void 0!==l?l:n.components=[]).push(i.index)}function qs(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;jr(i)&&(s[""]=n)}}function sy(n,i,s,l,c){n.data[l]=c;const p=c.factory||(c.factory=Sr(c.type)),E=new _e(p,jr(c),gc);n.blueprint[l]=E,s[l]=E,function hg(n,i,s,l,c){const p=c.hostBindings;if(p){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const M=~i.index;(function oy(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=M&&E.push(M),E.push(s,l,p)}}(n,i,l,Dd(n,s,c.hostVars,Cr),c)}function ga(n,i,s,l,c,p){const E=Vi(n,i);!function Ah(n,i,s,l,c,p,E){if(null==p)n.removeAttribute(i,c,s);else{const M=null==E?te(p):E(p,l||"",c);n.setAttribute(i,c,M,s)}}(i[Pe],E,p,n.value,s,l,c)}function ay(n,i,s,l,c,p){const E=p[i];if(null!==E){const M=l.setInput;for(let N=0;N<E.length;){const j=E[N++],J=E[N++],ge=E[N++];null!==M?l.setInput(s,ge,j,J):s[J]=ge}}}function i_(n,i,s){let l=null,c=0;for(;c<s.length;){const p=s[c];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===l&&(l=[]);const E=n[p];for(let M=0;M<E.length;M+=2)if(E[M]===i){l.push(p,E[M+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function ly(n,i,s,l){return[n,!0,!1,i,null,0,l,s,null,null]}function mg(n,i){const s=vi(i,n);if(ui(s)){const l=s[ln];48&s[Un]?wh(l,s,l.template,s[Er]):s[ur]>0&&yg(s)}}function yg(n){for(let l=$r(n);null!==l;l=Jr(l))for(let c=Kt;c<l.length;c++){const p=l[c];if(ui(p))if(512&p[Un]){const E=p[ln];wh(E,p,E.template,p[Er])}else p[ur]>0&&yg(p)}const s=n[ln].components;if(null!==s)for(let l=0;l<s.length;l++){const c=vi(s[l],n);ui(c)&&c[ur]>0&&yg(c)}}function a_(n,i){const s=vi(i,n),l=s[ln];(function Mh(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),cg(l,s,s[Er])}function wd(n,i){return n[$e]?n[Fe][pi]=i:n[$e]=i,n[Fe]=i,i}function mc(n){for(;n;){n[Un]|=32;const i=Va(n);if(so(n)&&!i)return n;n=i}return null}function bd(n,i,s,l=!0){const c=i[de];c.begin&&c.begin();try{wh(n,i,n.template,s)}catch(E){throw l&&yc(i,E),E}finally{c.end&&c.end()}}function Ru(n,i,s){Xs(0),i(n,s)}function _g(n){return n[ci]||(n[ci]=[])}function Pf(n){return n.cleanup||(n.cleanup=[])}function yc(n,i){const s=n[Z],l=s?s.get(fc,null):null;l&&l.handleError(i)}function kf(n,i,s,l,c){for(let p=0;p<s.length;){const E=s[p++],M=s[p++],N=i[E],j=n.data[E];null!==j.setInput?j.setInput(N,c,l,M):N[M]=c}}function vc(n,i,s){const l=ko(i,n);!function Zd(n,i,s){n.setValue(i,s)}(n[Pe],l,s)}function Cd(n,i,s){let l=s?n.styles:null,c=s?n.classes:null,p=0;if(null!==i)for(let E=0;E<i.length;E++){const M=i[E];"number"==typeof M?p=M:1==p?c=Re(c,M):2==p&&(l=Re(l,M+": "+i[++E]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function Ff(n,i,s,l,c=!1){for(;null!==s;){const p=i[s.index];if(null!==p&&l.push(ai(p)),nr(p))for(let M=Kt;M<p.length;M++){const N=p[M],j=N[ln].firstChild;null!==j&&Ff(N[ln],N,j,l)}const E=s.type;if(8&E)Ff(n,i,s.child,l);else if(32&E){const M=ic(s,i);let N;for(;N=M();)l.push(N)}else if(16&E){const M=mu(i,s);if(Array.isArray(M))l.push(...M);else{const N=Va(i[Ct]);Ff(N[ln],N,M,l,!0)}}s=c?s.projectionNext:s.next}return l}class Ou{get rootNodes(){const i=this._lView,s=i[ln];return Ff(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Er]}set context(i){this._lView[Er]=i}get destroyed(){return 128==(128&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Mr];if(nr(i)){const s=i[ut],l=s?s.indexOf(this):-1;l>-1&&(Rc(i,l),Et(s,l))}this._attachedToViewContainer=!1}tf(this._lView[ln],this._lView)}onDestroy(i){ty(this._lView[ln],this._lView,null,i)}markForCheck(){mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-65}reattach(){this._lView[Un]|=64}detectChanges(){bd(this._lView[ln],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Np(n,i){hl(n,i,i[Pe],2,null,null)}(this._lView[ln],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=i}}class l_ extends Ou{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;bd(i[ln],i,i[Er],!1)}checkNoChanges(){}get context(){return null}}class Lf extends yd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=En(i);return new Fl(s,this.ngModule)}}function xh(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class uy{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=Mt(l);const c=this.injector.get(i,Yp,l);return c!==Yp||s===Yp?c:this.parentInjector.get(i,s,l)}}class Fl extends Pm{get inputs(){return xh(this.componentDef.inputs)}get outputs(){return xh(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Ws(n){return n.map(jm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,c){var p;let E=(c=c||this.ngModule)instanceof Cu?c:null===(p=c)||void 0===p?void 0:p.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const M=E?new uy(i,E):i,N=M.get(vd,null);if(null===N)throw new be(407,!1);const j=M.get(Wp,null),J=N.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Ye=l?function ey(n,i,s){return n.selectRootElement(i,s===ft.ShadowDom)}(J,l,this.componentDef.encapsulation):nd(J,ge,function Eg(n){const i=n.toLowerCase();return"svg"===i?wi:"math"===i?"math":null}(ge)),It=this.componentDef.onPush?288:272,Yt=Sf(0,null,null,1,0,null,null,null,null,null),cn=Dh(null,Yt,null,It,null,null,N,J,j,M,null);let Mn,Jn;_a(cn);try{const mr=this.componentDef;let tn,Or=null;mr.findHostDirectiveDefs?(tn=[],Or=new Map,mr.findHostDirectiveDefs(mr,tn,Or),tn.push(mr)):tn=[mr];const Xi=function c_(n,i){const s=n[ln],l=Zn;return n[l]=i,Gc(s,l,2,"#host",null)}(cn,Ye),Wo=function dy(n,i,s,l,c,p,E,M){const N=c[ln];!function hy(n,i,s,l){for(const c of n)i.mergedAttrs=Bo(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Cd(i,i.mergedAttrs,!0),null!==s&&rh(l,s,i))}(l,n,i,E);const j=p.createRenderer(i,s),J=Dh(c,Ch(s),null,s.onPush?32:16,c[n.index],n,p,j,M||null,null,null);return N.firstCreatePass&&gg(N,n,l.length-1),wd(c,J),c[n.index]=J}(Xi,Ye,mr,tn,cn,N,J);Jn=ma(Yt,Zn),Ye&&function Dg(n,i,s,l){if(l)Yr(n,s,["ng-version",Kp.full]);else{const{attrs:c,classes:p}=function Hm(n){const i=[],s=[];let l=1,c=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===c?""!==p&&i.push(p,n[++l]):8===c&&s.push(p);else{if(!Ma(c))break;c=p}l++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Yr(n,s,c),p&&p.length>0&&zo(n,s,p.join(" "))}}(J,mr,Ye,l),void 0!==s&&function d_(n,i,s){const l=n.projection=[];for(let c=0;c<i.length;c++){const p=s[c];l.push(null!=p?Array.from(p):null)}}(Jn,this.ngContentSelectors,s),Mn=function u_(n,i,s,l,c,p){const E=nt(),M=c[ln],N=Vi(E,c);xf(M,c,E,s,null,l);for(let J=0;J<s.length;J++)xt(Rr(c,M,E.directiveStart+J,E),c);fg(M,c,E),N&&xt(N,c);const j=Rr(c,M,E.directiveStart+E.componentOffset,E);if(n[Er]=c[Er]=j,null!==p)for(const J of p)J(j,i);return Wc(M,E,n),j}(Wo,mr,tn,Or,cn,[wg]),cg(Yt,cn,null)}finally{aa()}return new Ig(this.componentType,Mn,Ka(Jn,cn),cn,Jn)}}class Ig extends Om{constructor(i,s,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new l_(c),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){const p=this._rootLView;kf(p[ln],p,c,i,s),mc(vi(this._tNode.index,p))}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function wg(){const n=nt();Hr(C()[ln],n)}function Rh(n){let i=function fy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let c;if(jr(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new be(903,!1);c=i.\u0275dir}if(c){if(s){l.push(c);const E=n;E.inputs=Oh(n.inputs),E.declaredInputs=Oh(n.declaredInputs),E.outputs=Oh(n.outputs);const M=c.hostBindings;M&&Cg(n,M);const N=c.viewQuery,j=c.contentQueries;if(N&&py(n,N),j&&bg(n,j),le(n.inputs,c.inputs),le(n.declaredInputs,c.declaredInputs),le(n.outputs,c.outputs),jr(c)&&c.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let E=0;E<p.length;E++){const M=p[E];M&&M.ngInherit&&M(n),M===Rh&&(s=!1)}}i=Object.getPrototypeOf(i)}!function h_(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Bo(c.hostAttrs,s=Bo(s,c.hostAttrs))}}(l)}function Oh(n){return n===tt?{}:n===Gt?[]:n}function py(n,i){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function bg(n,i){const s=n.contentQueries;n.contentQueries=s?(l,c,p)=>{i(l,c,p),s(l,c,p)}:i}function Cg(n,i){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}function Sd(n){return!!Nh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Nh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ll(n,i,s){return n[i]=s}function vs(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Fu(n,i,s,l){const c=vs(n,i,s);return vs(n,i+1,l)||c}function Bf(n,i,s,l){const c=C();return vs(c,Ls(),i)&&(x(),ga(Pr(),c,n,i,s,l)),Bf}function Bu(n,i,s,l){return vs(n,Ls(),s)?i+te(s)+l:Cr}function $u(n,i,s,l,c,p){const M=Fu(n,function Io(){return sr.lFrame.bindingIndex}(),s,c);return wo(2),M?i+te(s)+l+te(c)+p:Cr}function Hf(n,i,s,l,c,p,E,M){const N=C(),j=x(),J=n+Zn,ge=j.firstCreatePass?function p_(n,i,s,l,c,p,E,M,N){const j=i.consts,J=Gc(i,n,4,E||null,co(j,M));Sh(i,s,J,co(j,N)),Hr(i,J);const ge=J.tView=Sf(2,J,l,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,J),ge.queries=i.queries.embeddedTView(J)),J}(J,j,N,i,s,l,c,p,E):j.data[J];xr(ge,!1);const Ye=N[Pe].createComment("");Ao(j,N,Ye,ge),xt(Ye,N),wd(N,N[J]=ly(Ye,N,Ye,ge)),Ro(ge)&&qc(j,N,ge),null!=E&&bh(N,ge,M)}function Ng(n,i,s){const l=C();return vs(l,Ls(),i)&&na(x(),Pr(),l,n,i,l[Pe],s,!1),Ng}function Fh(n,i,s,l,c){const E=c?"class":"style";kf(n,s,i.inputs[E],E,l)}function Od(n,i,s,l){const c=C(),p=x(),E=Zn+n,M=c[Pe],N=p.firstCreatePass?function kg(n,i,s,l,c,p){const E=i.consts,N=Gc(i,n,2,l,co(E,c));return Sh(i,s,N,co(E,p)),null!==N.attrs&&Cd(N,N.attrs,!1),null!==N.mergedAttrs&&Cd(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(E,p,c,i,s,l):p.data[E],j=c[E]=nd(M,i,function Jo(){return sr.lFrame.currentNamespace}()),J=Ro(N);return xr(N,!0),rh(M,j,N),32!=(32&N.flags)&&Ao(p,c,j,N),0===function ds(){return sr.lFrame.elementDepthCount}()&&xt(j,c),function _(){sr.lFrame.elementDepthCount++}(),J&&(qc(p,c,N),Wc(p,N,c)),null!==l&&bh(c,N),Od}function _c(){let n=nt();_i()?Ri():(n=n.parent,xr(n,!1));const i=n;!function U(){sr.lFrame.elementDepthCount--}();const s=x();return s.firstCreatePass&&(Hr(s,n),Tr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Dr(n){return 0!=(8&n.flags)}(i)&&Fh(s,i,C(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function fr(n){return 0!=(16&n.flags)}(i)&&Fh(s,i,C(),i.stylesWithoutHost,!1),_c}function zf(n,i,s,l){return Od(n,i,s,l),_c(),zf}function Gf(n,i,s){const l=C(),c=x(),p=n+Zn,E=c.firstCreatePass?function Fg(n,i,s,l,c){const p=i.consts,E=co(p,l),M=Gc(i,n,8,"ng-container",E);return null!==E&&Cd(M,E,!0),Sh(i,s,M,co(p,c)),null!==i.queries&&i.queries.elementStart(i,M),M}(p,c,l,i,s):c.data[p];xr(E,!0);const M=l[p]=l[Pe].createComment("");return Ao(c,l,M,E),xt(M,l),Ro(E)&&(qc(c,l,E),Wc(c,E,l)),null!=s&&bh(l,E),Gf}function Pd(){let n=nt();const i=x();return _i()?Ri():(n=n.parent,xr(n,!1)),i.firstCreatePass&&(Hr(i,n),Tr(n)&&i.queries.elementEnd(n)),Pd}function vl(n,i,s){return Gf(n,i,s),Pd(),vl}function Wf(){return C()}function Lg(n){return!!n&&"function"==typeof n.then}function qf(n){return!!n&&"function"==typeof n.subscribe}const Ey=qf;function Bg(n,i,s,l){const c=C(),p=x(),E=nt();return function Yf(n,i,s,l,c,p,E){const M=Ro(l),j=n.firstCreatePass&&Pf(n),J=i[Er],ge=_g(i);let Ye=!0;if(3&l.type||E){const cn=Vi(l,i),Mn=E?E(cn):cn,Jn=ge.length,mr=E?Or=>E(ai(Or[l.index])):l.index;let tn=null;if(!E&&M&&(tn=function m_(n,i,s,l){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const E=c[p];if(E===s&&c[p+1]===l){const M=i[ci],N=c[p+2];return M.length>N?M[N]:null}"string"==typeof E&&(p+=2)}return null}(n,i,c,l.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=p,tn.__ngLastListenerFn__=p,Ye=!1;else{p=Zf(l,i,J,p,!1);const Or=s.listen(Mn,c,p);ge.push(p,Or),j&&j.push(c,mr,Jn,Jn+1)}}else p=Zf(l,i,J,p,!1);const It=l.outputs;let Yt;if(Ye&&null!==It&&(Yt=It[c])){const cn=Yt.length;if(cn)for(let Mn=0;Mn<cn;Mn+=2){const Xi=i[Yt[Mn]][Yt[Mn+1]].subscribe(p),Wo=ge.length;ge.push(p,Xi),j&&j.push(c,l.index,Wo,-(Wo+1))}}}(p,c,c[Pe],E,n,i,l),Bg}function Iy(n,i,s,l){try{return si(6,i,s),!1!==s(l)}catch(c){return yc(n,c),!1}finally{si(7,i,s)}}function Zf(n,i,s,l,c){return function p(E){if(E===Function)return l;mc(n.componentOffset>-1?vi(n.index,i):i);let N=Iy(i,s,l,E),j=p.__ngNextListenerFn__;for(;j;)N=Iy(i,s,j,E)&&N,j=j.__ngNextListenerFn__;return c&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function Dy(n=1){return function Ea(n){return(sr.lFrame.contextLView=function $s(n,i){for(;n>0;)i=i[_t],n--;return i}(n,sr.lFrame.contextLView))[Er]}(n)}function $g(n,i){let s=null;const l=function Um(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===l?Vm(n,p,!0):yh(l,p))return c}else s=c}return s}function Vg(n){const i=C()[Ct][Ur];if(!i.projection){const l=i.projection=da(n?n.length:1,null),c=l.slice();let p=i.child;for(;null!==p;){const E=n?$g(p,n):0;null!==E&&(c[E]?c[E].projectionNext=p:l[E]=p,c[E]=p),p=p.next}}}function Xf(n,i=0,s){const l=C(),c=x(),p=Gc(c,Zn+n,16,null,s||null);null===p.projection&&(p.projection=i),Ri(),32!=(32&p.flags)&&function th(n,i,s){nh(i[Pe],0,i,s,Ua(n,s,i),rd(s.parent||i[Ur],s,i))}(c,l,p)}function Qf(n,i,s){return Ug(n,"",i,"",s),Qf}function Ug(n,i,s,l,c){const p=C(),E=Bu(p,i,s,l);return E!==Cr&&na(x(),Pr(),p,n,E,p[Pe],c,!1),Ug}function rp(n,i){return n<<17|i<<2}function Bl(n){return n>>17&32767}function ip(n){return 2|n}function $l(n){return(131068&n)>>2}function jg(n,i){return-131069&n|i<<2}function Hg(n){return 1|n}function op(n,i,s,l,c){const p=n[s+1],E=null===i;let M=l?Bl(p):$l(p),N=!1;for(;0!==M&&(!1===N||E);){const J=n[M+1];Sy(n[M],i)&&(N=!0,n[M+1]=l?Hg(J):ip(J)),M=l?Bl(J):$l(J)}N&&(n[s+1]=l?ip(p):Hg(p))}function Sy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&D(n,i)>=0}function up(n,i){return function Xa(n,i,s,l){const c=C(),p=x(),E=wo(2);p.firstUpdatePass&&function Xg(n,i,s,l){const c=n.data;if(null===c[s+1]){const p=c[Hi()],E=function dp(n,i){return i>=n.expandoStartIndex}(n,s);(function em(n,i){return 0!=(n.flags&(i?8:16))})(p,l)&&null===i&&!E&&(i=!1),i=function Ry(n,i,s,l){const c=function Xo(n){const i=sr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let p=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Ld(s=fp(null,n,i,s,l),i.attrs,l),p=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==c)if(s=fp(c,n,i,s,l),null===p){let N=function Oy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==$l(l))return n[Bl(l)]}(n,i,l);void 0!==N&&Array.isArray(N)&&(N=fp(null,n,i,N[1],l),N=Ld(N,i.attrs,l),function hp(n,i,s,l){n[Bl(s?i.classBindings:i.styleBindings)]=l}(n,i,l,N))}else p=function ei(n,i,s){let l;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)l=Ld(l,n[p].hostAttrs,s);return Ld(l,i.attrs,s)}(n,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),s}(c,p,i,l),function Gg(n,i,s,l,c,p){let E=p?i.classBindings:i.styleBindings,M=Bl(E),N=$l(E);n[l]=s;let J,j=!1;if(Array.isArray(s)?(J=s[1],(null===J||D(s,J)>0)&&(j=!0)):J=s,c)if(0!==N){const Ye=Bl(n[M+1]);n[l+1]=rp(Ye,M),0!==Ye&&(n[Ye+1]=jg(n[Ye+1],l)),n[M+1]=function kd(n,i){return 131071&n|i<<17}(n[M+1],l)}else n[l+1]=rp(M,0),0!==M&&(n[M+1]=jg(n[M+1],l)),M=l;else n[l+1]=rp(N,0),0===M?M=l:n[N+1]=jg(n[N+1],l),N=l;j&&(n[l+1]=ip(n[l+1])),op(n,J,l,!0),op(n,J,l,!1),function Wg(n,i,s,l,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&D(p,i)>=0&&(s[l+1]=Hg(s[l+1]))}(i,J,n,l,p),E=rp(M,N),p?i.classBindings=E:i.styleBindings=E}(c,p,i,s,E,l)}}(p,n,E,l),i!==Cr&&vs(c,E,i)&&function _l(n,i,s,l,c,p,E,M){if(!(3&i.type))return;const N=n.data,j=N[M+1],J=function y_(n){return 1==(1&n)}(j)?Jg(N,i,s,c,$l(j),E):void 0;pp(J)||(pp(p)||function Ty(n){return 2==(2&n)}(j)&&(p=Jg(N,null,s,c,M,E)),function fl(n,i,s,l,c){if(i)c?n.addClass(s,l):n.removeClass(s,l);else{let p=-1===l.indexOf("-")?void 0:as.DashCase;null==c?n.removeStyle(s,l,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=as.Important),n.setStyle(s,l,c,p))}}(l,E,ko(Hi(),s),c,p))}(p,p.data[Hi()],c,c[Pe],n,c[E+1]=function gp(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=xe(ls(n)))),n}(i,s),l,E)}(n,i,null,!0),up}function fp(n,i,s,l,c){let p=null;const E=s.directiveEnd;let M=s.directiveStylingLast;for(-1===M?M=s.directiveStart:M++;M<E&&(p=i[M],l=Ld(l,p.hostAttrs,c),p!==n);)M++;return null!==n&&(s.directiveStylingLast=M),l}function Ld(n,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const E=i[p];"number"==typeof E?c=E:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Uo(n,E,!!s||i[++p]))}return void 0===n?null:n}function Jg(n,i,s,l,c,p){const E=null===i;let M;for(;c>0;){const N=n[c],j=Array.isArray(N),J=j?N[1]:N,ge=null===J;let Ye=s[c+1];Ye===Cr&&(Ye=ge?Gt:void 0);let It=ge?js(Ye,l):J===l?Ye:void 0;if(j&&!pp(It)&&(It=js(N,l)),pp(It)&&(M=It,E))return M;const Yt=n[c+1];c=E?Bl(Yt):$l(Yt)}if(null!==i){let N=p?i.residualClasses:i.residualStyles;null!=N&&(M=js(N,l))}return M}function pp(n){return void 0!==n}function mp(n,i=""){const s=C(),l=x(),c=n+Zn,p=l.firstCreatePass?Gc(l,c,1,i,null):l.data[c],E=s[c]=function du(n,i){return n.createText(i)}(s[Pe],i);Ao(l,s,E,p),xr(p,!1)}function tm(n){return Bd("",n,""),tm}function Bd(n,i,s){const l=C(),c=Bu(l,n,i,s);return c!==Cr&&vc(l,Hi(),c),Bd}function nm(n,i,s,l,c){const p=C(),E=$u(p,n,i,s,l,c);return E!==Cr&&vc(p,Hi(),E),nm}const ju=void 0;var am=["en",[["a","p"],["AM","PM"],ju],[["AM","PM"],ju,ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ju,"{1} 'at' {0}",ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P_(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Qc={};function Ic(n){const i=function Ip(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=_p(i);if(s)return s;const l=i.split("-")[0];if(s=_p(l),s)return s;if("en"===l)return am;throw new be(701,!1)}function lm(n){return Ic(n)[pr.PluralCase]}function _p(n){return n in Qc||(Qc[n]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[n]),Qc[n]}var pr=(()=>((pr=pr||{})[pr.LocaleId=0]="LocaleId",pr[pr.DayPeriodsFormat=1]="DayPeriodsFormat",pr[pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",pr[pr.DaysFormat=3]="DaysFormat",pr[pr.DaysStandalone=4]="DaysStandalone",pr[pr.MonthsFormat=5]="MonthsFormat",pr[pr.MonthsStandalone=6]="MonthsStandalone",pr[pr.Eras=7]="Eras",pr[pr.FirstDayOfWeek=8]="FirstDayOfWeek",pr[pr.WeekendRange=9]="WeekendRange",pr[pr.DateFormat=10]="DateFormat",pr[pr.TimeFormat=11]="TimeFormat",pr[pr.DateTimeFormat=12]="DateTimeFormat",pr[pr.NumberSymbols=13]="NumberSymbols",pr[pr.NumberFormats=14]="NumberFormats",pr[pr.CurrencyCode=15]="CurrencyCode",pr[pr.CurrencySymbol=16]="CurrencySymbol",pr[pr.CurrencyName=17]="CurrencyName",pr[pr.Currencies=18]="Currencies",pr[pr.Directionality=19]="Directionality",pr[pr.PluralCase=20]="PluralCase",pr[pr.ExtraData=21]="ExtraData",pr))();const Hl="en-US";let Dc=Hl;function qu(n,i,s,l,c){if(n=ae(n),Array.isArray(n))for(let p=0;p<n.length;p++)qu(n[p],i,s,l,c);else{const p=x(),E=C();let M=$c(n)?n:ae(n.provide),N=zp(n);const j=nt(),J=1048575&j.providerIndexes,ge=j.directiveStart,Ye=j.providerIndexes>>20;if($c(n)||!n.multi){const It=new _e(N,c,gc),Yt=pm(M,i,c?J:J+Ye,ge);-1===Yt?(Br(rl(j,E),p,M),Wh(p,n,i.length),i.push(M),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(It),E.push(It)):(s[Yt]=It,E[Yt]=It)}else{const It=pm(M,i,J+Ye,ge),Yt=pm(M,i,J,J+Ye),Mn=Yt>=0&&s[Yt];if(c&&!Mn||!c&&!(It>=0&&s[It])){Br(rl(j,E),p,M);const Jn=function cv(n,i,s,l,c){const p=new _e(n,s,gc);return p.multi=[],p.index=i,p.componentProviders=0,av(p,c,l&&!s),p}(c?Ap:lv,s.length,c,l,N);!c&&Mn&&(s[Yt].providerFactory=Jn),Wh(p,n,i.length,0),i.push(M),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(Jn),E.push(Jn)}else Wh(p,n,It>-1?It:Yt,av(s[c?Yt:It],N,!c&&l));!c&&l&&Mn&&s[Yt].componentProviders++}}}function Wh(n,i,s,l){const c=$c(i),p=function xm(n){return!!n.useClass}(i);if(c||p){const N=(p?ae(i.useClass):i).prototype.ngOnDestroy;if(N){const j=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const J=j.indexOf(s);-1===J?j.push(s,[l,N]):j[J+1].push(l,N)}else j.push(s,N)}}}function av(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function pm(n,i,s,l){for(let c=s;c<l;c++)if(i[c]===n)return c;return-1}function lv(n,i,s,l){return gm(this.multi,[])}function Ap(n,i,s,l){const c=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,M=Rr(s,s[ln],this.providerFactory.index,l);p=M.slice(0,E),gm(c,p);for(let N=E;N<M.length;N++)p.push(M[N])}else p=[],gm(c,p);return p}function gm(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function mm(n,i=[]){return s=>{s.providersResolver=(l,c)=>function sv(n,i,s){const l=x();if(l.firstCreatePass){const c=jr(n);qu(s,l.data,l.blueprint,c,!0),qu(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class Ja{}class xa{}function ra(n,i){return new ym(n,null!=i?i:null)}class ym extends Ja{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lf(this);const l=Pn(i);this._bootstrapComponents=Gs(l.bootstrap),this._r3Injector=tg(i,s,[{provide:Ja,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],xe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ku extends xa{constructor(i){super(),this.moduleType=i}create(i){return new ym(this.moduleType,i)}}class qh extends Ja{constructor(i,s,l){super(),this.componentFactoryResolver=new Lf(this),this.instance=null;const c=new Hp([...i,{provide:Ja,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],s||gd(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Rs(n,i,s=null){return new qh(n,i,s).injector}let E0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Mm(0,s.type),c=l.length>0?Rs([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=gt({token:n,providedIn:"environment",factory:()=>new n(rr(Cu))}),n})();function Mp(n){n.getStandaloneInjector=i=>i.get(E0).getOrCreateStandaloneInjector(n)}function Rp(n,i,s){const l=Oi()+n,c=C();return c[l]===Cr?Ll(c,l,s?i.call(s):i()):function ku(n,i){return n[i]}(c,l)}function fv(n,i,s,l){return Im(C(),Oi(),n,i,s,l)}function zd(n,i){const s=n[i];return s===Cr?void 0:s}function Im(n,i,s,l,c,p){const E=i+s;return vs(n,E,c)?Ll(n,E+1,p?l.call(p,c):l(c)):zd(n,E+1)}function o(n,i){const s=x();let l;const c=n+Zn;var p;s.firstCreatePass?(l=function a(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(null!==(p=s.destroyHooks)&&void 0!==p?p:s.destroyHooks=[]).push(c,l.onDestroy)):l=s.data[c];const E=l.factory||(l.factory=Sr(l.type)),M=lr(gc);try{const N=nl(!1),j=E();return nl(N),function g_(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,C(),c,j),j}finally{lr(M)}}function g(n,i,s){const l=n+Zn,c=C(),p=yi(c,l);return Ne(c,l)?Im(c,Oi(),i,p.transform,s,p):p.transform(s)}function A(n,i,s,l){const c=n+Zn,p=C(),E=yi(p,c);return Ne(p,c)?function _v(n,i,s,l,c,p,E){const M=i+s;return Fu(n,M,c,p)?Ll(n,M+2,E?l.call(E,c,p):l(c,p)):zd(n,M+2)}(p,Oi(),i,E.transform,s,l,E):E.transform(s,l)}function Ne(n,i){return n[ln].data[i].pure}function Vt(n){return i=>{setTimeout(n,void 0,i)}}const en=class bt extends m.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let c=i,p=s||(()=>null),E=l;if(i&&"object"==typeof i){var M,N,j;const ge=i;c=null===(M=ge.next)||void 0===M?void 0:M.bind(ge),p=null===(N=ge.error)||void 0===N?void 0:N.bind(ge),E=null===(j=ge.complete)||void 0===j?void 0:j.bind(ge)}this.__isAsync&&(p=Vt(p),c&&(c=Vt(c)),E&&(E=Vt(E)));const J=super.subscribe({next:c,error:p,complete:E});return i instanceof h.w0&&i.add(J),J}};function Sn(){return this._results[Symbol.iterator]()}class Rn{get changes(){return this._changes||(this._changes=new en)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Rn.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Sn)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=function os(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function sl(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],p=i[l];if(s&&(c=s(c),p=s(p)),p!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let br=(()=>{class n{}return n.__NG_ELEMENT_ID__=po,n})();const ni=br,kr=class extends ni{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i,s){const l=this._declarationTContainer.tView,c=Dh(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,s||null);c[Pt]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[Jt];return null!==E&&(c[Jt]=E.createEmbeddedView(l)),cg(l,c,i),new Ou(c)}};function po(){return Ai(nt(),C())}function Ai(n,i){return 4&n.type?new kr(i,n,Ka(n,i)):null}let Si=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ks,n})();function Ks(){return fE(nt(),C())}const Yu=Si,Dm=class extends Yu{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Ka(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ei(this._hostTNode,this._hostLView);if(zi(i)){const s=To(i,this._hostLView),l=bo(i);return new Vs(s[ln].data[l+8],s)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=hE(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(i,s,l){let c,p;"number"==typeof l?c=l:null!=l&&(c=l.index,p=l.injector);const E=i.createEmbeddedView(s||{},p);return this.insert(E,c),E}createComponent(i,s,l,c,p){const E=i&&!function Fa(n){return"function"==typeof n}(i);let M;if(E)M=s;else{const ge=s||{};M=ge.index,l=ge.injector,c=ge.projectableNodes,p=ge.environmentInjector||ge.ngModuleRef}const N=E?i:new Fl(En(i)),j=l||this.parentInjector;if(!p&&null==N.ngModule){const Ye=(E?j:this.parentInjector).get(Cu,null);Ye&&(p=Ye)}const J=N.create(j,c,void 0,p);return this.insert(J.hostView,M),J}insert(i,s){const l=i._lView,c=l[ln];if(function Ys(n){return nr(n[Mr])}(l)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ge=l[Mr],Ye=new Dm(ge,ge[Ur],ge[Mr]);Ye.detach(Ye.indexOf(i))}}const p=this._adjustIndex(s),E=this._lContainer;!function oc(n,i,s,l){const c=Kt+l,p=s.length;l>0&&(s[c-1][pi]=i),l<p-Kt?(i[pi]=s[c],Al(s,Kt+l,i)):(s.push(i),i[pi]=null),i[Mr]=s;const E=i[Pt];null!==E&&s!==E&&function Jh(n,i){const s=n[kt];i[Ct]!==i[Mr][Mr][Ct]&&(n[et]=!0),null===s?n[kt]=[i]:s.push(i)}(E,i);const M=i[Jt];null!==M&&M.insertView(n),i[Un]|=64}(c,l,E,p);const M=za(p,E),N=l[Pe],j=fu(N,E[ze]);return null!==j&&function Qd(n,i,s,l,c,p){l[fi]=c,l[Ur]=i,hl(n,l,s,1,c,p)}(c,E[Ur],N,l,j,M),i.attachToViewContainerRef(),Al(M0(E),p,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=hE(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Rc(this._lContainer,s);l&&(Et(M0(this._lContainer),s),tf(l[ln],l))}detach(i){const s=this._adjustIndex(i,-1),l=Rc(this._lContainer,s);return l&&null!=Et(M0(this._lContainer),s)?new Ou(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function hE(n){return n[ut]}function M0(n){return n[ut]||(n[ut]=[])}function fE(n,i){let s;const l=i[n.index];if(nr(l))s=l;else{let c;if(8&n.type)c=ai(l);else{const p=i[Pe];c=p.createComment("");const E=Vi(n,i);ja(p,fu(p,E),c,function Pc(n,i){return n.nextSibling(i)}(p,E),!1)}i[n.index]=s=ly(l,i,c,n),wd(i,s)}return new Dm(s,n,i)}class x0{constructor(i){this.queryList=i,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class R0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let p=0;p<l;p++){const E=s.getByIndex(p);c.push(this.queries[E.indexInDeclarationView].clone())}return new R0(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==DE(i,s).matches&&this.queries[s].setDirty()}}class pE{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class O0{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,p=this.getByIndex(l).embeddedTView(i,c);p&&(p.indexInDeclarationView=l,null!==s?s.push(p):s=[p])}return null!==s?new O0(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class P0{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new P0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(i,s,yI(s,p)),this.matchTNodeWithReadOption(i,s,Ut(s,i,p,!1,!1))}else l===br?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ut(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===yl||c===Si||c===br&&4&s.type)this.addMatch(s.index,-2);else{const p=Ut(s,i,c,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function yI(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function _I(n,i,s,l){return-1===s?function vI(n,i){return 11&n.type?Ka(n,i):4&n.type?Ai(n,i):null}(i,n):-2===s?function EI(n,i,s){return s===yl?Ka(i,n):s===br?Ai(i,n):s===Si?fE(i,n):void 0}(n,i,l):Rr(n,n[ln],s,i)}function gE(n,i,s,l){const c=i[Jt].queries[l];if(null===c.matches){const p=n.data,E=s.matches,M=[];for(let N=0;N<E.length;N+=2){const j=E[N];M.push(j<0?null:_I(i,p[j],E[N+1],s.metadata.read))}c.matches=M}return c.matches}function N0(n,i,s,l){const c=n.queries.getByIndex(s),p=c.matches;if(null!==p){const E=gE(n,i,c,s);for(let M=0;M<p.length;M+=2){const N=p[M];if(N>0)l.push(E[M/2]);else{const j=p[M+1],J=i[-N];for(let ge=Kt;ge<J.length;ge++){const Ye=J[ge];Ye[Pt]===Ye[Mr]&&N0(Ye[ln],Ye,j,l)}if(null!==J[kt]){const ge=J[kt];for(let Ye=0;Ye<ge.length;Ye++){const It=ge[Ye];N0(It[ln],It,j,l)}}}}}return l}function mE(n){const i=C(),s=x(),l=va();Xs(l+1);const c=DE(s,l);if(n.dirty&&function Fo(n){return 4==(4&n[Un])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?N0(s,i,l,[]):gE(s,i,c,l);n.reset(p,Tu),n.notifyOnChanges()}return!0}return!1}function yE(n,i,s){const l=x();l.firstCreatePass&&(IE(l,new pE(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),EE(l,C(),i)}function vE(n,i,s,l){const c=x();if(c.firstCreatePass){const p=nt();IE(c,new pE(i,s,l),p.index),function DI(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}EE(c,C(),s)}function _E(){return function II(n,i){return n[Jt].queries[i].queryList}(C(),va())}function EE(n,i,s){const l=new Rn(4==(4&s));ty(n,i,l,l.destroy),null===i[Jt]&&(i[Jt]=new R0),i[Jt].queries.push(new x0(l))}function IE(n,i,s){null===n.queries&&(n.queries=new O0),n.queries.track(new P0(i,s))}function DE(n,i){return n.queries.getByIndex(i)}function k0(n){return!!Pn(n)}function Iv(...n){}const VE=new li("Application Initializer");let Dv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Iv,this.reject=Iv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Lg(p))s.push(p);else if(Ey(p)){const E=new Promise((M,N)=>{p.subscribe({complete:M,error:N})});s.push(E)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(rr(VE,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE=new li("AppId",{providedIn:"root",factory:function jE(){return`${V0()}${V0()}${V0()}`}});function V0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HE=new li("Platform Initializer"),HI=new li("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let zI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wv=new li("LocaleId",{providedIn:"root",factory:()=>_r(wv,nn.Optional|nn.SkipSelf)||function GI(){return typeof $localize<"u"&&$localize.locale||Hl}()}),WI=new li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qI{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let KI=(()=>{class n{compileModuleSync(s){return new Ku(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),p=Gs(Pn(s).declarations).reduce((E,M)=>{const N=En(M);return N&&E.push(new Fl(N)),E},[]);return new qI(l,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XI=(()=>Promise.resolve(0))();function U0(n){typeof Zone>"u"?XI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function QI(){let n=On.requestAnimationFrame,i=On.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function tD(n){const i=()=>{!function eD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(On,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,H0(n),n.isCheckStableRunning=!0,j0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),H0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,p,E,M)=>{try{return WE(n),s.invokeTask(c,p,E,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),qE(n)}},onInvoke:(s,l,c,p,E,M,N)=>{try{return WE(n),s.invoke(c,p,E,M,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),qE(n)}},onHasTask:(s,l,c,p)=>{s.hasTask(c,p),l===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,H0(n),j0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,l,c,p)=>(s.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gl.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Gl.isInAngularZone())throw new be(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+c,i,JI,Iv,Iv);try{return p.runTask(E,s,l)}finally{p.cancelTask(E)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const JI={};function j0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function H0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function WE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qE(n){n._nesting--,j0(n)}class nD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}const KE=new li(""),YE=new li("");let z0,rD=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,z0||(function iD(n){z0=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gl.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(rr(Gl),rr(ZE),rr(YE))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),ZE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var c,p;return null!==(c=null===(p=z0)||void 0===p?void 0:p.findTestabilityInTree(this,s,l))&&void 0!==c?c:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zu=!1;let Gd=null;const XE=new li("AllowMultipleToken"),G0=new li("PlatformDestroyListeners"),QE=new li("appBootstrapListener");class aD{constructor(i,s){this.name=i,this.token=s}}function eI(n,i,s=[]){const l=`Platform: ${i}`,c=new li(l);return(p=[])=>{let E=W0();if(!E||E.injector.get(XE,!1)){const M=[...s,...p,{provide:c,useValue:!0}];n?n(M):function lD(n){if(Gd&&!Gd.get(XE,!1))throw new be(400,!1);Gd=n;const i=n.get(nI);(function JE(n){const i=n.get(HE,null);i&&i.forEach(s=>s())})(n)}(function tI(n=[],i){return Mu.create({name:i,providers:[{provide:hf,useValue:"platform"},{provide:G0,useValue:new Set([()=>Gd=null])},...n]})}(M,l))}return function uD(n){const i=W0();if(!i)throw new be(401,!1);return i}()}}function W0(){var n,i;return null!==(n=null===(i=Gd)||void 0===i?void 0:i.get(nI))&&void 0!==n?n:null}let nI=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function iI(n,i){let s;return s="noop"===n?new nD:("zone.js"===n?void 0:n)||new Gl(i),s}(null==l?void 0:l.ngZone,function rI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Gl,useValue:c}];return c.run(()=>{const E=Mu.create({providers:p,parent:this.injector,name:s.moduleType.name}),M=s.create(E),N=M.injector.get(fc,null);if(!N)throw new be(402,!1);return c.runOutsideAngular(()=>{const j=c.onError.subscribe({next:J=>{N.handleError(J)}});M.onDestroy(()=>{Cv(this._modules,M),j.unsubscribe()})}),function oI(n,i,s){try{const l=s();return Lg(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(N,c,()=>{const j=M.injector.get(Dv);return j.runInitializers(),j.donePromise.then(()=>(function Vd(n){Qe(n,"Expected localeId to be defined"),"string"==typeof n&&(Dc=n.toLowerCase().replace(/_/g,"-"))}(M.injector.get(wv,Hl)||Hl),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,l=[]){const c=sI({},l);return function oD(n,i,s){const l=new Ku(s);return Promise.resolve(l)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(s){const l=s.injector.get(bv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new be(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(G0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(rr(Mu))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function sI(n,i){return Array.isArray(i)?i.reduce(sI,n):{...n,...i}}let bv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,c){this._zone=s,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new W.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),E=new W.y(M=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Gl.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Gl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{N.unsubscribe(),j.unsubscribe()}});this.isStable=(0,ne.T)(p,E.pipe((0,Ae.B)()))}bootstrap(s,l){const c=s instanceof Pm;if(!this._injector.get(Dv).done){!c&&zn(s);throw new be(405,Zu)}let E;E=c?s:this._injector.get(yd).resolveComponentFactory(s),this.componentTypes.push(E.componentType);const M=function sD(n){return n.isBoundToModule}(E)?void 0:this._injector.get(Ja),j=E.create(Mu.NULL,[],l||E.selector,M),J=j.location.nativeElement,ge=j.injector.get(KE,null);return null==ge||ge.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),Cv(this.components,j),null==ge||ge.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Cv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(QE,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Cv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(rr(Gl),rr(Cu),rr(fc))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function hD(){return!1}function fD(){}let pD=(()=>{class n{}return n.__NG_ELEMENT_ID__=gD,n})();function gD(n){return function mD(n,i,s){if(Bi(n)&&!s){const l=vi(n.index,i);return new Ou(l,l)}return 47&n.type?new Ou(i[Ct],i):null}(nt(),C(),16==(16&n))}class dI{constructor(){}supports(i){return Sd(i)}create(i){return new DD(i)}}const ID=(n,i)=>i;class DD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||ID}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,p=null;for(;s||l;){const E=!l||s&&s.currentIndex<fI(l,c,p)?s:l,M=fI(E,c,p),N=E.currentIndex;if(E===l)c--,l=l._nextRemoved;else if(s=s._next,null==E.previousIndex)c++;else{p||(p=[]);const j=M-c,J=N-c;if(j!=J){for(let Ye=0;Ye<j;Ye++){const It=Ye<p.length?p[Ye]:p[Ye]=0,Yt=It+Ye;J<=Yt&&Yt<j&&(p[Ye]=It+1)}p[E.previousIndex]=J-j}}M!==N&&i(E,M,N)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Sd(i))throw new be(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,E,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let M=0;M<this.length;M++)p=i[M],E=this._trackByFn(M,p),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,p,E,M)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,E,M),l=!0),s=s._next}else c=0,function Mg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,M=>{E=this._trackByFn(c,M),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,M,E,c)),Object.is(s.item,M)||this._addIdentityChange(s,M)):(s=this._mismatch(s,M,E,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,p,c)):i=this._addAfter(new wD(s,l),p,c),i}_verifyReinsertion(i,s,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new hI),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class hI{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new bD,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fI(n,i,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class pI{constructor(){}supports(i){return i instanceof Map||Nh(i)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Nh(i)))throw new be(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const p=c._prev,E=c._next;return p&&(p._next=E),E&&(E._prev=p),c._next=null,c._prev=null,c}const l=new TD(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class TD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gI(){return new X0([new dI])}let X0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||gI()),deps:[[n,new no,new zr]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new be(901,!1)}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:gI}),n})();function mI(){return new Q0([new pI])}let Q0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||mI()),deps:[[n,new no,new zr]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new be(901,!1)}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:mI}),n})();const MD=eI(null,"core",[]);let xD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(rr(bv))},n.\u0275mod=pt({type:n}),n.\u0275inj=vt({}),n})();function RD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n,i){const s=En(n),l=i.elementInjector||gd();return new Fl(s).create(l,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(on,st,F)=>{"use strict";F.d(st,{qu:()=>ds,NI:()=>Ct,u:()=>Ko,sg:()=>lo,u5:()=>$,nD:()=>yi,JU:()=>We,a5:()=>Vr,JJ:()=>On,JL:()=>jn,On:()=>kt,UX:()=>re,kI:()=>ve,_Y:()=>Kt});var m=F(4650),h=F(6895),W=F(8996),ne=F(9751),Ae=F(4742),we=F(8421),le=F(7669),xe=F(5403),Re=F(3268),he=F(1810),ae=F(4004);let Oe=(()=>{class C{constructor(R,q){this._renderer=R,this._elementRef=q,this.onChange=nt=>{},this.onTouched=()=>{}}setProperty(R,q){this._renderer.setProperty(this._elementRef.nativeElement,R,q)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(m.Qsj),m.Y36(m.SBq))},C.\u0275dir=m.lG2({type:C}),C})(),me=(()=>{class C extends Oe{}return C.\u0275fac=function(){let x;return function(q){return(x||(x=m.n5z(C)))(q||C)}}(),C.\u0275dir=m.lG2({type:C,features:[m.qOj]}),C})();const We=new m.OlP("NgValueAccessor"),ye={provide:We,useExisting:(0,m.Gpc)(()=>Xe),multi:!0},ot=new m.OlP("CompositionEventMode");let Xe=(()=>{class C extends Oe{constructor(R,q,nt){super(R,q),this._compositionMode=nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function te(){const C=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(C.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(ot,8))},C.\u0275dir=m.lG2({type:C,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,q){1&R&&m.NdJ("input",function(rn){return q._handleInput(rn.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(rn){return q._compositionEnd(rn.target.value)})},features:[m._Bn([ye]),m.qOj]}),C})();const qe=!1;function Ve(C){return null==C||("string"==typeof C||Array.isArray(C))&&0===C.length}function yt(C){return null!=C&&"number"==typeof C.length}const Se=new m.OlP("NgValidators"),Ee=new m.OlP("NgAsyncValidators"),Ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ve{static min(x){return function Be(C){return x=>{if(Ve(x.value)||Ve(C))return null;const R=parseFloat(x.value);return!isNaN(R)&&R<C?{min:{min:C,actual:x.value}}:null}}(x)}static max(x){return function rt(C){return x=>{if(Ve(x.value)||Ve(C))return null;const R=parseFloat(x.value);return!isNaN(R)&&R>C?{max:{max:C,actual:x.value}}:null}}(x)}static required(x){return function ct(C){return Ve(C.value)?{required:!0}:null}(x)}static requiredTrue(x){return function Je(C){return!0===C.value?null:{required:!0}}(x)}static email(x){return function ht(C){return Ve(C.value)||Ie.test(C.value)?null:{email:!0}}(x)}static minLength(x){return function it(C){return x=>Ve(x.value)||!yt(x.value)?null:x.value.length<C?{minlength:{requiredLength:C,actualLength:x.value.length}}:null}(x)}static maxLength(x){return De(x)}static pattern(x){return function Te(C){if(!C)return Ce;let x,R;return"string"==typeof C?(R="","^"!==C.charAt(0)&&(R+="^"),R+=C,"$"!==C.charAt(C.length-1)&&(R+="$"),x=new RegExp(R)):(R=C.toString(),x=C),q=>{if(Ve(q.value))return null;const nt=q.value;return x.test(nt)?null:{pattern:{requiredPattern:R,actualValue:nt}}}}(x)}static nullValidator(x){return null}static compose(x){return pe(x)}static composeAsync(x){return Zt(x)}}function De(C){return x=>yt(x.value)&&x.value.length>C?{maxlength:{requiredLength:C,actualLength:x.value.length}}:null}function Ce(C){return null}function Qe(C){return null!=C}function at(C){const x=(0,m.QGY)(C)?(0,W.D)(C):C;if(qe&&!(0,m.CqO)(x)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof C&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new m.vHH(-1101,R)}return x}function Ft(C){let x={};return C.forEach(R=>{x=null!=R?{...x,...R}:x}),0===Object.keys(x).length?null:x}function St(C,x){return x.map(R=>R(C))}function gt(C){return C.map(x=>function sn(C){return!C.validate}(x)?x:R=>x.validate(R))}function pe(C){if(!C)return null;const x=C.filter(Qe);return 0==x.length?null:function(R){return Ft(St(R,x))}}function vt(C){return null!=C?pe(gt(C)):null}function Zt(C){if(!C)return null;const x=C.filter(Qe);return 0==x.length?null:function(R){return function se(...C){const x=(0,le.jO)(C),{args:R,keys:q}=(0,Ae.D)(C),nt=new ne.y(rn=>{const{length:hr}=R;if(!hr)return void rn.complete();const xr=new Array(hr);let _i=hr,Ri=hr;for(let Lo=0;Lo<hr;Lo++){let Qr=!1;(0,we.Xf)(R[Lo]).subscribe((0,xe.x)(rn,Fs=>{Qr||(Qr=!0,Ri--),xr[Lo]=Fs},()=>_i--,void 0,()=>{(!_i||!Qr)&&(Ri||rn.next(q?(0,he.n)(q,xr):xr),rn.complete())}))}});return x?nt.pipe((0,Re.Z)(x)):nt}(St(R,x).map(at)).pipe((0,ae.U)(Ft))}}function hn(C){return null!=C?Zt(gt(C)):null}function xn(C,x){return null===C?[x]:Array.isArray(C)?[...C,x]:[C,x]}function un(C){return C._rawValidators}function Wt(C){return C._rawAsyncValidators}function _n(C){return C?Array.isArray(C)?C:[C]:[]}function Kn(C,x){return Array.isArray(C)?C.includes(x):C===x}function ir(C,x){const R=_n(x);return _n(C).forEach(nt=>{Kn(R,nt)||R.push(nt)}),R}function Bn(C,x){return _n(x).filter(R=>!Kn(C,R))}class nn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=vt(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,R){return!!this.control&&this.control.hasError(x,R)}getError(x,R){return this.control?this.control.getError(x,R):null}}class bn extends nn{get formDirective(){return null}get path(){return null}}class Vr extends nn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lr{constructor(x){this._cd=x}get isTouched(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.touched)}get isUntouched(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.untouched)}get isPristine(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.pristine)}get isDirty(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.dirty)}get isValid(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.valid)}get isInvalid(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.invalid)}get isPending(){var x,R;return!(null===(x=this._cd)||void 0===x||null===(R=x.control)||void 0===R||!R.pending)}get isSubmitted(){var x;return!(null===(x=this._cd)||void 0===x||!x.submitted)}}let On=(()=>{class C extends lr{constructor(R){super(R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(Vr,2))},C.\u0275dir=m.lG2({type:C,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,q){2&R&&m.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[m.qOj]}),C})(),jn=(()=>{class C extends lr{constructor(R){super(R)}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(bn,10))},C.\u0275dir=m.lG2({type:C,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,q){2&R&&m.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[m.qOj]}),C})();function ti(C,x){return C?`with name: '${x}'`:`at index: ${x}`}const Ue=!1,Nt="VALID",Ot="INVALID",ue="PENDING",ce="DISABLED";function ke(C){return(je(C)?C.validators:C)||null}function tt(C,x){return(je(x)?x.asyncValidators:C)||null}function je(C){return null!=C&&!Array.isArray(C)&&"object"==typeof C}function Me(C,x,R){const q=C.controls;if(!(x?Object.keys(q):q).length)throw new m.vHH(1e3,Ue?function _r(C){return`\n    There are no form controls registered with this ${C?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(x):"");if(!q[R])throw new m.vHH(1001,Ue?function Mt(C,x){return`Cannot find form control ${ti(C,x)}`}(x,R):"")}function oe(C,x,R){C._forEachChild((q,nt)=>{if(void 0===R[nt])throw new m.vHH(1002,Ue?function Le(C,x){return`Must supply a value for form control ${ti(C,x)}`}(x,nt):"")})}class He{constructor(x,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===Nt}get invalid(){return this.status===Ot}get pending(){return this.status==ue}get disabled(){return this.status===ce}get enabled(){return this.status!==ce}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(ir(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(ir(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Bn(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Bn(x,this._rawAsyncValidators))}hasValidator(x){return Kn(this._rawValidators,x)}hasAsyncValidator(x){return Kn(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=ue,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const R=this._parentMarkedDirty(x.onlySelf);this.status=ce,this.errors=null,this._forEachChild(q=>{q.disable({...x,onlySelf:!0})}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:R}),this._onDisabledChange.forEach(q=>q(!0))}enable(x={}){const R=this._parentMarkedDirty(x.onlySelf);this.status=Nt,this._forEachChild(q=>{q.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:R}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nt||this.status===ue)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ce:Nt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=ue,this._hasOwnPendingAsyncValidator=!0;const R=at(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,R={}){this.errors=x,this._updateControlsErrors(!1!==R.emitEvent)}get(x){let R=x;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((q,nt)=>q&&q._find(nt),this)}getError(x,R){const q=R?this.get(R):this;return q&&q.errors?q.errors[x]:null}hasError(x,R){return!!this.getError(x,R)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?ce:this.errors?Ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ue)?ue:this._anyControlsHaveStatus(Ot)?Ot:Nt}_anyControlsHaveStatus(x){return this._anyControls(R=>R.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){je(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function ft(C){return Array.isArray(C)?vt(C):C||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function Gt(C){return Array.isArray(C)?hn(C):C||null}(this._rawAsyncValidators)}}class Tt extends He{constructor(x,R,q){super(ke(R),tt(q,R)),this.controls=x,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,R){return this.controls[x]?this.controls[x]:(this.controls[x]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(x,R,q={}){this.registerControl(x,R),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(x,R={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(x,R,q={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],R&&this.registerControl(x,R),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,R={}){oe(this,!0,x),Object.keys(x).forEach(q=>{Me(this,!0,q),this.controls[q].setValue(x[q],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(x,R={}){null!=x&&(Object.keys(x).forEach(q=>{const nt=this.controls[q];nt&&nt.patchValue(x[q],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(x={},R={}){this._forEachChild((q,nt)=>{q.reset(x[nt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(x,R,q)=>(x[q]=R.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(R,q)=>!!q._syncPendingControls()||R);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(R=>{const q=this.controls[R];q&&x(q,R)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[R,q]of Object.entries(this.controls))if(this.contains(R)&&x(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,q,nt)=>((q.enabled||this.disabled)&&(R[nt]=q.value),R))}_reduceChildren(x,R){let q=x;return this._forEachChild((nt,rn)=>{q=R(q,nt,rn)}),q}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}class Vn extends Tt{}const Ir=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>At}),At="always";function pt(C,x){return[...x.path,C]}function jt(C,x,R=At){var q,nt;En(C,x),x.valueAccessor.writeValue(C.value),(C.disabled||"always"===R)&&(null===(q=(nt=x.valueAccessor).setDisabledState)||void 0===q||q.call(nt,C.disabled)),function tr(C,x){x.valueAccessor.registerOnChange(R=>{C._pendingValue=R,C._pendingChange=!0,C._pendingDirty=!0,"change"===C.updateOn&&Pn(C,x)})}(C,x),function qi(C,x){const R=(q,nt)=>{x.valueAccessor.writeValue(q),nt&&x.viewToModelUpdate(q)};C.registerOnChange(R),x._registerOnDestroy(()=>{C._unregisterOnChange(R)})}(C,x),function zn(C,x){x.valueAccessor.registerOnTouched(()=>{C._pendingTouched=!0,"blur"===C.updateOn&&C._pendingChange&&Pn(C,x),"submit"!==C.updateOn&&C.markAsTouched()})}(C,x),function er(C,x){if(x.valueAccessor.setDisabledState){const R=q=>{x.valueAccessor.setDisabledState(q)};C.registerOnDisabledChange(R),x._registerOnDestroy(()=>{C._unregisterOnDisabledChange(R)})}}(C,x)}function yn(C,x,R=!0){const q=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(q),x.valueAccessor.registerOnTouched(q)),or(C,x),C&&(x._invokeOnDestroyCallbacks(),C._registerOnCollectionChange(()=>{}))}function Cn(C,x){C.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(x)})}function En(C,x){const R=un(C);null!==x.validator?C.setValidators(xn(R,x.validator)):"function"==typeof R&&C.setValidators([R]);const q=Wt(C);null!==x.asyncValidator?C.setAsyncValidators(xn(q,x.asyncValidator)):"function"==typeof q&&C.setAsyncValidators([q]);const nt=()=>C.updateValueAndValidity();Cn(x._rawValidators,nt),Cn(x._rawAsyncValidators,nt)}function or(C,x){let R=!1;if(null!==C){if(null!==x.validator){const nt=un(C);if(Array.isArray(nt)&&nt.length>0){const rn=nt.filter(hr=>hr!==x.validator);rn.length!==nt.length&&(R=!0,C.setValidators(rn))}}if(null!==x.asyncValidator){const nt=Wt(C);if(Array.isArray(nt)&&nt.length>0){const rn=nt.filter(hr=>hr!==x.asyncValidator);rn.length!==nt.length&&(R=!0,C.setAsyncValidators(rn))}}}const q=()=>{};return Cn(x._rawValidators,q),Cn(x._rawAsyncValidators,q),R}function Pn(C,x){C._pendingDirty&&C.markAsDirty(),C.setValue(C._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(C._pendingValue),C._pendingChange=!1}function ur(C,x){if(!C.hasOwnProperty("model"))return!1;const R=C.model;return!!R.isFirstChange()||!Object.is(x,R.currentValue)}function Er(C,x){if(!x)return null;let R,q,nt;return Array.isArray(x),x.forEach(rn=>{rn.constructor===Xe?R=rn:function Ur(C){return Object.getPrototypeOf(C.constructor)===me}(rn)?q=rn:nt=rn}),nt||q||R||null}function Fe(C,x){const R=C.indexOf(x);R>-1&&C.splice(R,1)}function _t(C){return"object"==typeof C&&null!==C&&2===Object.keys(C).length&&"value"in C&&"disabled"in C}const Ct=class extends He{constructor(x=null,R,q){super(ke(R),tt(q,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),je(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=_t(x)?x.value:x)}setValue(x,R={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(x,R={}){this.setValue(x,R)}reset(x=this.defaultValue,R={}){this._applyFormState(x),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Fe(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Fe(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){_t(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},ze={provide:Vr,useExisting:(0,m.Gpc)(()=>kt)},ut=(()=>Promise.resolve())();let kt=(()=>{class C extends Vr{constructor(R,q,nt,rn,hr,xr){super(),this._changeDetectorRef=hr,this.callSetDisabledState=xr,this.control=new Ct,this._registered=!1,this.update=new m.vpe,this._parent=R,this._setValidators(q),this._setAsyncValidators(nt),this.valueAccessor=Er(0,rn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const q=R.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),ur(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){ut.then(()=>{var q;this.control.setValue(R,{emitViewToModelChange:!1}),null===(q=this._changeDetectorRef)||void 0===q||q.markForCheck()})}_updateDisabled(R){const q=R.isDisabled.currentValue,nt=0!==q&&(0,m.D6c)(q);ut.then(()=>{var rn;nt&&!this.control.disabled?this.control.disable():!nt&&this.control.disabled&&this.control.enable(),null===(rn=this._changeDetectorRef)||void 0===rn||rn.markForCheck()})}_getPath(R){return this._parent?pt(R,this._parent):[R]}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(bn,9),m.Y36(Se,10),m.Y36(Ee,10),m.Y36(We,10),m.Y36(m.sBO,8),m.Y36(Ir,8))},C.\u0275dir=m.lG2({type:C,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([ze]),m.qOj,m.TTD]}),C})(),Kt=(()=>{class C{}return C.\u0275fac=function(R){return new(R||C)},C.\u0275dir=m.lG2({type:C,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),C})(),Bi=(()=>{class C{}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({}),C})();const rs=new m.OlP("NgModelWithFormControlWarning"),ao={provide:bn,useExisting:(0,m.Gpc)(()=>lo)};let lo=(()=>{class C extends bn{constructor(R,q,nt){super(),this.callSetDisabledState=nt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(R),this._setAsyncValidators(q)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const q=this.form.get(R.path);return jt(q,R,this.callSetDisabledState),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),q}getControl(R){return this.form.get(R.path)}removeControl(R){yn(R.control||null,R,!1),function Z(C,x){const R=C.indexOf(x);R>-1&&C.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,q){this.form.get(R.path).setValue(q)}onSubmit(R){var q;return this.submitted=!0,function ci(C,x){C._syncPendingControls(),x.forEach(R=>{const q=R.control;"submit"===q.updateOn&&q._pendingChange&&(R.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===(null==R||null===(q=R.target)||void 0===q?void 0:q.method)}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const q=R.control,nt=this.form.get(R.path);q!==nt&&(yn(q||null,R),(C=>C instanceof Ct)(nt)&&(jt(nt,R,this.callSetDisabledState),R.control=nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const q=this.form.get(R.path);(function Mi(C,x){En(C,x)})(q,R),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const q=this.form.get(R.path);q&&function xi(C,x){return or(C,x)}(q,R)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){En(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}}return C.\u0275fac=function(R){return new(R||C)(m.Y36(Se,10),m.Y36(Ee,10),m.Y36(Ir,8))},C.\u0275dir=m.lG2({type:C,selectors:[["","formGroup",""]],hostBindings:function(R,q){1&R&&m.NdJ("submit",function(rn){return q.onSubmit(rn)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ao]),m.qOj,m.TTD]}),C})();const ia={provide:Vr,useExisting:(0,m.Gpc)(()=>Ko)};let Ko=(()=>{class C extends Vr{set isDisabled(R){}constructor(R,q,nt,rn,hr){super(),this._ngModelWarningConfig=hr,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(q),this._setAsyncValidators(nt),this.valueAccessor=Er(0,rn)}ngOnChanges(R){this._added||this._setUpControl(),ur(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return pt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return C._ngModelWarningSentOnce=!1,C.\u0275fac=function(R){return new(R||C)(m.Y36(bn,13),m.Y36(Se,10),m.Y36(Ee,10),m.Y36(We,10),m.Y36(rs,8))},C.\u0275dir=m.lG2({type:C,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ia]),m.qOj,m.TTD]}),C})();let Ui=(()=>{class C{constructor(){this._validator=Ce}ngOnChanges(R){if(this.inputName in R){const q=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):Ce,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275dir=m.lG2({type:C,features:[m.TTD]}),C})();const ma={provide:Se,useExisting:(0,m.Gpc)(()=>yi),multi:!0};let yi=(()=>{class C extends Ui{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=R=>function Es(C){return"number"==typeof C?C:parseInt(C,10)}(R),this.createValidator=R=>De(R)}}return C.\u0275fac=function(){let x;return function(q){return(x||(x=m.n5z(C)))(q||C)}}(),C.\u0275dir=m.lG2({type:C,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(R,q){2&R&&m.uIk("maxlength",q._enabled?q.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m._Bn([ma]),m.qOj]}),C})(),Zo=(()=>{class C{}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Bi]}),C})();class cs extends He{constructor(x,R,q){super(ke(R),tt(q,R)),this.controls=x,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[this._adjustIndex(x)]}push(x,R={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(x,R,q={}){this.controls.splice(x,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(x,R={}){let q=this._adjustIndex(x);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(x,R,q={}){let nt=this._adjustIndex(x);nt<0&&(nt=0),this.controls[nt]&&this.controls[nt]._registerOnCollectionChange(()=>{}),this.controls.splice(nt,1),R&&(this.controls.splice(nt,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,R={}){oe(this,!1,x),x.forEach((q,nt)=>{Me(this,!1,nt),this.at(nt).setValue(q,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(x,R={}){null!=x&&(x.forEach((q,nt)=>{this.at(nt)&&this.at(nt).patchValue(q,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(x=[],R={}){this._forEachChild((q,nt)=>{q.reset(x[nt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(x=>x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_adjustIndex(x){return x<0?x+this.length:x}_syncPendingControls(){let x=this.controls.reduce((R,q)=>!!q._syncPendingControls()||R,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((R,q)=>{x(R,q)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(R=>R.enabled&&x(R))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}_find(x){var R;return null!==(R=this.at(x))&&void 0!==R?R:null}}function ws(C){return!!C&&(void 0!==C.asyncValidators||void 0!==C.validators||void 0!==C.updateOn)}let ds=(()=>{class C{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new C;return R.useNonNullable=!0,R}group(R,q=null){const nt=this._reduceControls(R);let rn={};return ws(q)?rn=q:null!==q&&(rn.validators=q.validator,rn.asyncValidators=q.asyncValidator),new Tt(nt,rn)}record(R,q=null){const nt=this._reduceControls(R);return new Vn(nt,q)}control(R,q,nt){let rn={};return this.useNonNullable?(ws(q)?rn=q:(rn.validators=q,rn.asyncValidators=nt),new Ct(R,{...rn,nonNullable:!0})):new Ct(R,q,nt)}array(R,q,nt){const rn=R.map(hr=>this._createControl(hr));return new cs(rn,q,nt)}_reduceControls(R){const q={};return Object.keys(R).forEach(nt=>{q[nt]=this._createControl(R[nt])}),q}_createControl(R){return R instanceof Ct||R instanceof He?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),$=(()=>{class C{static withConfig(R){var q;return{ngModule:C,providers:[{provide:Ir,useValue:null!==(q=R.callSetDisabledState)&&void 0!==q?q:At}]}}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Zo]}),C})(),re=(()=>{class C{static withConfig(R){var q,nt;return{ngModule:C,providers:[{provide:rs,useValue:null!==(q=R.warnOnNgModelWithFormControl)&&void 0!==q?q:"always"},{provide:Ir,useValue:null!==(nt=R.callSetDisabledState)&&void 0!==nt?nt:At}]}}}return C.\u0275fac=function(R){return new(R||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Zo]}),C})()},1481:(on,st,F)=>{"use strict";F.d(st,{Dx:()=>jn,H7:()=>ke,b2:()=>Vr,q6:()=>ir});var m=F(6895),h=F(4650);class W extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends W{static makeCurrent(){(0,m.HT)(new ne)}onAndCancel(Me,oe,He){return Me.addEventListener(oe,He,!1),()=>{Me.removeEventListener(oe,He,!1)}}dispatchEvent(Me,oe){Me.dispatchEvent(oe)}remove(Me){Me.parentNode&&Me.parentNode.removeChild(Me)}createElement(Me,oe){return(oe=oe||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,oe){return"window"===oe?window:"document"===oe?Me:"body"===oe?Me.body:null}getBaseHref(Me){const oe=function we(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==oe?null:function xe(je){le=le||document.createElement("a"),le.setAttribute("href",je);const Me=le.pathname;return"/"===Me.charAt(0)?Me:`/${Me}`}(oe)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,m.Mx)(document.cookie,Me)}}let le,Ae=null;const Re=new h.OlP("TRANSITION_ID"),se=[{provide:h.ip1,useFactory:function he(je,Me,oe){return()=>{oe.get(h.CZH).donePromise.then(()=>{const He=(0,m.q)(),Tt=Me.querySelectorAll(`style[ng-transition="${je}"]`);for(let qt=0;qt<Tt.length;qt++)He.remove(Tt[qt])})}},deps:[Re,m.K0,h.zs3],multi:!0}];let Oe=(()=>{class je{build(){return new XMLHttpRequest}}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const me=new h.OlP("EventManagerPlugins");let We=(()=>{class je{constructor(oe,He){this._zone=He,this._eventNameToPlugin=new Map,oe.forEach(Tt=>{Tt.manager=this}),this._plugins=oe.slice().reverse()}addEventListener(oe,He,Tt){return this._findPluginFor(He).addEventListener(oe,He,Tt)}addGlobalEventListener(oe,He,Tt){return this._findPluginFor(He).addGlobalEventListener(oe,He,Tt)}getZone(){return this._zone}_findPluginFor(oe){const He=this._eventNameToPlugin.get(oe);if(He)return He;const Tt=this._plugins;for(let qt=0;qt<Tt.length;qt++){const dn=Tt[qt];if(dn.supports(oe))return this._eventNameToPlugin.set(oe,dn),dn}throw new Error(`No event manager plugin found for event ${oe}`)}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(me),h.LFG(h.R0b))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();class mt{constructor(Me){this._doc=Me}addGlobalEventListener(Me,oe,He){const Tt=(0,m.q)().getGlobalEventTarget(this._doc,Me);if(!Tt)throw new Error(`Unsupported event target ${Tt} for event ${oe}`);return this.addEventListener(Tt,oe,He)}}let be=(()=>{class je{constructor(){this.usageCount=new Map}addStyles(oe){for(const He of oe)1===this.changeUsageCount(He,1)&&this.onStyleAdded(He)}removeStyles(oe){for(const He of oe)0===this.changeUsageCount(He,-1)&&this.onStyleRemoved(He)}onStyleRemoved(oe){}onStyleAdded(oe){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(oe,He){var Tt;const qt=this.usageCount;let dn=null!==(Tt=qt.get(oe))&&void 0!==Tt?Tt:0;return dn+=He,dn>0?qt.set(oe,dn):qt.delete(oe),dn}ngOnDestroy(){for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.usageCount.clear()}}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})(),ye=(()=>{class je extends be{constructor(oe){super(),this.doc=oe,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(oe){for(const He of this.hostNodes)this.addStyleToHost(He,oe)}onStyleRemoved(oe){const He=this.styleRef,Tt=He.get(oe);null==Tt||Tt.forEach(qt=>qt.remove()),He.delete(oe)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(oe){this.hostNodes.add(oe);for(const He of this.getAllStyles())this.addStyleToHost(oe,He)}removeHost(oe){this.hostNodes.delete(oe)}addStyleToHost(oe,He){const Tt=this.doc.createElement("style");Tt.textContent=He,oe.appendChild(Tt);const qt=this.styleRef.get(He);qt?qt.push(Tt):this.styleRef.set(He,[Tt])}resetHostNodes(){const oe=this.hostNodes;oe.clear(),oe.add(this.doc.head)}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(m.K0))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g,Ee=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Be(je,Me){return Me.flat(100).map(oe=>oe.replace(ot,je))}function rt(je){return Me=>{if("__ngUnwrap__"===Me)return je;!1===je(Me)&&(Me.preventDefault(),Me.returnValue=!1)}}let ct=(()=>{class je{constructor(oe,He,Tt,qt){this.eventManager=oe,this.sharedStylesHost=He,this.appId=Tt,this.removeStylesOnCompDestory=qt,this.rendererByCompId=new Map,this.defaultRenderer=new Je(oe)}createRenderer(oe,He){if(!oe||!He)return this.defaultRenderer;const Tt=this.getOrCreateRenderer(oe,He);return Tt instanceof Qe?Tt.applyToHost(oe):Tt instanceof Ce&&Tt.applyStyles(),Tt}getOrCreateRenderer(oe,He){const Tt=this.rendererByCompId;let qt=Tt.get(He.id);if(!qt){const dn=this.eventManager,Vn=this.sharedStylesHost,Yn=this.removeStylesOnCompDestory;switch(He.encapsulation){case h.ifc.Emulated:qt=new Qe(dn,Vn,He,this.appId,Yn);break;case h.ifc.ShadowDom:return new Te(dn,Vn,oe,He);default:qt=new Ce(dn,Vn,He,Yn)}qt.onDestroy=()=>Tt.delete(He.id),Tt.set(He.id,qt)}return qt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(We),h.LFG(ye),h.LFG(h.AFp),h.LFG(Ee))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();class Je{constructor(Me){this.eventManager=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Me,oe){return oe?document.createElementNS(te[oe]||oe,Me):document.createElement(Me)}createComment(Me){return document.createComment(Me)}createText(Me){return document.createTextNode(Me)}appendChild(Me,oe){(De(Me)?Me.content:Me).appendChild(oe)}insertBefore(Me,oe,He){Me&&(De(Me)?Me.content:Me).insertBefore(oe,He)}removeChild(Me,oe){Me&&Me.removeChild(oe)}selectRootElement(Me,oe){let He="string"==typeof Me?document.querySelector(Me):Me;if(!He)throw new Error(`The selector "${Me}" did not match any elements`);return oe||(He.textContent=""),He}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,oe,He,Tt){if(Tt){oe=Tt+":"+oe;const qt=te[Tt];qt?Me.setAttributeNS(qt,oe,He):Me.setAttribute(oe,He)}else Me.setAttribute(oe,He)}removeAttribute(Me,oe,He){if(He){const Tt=te[He];Tt?Me.removeAttributeNS(Tt,oe):Me.removeAttribute(`${He}:${oe}`)}else Me.removeAttribute(oe)}addClass(Me,oe){Me.classList.add(oe)}removeClass(Me,oe){Me.classList.remove(oe)}setStyle(Me,oe,He,Tt){Tt&(h.JOm.DashCase|h.JOm.Important)?Me.style.setProperty(oe,He,Tt&h.JOm.Important?"important":""):Me.style[oe]=He}removeStyle(Me,oe,He){He&h.JOm.DashCase?Me.style.removeProperty(oe):Me.style[oe]=""}setProperty(Me,oe,He){Me[oe]=He}setValue(Me,oe){Me.nodeValue=oe}listen(Me,oe,He){return"string"==typeof Me?this.eventManager.addGlobalEventListener(Me,oe,rt(He)):this.eventManager.addEventListener(Me,oe,rt(He))}}function De(je){return"TEMPLATE"===je.tagName&&void 0!==je.content}class Te extends Je{constructor(Me,oe,He,Tt){super(Me),this.sharedStylesHost=oe,this.hostEl=He,this.shadowRoot=He.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qt=Be(Tt.id,Tt.styles);for(const dn of qt){const Vn=document.createElement("style");Vn.textContent=dn,this.shadowRoot.appendChild(Vn)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}appendChild(Me,oe){return super.appendChild(this.nodeOrShadowRoot(Me),oe)}insertBefore(Me,oe,He){return super.insertBefore(this.nodeOrShadowRoot(Me),oe,He)}removeChild(Me,oe){return super.removeChild(this.nodeOrShadowRoot(Me),oe)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ce extends Je{constructor(Me,oe,He,Tt,qt=He.id){super(Me),this.sharedStylesHost=oe,this.removeStylesOnCompDestory=Tt,this.rendererUsageCount=0,this.styles=Be(qt,He.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var Me;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(Me=this.onDestroy)||void 0===Me||Me.call(this))}}class Qe extends Ce{constructor(Me,oe,He,Tt,qt){const dn=Tt+"-"+He.id;super(Me,oe,He,qt,dn),this.contentAttr=function Ie(je){return"_ngcontent-%COMP%".replace(ot,je)}(dn),this.hostAttr=function ve(je){return"_nghost-%COMP%".replace(ot,je)}(dn)}applyToHost(Me){this.applyStyles(),this.setAttribute(Me,this.hostAttr,"")}createElement(Me,oe){const He=super.createElement(Me,oe);return super.setAttribute(He,this.contentAttr,""),He}}let at=(()=>{class je extends mt{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,He,Tt){return oe.addEventListener(He,Tt,!1),()=>this.removeEventListener(oe,He,Tt)}removeEventListener(oe,He,Tt){return oe.removeEventListener(He,Tt)}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(m.K0))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const Ft=["alt","control","meta","shift"],St={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sn={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let gt=(()=>{class je extends mt{constructor(oe){super(oe)}supports(oe){return null!=je.parseEventName(oe)}addEventListener(oe,He,Tt){const qt=je.parseEventName(He),dn=je.eventCallback(qt.fullKey,Tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(oe,qt.domEventName,dn))}static parseEventName(oe){const He=oe.toLowerCase().split("."),Tt=He.shift();if(0===He.length||"keydown"!==Tt&&"keyup"!==Tt)return null;const qt=je._normalizeKey(He.pop());let dn="",Vn=He.indexOf("code");if(Vn>-1&&(He.splice(Vn,1),dn="code."),Ft.forEach(Ir=>{const At=He.indexOf(Ir);At>-1&&(He.splice(At,1),dn+=Ir+".")}),dn+=qt,0!=He.length||0===qt.length)return null;const Yn={};return Yn.domEventName=Tt,Yn.fullKey=dn,Yn}static matchEventFullKeyCode(oe,He){let Tt=St[oe.key]||oe.key,qt="";return He.indexOf("code.")>-1&&(Tt=oe.code,qt="code."),!(null==Tt||!Tt)&&(Tt=Tt.toLowerCase()," "===Tt?Tt="space":"."===Tt&&(Tt="dot"),Ft.forEach(dn=>{dn!==Tt&&(0,sn[dn])(oe)&&(qt+=dn+".")}),qt+=Tt,qt===He)}static eventCallback(oe,He,Tt){return qt=>{je.matchEventFullKeyCode(qt,oe)&&Tt.runGuarded(()=>He(qt))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(m.K0))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const ir=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:m.bD},{provide:h.g9A,useValue:function un(){ne.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function _n(){return(0,h.RDi)(document),document},deps:[]}]),Bn=new h.OlP(""),nn=[{provide:h.rWj,useClass:class ae{addToWindow(Me){h.dqk.getAngularTestability=(He,Tt=!0)=>{const qt=Me.findTestabilityInTree(He,Tt);if(null==qt)throw new Error("Could not find testability for element.");return qt},h.dqk.getAllAngularTestabilities=()=>Me.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Me.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(He=>{const Tt=h.dqk.getAllAngularTestabilities();let qt=Tt.length,dn=!1;const Vn=function(Yn){dn=dn||Yn,qt--,0==qt&&He(dn)};Tt.forEach(function(Yn){Yn.whenStable(Vn)})})}findTestabilityInTree(Me,oe,He){if(null==oe)return null;const Tt=Me.getTestability(oe);return null!=Tt?Tt:He?(0,m.q)().isShadowRoot(oe)?this.findTestabilityInTree(Me,oe.host,!0):this.findTestabilityInTree(Me,oe.parentElement,!0):null}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],bn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Wt(){return new h.qLn},deps:[]},{provide:me,useClass:at,multi:!0,deps:[m.K0,h.R0b,h.Lbi]},{provide:me,useClass:gt,multi:!0,deps:[m.K0]},{provide:ct,useClass:ct,deps:[We,ye,h.AFp,Ee]},{provide:h.FYo,useExisting:ct},{provide:be,useExisting:ye},{provide:ye,useClass:ye,deps:[m.K0]},{provide:We,useClass:We,deps:[me,h.R0b]},{provide:m.JF,useClass:Oe,deps:[]},[]];let Vr=(()=>{class je{constructor(oe){}static withServerTransition(oe){return{ngModule:je,providers:[{provide:h.AFp,useValue:oe.appId},{provide:Re,useExisting:h.AFp},se]}}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(Bn,12))},je.\u0275mod=h.oAB({type:je}),je.\u0275inj=h.cJS({providers:[...bn,...nn],imports:[m.ez,h.hGG]}),je})(),jn=(()=>{class je{constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(m.K0))},je.\u0275prov=h.Yz7({token:je,factory:function(oe){let He=null;return He=oe?new oe:function On(){return new jn((0,h.LFG)(m.K0))}(),He},providedIn:"root"}),je})();typeof window<"u"&&window;let ke=(()=>{class je{}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275prov=h.Yz7({token:je,factory:function(oe){let He=null;return He=oe?new(oe||je):h.LFG(tt),He},providedIn:"root"}),je})(),tt=(()=>{class je extends ke{constructor(oe){super(),this._doc=oe}sanitize(oe,He){if(null==He)return null;switch(oe){case h.q3G.NONE:return He;case h.q3G.HTML:return(0,h.qzn)(He,"HTML")?(0,h.z3N)(He):(0,h.EiD)(this._doc,String(He)).toString();case h.q3G.STYLE:return(0,h.qzn)(He,"Style")?(0,h.z3N)(He):He;case h.q3G.SCRIPT:if((0,h.qzn)(He,"Script"))return(0,h.z3N)(He);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(He,"URL")?(0,h.z3N)(He):(0,h.mCW)(String(He));case h.q3G.RESOURCE_URL:if((0,h.qzn)(He,"ResourceURL"))return(0,h.z3N)(He);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${oe} (see ${h.JZr})`)}}bypassSecurityTrustHtml(oe){return(0,h.JVY)(oe)}bypassSecurityTrustStyle(oe){return(0,h.L6k)(oe)}bypassSecurityTrustScript(oe){return(0,h.eBb)(oe)}bypassSecurityTrustUrl(oe){return(0,h.LAX)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,h.pB0)(oe)}}return je.\u0275fac=function(oe){return new(oe||je)(h.LFG(m.K0))},je.\u0275prov=h.Yz7({token:je,factory:function(oe){let He=null;return He=oe?new oe:function ft(je){return new tt(je.get(m.K0))}(h.LFG(h.zs3)),He},providedIn:"root"}),je})()},1194:(on,st,F)=>{"use strict";F.d(st,{gz:()=>Qi,y6:()=>is,OD:()=>Ct,eC:()=>Wt,wm:()=>su,wN:()=>$o,F0:()=>Ut,rH:()=>ca,Bz:()=>Al,Hx:()=>Le});var m=F(4650),h=F(8996),W=F(9646),ne=F(1135),Ae=F(6805),we=F(9751),le=F(4742),xe=F(4671),Re=F(3268),he=F(7669),se=F(1810),ae=F(5403),Oe=F(9672);function me(...D){const b=(0,he.yG)(D),y=(0,he.jO)(D),{args:S,keys:L}=(0,le.D)(D);if(0===S.length)return(0,h.D)([],b);const K=new we.y(function We(D,b,y=xe.y){return S=>{mt(b,()=>{const{length:L}=D,K=new Array(L);let Q=L,Ke=L;for(let wt=0;wt<L;wt++)mt(b,()=>{const Qt=(0,h.D)(D[wt],b);let Tn=!1;Qt.subscribe((0,ae.x)(S,gn=>{K[wt]=gn,Tn||(Tn=!0,Ke--),Ke||S.next(y(K.slice()))},()=>{--Q||S.complete()}))},S)},S)}}(S,b,L?Q=>(0,se.n)(L,Q):xe.y));return y?K.pipe((0,Re.Z)(y)):K}function mt(D,b,y){D?(0,Oe.f)(y,D,b):b()}var be=F(7272),ye=F(8421);function te(D){return new we.y(b=>{(0,ye.Xf)(D()).subscribe(b)})}var ot=F(9635),Xe=F(576);function qe(D,b){const y=(0,Xe.m)(D)?D:()=>D,S=L=>L.error(y());return new we.y(b?L=>b.schedule(S,0,L):S)}var Ve=F(515),yt=F(727),Se=F(4482);function Ee(){return(0,Se.e)((D,b)=>{let y=null;D._refCount++;const S=(0,ae.x)(b,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(y=null);const L=D._connection,K=y;y=null,L&&(!K||L===K)&&L.unsubscribe(),b.unsubscribe()});D.subscribe(S),S.closed||(y=D.connect())})}class Ie extends we.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Se.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,null==b||b.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new yt.w0;const y=this.getSubject();b.add(this.source.subscribe((0,ae.x)(y,void 0,()=>{this._teardown(),y.complete()},S=>{this._teardown(),y.error(S)},()=>this._teardown()))),b.closed&&(this._connection=null,b=yt.w0.EMPTY)}return b}refCount(){return Ee()(this)}}var ve=F(7579),Be=F(6895),rt=F(4004),ct=F(3900),Je=F(5698),ht=F(8675),it=F(9300),De=F(5577),Te=F(590),Ce=F(4351),Qe=F(8505);function at(D){return(0,Se.e)((b,y)=>{let K,S=null,L=!1;S=b.subscribe((0,ae.x)(y,void 0,void 0,Q=>{K=(0,ye.Xf)(D(Q,at(D)(b))),S?(S.unsubscribe(),S=null,K.subscribe(y)):L=!0})),L&&(S.unsubscribe(),S=null,K.subscribe(y))})}var Ft=F(5026);function St(D){return D<=0?()=>Ve.E:(0,Se.e)((b,y)=>{let S=[];b.subscribe((0,ae.x)(y,L=>{S.push(L),D<S.length&&S.shift()},()=>{for(const L of S)y.next(L);y.complete()},void 0,()=>{S=null}))})}var sn=F(8068),gt=F(6590);function pe(D,b){const y=arguments.length>=2;return S=>S.pipe(D?(0,it.h)((L,K)=>D(L,K,S)):xe.y,St(1),y?(0,gt.d)(b):(0,sn.T)(()=>new Ae.K))}function hn(D){return(0,Se.e)((b,y)=>{try{b.subscribe(y)}finally{y.add(D)}})}var xn=F(8189),un=F(1481);const Wt="primary",_n=Symbol("RouteTitle");class Kn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function ir(D){return new Kn(D)}function Bn(D,b,y){const S=y.path.split("/");if(S.length>D.length||"full"===y.pathMatch&&(b.hasChildren()||S.length<D.length))return null;const L={};for(let K=0;K<S.length;K++){const Q=S[K],Ke=D[K];if(Q.startsWith(":"))L[Q.substring(1)]=Ke;else if(Q!==Ke.path)return null}return{consumed:D.slice(0,S.length),posParams:L}}function bn(D,b){const y=D?Object.keys(D):void 0,S=b?Object.keys(b):void 0;if(!y||!S||y.length!=S.length)return!1;let L;for(let K=0;K<y.length;K++)if(L=y[K],!Vr(D[L],b[L]))return!1;return!0}function Vr(D,b){if(Array.isArray(D)&&Array.isArray(b)){if(D.length!==b.length)return!1;const y=[...D].sort(),S=[...b].sort();return y.every((L,K)=>S[K]===L)}return D===b}function lr(D){return Array.prototype.concat.apply([],D)}function Gr(D){return D.length>0?D[D.length-1]:null}function On(D,b){for(const y in D)D.hasOwnProperty(y)&&b(D[y],y)}function jn(D){return(0,m.CqO)(D)?D:(0,m.QGY)(D)?(0,h.D)(Promise.resolve(D)):(0,W.of)(D)}const Ht=!1,an={exact:function Lr(D,b,y){if(!_r(D.segments,b.segments)||!qr(D.segments,b.segments,y)||D.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!D.children[S]||!Lr(D.children[S],b.children[S],y))return!1;return!0},subset:Wr},zt={exact:function cr(D,b){return bn(D,b)},subset:function Ar(D,b){return Object.keys(b).length<=Object.keys(D).length&&Object.keys(b).every(y=>Vr(D[y],b[y]))},ignored:()=>!0};function Fr(D,b,y){return an[y.paths](D.root,b.root,y.matrixParams)&&zt[y.queryParams](D.queryParams,b.queryParams)&&!("exact"===y.fragment&&D.fragment!==b.fragment)}function Wr(D,b,y){return vr(D,b,b.segments,y)}function vr(D,b,y,S){if(D.segments.length>y.length){const L=D.segments.slice(0,y.length);return!(!_r(L,y)||b.hasChildren()||!qr(L,y,S))}if(D.segments.length===y.length){if(!_r(D.segments,y)||!qr(D.segments,y,S))return!1;for(const L in b.children)if(!D.children[L]||!Wr(D.children[L],b.children[L],S))return!1;return!0}{const L=y.slice(0,D.segments.length),K=y.slice(D.segments.length);return!!(_r(D.segments,L)&&qr(D.segments,L,S)&&D.children[Wt])&&vr(D.children[Wt],b,K,S)}}function qr(D,b,y){return b.every((S,L)=>zt[y](D[L].parameters,S.parameters))}class qn{constructor(b=new Hn([],{}),y={},S=null){this.root=b,this.queryParams=y,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ir(this.queryParams)),this._queryParamMap}toString(){return Nt.serialize(this)}}class Hn{constructor(b,y){this.segments=b,this.children=y,this.parent=null,On(y,(S,L)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ot(this)}}class rr{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=ir(this.parameters)),this._parameterMap}toString(){return Me(this)}}function _r(D,b){return D.length===b.length&&D.every((y,S)=>y.path===b[S].path)}let Le=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:function(){return new Ue},providedIn:"root"}),D})();class Ue{parse(b){const y=new At(b);return new qn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${ue(b.root,!0)}`,S=function He(D){const b=Object.keys(D).map(y=>{const S=D[y];return Array.isArray(S)?S.map(L=>`${ke(y)}=${ke(L)}`).join("&"):`${ke(y)}=${ke(S)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${S}${"string"==typeof b.fragment?`#${function ft(D){return encodeURI(D)}(b.fragment)}`:""}`}}const Nt=new Ue;function Ot(D){return D.segments.map(b=>Me(b)).join("/")}function ue(D,b){if(!D.hasChildren())return Ot(D);if(b){const y=D.children[Wt]?ue(D.children[Wt],!1):"",S=[];return On(D.children,(L,K)=>{K!==Wt&&S.push(`${K}:${ue(L,!1)}`)}),S.length>0?`${y}(${S.join("//")})`:y}{const y=function Mt(D,b){let y=[];return On(D.children,(S,L)=>{L===Wt&&(y=y.concat(b(S,L)))}),On(D.children,(S,L)=>{L!==Wt&&(y=y.concat(b(S,L)))}),y}(D,(S,L)=>L===Wt?[ue(D.children[Wt],!1)]:[`${L}:${ue(S,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Wt]?`${Ot(D)}/${y[0]}`:`${Ot(D)}/(${y.join("//")})`}}function ce(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ke(D){return ce(D).replace(/%3B/gi,";")}function tt(D){return ce(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(D){return decodeURIComponent(D)}function je(D){return Gt(D.replace(/\+/g,"%20"))}function Me(D){return`${tt(D.path)}${function oe(D){return Object.keys(D).map(b=>`;${tt(b)}=${tt(D[b])}`).join("")}(D.parameters)}`}const Tt=/^[^\/()?;=#]+/;function qt(D){const b=D.match(Tt);return b?b[0]:""}const dn=/^[^=?&#]+/,Yn=/^[^&#]+/;class At{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(S[Wt]=new Hn(b,y)),S}parseSegment(){const b=qt(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new m.vHH(4009,Ht);return this.capture(b),new rr(Gt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=qt(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const L=qt(this.remaining);L&&(S=L,this.capture(S))}b[Gt(y)]=Gt(S)}parseQueryParam(b){const y=function Vn(D){const b=D.match(dn);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const Q=function Ir(D){const b=D.match(Yn);return b?b[0]:""}(this.remaining);Q&&(S=Q,this.capture(S))}const L=je(y),K=je(S);if(b.hasOwnProperty(L)){let Q=b[L];Array.isArray(Q)||(Q=[Q],b[L]=Q),Q.push(K)}else b[L]=K}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=qt(this.remaining),L=this.remaining[S.length];if("/"!==L&&")"!==L&&";"!==L)throw new m.vHH(4010,Ht);let K;S.indexOf(":")>-1?(K=S.slice(0,S.indexOf(":")),this.capture(K),this.capture(":")):b&&(K=Wt);const Q=this.parseChildren();y[K]=1===Object.keys(Q).length?Q[Wt]:new Hn([],Q),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new m.vHH(4011,Ht)}}function pt(D){return D.segments.length>0?new Hn([],{[Wt]:D}):D}function jt(D){const b={};for(const S of Object.keys(D.children)){const K=jt(D.children[S]);(K.segments.length>0||K.hasChildren())&&(b[S]=K)}return function yn(D){if(1===D.numberOfChildren&&D.children[Wt]){const b=D.children[Wt];return new Hn(D.segments.concat(b.segments),b.children)}return D}(new Hn(D.segments,b))}function Cn(D){return D instanceof qn}const er=!1;function zn(D,b,y,S,L){var K;if(0===y.length)return Mi(b.root,b.root,b.root,S,L);const Q=function ln(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new fi(!0,0,D);let b=0,y=!1;const S=D.reduce((L,K,Q)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Ke={};return On(K.outlets,(wt,Qt)=>{Ke[Qt]="string"==typeof wt?wt.split("/"):wt}),[...L,{outlets:Ke}]}if(K.segmentPath)return[...L,K.segmentPath]}return"string"!=typeof K?[...L,K]:0===Q?(K.split("/").forEach((Ke,wt)=>{0==wt&&"."===Ke||(0==wt&&""===Ke?y=!0:".."===Ke?b++:""!=Ke&&L.push(Ke))}),L):[...L,K]},[]);return new fi(y,b,S)}(y);return Q.toRoot()?Mi(b.root,b.root,new Hn([],{}),S,L):function Ke(Qt){var Tn;const gn=function pi(D,b,y,S){if(D.isAbsolute)return new Un(b.root,!0,0);if(-1===S)return new Un(y,y===b.root,0);return function ur(D,b,y){let S=D,L=b,K=y;for(;K>L;){if(K-=L,S=S.parent,!S)throw new m.vHH(4005,er&&"Invalid number of '../'");L=S.segments.length}return new Un(S,!1,L-K)}(y,S+(Pn(D.commands[0])?0:1),D.numberOfDoubleDots)}(Q,b,null===(Tn=D.snapshot)||void 0===Tn?void 0:Tn._urlSegment,Qt),zr=gn.processChildren?Er(gn.segmentGroup,gn.index,Q.commands):ci(gn.segmentGroup,gn.index,Q.commands);return Mi(b.root,gn.segmentGroup,zr,S,L)}(null===(K=D.snapshot)||void 0===K?void 0:K._lastPathIndex)}function Pn(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function qi(D){return"object"==typeof D&&null!=D&&D.outlets}function Mi(D,b,y,S,L){let Q,K={};S&&On(S,(wt,Qt)=>{K[Qt]=Array.isArray(wt)?wt.map(Tn=>`${Tn}`):`${wt}`}),Q=D===b?y:xi(D,b,y);const Ke=pt(jt(Q));return new qn(Ke,K,L)}function xi(D,b,y){const S={};return On(D.children,(L,K)=>{S[K]=L===b?y:xi(L,b,y)}),new Hn(D.segments,S)}class fi{constructor(b,y,S){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=S,b&&S.length>0&&Pn(S[0]))throw new m.vHH(4003,er&&"Root segment cannot have matrix parameters");const L=S.find(qi);if(L&&L!==Gr(S))throw new m.vHH(4004,er&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Un{constructor(b,y,S){this.segmentGroup=b,this.processChildren=y,this.index=S}}function ci(D,b,y){if(D||(D=new Hn([],{})),0===D.segments.length&&D.hasChildren())return Er(D,b,y);const S=function Z(D,b,y){let S=0,L=b;const K={match:!1,pathIndex:0,commandIndex:0};for(;L<D.segments.length;){if(S>=y.length)return K;const Q=D.segments[L],Ke=y[S];if(qi(Ke))break;const wt=`${Ke}`,Qt=S<y.length-1?y[S+1]:null;if(L>0&&void 0===wt)break;if(wt&&Qt&&"object"==typeof Qt&&void 0===Qt.outlets){if(!$e(wt,Qt,Q))return K;S+=2}else{if(!$e(wt,{},Q))return K;S++}L++}return{match:!0,pathIndex:L,commandIndex:S}}(D,b,y),L=y.slice(S.commandIndex);if(S.match&&S.pathIndex<D.segments.length){const K=new Hn(D.segments.slice(0,S.pathIndex),{});return K.children[Wt]=new Hn(D.segments.slice(S.pathIndex),D.children),Er(K,0,L)}return S.match&&0===L.length?new Hn(D.segments,{}):S.match&&!D.hasChildren()?de(D,b,y):S.match?Er(D,0,L):de(D,b,y)}function Er(D,b,y){if(0===y.length)return new Hn(D.segments,{});{const S=function Ur(D){return qi(D[0])?D[0].outlets:{[Wt]:D}}(y),L={};if(!S[Wt]&&D.children[Wt]&&1===D.numberOfChildren&&0===D.children[Wt].segments.length){const K=Er(D.children[Wt],b,y);return new Hn(D.segments,K.children)}return On(S,(K,Q)=>{"string"==typeof K&&(K=[K]),null!==K&&(L[Q]=ci(D.children[Q],b,K))}),On(D.children,(K,Q)=>{void 0===S[Q]&&(L[Q]=K)}),new Hn(D.segments,L)}}function de(D,b,y){const S=D.segments.slice(0,b);let L=0;for(;L<y.length;){const K=y[L];if(qi(K)){const wt=Pe(K.outlets);return new Hn(S,wt)}if(0===L&&Pn(y[0])){S.push(new rr(D.segments[b].path,ie(y[0]))),L++;continue}const Q=qi(K)?K.outlets[Wt]:`${K}`,Ke=L<y.length-1?y[L+1]:null;Q&&Ke&&Pn(Ke)?(S.push(new rr(Q,ie(Ke))),L+=2):(S.push(new rr(Q,{})),L++)}return new Hn(S,{})}function Pe(D){const b={};return On(D,(y,S)=>{"string"==typeof y&&(y=[y]),null!==y&&(b[S]=de(new Hn([],{}),0,y))}),b}function ie(D){const b={};return On(D,(y,S)=>b[S]=`${y}`),b}function $e(D,b,y){return D==y.path&&bn(b,y.parameters)}const Fe="imperative";class _t{constructor(b,y){this.id=b,this.url=y}}class Ct extends _t{constructor(b,y,S="imperative",L=null){super(b,y),this.type=0,this.navigationTrigger=S,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pt extends _t{constructor(b,y,S){super(b,y),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $t extends _t{constructor(b,y,S,L){super(b,y),this.reason=S,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jt extends _t{constructor(b,y,S,L){super(b,y),this.reason=S,this.code=L,this.type=16}}class Nn extends _t{constructor(b,y,S,L){super(b,y),this.error=S,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class An extends _t{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends _t{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends _t{constructor(b,y,S,L,K){super(b,y),this.urlAfterRedirects=S,this.state=L,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ii extends _t{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et extends _t{constructor(b,y,S,L){super(b,y),this.urlAfterRedirects=S,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ut{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kt{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kt{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(b,y,S){this.routerEvent=b,this.position=y,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ro=(()=>{class D{createUrlTree(y,S,L,K,Q,Ke){return zn(y||S.root,L,K,Q,Ke)}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})(),so=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:function(b){return Ro.\u0275fac(b)},providedIn:"root"}),D})();class gi{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=rs(b,this._root);return y?y.children.map(S=>S.value):[]}firstChild(b){const y=rs(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=_s(b,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==b)}pathFromRoot(b){return _s(b,this._root).map(y=>y.value)}}function rs(D,b){if(D===b.value)return b;for(const y of b.children){const S=rs(D,y);if(S)return S}return null}function _s(D,b){if(D===b.value)return[b];for(const y of b.children){const S=_s(D,y);if(S.length)return S.unshift(b),S}return[]}class mi{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function ao(D){const b={};return D&&D.children.forEach(y=>b[y.value.outlet]=y),b}class lo extends gi{constructor(b,y){super(b),this.snapshot=y,$i(this,b)}toString(){return this.snapshot.toString()}}function Os(D,b){const y=function qo(D,b){const Q=new ia([],{},{},"",{},Wt,b,null,D.root,-1,{});return new Ko("",new mi(Q,[]))}(D,b),S=new ne.X([new rr("",{})]),L=new ne.X({}),K=new ne.X({}),Q=new ne.X({}),Ke=new ne.X(""),wt=new Qi(S,L,Q,Ke,K,Wt,b,y.root);return wt.snapshot=y.root,new lo(new mi(wt,[]),y)}class Qi{constructor(b,y,S,L,K,Q,Ke,wt){var Qt,Tn;this.url=b,this.params=y,this.queryParams=S,this.fragment=L,this.data=K,this.outlet=Q,this.component=Ke,this.title=null!==(Qt=null===(Tn=this.data)||void 0===Tn?void 0:Tn.pipe((0,rt.U)(gn=>gn[_n])))&&void 0!==Qt?Qt:(0,W.of)(void 0),this._futureSnapshot=wt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(b=>ir(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(b=>ir(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(D,b="emptyOnly"){const y=D.pathFromRoot;let S=0;if("always"!==b)for(S=y.length-1;S>=1;){const L=y[S],K=y[S-1];if(L.routeConfig&&""===L.routeConfig.path)S--;else{if(K.component)break;S--}}return function Ps(D){return D.reduce((b,y)=>{var S;return{params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...null===(S=y.routeConfig)||void 0===S?void 0:S.data,...y._resolvedData}}},{params:{},data:{},resolve:{}})}(y.slice(S))}class ia{get title(){var b;return null===(b=this.data)||void 0===b?void 0:b[_n]}constructor(b,y,S,L,K,Q,Ke,wt,Qt,Tn,gn){this.url=b,this.params=y,this.queryParams=S,this.fragment=L,this.data=K,this.outlet=Q,this.component=Ke,this.routeConfig=wt,this._urlSegment=Qt,this._lastPathIndex=Tn,this._resolve=gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ir(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ir(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ko extends gi{constructor(b,y){super(y),this.url=b,$i(this,y)}toString(){return Ns(this._root)}}function $i(D,b){b.value._routerState=D,b.children.forEach(y=>$i(D,y))}function Ns(D){const b=D.children.length>0?` { ${D.children.map(Ns).join(", ")} } `:"";return`${D.value}${b}`}function mo(D){if(D.snapshot){const b=D.snapshot,y=D._futureSnapshot;D.snapshot=y,bn(b.queryParams,y.queryParams)||D.queryParams.next(y.queryParams),b.fragment!==y.fragment&&D.fragment.next(y.fragment),bn(b.params,y.params)||D.params.next(y.params),function nn(D,b){if(D.length!==b.length)return!1;for(let y=0;y<D.length;++y)if(!bn(D[y],b[y]))return!1;return!0}(b.url,y.url)||D.url.next(y.url),bn(b.data,y.data)||D.data.next(y.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Di(D,b){const y=bn(D.params,b.params)&&function ti(D,b){return _r(D,b)&&D.every((y,S)=>bn(y.parameters,b[S].parameters))}(D.url,b.url);return y&&!(!D.parent!=!b.parent)&&(!D.parent||Di(D.parent,b.parent))}function Yo(D,b,y){if(y&&D.shouldReuseRoute(b.value,y.value.snapshot)){const S=y.value;S._futureSnapshot=b.value;const L=function yo(D,b,y){return b.children.map(S=>{for(const L of y.children)if(D.shouldReuseRoute(S.value,L.value.snapshot))return Yo(D,S,L);return Yo(D,S)})}(D,b,y);return new mi(S,L)}{if(D.shouldAttach(b.value)){const K=D.retrieve(b.value);if(null!==K){const Q=K.route;return Q.value._futureSnapshot=b.value,Q.children=b.children.map(Ke=>Yo(D,Ke)),Q}}const S=function Sr(D){return new Qi(new ne.X(D.url),new ne.X(D.params),new ne.X(D.queryParams),new ne.X(D.fragment),new ne.X(D.data),D.outlet,D.component,D)}(b.value),L=b.children.map(K=>Yo(D,K));return new mi(S,L)}}const Ji="ngNavigationCancelingError";function vo(D,b){const{redirectTo:y,navigationBehaviorOptions:S}=Cn(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,L=_o(!1,0,b);return L.url=y,L.navigationBehaviorOptions=S,L}function _o(D,b,y){const S=new Error("NavigationCancelingError: "+(D||""));return S[Ji]=!0,S.cancellationCode=b,y&&(S.url=y),S}function Es(D){return Eo(D)&&Cn(D.url)}function Eo(D){return D&&D[Ji]}class Ui{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new is,this.attachRef=null}}let is=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(y,S){const L=this.getOrCreateContext(y);L.outlet=S,this.contexts.set(y,L)}onChildOutletDestroyed(y){const S=this.getContext(y);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let S=this.getContext(y);return S||(S=new Ui,this.contexts.set(y,S)),S}getContext(y){return this.contexts.get(y)||null}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Oo=!1;let Is=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(is),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb)}ngOnChanges(y){if(y.name){const{firstChange:S,previousValue:L}=y.name;if(S)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){var S;return(null===(S=this.parentContexts.getContext(y))||void 0===S?void 0:S.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);null!=y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,Oo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,Oo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,Oo);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,S){this.activated=y,this._activatedRoute=S,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,S){if(this.isActivated)throw new m.vHH(4013,Oo);this._activatedRoute=y;const L=this.location,Q=y.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,wt=new ji(y,Ke,L.injector);if(S&&function si(D){return!!D.resolveComponentFactory}(S)){const Qt=S.resolveComponentFactory(Q);this.activated=L.createComponent(Qt,L.length,wt)}else this.activated=L.createComponent(Q,{index:L.length,injector:wt,environmentInjector:null!=S?S:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275dir=m.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),D})();class ji{constructor(b,y,S){this.route=b,this.childContexts=y,this.parent=S}get(b,y){return b===Qi?this.route:b===is?this.childContexts:this.parent.get(b,y)}}let wi=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275cmp=m.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(y,S){1&y&&m._UZ(0,"router-outlet")},dependencies:[Is],encapsulation:2}),D})();function Po(D,b){var y;return D.providers&&!D._injector&&(D._injector=(0,m.MMx)(D.providers,b,`Route: ${D.path}`)),null!==(y=D._injector)&&void 0!==y?y:b}function Fo(D){const b=D.children&&D.children.map(Fo),y=b?{...D,children:b}:{...D};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==Wt&&(y.component=wi),y}function ui(D){return D.outlet||Wt}function Ys(D,b){const y=D.filter(S=>ui(S)===b);return y.push(...D.filter(S=>ui(S)!==b)),y}function co(D){var b;if(!D)return null;if(null!==(b=D.routeConfig)&&void 0!==b&&b._injector)return D.routeConfig._injector;for(let y=D.parent;y;y=y.parent){const S=y.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class cs{constructor(b,y,S,L){this.routeReuseStrategy=b,this.futureState=y,this.currState=S,this.forwardEvent=L}activate(b){const y=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,S,b),mo(this.futureState.root),this.activateChildRoutes(y,S,b)}deactivateChildRoutes(b,y,S){const L=ao(y);b.children.forEach(K=>{const Q=K.value.outlet;this.deactivateRoutes(K,L[Q],S),delete L[Q]}),On(L,(K,Q)=>{this.deactivateRouteAndItsChildren(K,S)})}deactivateRoutes(b,y,S){const L=b.value,K=y?y.value:null;if(L===K)if(L.component){const Q=S.getContext(L.outlet);Q&&this.deactivateChildRoutes(b,y,Q.children)}else this.deactivateChildRoutes(b,y,S);else K&&this.deactivateRouteAndItsChildren(y,S)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const S=y.getContext(b.value.outlet),L=S&&b.value.component?S.children:y,K=ao(b);for(const Q of Object.keys(K))this.deactivateRouteAndItsChildren(K[Q],L);if(S&&S.outlet){const Q=S.outlet.detach(),Ke=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Q,route:b,contexts:Ke})}}deactivateRouteAndOutlet(b,y){const S=y.getContext(b.value.outlet),L=S&&b.value.component?S.children:y,K=ao(b);for(const Q of Object.keys(K))this.deactivateRouteAndItsChildren(K[Q],L);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(b,y,S){const L=ao(y);b.children.forEach(K=>{this.activateRoutes(K,L[K.value.outlet],S),this.forwardEvent(new Xn(K.value.snapshot))}),b.children.length&&this.forwardEvent(new Kt(b.value.snapshot))}activateRoutes(b,y,S){const L=b.value,K=y?y.value:null;if(mo(L),L===K)if(L.component){const Ke=S.getOrCreateContext(L.outlet);this.activateChildRoutes(b,y,Ke.children)}else this.activateChildRoutes(b,y,S);else if(L.component){const Ke=S.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const wt=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Ke.children.onOutletReAttached(wt.contexts),Ke.attachRef=wt.componentRef,Ke.route=wt.route.value,Ke.outlet&&Ke.outlet.attach(wt.componentRef,wt.route.value),mo(wt.route.value),this.activateChildRoutes(b,null,Ke.children)}else{var Q;const wt=co(L.snapshot),Qt=null!==(Q=null==wt?void 0:wt.get(m._Vd))&&void 0!==Q?Q:null;Ke.attachRef=null,Ke.route=L,Ke.resolver=Qt,Ke.injector=wt,Ke.outlet&&Ke.outlet.activateWith(L,Ke.injector),this.activateChildRoutes(b,null,Ke.children)}}else this.activateChildRoutes(b,null,S)}}class sr{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class us{constructor(b,y){this.component=b,this.route=y}}function ws(D,b,y){const S=D._root;return U(S,b?b._root:null,y,[S.value])}function _(D,b){const y=Symbol(),S=b.get(D,y);return S===y?"function"!=typeof D||(0,m.Z0I)(D)?b.get(D):D:S}function U(D,b,y,S,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=ao(b);return D.children.forEach(Q=>{(function I(D,b,y,S,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=D.value,Q=b?b.value:null,Ke=y?y.getContext(D.value.outlet):null;if(Q&&K.routeConfig===Q.routeConfig){const wt=function $(D,b,y){if("function"==typeof y)return y(D,b);switch(y){case"pathParamsChange":return!_r(D.url,b.url);case"pathParamsOrQueryParamsChange":return!_r(D.url,b.url)||!bn(D.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Di(D,b)||!bn(D.queryParams,b.queryParams);default:return!Di(D,b)}}(Q,K,K.routeConfig.runGuardsAndResolvers);wt?L.canActivateChecks.push(new sr(S)):(K.data=Q.data,K._resolvedData=Q._resolvedData),U(D,b,K.component?Ke?Ke.children:null:y,S,L),wt&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&L.canDeactivateChecks.push(new us(Ke.outlet.component,Q))}else Q&&re(b,Ke,L),L.canActivateChecks.push(new sr(S)),U(D,null,K.component?Ke?Ke.children:null:y,S,L)})(Q,K[Q.value.outlet],y,S.concat([Q.value]),L),delete K[Q.value.outlet]}),On(K,(Q,Ke)=>re(Q,y.getContext(Ke),L)),L}function re(D,b,y){const S=ao(D),L=D.value;On(S,(K,Q)=>{re(K,L.component?b?b.children.getContext(Q):null:b,y)}),y.canDeactivateChecks.push(new us(L.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,L))}function C(D){return"function"==typeof D}function Ri(D){return D instanceof Ae.K||"EmptyError"===(null==D?void 0:D.name)}const Lo=Symbol("INITIAL_VALUE");function Qr(){return(0,ct.w)(D=>me(D.map(b=>b.pipe((0,Je.q)(1),(0,ht.O)(Lo)))).pipe((0,rt.U)(b=>{for(const y of b)if(!0!==y){if(y===Lo)return Lo;if(!1===y||y instanceof qn)return y}return!0}),(0,it.h)(b=>b!==Lo),(0,Je.q)(1)))}function Wl(D){return(0,ot.z)((0,Qe.b)(b=>{if(Cn(b))throw vo(0,b)}),(0,rt.U)(b=>!0===b))}const Xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function va(D,b,y,S,L){const K=Xs(D,b,y);return K.matched?function Pi(D,b,y,S){const L=b.canMatch;if(!L||0===L.length)return(0,W.of)(!0);const K=L.map(Q=>{const Ke=_(Q,D);return jn(function hr(D){return D&&C(D.canMatch)}(Ke)?Ke.canMatch(b,y):D.runInContext(()=>Ke(b,y)))});return(0,W.of)(K).pipe(Qr(),Wl())}(S=Po(b,S),b,y).pipe((0,rt.U)(Q=>!0===Q?K:{...Xo})):(0,W.of)(K)}function Xs(D,b,y){var S;if(""===b.path)return"full"===b.pathMatch&&(D.hasChildren()||y.length>0)?{...Xo}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const K=(b.matcher||Bn)(y,D,b);if(!K)return{...Xo};const Q={};On(K.posParams,(wt,Qt)=>{Q[Qt]=wt.path});const Ke=K.consumed.length>0?{...Q,...K.consumed[K.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:K.consumed,remainingSegments:y.slice(K.consumed.length),parameters:Ke,positionalParamSegments:null!==(S=K.posParams)&&void 0!==S?S:{}}}function Qs(D,b,y,S){if(y.length>0&&function Bs(D,b,y){return y.some(S=>bs(D,b,S)&&ui(S)!==Wt)}(D,y,S)){const K=new Hn(b,function _a(D,b,y,S){const L={};L[Wt]=S,S._sourceSegment=D,S._segmentIndexShift=b.length;for(const K of y)if(""===K.path&&ui(K)!==Wt){const Q=new Hn([],{});Q._sourceSegment=D,Q._segmentIndexShift=b.length,L[ui(K)]=Q}return L}(D,b,S,new Hn(y,D.children)));return K._sourceSegment=D,K._segmentIndexShift=b.length,{segmentGroup:K,slicedSegments:[]}}if(0===y.length&&function Oa(D,b,y){return y.some(S=>bs(D,b,S))}(D,y,S)){const K=new Hn(D.segments,function sa(D,b,y,S,L){const K={};for(const Q of S)if(bs(D,y,Q)&&!L[ui(Q)]){const Ke=new Hn([],{});Ke._sourceSegment=D,Ke._segmentIndexShift=b.length,K[ui(Q)]=Ke}return{...L,...K}}(D,b,y,S,D.children));return K._sourceSegment=D,K._segmentIndexShift=b.length,{segmentGroup:K,slicedSegments:y}}const L=new Hn(D.segments,D.children);return L._sourceSegment=D,L._segmentIndexShift=b.length,{segmentGroup:L,slicedSegments:y}}function bs(D,b,y){return(!(D.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}function Cs(D,b,y,S){return!!(ui(D)===S||S!==Wt&&bs(b,y,D))&&("**"===D.path||Xs(b,D,y).matched)}function aa(D,b,y){return 0===b.length&&!D.children[y]}const Ea=!1;class $s{constructor(b){this.segmentGroup=b||null}}class Hi{constructor(b){this.urlTree=b}}function eo(D){return qe(new $s(D))}function Pr(D){return qe(new Hi(D))}class ql{constructor(b,y,S,L,K){this.injector=b,this.configLoader=y,this.urlSerializer=S,this.urlTree=L,this.config=K,this.allowRedirects=!0}apply(){const b=Qs(this.urlTree.root,[],[],this.config).segmentGroup,y=new Hn(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,y,Wt).pipe((0,rt.U)(K=>this.createUrlTree(jt(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(at(K=>{if(K instanceof Hi)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof $s?this.noMatchError(K):K}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,Wt).pipe((0,rt.U)(L=>this.createUrlTree(jt(L),b.queryParams,b.fragment))).pipe(at(L=>{throw L instanceof $s?this.noMatchError(L):L}))}noMatchError(b){return new m.vHH(4002,Ea)}createUrlTree(b,y,S){const L=pt(b);return new qn(L,y,S)}expandSegmentGroup(b,y,S,L){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(b,y,S).pipe((0,rt.U)(K=>new Hn([],K))):this.expandSegment(b,S,y,S.segments,L,!0)}expandChildren(b,y,S){const L=[];for(const K of Object.keys(S.children))"primary"===K?L.unshift(K):L.push(K);return(0,h.D)(L).pipe((0,Ce.b)(K=>{const Q=S.children[K],Ke=Ys(y,K);return this.expandSegmentGroup(b,Ke,Q,K).pipe((0,rt.U)(wt=>({segment:wt,outlet:K})))}),(0,Ft.R)((K,Q)=>(K[Q.outlet]=Q.segment,K),{}),pe())}expandSegment(b,y,S,L,K,Q){return(0,h.D)(S).pipe((0,Ce.b)(Ke=>this.expandSegmentAgainstRoute(b,y,S,Ke,L,K,Q).pipe(at(Qt=>{if(Qt instanceof $s)return(0,W.of)(null);throw Qt}))),(0,Te.P)(Ke=>!!Ke),at((Ke,wt)=>{if(Ri(Ke))return aa(y,L,K)?(0,W.of)(new Hn([],{})):eo(y);throw Ke}))}expandSegmentAgainstRoute(b,y,S,L,K,Q,Ke){return Cs(L,y,K,Q)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(b,y,L,K,Q):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q):eo(y):eo(y)}expandSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,L,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,S,L){const K=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Pr(K):this.lineralizeSegments(S,K).pipe((0,De.z)(Q=>{const Ke=new Hn(Q,{});return this.expandSegment(b,Ke,y,Q,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,L,K,Q){const{matched:Ke,consumedSegments:wt,remainingSegments:Qt,positionalParamSegments:Tn}=Xs(y,L,K);if(!Ke)return eo(y);const gn=this.applyRedirectCommands(wt,L.redirectTo,Tn);return L.redirectTo.startsWith("/")?Pr(gn):this.lineralizeSegments(L,gn).pipe((0,De.z)(zr=>this.expandSegment(b,y,S,zr.concat(Qt),Q,!1)))}matchSegmentAgainstRoute(b,y,S,L,K){return"**"===S.path?(b=Po(S,b),S.loadChildren?(S._loadedRoutes?(0,W.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(b,S)).pipe((0,rt.U)(Ke=>(S._loadedRoutes=Ke.routes,S._loadedInjector=Ke.injector,new Hn(L,{})))):(0,W.of)(new Hn(L,{}))):va(y,S,L,b).pipe((0,ct.w)(({matched:Q,consumedSegments:Ke,remainingSegments:wt})=>{var Qt;return Q?(b=null!==(Qt=S._injector)&&void 0!==Qt?Qt:b,this.getChildConfig(b,S,L).pipe((0,De.z)(gn=>{var zr;const Ci=null!==(zr=gn.injector)&&void 0!==zr?zr:b,no=gn.routes,{segmentGroup:Ts,slicedSegments:ts}=Qs(y,Ke,wt,no),jo=new Hn(Ts.segments,Ts.children);if(0===ts.length&&jo.hasChildren())return this.expandChildren(Ci,no,jo).pipe((0,rt.U)(Ac=>new Hn(Ke,Ac)));if(0===no.length&&0===ts.length)return(0,W.of)(new Hn(Ke,{}));const Ss=ui(S)===K;return this.expandSegment(Ci,jo,no,ts,Ss?Wt:K,!0).pipe((0,rt.U)(ss=>new Hn(Ke.concat(ss.segments),ss.children)))}))):eo(y)}))}getChildConfig(b,y,S){return y.children?(0,W.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,W.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Zs(D,b,y,S){const L=b.canLoad;if(void 0===L||0===L.length)return(0,W.of)(!0);const K=L.map(Q=>{const Ke=_(Q,D);return jn(function R(D){return D&&C(D.canLoad)}(Ke)?Ke.canLoad(b,y):D.runInContext(()=>Ke(b,y)))});return(0,W.of)(K).pipe(Qr(),Wl())}(b,y,S).pipe((0,De.z)(L=>L?this.configLoader.loadChildren(b,y).pipe((0,Qe.b)(K=>{y._loadedRoutes=K.routes,y._loadedInjector=K.injector})):function El(D){return qe(_o(Ea,3))}())):(0,W.of)({routes:[],injector:b})}lineralizeSegments(b,y){let S=[],L=y.root;for(;;){if(S=S.concat(L.segments),0===L.numberOfChildren)return(0,W.of)(S);if(L.numberOfChildren>1||!L.children[Wt])return b.redirectTo,qe(new m.vHH(4e3,Ea));L=L.children[Wt]}}applyRedirectCommands(b,y,S){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,S)}applyRedirectCreateUrlTree(b,y,S,L){const K=this.createSegmentGroup(b,y.root,S,L);return new qn(K,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const S={};return On(b,(L,K)=>{if("string"==typeof L&&L.startsWith(":")){const Ke=L.substring(1);S[K]=y[Ke]}else S[K]=L}),S}createSegmentGroup(b,y,S,L){const K=this.createSegments(b,y.segments,S,L);let Q={};return On(y.children,(Ke,wt)=>{Q[wt]=this.createSegmentGroup(b,Ke,S,L)}),new Hn(K,Q)}createSegments(b,y,S,L){return y.map(K=>K.path.startsWith(":")?this.findPosParam(b,K,L):this.findOrReturn(K,S))}findPosParam(b,y,S){const L=S[y.path.substring(1)];if(!L)throw new m.vHH(4001,Ea);return L}findOrReturn(b,y){let S=0;for(const L of y){if(L.path===b.path)return y.splice(S),L;S++}return b}}class Hr{}class O{constructor(b,y,S,L,K,Q,Ke){this.injector=b,this.rootComponentType=y,this.config=S,this.urlTree=L,this.url=K,this.paramsInheritanceStrategy=Q,this.urlSerializer=Ke}recognize(){const b=Qs(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Wt).pipe((0,rt.U)(y=>{if(null===y)return null;const S=new ia([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new mi(S,y),K=new Ko(this.url,L);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(b){const y=b.value,S=go(y,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),b.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(b,y,S,L){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,y,S):this.processSegment(b,y,S,S.segments,L)}processChildren(b,y,S){return(0,h.D)(Object.keys(S.children)).pipe((0,Ce.b)(L=>{const K=S.children[L],Q=Ys(y,L);return this.processSegmentGroup(b,Q,K,L)}),(0,Ft.R)((L,K)=>L&&K?(L.push(...K),L):null),function vt(D,b=!1){return(0,Se.e)((y,S)=>{let L=0;y.subscribe((0,ae.x)(S,K=>{const Q=D(K,L++);(Q||b)&&S.next(K),!Q&&S.complete()}))})}(L=>null!==L),(0,gt.d)(null),pe(),(0,rt.U)(L=>{if(null===L)return null;const K=_e(L);return function G(D){D.sort((b,y)=>b.value.outlet===Wt?-1:y.value.outlet===Wt?1:b.value.outlet.localeCompare(y.value.outlet))}(K),K}))}processSegment(b,y,S,L,K){return(0,h.D)(y).pipe((0,Ce.b)(Q=>{var Ke;return this.processSegmentAgainstRoute(null!==(Ke=Q._injector)&&void 0!==Ke?Ke:b,Q,S,L,K)}),(0,Te.P)(Q=>!!Q),at(Q=>{if(Ri(Q))return aa(S,L,K)?(0,W.of)([]):(0,W.of)(null);throw Q}))}processSegmentAgainstRoute(b,y,S,L,K){if(y.redirectTo||!Cs(y,S,L,K))return(0,W.of)(null);let Q;if("**"===y.path){var Ke,wt;const Qt=L.length>0?Gr(L).parameters:{},Tn=In(S)+L.length,gn=new ia(L,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dr(y),ui(y),null!==(Ke=null!==(wt=y.component)&&void 0!==wt?wt:y._loadedComponent)&&void 0!==Ke?Ke:null,y,Lt(S),Tn,fr(y));Q=(0,W.of)({snapshot:gn,consumedSegments:[],remainingSegments:[]})}else Q=va(S,y,L,b).pipe((0,rt.U)(({matched:Qt,consumedSegments:Tn,remainingSegments:gn,parameters:zr})=>{var Ci,no;if(!Qt)return null;const Ts=In(S)+Tn.length;return{snapshot:new ia(Tn,zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dr(y),ui(y),null!==(Ci=null!==(no=y.component)&&void 0!==no?no:y._loadedComponent)&&void 0!==Ci?Ci:null,y,Lt(S),Ts,fr(y)),consumedSegments:Tn,remainingSegments:gn}}));return Q.pipe((0,ct.w)(Qt=>{var Tn,gn;if(null===Qt)return(0,W.of)(null);const{snapshot:zr,consumedSegments:Ci,remainingSegments:no}=Qt;b=null!==(Tn=y._injector)&&void 0!==Tn?Tn:b;const Ts=null!==(gn=y._loadedInjector)&&void 0!==gn?gn:b,ts=function k(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(y),{segmentGroup:jo,slicedSegments:Ss}=Qs(S,Ci,no,ts.filter(ss=>void 0===ss.redirectTo));if(0===Ss.length&&jo.hasChildren())return this.processChildren(Ts,ts,jo).pipe((0,rt.U)(ss=>null===ss?null:[new mi(zr,ss)]));if(0===ts.length&&0===Ss.length)return(0,W.of)([new mi(zr,[])]);const Sc=ui(y)===K;return this.processSegment(Ts,ts,jo,Ss,Sc?Wt:K).pipe((0,rt.U)(ss=>null===ss?null:[new mi(zr,ss)]))}))}}function Y(D){const b=D.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function _e(D){const b=[],y=new Set;for(const S of D){if(!Y(S)){b.push(S);continue}const L=b.find(K=>S.value.routeConfig===K.value.routeConfig);void 0!==L?(L.children.push(...S.children),y.add(L)):b.push(S)}for(const S of y){const L=_e(S.children);b.push(new mi(S.value,L))}return b.filter(S=>!y.has(S))}function Lt(D){let b=D;for(;b._sourceSegment;)b=b._sourceSegment;return b}function In(D){var b;let y=D,S=null!==(b=y._segmentIndexShift)&&void 0!==b?b:0;for(;y._sourceSegment;){var L;y=y._sourceSegment,S+=null!==(L=y._segmentIndexShift)&&void 0!==L?L:0}return S-1}function Dr(D){return D.data||{}}function fr(D){return D.resolve||{}}function fs(D){return"string"==typeof D.title||null===D.title}function zi(D){return(0,ct.w)(b=>{const y=D(b);return y?(0,h.D)(y).pipe((0,rt.U)(()=>b)):(0,W.of)(b)})}const Co=new m.OlP("ROUTES");let To=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,W.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const S=jn(y.loadComponent()).pipe((0,rt.U)(nl),(0,Qe.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=K}),hn(()=>{this.componentLoaders.delete(y)})),L=new Ie(S,()=>new ve.x).pipe(Ee());return this.componentLoaders.set(y,L),L}loadChildren(y,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,W.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const K=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,rt.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(S);let wt,Qt,Tn=!1;Array.isArray(Ke)?Qt=Ke:(wt=Ke.create(y).injector,Qt=lr(wt.get(Co,[],m.XFs.Self|m.XFs.Optional)));return{routes:Qt.map(Fo),injector:wt}}),hn(()=>{this.childrenLoaders.delete(S)})),Q=new Ie(K,()=>new ve.x).pipe(Ee());return this.childrenLoaders.set(S,Q),Q}loadModuleFactoryOrRoutes(y){return jn(y()).pipe((0,rt.U)(nl),(0,De.z)(S=>S instanceof m.YKP||Array.isArray(S)?(0,W.of)(S):(0,h.D)(this.compiler.compileModuleAsync(S))))}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function nl(D){return function Da(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let ps=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ve.x,this.configLoader=(0,m.f3M)(To),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Le),this.rootContexts=(0,m.f3M)(is),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new ut(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new ze(L))}complete(){var y;null===(y=this.transitions)||void 0===y||y.complete()}handleNavigationRequest(y){var S;const L=++this.navigationId;null===(S=this.transitions)||void 0===S||S.next({...this.transitions.value,...y,id:L})}setupNavigations(y){return this.transitions=new ne.X({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fe,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(S=>0!==S.id),(0,rt.U)(S=>({...S,extractedUrl:y.urlHandlingStrategy.extract(S.rawUrl)})),(0,ct.w)(S=>{let L=!1,K=!1;return(0,W.of)(S).pipe((0,Qe.b)(Q=>{this.currentNavigation={id:Q.id,initialUrl:Q.rawUrl,extractedUrl:Q.extractedUrl,trigger:Q.source,extras:Q.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ct.w)(Q=>{var Ke;const wt=y.browserUrlTree.toString(),Qt=!y.navigated||Q.extractedUrl.toString()!==wt||wt!==y.currentUrlTree.toString(),Tn=null!==(Ke=Q.extras.onSameUrlNavigation)&&void 0!==Ke?Ke:y.onSameUrlNavigation;if(!Qt&&"reload"!==Tn){const gn="";return this.events.next(new Jt(Q.id,y.serializeUrl(S.rawUrl),gn,0)),y.rawUrlTree=Q.rawUrl,Q.resolve(null),Ve.E}if(y.urlHandlingStrategy.shouldProcessUrl(Q.rawUrl))return Kl(Q.source)&&(y.browserUrlTree=Q.extractedUrl),(0,W.of)(Q).pipe((0,ct.w)(gn=>{var zr,Ci;const no=null===(zr=this.transitions)||void 0===zr?void 0:zr.getValue();return this.events.next(new Ct(gn.id,this.urlSerializer.serialize(gn.extractedUrl),gn.source,gn.restoredState)),no!==(null===(Ci=this.transitions)||void 0===Ci?void 0:Ci.getValue())?Ve.E:Promise.resolve(gn)}),function Jo(D,b,y,S){return(0,ct.w)(L=>function Qo(D,b,y,S,L){return new ql(D,b,y,S,L).apply()}(D,b,y,L.extractedUrl,S).pipe((0,rt.U)(K=>({...L,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,Qe.b)(gn=>{this.currentNavigation={...this.currentNavigation,finalUrl:gn.urlAfterRedirects},S.urlAfterRedirects=gn.urlAfterRedirects}),function ar(D,b,y,S,L){return(0,De.z)(K=>function Ia(D,b,y,S,L,K,Q="emptyOnly"){return new O(D,b,y,S,L,Q,K).recognize().pipe((0,ct.w)(Ke=>null===Ke?function tl(D){return new we.y(b=>b.error(D))}(new Hr):(0,W.of)(Ke)))}(D,b,y,K.urlAfterRedirects,S.serialize(K.urlAfterRedirects),S,L).pipe((0,rt.U)(Q=>({...K,targetSnapshot:Q}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Qe.b)(gn=>{if(S.targetSnapshot=gn.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!gn.extras.skipLocationChange){const Ci=y.urlHandlingStrategy.merge(gn.urlAfterRedirects,gn.rawUrl);y.setBrowserUrl(Ci,gn)}y.browserUrlTree=gn.urlAfterRedirects}const zr=new An(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(zr)}));if(Qt&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:gn,extractedUrl:zr,source:Ci,restoredState:no,extras:Ts}=Q,ts=new Ct(gn,this.urlSerializer.serialize(zr),Ci,no);this.events.next(ts);const jo=Os(zr,this.rootComponentType).snapshot;return S={...Q,targetSnapshot:jo,urlAfterRedirects:zr,extras:{...Ts,skipLocationChange:!1,replaceUrl:!1}},(0,W.of)(S)}{const gn="";return this.events.next(new Jt(Q.id,y.serializeUrl(S.extractedUrl),gn,1)),y.rawUrlTree=Q.rawUrl,Q.resolve(null),Ve.E}}),(0,Qe.b)(Q=>{const Ke=new Zn(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(Ke)}),(0,rt.U)(Q=>S={...Q,guards:ws(Q.targetSnapshot,Q.currentSnapshot,this.rootContexts)}),function Fs(D,b){return(0,De.z)(y=>{const{targetSnapshot:S,currentSnapshot:L,guards:{canActivateChecks:K,canDeactivateChecks:Q}}=y;return 0===Q.length&&0===K.length?(0,W.of)({...y,guardsResult:!0}):function Oi(D,b,y,S){return(0,h.D)(D).pipe((0,De.z)(L=>function oa(D,b,y,S,L){const K=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,W.of)(!0);const Q=K.map(Ke=>{var wt;const Qt=null!==(wt=co(b))&&void 0!==wt?wt:L,Tn=_(Ke,Qt);return jn(function rn(D){return D&&C(D.canDeactivate)}(Tn)?Tn.canDeactivate(D,b,y,S):Qt.runInContext(()=>Tn(D,b,y,S))).pipe((0,Te.P)())});return(0,W.of)(Q).pipe(Qr())}(L.component,L.route,y,b,S)),(0,Te.P)(L=>!0!==L,!0))}(Q,S,L,D).pipe((0,De.z)(Ke=>Ke&&function x(D){return"boolean"==typeof D}(Ke)?function Io(D,b,y,S){return(0,h.D)(b).pipe((0,Ce.b)(L=>(0,be.z)(function Ls(D,b){return null!==D&&b&&b(new kt(D)),(0,W.of)(!0)}(L.route.parent,S),function Do(D,b){return null!==D&&b&&b(new Gn(D)),(0,W.of)(!0)}(L.route,S),function ya(D,b,y){const S=b[b.length-1],K=b.slice(0,b.length-1).reverse().map(Q=>function ds(D){const b=D.routeConfig?D.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:D,guards:b}:null}(Q)).filter(Q=>null!==Q).map(Q=>te(()=>{const Ke=Q.guards.map(wt=>{var Qt;const Tn=null!==(Qt=co(Q.node))&&void 0!==Qt?Qt:y,gn=_(wt,Tn);return jn(function nt(D){return D&&C(D.canActivateChild)}(gn)?gn.canActivateChild(S,D):Tn.runInContext(()=>gn(S,D))).pipe((0,Te.P)())});return(0,W.of)(Ke).pipe(Qr())}));return(0,W.of)(K).pipe(Qr())}(D,L.path,y),function wo(D,b,y){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,W.of)(!0);const L=S.map(K=>te(()=>{var Q;const Ke=null!==(Q=co(b))&&void 0!==Q?Q:y,wt=_(K,Ke);return jn(function q(D){return D&&C(D.canActivate)}(wt)?wt.canActivate(b,D):Ke.runInContext(()=>wt(b,D))).pipe((0,Te.P)())}));return(0,W.of)(L).pipe(Qr())}(D,L.route,y))),(0,Te.P)(L=>!0!==L,!0))}(S,K,D,b):(0,W.of)(Ke)),(0,rt.U)(Ke=>({...y,guardsResult:Ke})))})}(this.environmentInjector,Q=>this.events.next(Q)),(0,Qe.b)(Q=>{if(S.guardsResult=Q.guardsResult,Cn(Q.guardsResult))throw vo(0,Q.guardsResult);const Ke=new Kr(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot,!!Q.guardsResult);this.events.next(Ke)}),(0,it.h)(Q=>!!Q.guardsResult||(y.restoreHistory(Q),this.cancelNavigationTransition(Q,"",3),!1)),zi(Q=>{if(Q.guards.canActivateChecks.length)return(0,W.of)(Q).pipe((0,Qe.b)(Ke=>{const wt=new ii(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(wt)}),(0,ct.w)(Ke=>{let wt=!1;return(0,W.of)(Ke).pipe(function oi(D,b){return(0,De.z)(y=>{const{targetSnapshot:S,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,W.of)(y);let K=0;return(0,h.D)(L).pipe((0,Ce.b)(Q=>function Yr(D,b,y,S){const L=D.routeConfig,K=D._resolve;return void 0!==(null==L?void 0:L.title)&&!fs(L)&&(K[_n]=L.title),function di(D,b,y,S){const L=function hs(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===L.length)return(0,W.of)({});const K={};return(0,h.D)(L).pipe((0,De.z)(Q=>function Bo(D,b,y,S){var L;const K=null!==(L=co(b))&&void 0!==L?L:S,Q=_(D,K);return jn(Q.resolve?Q.resolve(b,y):K.runInContext(()=>Q(b,y)))}(D[Q],b,y,S).pipe((0,Te.P)(),(0,Qe.b)(Ke=>{K[Q]=Ke}))),St(1),function Zt(D){return(0,rt.U)(()=>D)}(K),at(Q=>Ri(Q)?Ve.E:qe(Q)))}(K,D,b,S).pipe((0,rt.U)(Q=>(D._resolvedData=Q,D.data=go(D,y).resolve,L&&fs(L)&&(D.data[_n]=L.title),null)))}(Q.route,S,D,b)),(0,Qe.b)(()=>K++),St(1),(0,De.z)(Q=>K===L.length?(0,W.of)(y):Ve.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Qe.b)({next:()=>wt=!0,complete:()=>{wt||(y.restoreHistory(Ke),this.cancelNavigationTransition(Ke,"",2))}}))}),(0,Qe.b)(Ke=>{const wt=new et(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(wt)}))}),zi(Q=>{const Ke=wt=>{var Qt;const Tn=[];null!==(Qt=wt.routeConfig)&&void 0!==Qt&&Qt.loadComponent&&!wt.routeConfig._loadedComponent&&Tn.push(this.configLoader.loadComponent(wt.routeConfig).pipe((0,Qe.b)(gn=>{wt.component=gn}),(0,rt.U)(()=>{})));for(const gn of wt.children)Tn.push(...Ke(gn));return Tn};return me(Ke(Q.targetSnapshot.root)).pipe((0,gt.d)(),(0,Je.q)(1))}),zi(()=>this.afterPreactivation()),(0,rt.U)(Q=>{const Ke=function ks(D,b,y){const S=Yo(D,b._root,y?y._root:void 0);return new lo(S,b)}(y.routeReuseStrategy,Q.targetSnapshot,Q.currentRouterState);return S={...Q,targetRouterState:Ke}}),(0,Qe.b)(Q=>{y.currentUrlTree=Q.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl),y.routerState=Q.targetRouterState,"deferred"===y.urlUpdateStrategy&&(Q.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,Q),y.browserUrlTree=Q.urlAfterRedirects)}),((D,b,y)=>(0,rt.U)(S=>(new cs(b,S.targetRouterState,S.currentRouterState,y).activate(D),S)))(this.rootContexts,y.routeReuseStrategy,Q=>this.events.next(Q)),(0,Je.q)(1),(0,Qe.b)({next:Q=>{var Ke;L=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Pt(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),null===(Ke=y.titleStrategy)||void 0===Ke||Ke.updateTitle(Q.targetRouterState.snapshot),Q.resolve(!0)},complete:()=>{L=!0}}),hn(()=>{var Q;L||K||this.cancelNavigationTransition(S,"",1),(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.id)===S.id&&(this.currentNavigation=null)}),at(Q=>{if(K=!0,Eo(Q)){Es(Q)||(y.navigated=!0,y.restoreHistory(S,!0));const wt=new $t(S.id,this.urlSerializer.serialize(S.extractedUrl),Q.message,Q.cancellationCode);if(this.events.next(wt),Es(Q)){const Qt=y.urlHandlingStrategy.merge(Q.url,y.rawUrlTree),Tn={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Kl(S.source)};y.scheduleNavigation(Qt,Fe,null,Tn,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{var Ke;y.restoreHistory(S,!0);const wt=new Nn(S.id,this.urlSerializer.serialize(S.extractedUrl),Q,null!==(Ke=S.targetSnapshot)&&void 0!==Ke?Ke:void 0);this.events.next(wt);try{S.resolve(y.errorHandler(Q))}catch(Qt){S.reject(Qt)}}return Ve.E}))}))}cancelNavigationTransition(y,S,L){const K=new $t(y.id,this.urlSerializer.serialize(y.extractedUrl),S,L);this.events.next(K),y.resolve(!1)}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Kl(D){return D!==Fe}let bi=(()=>{class D{buildTitle(y){let S,L=y.root;for(;void 0!==L;){var K;S=null!==(K=this.getResolvedTitleForRoute(L))&&void 0!==K?K:S,L=L.children.find(Q=>Q.outlet===Wt)}return S}getResolvedTitleForRoute(y){return y.data[_n]}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:function(){return(0,m.f3M)(es)},providedIn:"root"}),D})(),es=(()=>{class D extends bi{constructor(y){super(),this.title=y}updateTitle(y){const S=this.buildTitle(y);void 0!==S&&this.title.setTitle(S)}}return D.\u0275fac=function(y){return new(y||D)(m.LFG(un.Dx))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),$o=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:function(){return(0,m.f3M)(il)},providedIn:"root"}),D})();class rl{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let il=(()=>{class D extends rl{}return D.\u0275fac=function(){let b;return function(S){return(b||(b=m.n5z(D)))(S||D)}}(),D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Ei=new m.OlP("",{providedIn:"root",factory:()=>({})});let Br=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:function(){return(0,m.f3M)(Yl)},providedIn:"root"}),D})(),Yl=(()=>{class D{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,S){return y}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Wn(D){throw D}function Dl(D,b,y){return b.parse("/")}const Dn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ut=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var y;if("computed"===this.canceledNavigationResolution)return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var y;this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Ei,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Wn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Br),this.routeReuseStrategy=(0,m.f3M)($o),this.urlCreationStrategy=(0,m.f3M)(so),this.titleStrategy=(0,m.f3M)(bi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lr(null!==(y=(0,m.f3M)(Co,{optional:!0}))&&void 0!==y?y:[]),this.navigationTransitions=(0,m.f3M)(ps),this.urlSerializer=(0,m.f3M)(Le),this.location=(0,m.f3M)(Be.Ye),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Os(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(S=>{var L;this.lastSuccessfulId=S.id,this.currentPageId=null!==(L=this.browserPageId)&&void 0!==L?L:0},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fe,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const S="popstate"===y.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,S,y.state)},0)}))}navigateToSyncWithBrowser(y,S,L){const K={replaceUrl:!0},Q=null!=L&&L.navigationId?L:null;if(L){const wt={...L};delete wt.navigationId,delete wt.\u0275routerPageId,0!==Object.keys(wt).length&&(K.state=wt)}const Ke=this.parseUrl(y);this.scheduleNavigation(Ke,S,Q,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,S={}){const{relativeTo:L,queryParams:K,fragment:Q,queryParamsHandling:Ke,preserveFragment:wt}=S,Qt=wt?this.currentUrlTree.fragment:Q;let Tn=null;switch(Ke){case"merge":Tn={...this.currentUrlTree.queryParams,...K};break;case"preserve":Tn=this.currentUrlTree.queryParams;break;default:Tn=K||null}return null!==Tn&&(Tn=this.removeEmptyProps(Tn)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,y,Tn,null!=Qt?Qt:null)}navigateByUrl(y,S={skipLocationChange:!1}){const L=Cn(y)?y:this.parseUrl(y),K=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(K,Fe,null,S)}navigate(y,S={skipLocationChange:!1}){return function Rr(D){for(let b=0;b<D.length;b++){const y=D[b];if(null==y)throw new m.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,S),S)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let S;try{S=this.urlSerializer.parse(y)}catch(L){S=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return S}isActive(y,S){let L;if(L=!0===S?{...Dn}:!1===S?{...Dt}:S,Cn(y))return Fr(this.currentUrlTree,y,L);const K=this.parseUrl(y);return Fr(this.currentUrlTree,K,L)}removeEmptyProps(y){return Object.keys(y).reduce((S,L)=>{const K=y[L];return null!=K&&(S[L]=K),S},{})}scheduleNavigation(y,S,L,K,Q){if(this.disposed)return Promise.resolve(!1);let Ke,wt,Qt,Tn;if(Q?(Ke=Q.resolve,wt=Q.reject,Qt=Q.promise):Qt=new Promise((zr,Ci)=>{Ke=zr,wt=Ci}),"computed"===this.canceledNavigationResolution)if(L&&L.\u0275routerPageId)Tn=L.\u0275routerPageId;else{var gn;Tn=(null!==(gn=this.browserPageId)&&void 0!==gn?gn:0)+1}else Tn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:Tn,source:S,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:K,resolve:Ke,reject:wt,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(zr=>Promise.reject(zr))}setBrowserUrl(y,S){const L=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(L)||S.extras.replaceUrl){const Q={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(L,"",Q)}else{const K={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(L,"",K)}}restoreHistory(y,S=!1){if("computed"===this.canceledNavigationResolution){var L,K;const Q=null!==(L=this.browserPageId)&&void 0!==L?L:this.currentPageId,Ke=this.currentPageId-Q;0!==Ke?this.location.historyGo(Ke):this.currentUrlTree===(null===(K=this.getCurrentNavigation())||void 0===K?void 0:K.finalUrl)&&0===Ke&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,S){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:S}:{navigationId:y}}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),ca=(()=>{class D{constructor(y,S,L,K,Q,Ke){var wt;this.router=y,this.route=S,this.tabIndexAttribute=L,this.renderer=K,this.el=Q,this.locationStrategy=Ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ve.x;const Qt=null===(wt=Q.nativeElement.tagName)||void 0===wt?void 0:wt.toLowerCase();this.isAnchorElement="a"===Qt||"area"===Qt,this.isAnchorElement?this.subscription=y.events.subscribe(Tn=>{Tn instanceof Pt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,m.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,m.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,m.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,S,L,K,Q){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||S||L||K||Q||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var y;null===(y=this.subscription)||void 0===y||y.unsubscribe()}updateHref(){var y;this.href=null!==this.urlTree&&this.locationStrategy?null===(y=this.locationStrategy)||void 0===y?void 0:y.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const S=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(y,S){const L=this.renderer,K=this.el.nativeElement;null!==S?L.setAttribute(K,y,S):L.removeAttribute(K,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(y){return new(y||D)(m.Y36(Ut),m.Y36(Qi),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Be.S$))},D.\u0275dir=m.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,S){1&y&&m.NdJ("click",function(K){return S.onClick(K.button,K.ctrlKey,K.shiftKey,K.altKey,K.metaKey)}),2&y&&m.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),D})();class Vs{}let su=(()=>{class D{preload(y,S){return S().pipe(at(()=>(0,W.of)(null)))}}return D.\u0275fac=function(y){return new(y||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),wa=(()=>{class D{constructor(y,S,L,K,Q){this.router=y,this.injector=L,this.preloadingStrategy=K,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(y=>y instanceof Pt),(0,Ce.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,S){const L=[];for(const wt of S){var K,Q;wt.providers&&!wt._injector&&(wt._injector=(0,m.MMx)(wt.providers,y,`Route: ${wt.path}`));const Qt=null!==(K=wt._injector)&&void 0!==K?K:y,Tn=null!==(Q=wt._loadedInjector)&&void 0!==Q?Q:Qt;var Ke;(wt.loadChildren&&!wt._loadedRoutes&&void 0===wt.canLoad||wt.loadComponent&&!wt._loadedComponent)&&L.push(this.preloadConfig(Qt,wt)),(wt.children||wt._loadedRoutes)&&L.push(this.processRoutes(Tn,null!==(Ke=wt.children)&&void 0!==Ke?Ke:wt._loadedRoutes))}return(0,h.D)(L).pipe((0,xn.J)())}preloadConfig(y,S){return this.preloadingStrategy.preload(S,()=>{let L;L=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(y,S):(0,W.of)(null);const K=L.pipe((0,De.z)(Q=>{var Ke;return null===Q?(0,W.of)(void 0):(S._loadedRoutes=Q.routes,S._loadedInjector=Q.injector,this.processRoutes(null!==(Ke=Q.injector)&&void 0!==Ke?Ke:y,Q.routes))}));if(S.loadComponent&&!S._loadedComponent){const Q=this.loader.loadComponent(S);return(0,h.D)([K,Q]).pipe((0,xn.J)())}return K})}}return D.\u0275fac=function(y){return new(y||D)(m.LFG(Ut),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Vs),m.LFG(To))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const ol=new m.OlP("");let bl=(()=>{class D{constructor(y,S,L,K,Q={}){this.urlSerializer=y,this.transitions=S,this.viewportScroller=L,this.zone=K,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Ct?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Pt&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof nr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){var y,S;null===(y=this.routerEventsSubscription)||void 0===y||y.unsubscribe(),null===(S=this.scrollEventsSubscription)||void 0===S||S.unsubscribe()}}return D.\u0275fac=function(y){m.$Z()},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})();var uo=(()=>((uo=uo||{})[uo.COMPLETE=0]="COMPLETE",uo[uo.FAILED=1]="FAILED",uo[uo.REDIRECTING=2]="REDIRECTING",uo))();const Qn=!1;function Nr(D,b){return{\u0275kind:D,\u0275providers:b}}const kn=new m.OlP("",{providedIn:"root",factory:()=>!1});function Ni(){const D=(0,m.f3M)(m.zs3);return b=>{var y,S;const L=D.get(m.z2F);if(b!==L.components[0])return;const K=D.get(Ut),Q=D.get(pn);1===D.get(Na)&&K.initialNavigation(),null===(y=D.get(Sl,null,m.XFs.Optional))||void 0===y||y.setUpPreloading(),null===(S=D.get(ol,null,m.XFs.Optional))||void 0===S||S.init(),K.resetRootComponentType(L.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const pn=new m.OlP(Qn?"bootstrap done indicator":"",{factory:()=>new ve.x}),Na=new m.OlP(Qn?"initial navigation":"",{providedIn:"root",factory:()=>1});function bc(){let D=[];return D=Qn?[{provide:m.Xts,multi:!0,useFactory:()=>{const b=(0,m.f3M)(Ut);return()=>b.events.subscribe(y=>{var S,L,K,Q;null===(S=(L=console).group)||void 0===S||S.call(L,`Router Event: ${y.constructor.name}`),console.log(function Tr(D){var b,y,S,L;if(!("type"in D))return`Unknown Router Event: ${D.constructor.name}`;switch(D.type){case 14:return`ActivationEnd(path: '${(null===(b=D.snapshot.routeConfig)||void 0===b?void 0:b.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(y=D.snapshot.routeConfig)||void 0===y?void 0:y.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(S=D.snapshot.routeConfig)||void 0===S?void 0:S.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(L=D.snapshot.routeConfig)||void 0===L?void 0:L.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 2:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case 16:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case 1:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case 0:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case 6:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 5:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 10:return`RouteConfigLoadEnd(path: ${D.route.path})`;case 9:return`RouteConfigLoadStart(path: ${D.route.path})`;case 4:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 15:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}(y)),console.log(y),null===(K=(Q=console).groupEnd)||void 0===K||K.call(Q)})}}]:[],Nr(1,D)}const Sl=new m.OlP(Qn?"router preloader":"");function ba(D){return Nr(0,[{provide:Sl,useExisting:wa},{provide:Vs,useExisting:D}])}const ki=!1,sl=new m.OlP(ki?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),os=[Be.Ye,{provide:Le,useClass:Ue},Ut,is,{provide:Qi,useFactory:function Xl(D){return D.routerState.root},deps:[Ut]},To,ki?{provide:kn,useValue:!0}:[]];function to(){return new m.PXZ("Router",Ut)}let Al=(()=>{class D{constructor(y){}static forRoot(y,S){return{ngModule:D,providers:[os,ki&&null!=S&&S.enableTracing?bc().\u0275providers:[],{provide:Co,multi:!0,useValue:y},{provide:sl,useFactory:Tc,deps:[[Ut,new m.FiY,new m.tp0]]},{provide:Ei,useValue:S||{}},null!=S&&S.useHash?{provide:Be.S$,useClass:Be.Do}:{provide:Be.S$,useClass:Be.b0},{provide:ol,useFactory:()=>{const D=(0,m.f3M)(Be.EM),b=(0,m.f3M)(m.R0b),y=(0,m.f3M)(Ei),S=(0,m.f3M)(ps),L=(0,m.f3M)(Le);return y.scrollOffset&&D.setOffset(y.scrollOffset),new bl(L,S,D,b,y)}},null!=S&&S.preloadingStrategy?ba(S.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:to},null!=S&&S.initialNavigation?ha(S):[],[{provide:gs,useFactory:Ni},{provide:m.tb,multi:!0,useExisting:gs}]]}}static forChild(y){return{ngModule:D,providers:[{provide:Co,multi:!0,useValue:y}]}}}return D.\u0275fac=function(y){return new(y||D)(m.LFG(sl,8))},D.\u0275mod=m.oAB({type:D}),D.\u0275inj=m.cJS({imports:[wi]}),D})();function Tc(D){if(ki&&D)throw new m.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ha(D){return["disabled"===D.initialNavigation?Nr(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const b=(0,m.f3M)(Ut);return()=>{b.setUpLocationChangeListener()}}},{provide:Na,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Nr(2,[{provide:Na,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:b=>{const y=b.get(Be.V_,Promise.resolve());return()=>y.then(()=>new Promise(S=>{const L=b.get(Ut),K=b.get(pn);(function ua(D,b){D.events.pipe((0,it.h)(y=>y instanceof Pt||y instanceof $t||y instanceof Nn||y instanceof Jt),(0,rt.U)(y=>y instanceof Pt||y instanceof Jt?uo.COMPLETE:y instanceof $t&&(0===y.code||1===y.code)?uo.REDIRECTING:uo.FAILED),(0,it.h)(y=>y!==uo.REDIRECTING),(0,Je.q)(1)).subscribe(()=>{b()})})(L,()=>{S(!0)}),b.get(ps).afterPreactivation=()=>(S(!0),K.closed?(0,W.of)(void 0):K),L.initialNavigation()}))}}]).\u0275providers:[]]}const gs=new m.OlP(ki?"Router Initializer":"")},3942:(on,st,F)=>{"use strict";F.d(st,{Z:()=>We});var m=F(2090),h=F(4859),W=F(6881),ne=F(1877);class Ae{constructor(be,ye){this._delegate=be,this.firebase=ye,(0,W._addComponent)(be,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(be,ye=W._DEFAULT_ENTRY_NAME){var te;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(be);return!ot.isInitialized()&&"EXPLICIT"===(null===(te=ot.getComponent())||void 0===te?void 0:te.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:ye})}_removeServiceInstance(be,ye=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ye)}_addComponent(be){(0,W._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,W._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Re(){const mt=function xe(mt){const be={},ye={__esModule:!0,initializeApp:function Xe(Se,Ee={}){const Ie=W.initializeApp(Se,Ee);if((0,m.r3)(be,Ie.name))return be[Ie.name];const ve=new mt(Ie,ye);return be[Ie.name]=ve,ve},app:ot,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Ve(Se){const Ee=Se.name,Ie=Ee.replace("-compat","");if(W._registerComponent(Se)&&"PUBLIC"===Se.type){const ve=(Be=ot())=>{if("function"!=typeof Be[Ie])throw le.create("invalid-app-argument",{appName:Ee});return Be[Ie]()};void 0!==Se.serviceProps&&(0,m.ZB)(ve,Se.serviceProps),ye[Ie]=ve,mt.prototype[Ie]=function(...Be){return this._getService.bind(this,Ee).apply(this,Se.multipleInstances?Be:[])}}return"PUBLIC"===Se.type?ye[Ie]:null},removeApp:function te(Se){delete be[Se]},useAsService:function yt(Se,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:W}};function ot(Se){if(!(0,m.r3)(be,Se=Se||W._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Se});return be[Se]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function qe(){return Object.keys(be).map(Se=>be[Se])}}),ot.App=mt,ye}(Ae);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function be(ye){(0,m.ZB)(mt,ye)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),mt}(),se=new ne.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=he;!function me(mt){(0,W.registerVersion)("@firebase/app-compat","0.2.10",mt)}()},6881:(on,st,F)=>{"use strict";F.r(st),F.d(st,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>qr,_DEFAULT_ENTRY_NAME:()=>Gr,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>an,_apps:()=>On,_clearComponents:()=>Lr,_components:()=>jn,_getProvider:()=>Fr,_registerComponent:()=>zt,_removeServiceInstance:()=>cr,deleteApp:()=>ti,getApp:()=>Hn,getApps:()=>rr,initializeApp:()=>qn,onLog:()=>Le,registerVersion:()=>Mt,setLogLevel:()=>Ue});var m=F(5861),h=F(4859),W=F(1877),ne=F(2090);const Ae=(At,pt)=>pt.some(jt=>At instanceof jt);let we,le;const he=new WeakMap,se=new WeakMap,ae=new WeakMap,Oe=new WeakMap,me=new WeakMap;let be={get(At,pt,jt){if(At instanceof IDBTransaction){if("done"===pt)return se.get(At);if("objectStoreNames"===pt)return At.objectStoreNames||ae.get(At);if("store"===pt)return jt.objectStoreNames[1]?void 0:jt.objectStore(jt.objectStoreNames[0])}return Xe(At[pt])},set:(At,pt,jt)=>(At[pt]=jt,!0),has:(At,pt)=>At instanceof IDBTransaction&&("done"===pt||"store"===pt)||pt in At};function ot(At){return"function"==typeof At?function te(At){return At!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(At)?function(...pt){return At.apply(qe(this),pt),Xe(he.get(this))}:function(...pt){return Xe(At.apply(qe(this),pt))}:function(pt,...jt){const yn=At.call(qe(this),pt,...jt);return ae.set(yn,pt.sort?pt.sort():[pt]),Xe(yn)}}(At):(At instanceof IDBTransaction&&function mt(At){if(se.has(At))return;const pt=new Promise((jt,yn)=>{const Cn=()=>{At.removeEventListener("complete",er),At.removeEventListener("error",En),At.removeEventListener("abort",En)},er=()=>{jt(),Cn()},En=()=>{yn(At.error||new DOMException("AbortError","AbortError")),Cn()};At.addEventListener("complete",er),At.addEventListener("error",En),At.addEventListener("abort",En)});se.set(At,pt)}(At),Ae(At,function xe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(At,be):At)}function Xe(At){if(At instanceof IDBRequest)return function We(At){const pt=new Promise((jt,yn)=>{const Cn=()=>{At.removeEventListener("success",er),At.removeEventListener("error",En)},er=()=>{jt(Xe(At.result)),Cn()},En=()=>{yn(At.error),Cn()};At.addEventListener("success",er),At.addEventListener("error",En)});return pt.then(jt=>{jt instanceof IDBCursor&&he.set(jt,At)}).catch(()=>{}),me.set(pt,At),pt}(At);if(Oe.has(At))return Oe.get(At);const pt=ot(At);return pt!==At&&(Oe.set(At,pt),me.set(pt,At)),pt}const qe=At=>me.get(At),Se=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ie=new Map;function ve(At,pt){if(!(At instanceof IDBDatabase)||pt in At||"string"!=typeof pt)return;if(Ie.get(pt))return Ie.get(pt);const jt=pt.replace(/FromIndex$/,""),yn=pt!==jt,Cn=Ee.includes(jt);if(!(jt in(yn?IDBIndex:IDBObjectStore).prototype)||!Cn&&!Se.includes(jt))return;const er=function(){var En=(0,m.Z)(function*(or,...tr){const zn=this.transaction(or,Cn?"readwrite":"readonly");let Pn=zn.store;return yn&&(Pn=Pn.index(tr.shift())),(yield Promise.all([Pn[jt](...tr),Cn&&zn.done]))[0]});return function(tr){return En.apply(this,arguments)}}();return Ie.set(pt,er),er}!function ye(At){be=At(be)}(At=>({...At,get:(pt,jt,yn)=>ve(pt,jt)||At.get(pt,jt,yn),has:(pt,jt)=>!!ve(pt,jt)||At.has(pt,jt)}));class Be{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function rt(At){const pt=At.getComponent();return"VERSION"===(null==pt?void 0:pt.type)}(jt)){const yn=jt.getImmediate();return`${yn.library}/${yn.version}`}return null}).filter(jt=>jt).join(" ")}}const ct="@firebase/app",ht=new W.Yd("@firebase/app"),Gr="[DEFAULT]",ri={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},On=new Map,jn=new Map;function Ht(At,pt){try{At.container.addComponent(pt)}catch(jt){ht.debug(`Component ${pt.name} failed to register with FirebaseApp ${At.name}`,jt)}}function an(At,pt){At.container.addOrOverwriteComponent(pt)}function zt(At){const pt=At.name;if(jn.has(pt))return ht.debug(`There were multiple attempts to register component ${pt}.`),!1;jn.set(pt,At);for(const jt of On.values())Ht(jt,At);return!0}function Fr(At,pt){const jt=At.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),At.container.getProvider(pt)}function cr(At,pt,jt=Gr){Fr(At,pt).clearInstance(jt)}function Lr(){jn.clear()}const Wr=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vr{constructor(pt,jt,yn){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=yn,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const qr="9.22.0";function qn(At,pt={}){let jt=At;"object"!=typeof pt&&(pt={name:pt});const yn=Object.assign({name:Gr,automaticDataCollectionEnabled:!1},pt),Cn=yn.name;if("string"!=typeof Cn||!Cn)throw Wr.create("bad-app-name",{appName:String(Cn)});if(jt||(jt=(0,ne.aH)()),!jt)throw Wr.create("no-options");const er=On.get(Cn);if(er){if((0,ne.vZ)(jt,er.options)&&(0,ne.vZ)(yn,er.config))return er;throw Wr.create("duplicate-app",{appName:Cn})}const En=new h.H0(Cn);for(const tr of jn.values())En.addComponent(tr);const or=new vr(jt,yn,En);return On.set(Cn,or),or}function Hn(At=Gr){const pt=On.get(At);if(!pt&&At===Gr&&(0,ne.aH)())return qn();if(!pt)throw Wr.create("no-app",{appName:At});return pt}function rr(){return Array.from(On.values())}function ti(At){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(At){const pt=At.name;On.has(pt)&&(On.delete(pt),yield Promise.all(At.container.getProviders().map(jt=>jt.delete())),At.isDeleted=!0)})).apply(this,arguments)}function Mt(At,pt,jt){var yn;let Cn=null!==(yn=ri[At])&&void 0!==yn?yn:At;jt&&(Cn+=`-${jt}`);const er=Cn.match(/\s|\//),En=pt.match(/\s|\//);if(er||En){const or=[`Unable to register library "${Cn}" with version "${pt}":`];return er&&or.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),er&&En&&or.push("and"),En&&or.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void ht.warn(or.join(" "))}zt(new h.wA(`${Cn}-version`,()=>({library:Cn,version:pt}),"VERSION"))}function Le(At,pt){if(null!==At&&"function"!=typeof At)throw Wr.create("invalid-log-argument");(0,W.Am)(At,pt)}function Ue(At){(0,W.Ub)(At)}const Nt="firebase-heartbeat-database",Ot=1,ue="firebase-heartbeat-store";let ce=null;function ke(){return ce||(ce=function Ve(At,pt,{blocked:jt,upgrade:yn,blocking:Cn,terminated:er}={}){const En=indexedDB.open(At,pt),or=Xe(En);return yn&&En.addEventListener("upgradeneeded",tr=>{yn(Xe(En.result),tr.oldVersion,tr.newVersion,Xe(En.transaction),tr)}),jt&&En.addEventListener("blocked",tr=>jt(tr.oldVersion,tr.newVersion,tr)),or.then(tr=>{er&&tr.addEventListener("close",()=>er()),Cn&&tr.addEventListener("versionchange",zn=>Cn(zn.oldVersion,zn.newVersion,zn))}).catch(()=>{}),or}(Nt,Ot,{upgrade:(At,pt)=>{0===pt&&At.createObjectStore(ue)}}).catch(At=>{throw Wr.create("idb-open",{originalErrorMessage:At.message})})),ce}function tt(){return(tt=(0,m.Z)(function*(At){try{return yield(yield ke()).transaction(ue).objectStore(ue).get(Me(At))}catch(pt){if(pt instanceof ne.ZR)ht.warn(pt.message);else{const jt=Wr.create("idb-get",{originalErrorMessage:null==pt?void 0:pt.message});ht.warn(jt.message)}}})).apply(this,arguments)}function Gt(At,pt){return je.apply(this,arguments)}function je(){return(je=(0,m.Z)(function*(At,pt){try{const yn=(yield ke()).transaction(ue,"readwrite");yield yn.objectStore(ue).put(pt,Me(At)),yield yn.done}catch(jt){if(jt instanceof ne.ZR)ht.warn(jt.message);else{const yn=Wr.create("idb-set",{originalErrorMessage:null==jt?void 0:jt.message});ht.warn(yn.message)}}})).apply(this,arguments)}function Me(At){return`${At.name}!${At.options.appId}`}class Tt{constructor(pt){this.container=pt,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new Vn(jt),this._heartbeatsCachePromise=this._storage.read().then(yn=>(this._heartbeatsCache=yn,yn))}triggerHeartbeat(){var pt=this;return(0,m.Z)(function*(){const yn=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=qt();if(null===pt._heartbeatsCache&&(pt._heartbeatsCache=yield pt._heartbeatsCachePromise),pt._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!pt._heartbeatsCache.heartbeats.some(er=>er.date===Cn))return pt._heartbeatsCache.heartbeats.push({date:Cn,agent:yn}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(er=>{const En=new Date(er.date).valueOf();return Date.now()-En<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,m.Z)(function*(){if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null===pt._heartbeatsCache||0===pt._heartbeatsCache.heartbeats.length)return"";const jt=qt(),{heartbeatsToSend:yn,unsentEntries:Cn}=function dn(At,pt=1024){const jt=[];let yn=At.slice();for(const Cn of At){const er=jt.find(En=>En.agent===Cn.agent);if(er){if(er.dates.push(Cn.date),Yn(jt)>pt){er.dates.pop();break}}else if(jt.push({agent:Cn.agent,dates:[Cn.date]}),Yn(jt)>pt){jt.pop();break}yn=yn.slice(1)}return{heartbeatsToSend:jt,unsentEntries:yn}}(pt._heartbeatsCache.heartbeats),er=(0,ne.L)(JSON.stringify({version:2,heartbeats:yn}));return pt._heartbeatsCache.lastSentHeartbeatDate=jt,Cn.length>0?(pt._heartbeatsCache.heartbeats=Cn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),er})()}}function qt(){return(new Date).toISOString().substring(0,10)}class Vn{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,m.Z)(function*(){return(yield pt._canUseIndexedDBPromise)&&(yield function ft(At){return tt.apply(this,arguments)}(pt.app))||{heartbeats:[]}})()}overwrite(pt){var jt=this;return(0,m.Z)(function*(){var yn;if(yield jt._canUseIndexedDBPromise){const er=yield jt.read();return Gt(jt.app,{lastSentHeartbeatDate:null!==(yn=pt.lastSentHeartbeatDate)&&void 0!==yn?yn:er.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var jt=this;return(0,m.Z)(function*(){var yn;if(yield jt._canUseIndexedDBPromise){const er=yield jt.read();return Gt(jt.app,{lastSentHeartbeatDate:null!==(yn=pt.lastSentHeartbeatDate)&&void 0!==yn?yn:er.lastSentHeartbeatDate,heartbeats:[...er.heartbeats,...pt.heartbeats]})}})()}}function Yn(At){return(0,ne.L)(JSON.stringify({version:2,heartbeats:At})).length}!function Ir(At){zt(new h.wA("platform-logger",pt=>new Be(pt),"PRIVATE")),zt(new h.wA("heartbeat",pt=>new Tt(pt),"PRIVATE")),Mt(ct,"0.9.10",At),Mt(ct,"0.9.10","esm2017"),Mt("fire-js","")}("")},4859:(on,st,F)=>{"use strict";F.d(st,{H0:()=>xe,wA:()=>W});var m=F(5861),h=F(2090);class W{constructor(he,se,ae){this.name=he,this.instanceFactory=se,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const ne="[DEFAULT]";class Ae{constructor(he,se){this.name=he,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const se=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(se)){const ae=new h.BH;if(this.instancesDeferred.set(se,ae),this.isInitialized(se)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:se});Oe&&ae.resolve(Oe)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(he){var se;const ae=this.normalizeInstanceIdentifier(null==he?void 0:he.identifier),Oe=null!==(se=null==he?void 0:he.optional)&&void 0!==se&&se;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(me){if(Oe)return null;throw me}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function le(Re){return"EAGER"===Re.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[se,ae]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(se);try{const me=this.getOrInitializeService({instanceIdentifier:Oe});ae.resolve(me)}catch{}}}}clearInstance(he=ne){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,m.Z)(function*(){const se=Array.from(he.instances.values());yield Promise.all([...se.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...se.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=ne){return this.instances.has(he)}getOptions(he=ne){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:se={}}=he,ae=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:ae,options:se});for(const[me,We]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(me)&&We.resolve(Oe);return Oe}onInit(he,se){var ae;const Oe=this.normalizeInstanceIdentifier(se),me=null!==(ae=this.onInitCallbacks.get(Oe))&&void 0!==ae?ae:new Set;me.add(he),this.onInitCallbacks.set(Oe,me);const We=this.instances.get(Oe);return We&&he(We,Oe),()=>{me.delete(he)}}invokeOnInitCallbacks(he,se){const ae=this.onInitCallbacks.get(se);if(ae)for(const Oe of ae)try{Oe(he,se)}catch{}}getOrInitializeService({instanceIdentifier:he,options:se={}}){let ae=this.instances.get(he);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=he,Re===ne?void 0:Re),options:se}),this.instances.set(he,ae),this.instancesOptions.set(he,se),this.invokeOnInitCallbacks(ae,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,ae)}catch{}var Re;return ae||null}normalizeInstanceIdentifier(he=ne){return this.component?this.component.multipleInstances?he:ne:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const se=this.getProvider(he.name);if(se.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);se.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const se=new Ae(he,this);return this.providers.set(he,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(on,st,F)=>{"use strict";F.d(st,{Am:()=>Re,Ub:()=>xe,Yd:()=>le,in:()=>h});const m=[];var h=(()=>{return(he=h||(h={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",h;var he})();const W={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ne=h.INFO,Ae={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},we=(he,se,...ae)=>{if(se<he.logLevel)return;const Oe=(new Date).toISOString(),me=Ae[se];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[me](`[${Oe}]  ${he.name}:`,...ae)};class le{constructor(se){this.name=se,this._logLevel=ne,this._logHandler=we,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in h))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?W[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...se),this._logHandler(this,h.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...se),this._logHandler(this,h.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,h.INFO,...se),this._logHandler(this,h.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,h.WARN,...se),this._logHandler(this,h.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...se),this._logHandler(this,h.ERROR,...se)}}function xe(he){m.forEach(se=>{se.setLogLevel(he)})}function Re(he,se){for(const ae of m){let Oe=null;se&&se.level&&(Oe=W[se.level]),ae.userLogHandler=null===he?null:(me,We,...mt)=>{const be=mt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");We>=(null!=Oe?Oe:me.logLevel)&&he({level:h[We].toLowerCase(),message:be,args:mt,type:me.name})}}}},650:(on,st,F)=>{"use strict";F.d(st,{Br:()=>ko,dr:()=>Wr,oU:()=>qr,cs:()=>Oo,YG:()=>_r,Sm:()=>Mt,PM:()=>Le,FN:()=>Ue,Zi:()=>Nt,tO:()=>Ot,Dq:()=>ue,wI:()=>ft,W2:()=>tt,IJ:()=>Me,W4:()=>oe,jY:()=>qt,Gu:()=>dn,gu:()=>Vn,pK:()=>pt,Ie:()=>jt,Q$:()=>tr,q_:()=>zn,jP:()=>Eo,Nd:()=>Fe,VI:()=>_t,cJ:()=>Ct,GO:()=>Pt,t9:()=>$t,n0:()=>Jt,PQ:()=>An,yq:()=>Kr,ZU:()=>ii,UN:()=>is,g2:()=>ze,wd:()=>kt,sr:()=>Xn,Pc:()=>ds,r4:()=>cs,IN:()=>yi,SH:()=>gi,X1:()=>ao,t4:()=>Ro,YI:()=>ji,QI:()=>Gr,j9:()=>ri,yF:()=>Fo});var m=F(5861),h=F(4650),W=F(433),ne=F(655),Ae=F(8421),we=F(9751),le=F(5577),xe=F(1144),Re=F(576),he=F(3268);const se=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],Oe=["on","off"];function me(_,U,I,$){if((0,Re.m)(I)&&($=I,I=void 0),$)return me(_,U,I).pipe((0,he.Z)($));const[re,C]=function ye(_){return(0,Re.m)(_.addEventListener)&&(0,Re.m)(_.removeEventListener)}(_)?ae.map(x=>R=>_[x](U,R,I)):function mt(_){return(0,Re.m)(_.addListener)&&(0,Re.m)(_.removeListener)}(_)?se.map(We(_,U)):function be(_){return(0,Re.m)(_.on)&&(0,Re.m)(_.off)}(_)?Oe.map(We(_,U)):[];if(!re&&(0,xe.z)(_))return(0,le.z)(x=>me(x,U,I))((0,Ae.Xf)(_));if(!re)throw new TypeError("Invalid event target");return new we.y(x=>{const R=(...q)=>x.next(1<q.length?q:q[0]);return re(R),()=>C(R)})}function We(_,U){return I=>$=>_[I](U,$)}var te=F(7579),ot=F(1135),Xe=F(1194),Ee=(F(9613),F(3551),F(1138),F(1898),F(5273)),Ie=F(3577),ve=F(3982),Be=F(9866),ct=(F(8126),F(2583)),it=(F(3457),F(4349),F(4083)),Te=F(9300),Ce=F(3900),Qe=F(1884),at=F(6895);const St=Ee.i,pe=["*"],vt=["outlet"],Zt=[[["","slot","top"]],"*"],hn=["[slot=top]","*"],Wt=_=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_):"function"==typeof requestAnimationFrame?requestAnimationFrame(_):setTimeout(_);let _n=(()=>{class _{constructor(I,$){this.injector=I,this.el=$,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(I){this.el.nativeElement.value=this.lastValue=I,Kn(this.el)}handleValueChange(I,$){I===this.el.nativeElement&&($!==this.lastValue&&(this.lastValue=$,this.onChange($)),Kn(this.el))}_handleBlurEvent(I){I===this.el.nativeElement&&(this.onTouched(),Kn(this.el))}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.el.nativeElement.disabled=I}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let I;try{I=this.injector.get(W.a5)}catch{}if(!I)return;I.statusChanges&&(this.statusChanges=I.statusChanges.subscribe(()=>Kn(this.el)));const $=I.control;$&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(C=>{if(typeof $[C]<"u"){const x=$[C].bind($);$[C]=(...R)=>{x(...R),Kn(this.el)}}})}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.zs3),h.Y36(h.SBq))},_.\u0275dir=h.lG2({type:_,hostBindings:function(I,$){1&I&&h.NdJ("ionBlur",function(C){return $._handleBlurEvent(C.target)})}}),_})();const Kn=_=>{Wt(()=>{const U=_.nativeElement,I=null!=U.value&&U.value.toString().length>0,$=ir(U);Bn(U,$);const re=U.closest("ion-item");re&&Bn(re,I?[...$,"item-has-value"]:$)})},ir=_=>{const U=_.classList,I=[];for(let $=0;$<U.length;$++){const re=U.item($);null!==re&&nn(re,"ng-")&&I.push(`ion-${re.substring(3)}`)}return I},Bn=(_,U)=>{const I=_.classList;I.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),I.add(...U)},nn=(_,U)=>_.substring(0,U.length)===U;let Gr=(()=>{class _ extends _n{constructor(I,$){super(I,$)}_handleChangeEvent(I){this.handleValueChange(I,I.value)}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.zs3),h.Y36(h.SBq))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(I,$){1&I&&h.NdJ("ionChange",function(C){return $._handleChangeEvent(C.target)})},features:[h._Bn([{provide:W.JU,useExisting:_,multi:!0}]),h.qOj]}),_})(),ri=(()=>{class _ extends _n{constructor(I,$){super(I,$)}_handleInputEvent(I){this.handleValueChange(I,I.value)}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.zs3),h.Y36(h.SBq))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(I,$){1&I&&h.NdJ("ionInput",function(C){return $._handleInputEvent(C.target)})},features:[h._Bn([{provide:W.JU,useExisting:_,multi:!0}]),h.qOj]}),_})();const On=(_,U)=>{const I=_.prototype;U.forEach($=>{Object.defineProperty(I,$,{get(){return this.el[$]},set(re){this.z.runOutsideAngular(()=>this.el[$]=re)}})})},jn=(_,U)=>{const I=_.prototype;U.forEach($=>{I[$]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[$].apply(this.el,re))}})},Ht=(_,U,I)=>{I.forEach($=>_[$]=me(U,$))};function zt(_){return function(I){const{defineCustomElementFn:$,inputs:re,methods:C}=_;return void 0!==$&&$(),re&&On(I,re),C&&jn(I,C),I}}let Wr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-app"]],ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({})],_),_})(),qr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],_),_})(),_r=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionFocus","ionBlur"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],_),_})(),Mt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["collapse"]})],_),_})(),Le=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],_),_})(),Ue=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["mode"]})],_),_})(),Nt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","mode","translucent"]})],_),_})(),Ot=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","mode"]})],_),_})(),ue=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","mode"]})],_),_})(),ft=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],_),_})(),tt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],_),_})(),Me=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],_),_})(),oe=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionFocus","ionBlur"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],_),_})(),qt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["fixed"]})],_),_})(),dn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["collapse","mode","translucent"]})],_),_})(),Vn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],_),_})(),pt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],_),_})(),jt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],_),_})(),tr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","mode","position"]})],_),_})(),zn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],_),_})(),Fe=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-row"]],ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({})],_),_})(),_t=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],_),_})(),Ct=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionChange"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],_),_})(),Pt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["disabled","layout","mode","type","value"]})],_),_})(),$t=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","value"],methods:["open"]})],_),_})(),Jt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["disabled","value"]})],_),_})(),An=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","duration","name","paused"]})],_),_})(),Kr=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","mode","selectedTab","translucent"]})],_),_})(),ii=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],_),_})(),ze=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement,Ht(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],_),_})(),kt=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","size"]})],_),_})(),Xn=(()=>{let _=class{constructor(I,$,re){this.z=re,I.detach(),this.el=$.nativeElement}};return _.\u0275fac=function(I){return new(I||_)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,$){1&I&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,ne.gn)([zt({inputs:["color","mode"]})],_),_})(),nr=(()=>{class _{get(I,$){const re=Bi();return re?re.get(I,$):null}getBoolean(I,$){const re=Bi();return!!re&&re.getBoolean(I,$)}getNumber(I,$){const re=Bi();return re?re.getNumber(I,$):0}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Tr=new h.OlP("USERCONFIG"),Bi=()=>{if(typeof window<"u"){const _=window.Ionic;if(null!=_&&_.config)return _.config}return null};let Ro=(()=>{class _{constructor(I,$){this.doc=I,this.backButton=new te.x,this.keyboardDidShow=new te.x,this.keyboardDidHide=new te.x,this.pause=new te.x,this.resume=new te.x,this.resize=new te.x,$.run(()=>{var re;let C;this.win=I.defaultView,this.backButton.subscribeWithPriority=function(x,R){return this.subscribe(q=>q.register(x,nt=>$.run(()=>R(nt))))},so(this.pause,I,"pause"),so(this.resume,I,"resume"),so(this.backButton,I,"ionBackButton"),so(this.resize,this.win,"resize"),so(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),so(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(x=>{C=x}),null!==(re=this.win)&&void 0!==re&&re.cordova?I.addEventListener("deviceready",()=>{C("cordova")},{once:!0}):C("dom")})}is(I){return(0,Ee.a)(this.win,I)}platforms(){return(0,Ee.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(I){return jr(this.win.location.href,I)}isLandscape(){return!this.isPortrait()}isPortrait(){var I,$;return null===(I=($=this.win).matchMedia)||void 0===I?void 0:I.call($,"(orientation: portrait)").matches}testUserAgent(I){const $=this.win.navigator;return!!(null!=$&&$.userAgent&&$.userAgent.indexOf(I)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return _.\u0275fac=function(I){return new(I||_)(h.LFG(at.K0),h.LFG(h.R0b))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const jr=(_,U)=>{U=U.replace(/[[\]\\]/g,"\\$&");const $=new RegExp("[\\?&]"+U+"=([^&#]*)").exec(_);return $?decodeURIComponent($[1].replace(/\+/g," ")):null},so=(_,U,I)=>{U&&U.addEventListener(I,$=>{_.next(null!=$?$.detail:void 0)})};let gi=(()=>{class _{constructor(I,$,re,C){this.location=$,this.serializer=re,this.router=C,this.direction=_s,this.animated=mi,this.guessDirection="forward",this.lastNavId=-1,C&&C.events.subscribe(x=>{if(x instanceof Xe.OD){const R=x.restoredState?x.restoredState.navigationId:x.id;this.guessDirection=R<this.lastNavId?"back":"forward",this.guessAnimation=x.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?x.id:R}}),I.backButton.subscribeWithPriority(0,x=>{this.pop(),x()})}navigateForward(I,$={}){return this.setDirection("forward",$.animated,$.animationDirection,$.animation),this.navigate(I,$)}navigateBack(I,$={}){return this.setDirection("back",$.animated,$.animationDirection,$.animation),this.navigate(I,$)}navigateRoot(I,$={}){return this.setDirection("root",$.animated,$.animationDirection,$.animation),this.navigate(I,$)}back(I={animated:!0,animationDirection:"back"}){return this.setDirection("back",I.animated,I.animationDirection,I.animation),this.location.back()}pop(){var I=this;return(0,m.Z)(function*(){let $=I.topOutlet;for(;$&&!(yield $.pop());)$=$.parentOutlet})()}setDirection(I,$,re,C){this.direction=I,this.animated=rs(I,$,re),this.animationBuilder=C}setTopOutlet(I){this.topOutlet=I}consumeTransition(){let $,I="root";const re=this.animationBuilder;return"auto"===this.direction?(I=this.guessDirection,$=this.guessAnimation):($=this.animated,I=this.direction),this.direction=_s,this.animated=mi,this.animationBuilder=void 0,{direction:I,animation:$,animationBuilder:re}}navigate(I,$){if(Array.isArray(I))return this.router.navigate(I,$);{const re=this.serializer.parse(I.toString());return void 0!==$.queryParams&&(re.queryParams={...$.queryParams}),void 0!==$.fragment&&(re.fragment=$.fragment),this.router.navigateByUrl(re,$)}}}return _.\u0275fac=function(I){return new(I||_)(h.LFG(Ro),h.LFG(at.Ye),h.LFG(Xe.Hx),h.LFG(Xe.F0,8))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const rs=(_,U,I)=>{if(!1!==U){if(void 0!==I)return I;if("forward"===_||"back"===_)return _;if("root"===_&&!0===U)return"forward"}},_s="auto",mi=void 0;class ao{constructor(U={}){this.data=U}get(U){return this.data[U]}}let lo=(()=>{class _{constructor(){this.zone=(0,h.f3M)(h.R0b),this.applicationRef=(0,h.f3M)(h.z2F)}create(I,$,re){return new Os(I,$,this.applicationRef,this.zone,re)}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})();class Os{constructor(U,I,$,re,C){this.environmentInjector=U,this.injector=I,this.applicationRef=$,this.zone=re,this.elementReferenceKey=C,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(U,I,$,re){return this.zone.run(()=>new Promise(C=>{const x={...$};void 0!==this.elementReferenceKey&&(x[this.elementReferenceKey]=U),C(qo(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,U,I,x,re))}))}removeViewFromDom(U,I){return this.zone.run(()=>new Promise($=>{const re=this.elRefMap.get(I);if(re){re.destroy(),this.elRefMap.delete(I);const C=this.elEventsMap.get(I);C&&(C(),this.elEventsMap.delete(I))}$()}))}}const qo=(_,U,I,$,re,C,x,R,q,nt)=>{const rn=h.zs3.create({providers:ia(q),parent:I}),hr=(0,h.LMc)(R,{environmentInjector:U,elementInjector:rn}),xr=hr.instance,_i=hr.location.nativeElement;if(q&&Object.assign(xr,q),nt)for(const Lo of nt)_i.classList.add(Lo);const Ri=go(_,xr,_i);return x.appendChild(_i),$.attachView(hr.hostView),re.set(_i,hr),C.set(_i,Ri),_i},Qi=[Be.L,Be.a,Be.b,Be.c,Be.d],go=(_,U,I)=>_.run(()=>{const $=Qi.filter(re=>"function"==typeof U[re]).map(re=>{const C=x=>U[re](x.detail);return I.addEventListener(re,C),()=>I.removeEventListener(re,C)});return()=>$.forEach(re=>re())}),Ps=new h.OlP("NavParamsToken"),ia=_=>[{provide:Ps,useValue:_},{provide:ao,useFactory:Ko,deps:[Ps]}],Ko=_=>new ao(_),Ns=(_,U)=>((_=_.filter(I=>I.stackId!==U.stackId)).push(U),_),ks=(_,U)=>{const I=_.createUrlTree(["."],{relativeTo:U});return _.serializeUrl(I)},yo=(_,U)=>{if(!_)return;const I=Sr(U);for(let $=0;$<I.length;$++){if($>=_.length)return I[$];if(I[$]!==_[$])return}},Sr=_=>_.split("/").map(U=>U.trim()).filter(U=>""!==U),Ji=_=>{_&&(_.ref.destroy(),_.unlistenEvents())};class vo{constructor(U,I,$,re,C,x){this.containerEl=I,this.router=$,this.navCtrl=re,this.zone=C,this.location=x,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==U?Sr(U):void 0}createView(U,I){var $;const re=ks(this.router,I),C=null==U||null===($=U.location)||void 0===$?void 0:$.nativeElement,x=go(this.zone,U.instance,C);return{id:this.nextId++,stackId:yo(this.tabsPrefix,re),unlistenEvents:x,element:C,ref:U,url:re}}getExistingView(U){const I=ks(this.router,U),$=this.views.find(re=>re.url===I);return $&&$.ref.changeDetectorRef.reattach(),$}setActive(U){var I,$,re;const C=this.navCtrl.consumeTransition();let{direction:x,animation:R,animationBuilder:q}=C;const nt=this.activeView,rn=((_,U)=>!U||_.stackId!==U.stackId)(U,nt);rn&&(x="back",R=void 0);const hr=this.views.slice();let xr;const _i=this.router;_i.getCurrentNavigation?xr=_i.getCurrentNavigation():null!==(I=_i.navigations)&&void 0!==I&&I.value&&(xr=_i.navigations.value),null!==($=xr)&&void 0!==$&&null!==(re=$.extras)&&void 0!==re&&re.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ri=this.views.includes(U),Lo=this.insertView(U,x);Ri||U.ref.changeDetectorRef.detectChanges();const Qr=U.animationBuilder;return void 0===q&&"back"===x&&!rn&&void 0!==Qr&&(q=Qr),nt&&(nt.animationBuilder=q),this.zone.runOutsideAngular(()=>this.wait(()=>(nt&&nt.ref.changeDetectorRef.detach(),U.ref.changeDetectorRef.reattach(),this.transition(U,nt,R,this.canGoBack(1),!1,q).then(()=>_o(U,Lo,hr,this.location,this.zone)).then(()=>({enteringView:U,direction:x,animation:R,tabSwitch:rn})))))}canGoBack(U,I=this.getActiveStackId()){return this.getStack(I).length>U}pop(U,I=this.getActiveStackId()){return this.zone.run(()=>{const $=this.getStack(I);if($.length<=U)return Promise.resolve(!1);const re=$[$.length-U-1];let C=re.url;const x=re.savedData;if(x){var R,q;const rn=x.get("primary");null!=rn&&null!==(R=rn.route)&&void 0!==R&&null!==(q=R._routerState)&&void 0!==q&&q.snapshot.url&&(C=rn.route._routerState.snapshot.url)}const{animationBuilder:nt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(C,{...re.savedExtras,animation:nt}).then(()=>!0)})}startBackTransition(){const U=this.activeView;if(U){const I=this.getStack(U.stackId),$=I[I.length-2],re=$.animationBuilder;return this.wait(()=>this.transition($,U,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(U){U?(this.skipTransition=!0,this.pop(1)):this.activeView&&Es(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(U){const I=this.getStack(U);return I.length>0?I[I.length-1]:void 0}getRootUrl(U){const I=this.getStack(U);return I.length>0?I[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ji),this.activeView=void 0,this.views=[]}getStack(U){return this.views.filter(I=>I.stackId===U)}insertView(U,I){return this.activeView=U,this.views=((_,U,I)=>"root"===I?Ns(_,U):"forward"===I?((_,U)=>(_.indexOf(U)>=0?_=_.filter($=>$.stackId!==U.stackId||$.id<=U.id):_.push(U),_))(_,U):((_,U)=>_.indexOf(U)>=0?_.filter($=>$.stackId!==U.stackId||$.id<=U.id):Ns(_,U))(_,U))(this.views,U,I),this.views.slice()}transition(U,I,$,re,C,x){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(I===U)return Promise.resolve(!1);const R=U?U.element:void 0,q=I?I.element:void 0,nt=this.containerEl;return R&&R!==q&&(R.classList.add("ion-page"),R.classList.add("ion-page-invisible"),R.parentElement!==nt&&nt.appendChild(R),nt.commit)?nt.commit(R,q,{duration:void 0===$?0:void 0,direction:$,showGoBack:re,progressAnimation:C,animationBuilder:x}):Promise.resolve(!1)}wait(U){var I=this;return(0,m.Z)(function*(){void 0!==I.runningTask&&(yield I.runningTask,I.runningTask=void 0);const $=I.runningTask=U();return $.finally(()=>I.runningTask=void 0),$})()}}const _o=(_,U,I,$,re)=>"function"==typeof requestAnimationFrame?new Promise(C=>{requestAnimationFrame(()=>{Es(_,U,I,$,re),C()})}):Promise.resolve(),Es=(_,U,I,$,re)=>{re.run(()=>I.filter(C=>!U.includes(C)).forEach(Ji)),U.forEach(C=>{const R=$.path().split("?")[0].split("#")[0];if(C!==_&&C.url!==R){const q=C.element;q.setAttribute("aria-hidden","true"),q.classList.add("ion-page-hidden"),C.ref.changeDetectorRef.detach()}})};let Eo=(()=>{class _{constructor(I,$,re,C,x,R,q,nt){this.parentOutlet=nt,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ot.X(null),this.stackEvents=new h.vpe,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Xe.y6),this.location=(0,h.f3M)(h.s_b),this.environmentInjector=(0,h.f3M)(h.lqb),this.config=(0,h.f3M)(nr),this.navCtrl=(0,h.f3M)(gi),this.nativeEl=C.nativeElement,this.name=I||Xe.eC,this.tabsPrefix="true"===$?ks(x,q):void 0,this.stackCtrl=new vo(this.tabsPrefix,this.nativeEl,x,this.navCtrl,R,re),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(I){this.nativeEl.animation=I}set animated(I){this.nativeEl.animated=I}set swipeGesture(I){this._swipeGesture=I,this.nativeEl.swipeHandler=I?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:$=>this.stackCtrl.endBackTransition($)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const I=this.getContext();null!=I&&I.route&&this.activateWith(I.route,I.injector)}new Promise(I=>(0,Ie.c)(this.nativeEl,I)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(I,$){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const $=this.getContext();this.activatedView.savedData=new Map($.children.contexts);const re=this.activatedView.savedData.get("primary");if(re&&$.route&&(re.route={...$.route}),this.activatedView.savedExtras={},$.route){const C=$.route.snapshot;this.activatedView.savedExtras.queryParams=C.queryParams,this.activatedView.savedExtras.fragment=C.fragment}}const I=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;let re,C=this.stackCtrl.getExistingView(I);if(C){re=this.activated=C.ref;const R=C.savedData;R&&(this.getContext().children.contexts=R),this.updateActivatedRouteProxy(re.instance,I)}else{var x;const R=I._futureSnapshot,q=this.parentContexts.getOrCreateContext(this.name).children,nt=new ot.X(null),rn=this.createActivatedRouteProxy(nt,I),hr=new Ui(rn,q,this.location.injector),xr=null!==(x=R.routeConfig.component)&&void 0!==x?x:R.component;re=this.activated=this.location.createComponent(xr,{index:this.location.length,injector:hr,environmentInjector:null!=$?$:this.environmentInjector}),nt.next(re.instance),C=this.stackCtrl.createView(this.activated,I),this.proxyMap.set(re.instance,rn),this.currentActivatedRoute$.next({component:re.instance,activatedRoute:I})}this.activatedView=C,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(C).then(R=>{this.activateEvents.emit(re.instance),this.stackEvents.emit(R)})}canGoBack(I=1,$){return this.stackCtrl.canGoBack(I,$)}pop(I=1,$){return this.stackCtrl.pop(I,$)}getLastUrl(I){const $=this.stackCtrl.getLastUrl(I);return $?$.url:void 0}getLastRouteView(I){return this.stackCtrl.getLastUrl(I)}getRootView(I){return this.stackCtrl.getRootUrl(I)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(I,$){const re=new Xe.gz;return re._futureSnapshot=$._futureSnapshot,re._routerState=$._routerState,re.snapshot=$.snapshot,re.outlet=$.outlet,re.component=$.component,re._paramMap=this.proxyObservable(I,"paramMap"),re._queryParamMap=this.proxyObservable(I,"queryParamMap"),re.url=this.proxyObservable(I,"url"),re.params=this.proxyObservable(I,"params"),re.queryParams=this.proxyObservable(I,"queryParams"),re.fragment=this.proxyObservable(I,"fragment"),re.data=this.proxyObservable(I,"data"),re}proxyObservable(I,$){return I.pipe((0,Te.h)(re=>!!re),(0,Ce.w)(re=>this.currentActivatedRoute$.pipe((0,Te.h)(C=>null!==C&&C.component===re),(0,Ce.w)(C=>C&&C.activatedRoute[$]),(0,Qe.x)())))}updateActivatedRouteProxy(I,$){const re=this.proxyMap.get(I);if(!re)throw new Error("Could not find activated route proxy for view");re._futureSnapshot=$._futureSnapshot,re._routerState=$._routerState,re.snapshot=$.snapshot,re.outlet=$.outlet,re.component=$.component,this.currentActivatedRoute$.next({component:I,activatedRoute:$})}}return _.\u0275fac=function(I){return new(I||_)(h.$8M("name"),h.$8M("tabs"),h.Y36(at.Ye),h.Y36(h.SBq),h.Y36(Xe.F0),h.Y36(h.R0b),h.Y36(Xe.gz),h.Y36(_,12))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_})();class Ui{constructor(U,I,$){this.route=U,this.childContexts=I,this.parent=$}get(U,I){return U===Xe.gz?this.route:U===Xe.y6?this.childContexts:this.parent.get(U,I)}}let is=(()=>{class _{constructor(I){this.navCtrl=I,this.ionTabsWillChange=new h.vpe,this.ionTabsDidChange=new h.vpe}onPageSelected(I){const $=I.enteringView.stackId;I.tabSwitch&&void 0!==$&&(this.ionTabsWillChange.emit({tab:$}),this.tabBar&&(this.tabBar.selectedTab=$),this.ionTabsDidChange.emit({tab:$}))}select(I){const $="string"==typeof I,re=$?I:I.detail.tab,C=this.outlet.getActiveStackId()===re,x=`${this.outlet.tabsPrefix}/${re}`;if($||I.stopPropagation(),C){const R=this.outlet.getActiveStackId(),q=this.outlet.getLastRouteView(R);if((null==q?void 0:q.url)===x)return;const nt=this.outlet.getRootView(re);return this.navCtrl.navigateRoot(x,{...nt&&x===nt.url&&nt.savedExtras,animated:!0,animationDirection:"back"})}{const R=this.outlet.getLastRouteView(re);return this.navCtrl.navigateRoot((null==R?void 0:R.url)||x,{...null==R?void 0:R.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(gi))},_.\u0275cmp=h.Xpm({type:_,selectors:[["ion-tabs"]],contentQueries:function(I,$,re){if(1&I&&h.Suo(re,Kr,5),2&I){let C;h.iGM(C=h.CRH())&&($.tabBar=C.first)}},viewQuery:function(I,$){if(1&I&&h.Gf(vt,5,Eo),2&I){let re;h.iGM(re=h.CRH())&&($.outlet=re.first)}},hostBindings:function(I,$){1&I&&h.NdJ("ionTabButtonClick",function(C){return $.select(C)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:hn,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(I,$){1&I&&(h.F$t(Zt),h.Hsn(0),h.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),h.NdJ("stackEvents",function(C){return $.onPageSelected(C)}),h.qZA()(),h.Hsn(4,1))},dependencies:[Eo],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),_})(),Oo=(()=>{class _{constructor(I,$,re){this.routerOutlet=I,this.navCtrl=$,this.config=re}onClick(I){var $;const re=this.defaultHref||this.config.get("backButtonDefaultHref");null!==($=this.routerOutlet)&&void 0!==$&&$.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),I.preventDefault()):null!=re&&(this.navCtrl.navigateBack(re,{animation:this.routerAnimation}),I.preventDefault())}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(Eo,8),h.Y36(gi),h.Y36(nr))},_.\u0275dir=h.lG2({type:_,selectors:[["ion-back-button"]],hostBindings:function(I,$){1&I&&h.NdJ("click",function(C){return $.onClick(C)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),_})(),ji=(()=>{class _{constructor(I,$,re,C,x){this.locationStrategy=I,this.navCtrl=$,this.elementRef=re,this.router=C,this.routerLink=x,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var I;if(null!==(I=this.routerLink)&&void 0!==I&&I.urlTree){const $=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=$}}onClick(I){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),I.preventDefault()}}return _.\u0275fac=function(I){return new(I||_)(h.Y36(at.S$),h.Y36(gi),h.Y36(h.SBq),h.Y36(Xe.F0),h.Y36(Xe.rH,8))},_.\u0275dir=h.lG2({type:_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,$){1&I&&h.NdJ("click",function(C){return $.onClick(C)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[h.TTD]}),_})();class ai{constructor(U){this.ctrl=U}create(U){return this.ctrl.create(U||{})}dismiss(U,I,$){return this.ctrl.dismiss(U,I,$)}getTop(){return this.ctrl.getTop()}}let ko=(()=>{class _ extends ai{constructor(){super(ct.a)}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),yi=(()=>{class _ extends ai{constructor(){super(ct.m),this.angularDelegate=(0,h.f3M)(lo),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})(),vi=(()=>{class _ extends ai{constructor(){super(ct.c),this.angularDelegate=(0,h.f3M)(lo),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})(),Fo=(()=>{class _ extends ai{constructor(){super(ct.t)}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class cs{shouldDetach(U){return!1}shouldAttach(U){return!1}store(U,I){}retrieve(U){return null}shouldReuseRoute(U,I){if(U.routeConfig!==I.routeConfig)return!1;const $=U.params,re=I.params,C=Object.keys($),x=Object.keys(re);if(C.length!==x.length)return!1;for(const R of C)if(re[R]!==$[R])return!1;return!0}}const sr=(_,U,I)=>()=>{if(U.defaultView&&typeof window<"u"){(0,ve.s)({..._,_zoneGate:C=>I.run(C)});const re="__zone_symbol__addEventListener"in U.body?"__zone_symbol__addEventListener":"addEventListener";return function Ft(){var _=[];if(typeof window<"u"){var U=window;(!U.customElements||U.Element&&(!U.Element.prototype.closest||!U.Element.prototype.matches||!U.Element.prototype.remove||!U.Element.prototype.getRootNode))&&_.push(F.e(6748).then(F.t.bind(F,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||U.NodeList&&!U.NodeList.prototype.forEach||!U.fetch||!function(){try{var $=new URL("b","http://a");return $.pathname="c%20d","http://a/c%20d"===$.href&&$.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&_.push(F.e(2214).then(F.t.bind(F,4144,23)))}return Promise.all(_)}().then(()=>((_,U)=>typeof window>"u"?Promise.resolve():(0,it.p)().then(()=>(St(),(0,it.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),U))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Wt,jmp:C=>I.runOutsideAngular(C),ael(C,x,R,q){C[re](x,R,q)},rel(C,x,R,q){C.removeEventListener(x,R,q)}}))}};let ds=(()=>{class _{static forRoot(I){return{ngModule:_,providers:[{provide:Tr,useValue:I},{provide:h.ip1,useFactory:sr,multi:!0,deps:[Tr,at.K0,h.R0b]}]}}}return _.\u0275fac=function(I){return new(I||_)},_.\u0275mod=h.oAB({type:_}),_.\u0275inj=h.cJS({providers:[lo,yi,vi],imports:[at.ez]}),_})()},259:(on,st,F)=>{"use strict";F.d(st,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=F(6881);(0,m.registerVersion)("firebase","9.22.0","app")},9260:(on,st,F)=>{"use strict";F.d(st,{Z:()=>m.Z});var m=F(3942);m.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(on,st,F)=>{"use strict";F.r(st);var m=F(5861),h=F(3942),W=F(2090),ne=F(6881),Ae=F(655),we=F(1877),le=F(4859);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae_EMAIL_SIGNIN="EMAIL_SIGNIN",ae_PASSWORD_RESET="PASSWORD_RESET",ae_RECOVER_EMAIL="RECOVER_EMAIL",ae_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ae_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ae_VERIFY_EMAIL="VERIFY_EMAIL";const We=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},mt=function me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new we.Yd("@firebase/auth");function Xe(v,...d){te.logLevel<=we.in.ERROR&&te.error(`Auth (${ne.SDK_VERSION}): ${v}`,...d)}function qe(v,...d){throw Ee(v,...d)}function Ve(v,...d){return Ee(v,...d)}function yt(v,d,f){const w=Object.assign(Object.assign({},mt()),{[d]:f});return new W.LL("auth","Firebase",w).create(d,{appName:v.name})}function Se(v,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&qe(v,"argument-error"),yt(v,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ee(v,...d){if("string"!=typeof v){const f=d[0],w=[...d.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(f,...w)}return be.create(v,...d)}function Ie(v,d,...f){if(!v)throw Ee(d,...f)}function ve(v){const d="INTERNAL ASSERTION FAILED: "+v;throw Xe(d),new Error(d)}function Be(v,d){v||ve(d)}function rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ct(){return"http:"===Je()||"https:"===Je()}function Je(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class De{constructor(d,f){this.shortDelay=d,this.longDelay=f,Be(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(v,d){Be(v.emulator,"Emulator should always be set here");const{url:f}=v.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Ce{static initialize(d,f,w){this.fetchImpl=d,f&&(this.headersImpl=f),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},at=new De(3e4,6e4);function Ft(v,d){return v.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:v.tenantId}):d}function St(v,d,f,w){return sn.apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(v,d,f,w,V={}){return gt(v,V,(0,m.Z)(function*(){let X={},Ge={};w&&("GET"===d?Ge=w:X={body:JSON.stringify(w)});const lt=(0,W.xO)(Object.assign({key:v.config.apiKey},Ge)).slice(1),Bt=yield v._getAdditionalHeaders();return Bt["Content-Type"]="application/json",v.languageCode&&(Bt["X-Firebase-Locale"]=v.languageCode),Ce.fetch()(hn(v,v.config.apiHost,f,lt),Object.assign({method:d,headers:Bt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function gt(v,d,f){return pe.apply(this,arguments)}function pe(){return(pe=(0,m.Z)(function*(v,d,f){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qe),d);try{const V=new xn(v),X=yield Promise.race([f(),V.promise]);V.clearNetworkTimeout();const Ge=yield X.json();if("needConfirmation"in Ge)throw un(v,"account-exists-with-different-credential",Ge);if(X.ok&&!("errorMessage"in Ge))return Ge;{const lt=X.ok?Ge.errorMessage:Ge.error.message,[Bt,mn]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw un(v,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Bt)throw un(v,"email-already-in-use",Ge);if("USER_DISABLED"===Bt)throw un(v,"user-disabled",Ge);const Fn=w[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw yt(v,Fn,mn);qe(v,Fn)}}catch(V){if(V instanceof W.ZR)throw V;qe(v,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function vt(v,d,f,w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,m.Z)(function*(v,d,f,w,V={}){const X=yield St(v,d,f,w,V);return"mfaPendingCredential"in X&&qe(v,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function hn(v,d,f,w){const V=`${d}${f}?${w}`;return v.config.emulator?Te(v.config,V):`${v.config.apiScheme}://${V}`}class xn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,w)=>{this.timer=setTimeout(()=>w(Ve(this.auth,"network-request-failed")),at.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(v,d,f){const w={appName:v.name};f.email&&(w.email=f.email),f.phoneNumber&&(w.phoneNumber=f.phoneNumber);const V=Ve(v,d,w);return V.customData._tokenResponse=f,V}function _n(){return(_n=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function bn(v){if(v)try{const d=new Date(Number(v));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Gr(){return(Gr=(0,m.Z)(function*(v,d=!1){const f=(0,W.m9)(v),w=yield f.getIdToken(d),V=On(w);Ie(V&&V.exp&&V.auth_time&&V.iat,f.auth,"internal-error");const X="object"==typeof V.firebase?V.firebase:void 0,Ge=null==X?void 0:X.sign_in_provider;return{claims:V,token:w,authTime:bn(ri(V.auth_time)),issuedAtTime:bn(ri(V.iat)),expirationTime:bn(ri(V.exp)),signInProvider:Ge||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function ri(v){return 1e3*Number(v)}function On(v){const[d,f,w]=v.split(".");if(void 0===d||void 0===f||void 0===w)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,W.tV)(f);return V?JSON.parse(V):(Xe("Failed to decode base64 JWT payload"),null)}catch(V){return Xe("Caught error parsing JWT payload as JSON",null==V?void 0:V.toString()),null}}function Ht(v,d){return an.apply(this,arguments)}function an(){return(an=(0,m.Z)(function*(v,d,f=!1){if(f)return d;try{return yield d}catch(w){throw w instanceof W.ZR&&function zt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class Fr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const V=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const w=this.getInterval(d);this.timerId=setTimeout((0,m.Z)(function*(){yield f.iteration()}),w)}iteration(){var d=this;return(0,m.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===(null==f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class cr{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(v){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,m.Z)(function*(v){var d;const f=v.auth,w=yield v.getIdToken(),V=yield Ht(v,function Bn(v,d){return nn.apply(this,arguments)}(f,{idToken:w}));Ie(null==V?void 0:V.users.length,f,"internal-error");const X=V.users[0];v._notifyReloadListener(X);const Ge=null!==(d=X.providerUserInfo)&&void 0!==d&&d.length?function qn(v){return v.map(d=>{var{providerId:f}=d,w=(0,Ae._T)(d,["providerId"]);return{providerId:f,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(X.providerUserInfo):[],lt=function qr(v,d){return[...v.filter(w=>!d.some(V=>V.providerId===w.providerId)),...d]}(v.providerData,Ge),Fn=!!v.isAnonymous&&!(v.email&&X.passwordHash||null!=lt&&lt.length),Ln={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:lt,metadata:new cr(X.createdAt,X.lastLoginAt),isAnonymous:Fn};Object.assign(v,Ln)}),Ar.apply(this,arguments)}function vr(){return(vr=(0,m.Z)(function*(v){const d=(0,W.m9)(v);yield Lr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function rr(){return(rr=(0,m.Z)(function*(v,d){const f=yield gt(v,{},(0,m.Z)(function*(){const w=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:V,apiKey:X}=v.config,Ge=hn(v,V,"/v1/token",`key=${X}`),lt=yield v._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",Ce.fetch()(Ge,{method:"POST",headers:lt,body:w})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ie(d.idToken,"internal-error"),Ie(typeof d.idToken<"u","internal-error"),Ie(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function jn(v){const d=On(v);return Ie(d,"internal-error"),Ie(typeof d.exp<"u","internal-error"),Ie(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var w=this;return(0,m.Z)(function*(){return Ie(!w.accessToken||w.refreshToken,d,"user-token-expired"),f||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(d,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var w=this;return(0,m.Z)(function*(){const{accessToken:V,refreshToken:X,expiresIn:Ge}=yield function Hn(v,d){return rr.apply(this,arguments)}(d,f);w.updateTokensAndExpiration(V,X,Number(Ge))})()}updateTokensAndExpiration(d,f,w){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(d,f){const{refreshToken:w,accessToken:V,expirationTime:X}=f,Ge=new ti;return w&&(Ie("string"==typeof w,"internal-error",{appName:d}),Ge.refreshToken=w),V&&(Ie("string"==typeof V,"internal-error",{appName:d}),Ge.accessToken=V),X&&(Ie("number"==typeof X,"internal-error",{appName:d}),Ge.expirationTime=X),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return ve("not implemented")}}function _r(v,d){Ie("string"==typeof v||typeof v>"u","internal-error",{appName:d})}class Mt{constructor(d){var{uid:f,auth:w,stsTokenManager:V}=d,X=(0,Ae._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=w,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new cr(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,m.Z)(function*(){const w=yield Ht(f,f.stsTokenManager.getToken(f.auth,d));return Ie(w,f.auth,"internal-error"),f.accessToken!==w&&(f.accessToken=w,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),w})()}getIdTokenResult(d){return function lr(v){return Gr.apply(this,arguments)}(this,d)}reload(){return function Wr(v){return vr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ie(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const f=new Mt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(d){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var w=this;return(0,m.Z)(function*(){let V=!1;d.idToken&&d.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(d),V=!0),f&&(yield Lr(w)),yield w.auth._persistUserIfCurrent(w),V&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var d=this;return(0,m.Z)(function*(){const f=yield d.getIdToken();return yield Ht(d,function Wt(v,d){return _n.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var w,V,X,Ge,lt,Bt,mn,Fn;const Ln=null!==(w=f.displayName)&&void 0!==w?w:void 0,Ii=null!==(V=f.email)&&void 0!==V?V:void 0,ta=null!==(X=f.phoneNumber)&&void 0!==X?X:void 0,Lc=null!==(Ge=f.photoURL)&&void 0!==Ge?Ge:void 0,ch=null!==(lt=f.tenantId)&&void 0!==lt?lt:void 0,Gi=null!==(Bt=f._redirectEventId)&&void 0!==Bt?Bt:void 0,ud=null!==(mn=f.createdAt)&&void 0!==mn?mn:void 0,Bc=null!==(Fn=f.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:ml,emailVerified:hc,isAnonymous:Du,providerData:dd,stsTokenManager:uh}=f;Ie(ml&&uh,d,"internal-error");const uf=ti.fromJSON(this.name,uh);Ie("string"==typeof ml,d,"internal-error"),_r(Ln,d.name),_r(Ii,d.name),Ie("boolean"==typeof hc,d,"internal-error"),Ie("boolean"==typeof Du,d,"internal-error"),_r(ta,d.name),_r(Lc,d.name),_r(ch,d.name),_r(Gi,d.name),_r(ud,d.name),_r(Bc,d.name);const hd=new Mt({uid:ml,auth:d,email:Ii,emailVerified:hc,displayName:Ln,isAnonymous:Du,photoURL:Lc,phoneNumber:ta,tenantId:ch,stsTokenManager:uf,createdAt:ud,lastLoginAt:Bc});return dd&&Array.isArray(dd)&&(hd.providerData=dd.map(Vp=>Object.assign({},Vp))),Gi&&(hd._redirectEventId=Gi),hd}static _fromIdTokenResponse(d,f,w=!1){return(0,m.Z)(function*(){const V=new ti;V.updateFromServerResponse(f);const X=new Mt({uid:f.localId,auth:d,stsTokenManager:V,isAnonymous:w});return yield Lr(X),X})()}}const Le=new Map;function Ue(v){Be(v instanceof Function,"Expected a class definition");let d=Le.get(v);return d?(Be(d instanceof v,"Instance stored in cache mismatched with class"),d):(d=new v,Le.set(v,d),d)}const Ot=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(f,w){var V=this;return(0,m.Z)(function*(){V.storage[f]=w})()}_get(f){var w=this;return(0,m.Z)(function*(){const V=w.storage[f];return void 0===V?null:V})()}_remove(f){var w=this;return(0,m.Z)(function*(){delete w.storage[f]})()}_addListener(f,w){}_removeListener(f,w){}}return v.type="NONE",v})();function ue(v,d,f){return`firebase:${v}:${d}:${f}`}class ce{constructor(d,f,w){this.persistence=d,this.auth=f,this.userKey=w;const{config:V,name:X}=this.auth;this.fullUserKey=ue(this.userKey,V.apiKey,X),this.fullPersistenceKey=ue("persistence",V.apiKey,X),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,m.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Mt._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,m.Z)(function*(){if(f.persistence===d)return;const w=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,w?f.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,w="authUser"){return(0,m.Z)(function*(){if(!f.length)return new ce(Ue(Ot),d,w);const V=(yield Promise.all(f.map(function(){var mn=(0,m.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return mn.apply(this,arguments)}}()))).filter(mn=>mn);let X=V[0]||Ue(Ot);const Ge=ue(w,d.config.apiKey,d.name);let lt=null;for(const mn of f)try{const Fn=yield mn._get(Ge);if(Fn){const Ln=Mt._fromJSON(d,Fn);mn!==X&&(lt=Ln),X=mn;break}}catch{}const Bt=V.filter(mn=>mn._shouldAllowMigration);return X._shouldAllowMigration&&Bt.length?(X=Bt[0],lt&&(yield X._set(Ge,lt.toJSON())),yield Promise.all(f.map(function(){var mn=(0,m.Z)(function*(Fn){if(Fn!==X)try{yield Fn._remove(Ge)}catch{}});return function(Fn){return mn.apply(this,arguments)}}())),new ce(X,d,w)):new ce(X,d,w)})()}}function ke(v){const d=v.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(je(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ft(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(oe(d))return"Blackberry";if(He(d))return"Webos";if(tt(d))return"Safari";if((d.includes("chrome/")||Gt(d))&&!d.includes("edge/"))return"Chrome";if(Me(d))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function ft(v=(0,W.z$)()){return/firefox\//i.test(v)}function tt(v=(0,W.z$)()){const d=v.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Gt(v=(0,W.z$)()){return/crios\//i.test(v)}function je(v=(0,W.z$)()){return/iemobile/i.test(v)}function Me(v=(0,W.z$)()){return/android/i.test(v)}function oe(v=(0,W.z$)()){return/blackberry/i.test(v)}function He(v=(0,W.z$)()){return/webos/i.test(v)}function Tt(v=(0,W.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Yn(v=(0,W.z$)()){return Tt(v)||Me(v)||He(v)||oe(v)||/windows phone/i.test(v)||je(v)}function At(v,d=[]){let f;switch(v){case"Browser":f=ke((0,W.z$)());break;case"Worker":f=`${ke((0,W.z$)())}-${v}`;break;default:f=v}const w=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ne.SDK_VERSION}/${w}`}function jt(){return(jt=(0,m.Z)(function*(v){return(yield St(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yn(v,d){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(v,d){return St(v,"GET","/v2/recaptchaConfig",Ft(v,d))})).apply(this,arguments)}function er(v){return void 0!==v&&void 0!==v.getResponse}function En(v){return void 0!==v&&void 0!==v.enterprise}class or{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function zn(v){return new Promise((d,f)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=d,w.onerror=V=>{const X=Ve("internal-error");X.customData=V,f(X)},w.type="text/javascript",w.charset="UTF-8",function tr(){var v,d;return null!==(d=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==d?d:document}().appendChild(w)})}function Pn(v){return`__${v}${Math.floor(1e6*Math.random())}`}const xi="NO_RECAPTCHA";class fi{constructor(d){this.type="recaptcha-enterprise",this.auth=ur(d)}verify(d="verify",f=!1){var w=this;return(0,m.Z)(function*(){function X(){return X=(0,m.Z)(function*(lt){if(!f){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Bt=(0,m.Z)(function*(mn,Fn){yn(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ln=>{if(void 0!==Ln.recaptchaKey){const Ii=new or(Ln);return null==lt.tenantId?lt._agentRecaptchaConfig=Ii:lt._tenantRecaptchaConfigs[lt.tenantId]=Ii,mn(Ii.siteKey)}Fn(new Error("recaptcha Enterprise site key undefined"))}).catch(Ln=>{Fn(Ln)})});return function(mn,Fn){return Bt.apply(this,arguments)}}())}),X.apply(this,arguments)}function Ge(lt,Bt,mn){const Fn=window.grecaptcha;En(Fn)?Fn.enterprise.ready(()=>{Fn.enterprise.execute(lt,{action:d}).then(Ln=>{Bt(Ln)}).catch(()=>{Bt(xi)})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Bt)=>{(function V(lt){return X.apply(this,arguments)})(w.auth).then(mn=>{if(!f&&En(window.grecaptcha))Ge(mn,lt,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));zn("https://www.google.com/recaptcha/enterprise.js?render="+mn).then(()=>{Ge(mn,lt,Bt)}).catch(Fn=>{Bt(Fn)})}}).catch(mn=>{Bt(mn)})})})()}}function ln(v,d,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(v,d,f,w=!1){const V=new fi(v);let X;try{X=yield V.verify(f)}catch{X=yield V.verify(f,!0)}const Ge=Object.assign({},d);return Object.assign(Ge,w?{captchaResp:X}:{captchaResponse:X}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}class Mr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const w=X=>new Promise((Ge,lt)=>{try{Ge(d(X))}catch(Bt){lt(Bt)}});w.onAbort=f,this.queue.push(w);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,m.Z)(function*(){if(f.auth.currentUser===d)return;const w=[];try{for(const V of f.queue)yield V(d),V.onAbort&&w.push(V.onAbort)}catch(V){w.reverse();for(const X of w)try{X()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null==V?void 0:V.message})}})()}}class pi{constructor(d,f,w,V){this.app=d,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=w,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(d,f){var w=this;return f&&(this._popupRedirectResolver=Ue(f)),this._initializationPromise=this.queue((0,m.Z)(function*(){var V,X;if(!w._deleted&&(w.persistenceManager=yield ce.create(w,d),!w._deleted)){if(null!==(V=w._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(f),w.lastNotifiedUid=(null===(X=w.currentUser)||void 0===X?void 0:X.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,m.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,m.Z)(function*(){var w;const V=yield f.assertedPersistence.getCurrentUser();let X=V,Ge=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const lt=null===(w=f.redirectUser)||void 0===w?void 0:w._redirectEventId,Bt=null==X?void 0:X._redirectEventId,mn=yield f.tryRedirectSignIn(d);(!lt||lt===Bt)&&null!=mn&&mn.user&&(X=mn.user,Ge=!0)}if(!X)return f.directlySetCurrentUser(null);if(!X._redirectEventId){if(Ge)try{yield f.beforeStateQueue.runMiddleware(X)}catch(lt){X=V,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(lt))}return X?f.reloadAndSetCurrentUserOrClear(X):f.directlySetCurrentUser(null)}return Ie(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===X._redirectEventId?f.directlySetCurrentUser(X):f.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(d){var f=this;return(0,m.Z)(function*(){let w=null;try{w=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,m.Z)(function*(){try{yield Lr(d)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function it(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var d=this;return(0,m.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,m.Z)(function*(){const w=d?(0,W.m9)(d):null;return w&&Ie(w.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(w&&w._clone(f))})()}_updateCurrentUser(d,f=!1){var w=this;return(0,m.Z)(function*(){if(!w._deleted)return d&&Ie(w.tenantId===d.tenantId,w,"tenant-id-mismatch"),f||(yield w.beforeStateQueue.runMiddleware(d)),w.queue((0,m.Z)(function*(){yield w.directlySetCurrentUser(d),w.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,m.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,m.Z)(function*(){yield f.assertedPersistence.setPersistence(Ue(d))}))}initializeRecaptchaConfig(){var d=this;return(0,m.Z)(function*(){const f=yield yn(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new or(f);null==d.tenantId?d._agentRecaptchaConfig=w:d._tenantRecaptchaConfigs[d.tenantId]=w,w.emailPasswordEnabled&&new fi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,f,w){return this.registerStateListener(this.authStateSubscription,d,f,w)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,w){return this.registerStateListener(this.idTokenSubscription,d,f,w)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var w=this;return(0,m.Z)(function*(){const V=yield w.getOrInitRedirectPersistenceManager(f);return null===d?V.removeCurrentUser():V.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,m.Z)(function*(){if(!f.redirectPersistenceManager){const w=d&&Ue(d)||f._popupRedirectResolver;Ie(w,f,"argument-error"),f.redirectPersistenceManager=yield ce.create(f,[Ue(w._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,m.Z)(function*(){var w,V;return f._isInitialized&&(yield f.queue((0,m.Z)(function*(){}))),(null===(w=f._currentUser)||void 0===w?void 0:w._redirectEventId)===d?f._currentUser:(null===(V=f.redirectUser)||void 0===V?void 0:V._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,m.Z)(function*(){if(d===f.currentUser)return f.queue((0,m.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,w,V){if(this._deleted)return()=>{};const X="function"==typeof f?f:f.next.bind(f),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(Ge,this,"internal-error"),Ge.then(()=>X(this.currentUser)),"function"==typeof f?d.addObserver(f,w,V):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,m.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,m.Z)(function*(){var f;const w={"X-Client-Version":d.clientVersion};d.app.options.appId&&(w["X-Firebase-gmpid"]=d.app.options.appId);const V=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();V&&(w["X-Firebase-Client"]=V);const X=yield d._getAppCheckToken();return X&&(w["X-Firebase-AppCheck"]=X),w})()}_getAppCheckToken(){var d=this;return(0,m.Z)(function*(){var f;const w=yield null===(f=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return null!=w&&w.error&&function ot(v,...d){te.logLevel<=we.in.WARN&&te.warn(`Auth (${ne.SDK_VERSION}): ${v}`,...d)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function ur(v){return(0,W.m9)(v)}class Ur{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(f=>this.observer=f)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function de(v){const d=v.indexOf(":");return d<0?"":v.substr(0,d+1)}function ie(v){if(!v)return null;const d=Number(v);return isNaN(d)?null:d}class Fe{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return ve("not implemented")}_getIdTokenResponse(d){return ve("not implemented")}_linkToIdToken(d,f){return ve("not implemented")}_getReauthenticationResolver(d){return ve("not implemented")}}function _t(v,d){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:resetPassword",Ft(v,d))})).apply(this,arguments)}function Pt(v,d){return $t.apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:update",Ft(v,d))})).apply(this,arguments)}function An(v,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithPassword",Ft(v,d))})).apply(this,arguments)}function Kr(v,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:sendOobCode",Ft(v,d))})).apply(this,arguments)}function ze(){return(ze=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function ut(v,d){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function Kt(v,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(v,d){return Kr(v,d)})).apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,d))})).apply(this,arguments)}function jr(){return(jr=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,d))})).apply(this,arguments)}class so extends Fe{constructor(d,f,w,V=null){super("password",w),this._email=d,this._password=f,this._tenantId=V}static _fromEmailAndPassword(d,f){return new so(d,f,"password")}static _fromEmailAndCode(d,f,w=null){return new so(d,f,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if(null!=f&&f.email&&null!=f&&f.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,m.Z)(function*(){var w;switch(f.signInMethod){case"password":const V={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=d._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const X=yield ln(d,V,"signInWithPassword");return An(d,X)}return An(d,V).catch(function(){var X=(0,m.Z)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const lt=yield ln(d,V,"signInWithPassword");return An(d,lt)}return Promise.reject(Ge)});return function(Ge){return X.apply(this,arguments)}}());case"emailLink":return function Tr(v,d){return Bi.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:qe(d,"internal-error")}})()}_linkToIdToken(d,f){var w=this;return(0,m.Z)(function*(){switch(w.signInMethod){case"password":return Pt(d,{idToken:f,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ro(v,d){return jr.apply(this,arguments)}(d,{idToken:f,email:w._email,oobCode:w._password});default:qe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function gi(v,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithIdp",Ft(v,d))})).apply(this,arguments)}class mi extends Fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new mi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):qe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:V}=f,X=(0,Ae._T)(f,["providerId","signInMethod"]);if(!w||!V)return null;const Ge=new mi(w,V);return Ge.idToken=X.idToken||void 0,Ge.accessToken=X.accessToken||void 0,Ge.secret=X.secret,Ge.nonce=X.nonce,Ge.pendingToken=X.pendingToken||null,Ge}_getIdTokenResponse(d){return gi(d,this.buildRequest())}_linkToIdToken(d,f){const w=this.buildRequest();return w.idToken=f,gi(d,w)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,gi(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,W.xO)(f)}return d}}function lo(){return(lo=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:sendVerificationCode",Ft(v,d))})).apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,d))})).apply(this,arguments)}function go(){return(go=(0,m.Z)(function*(v,d){const f=yield vt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,d));if(f.temporaryProof)throw un(v,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ps={USER_NOT_FOUND:"user-not-found"};function Ko(){return(Ko=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ps)})).apply(this,arguments)}class $i extends Fe{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new $i({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new $i({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Os(v,d){return qo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function Qi(v,d){return go.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ia(v,d){return Ko.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:w,verificationCode:V}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:w,code:V}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:w,phoneNumber:V,temporaryProof:X}=d;return w||f||V||X?new $i({verificationId:f,verificationCode:w,phoneNumber:V,temporaryProof:X}):null}}class Di{constructor(d){var f,w,V,X,Ge,lt;const Bt=(0,W.zd)((0,W.pd)(d)),mn=null!==(f=Bt.apiKey)&&void 0!==f?f:null,Fn=null!==(w=Bt.oobCode)&&void 0!==w?w:null,Ln=function Ns(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Bt.mode)&&void 0!==V?V:null);Ie(mn&&Fn&&Ln,"argument-error"),this.apiKey=mn,this.operation=Ln,this.code=Fn,this.continueUrl=null!==(X=Bt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Ge=Bt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(lt=Bt.tenantId)&&void 0!==lt?lt:null}static parseLink(d){const f=function mo(v){const d=(0,W.zd)((0,W.pd)(v)).link,f=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,w=(0,W.zd)((0,W.pd)(v)).deep_link_id;return(w?(0,W.zd)((0,W.pd)(w)).link:null)||w||f||d||v}(d);try{return new Di(f)}catch{return null}}}let Yo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(f,w){return so._fromEmailAndPassword(f,w)}static credentialWithLink(f,w){const V=Di.parseLink(w);return Ie(V,"argument-error"),so._fromEmailAndCode(f,V.code,V.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class yo{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Sr extends yo{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ji extends Sr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return Ie("providerId"in f&&"signInMethod"in f,"argument-error"),mi._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ie(d.idToken||d.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ji.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ji.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:w,oauthTokenSecret:V,pendingToken:X,nonce:Ge,providerId:lt}=d;if(!w&&!V&&!f&&!X||!lt)return null;try{return new Ji(lt)._credential({idToken:f,accessToken:w,nonce:Ge,pendingToken:X})}catch{return null}}}let vo=(()=>{class v extends Sr{constructor(){super("facebook.com")}static credential(f){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),_o=(()=>{class v extends Sr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,w){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:w})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:w,oauthAccessToken:V}=f;if(!w&&!V)return null;try{return v.credential(w,V)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Es=(()=>{class v extends Sr{constructor(){super("github.com")}static credential(f){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ui extends Fe{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return gi(d,this.buildRequest())}_linkToIdToken(d,f){const w=this.buildRequest();return w.idToken=f,gi(d,w)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,gi(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:V,pendingToken:X}=f;return w&&V&&X&&w===V?new Ui(w,X):null}static _create(d,f){return new Ui(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oo extends yo{constructor(d){Ie(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Oo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Oo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Ui.fromJSON(d);return Ie(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:w}=d;if(!f||!w)return null;try{return Ui._create(w,f)}catch{return null}}}let Is=(()=>{class v extends Sr{constructor(){super("twitter.com")}static credential(f,w){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:w})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:w,oauthTokenSecret:V}=f;if(!w||!V)return null;try{return v.credential(w,V)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ji(v,d){return si.apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signUp",Ft(v,d))})).apply(this,arguments)}class wi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,w,V=!1){return(0,m.Z)(function*(){const X=yield Mt._fromIdTokenResponse(d,w,V),Ge=Po(w);return new wi({user:X,providerId:Ge,_tokenResponse:w,operationType:f})})()}static _forOperation(d,f,w){return(0,m.Z)(function*(){yield d._updateTokensIfNecessary(w,!0);const V=Po(w);return new wi({user:d,providerId:V,_tokenResponse:w,operationType:f})})()}}function Po(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function No(){return(No=(0,m.Z)(function*(v){var d;const f=ur(v);if(yield f._initializationPromise,null!==(d=f.currentUser)&&void 0!==d&&d.isAnonymous)return new wi({user:f.currentUser,providerId:null,operationType:"signIn"});const w=yield ji(f,{returnSecureToken:!0}),V=yield wi._fromIdTokenResponse(f,"signIn",w,!0);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class ko extends W.ZR{constructor(d,f,w,V){var X;super(f.code,f.message),this.operationType=w,this.user=V,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:d.name,tenantId:null!==(X=d.tenantId)&&void 0!==X?X:void 0,_serverResponse:f.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(d,f,w,V){return new ko(d,f,w,V)}}function Vi(v,d,f,w){return("reauthenticate"===d?f._getReauthenticationResolver(v):f._getIdTokenResponse(v)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?ko._fromErrorAndOperation(v,X,d,w):X})}function Ds(v){return new Set(v.map(({providerId:d})=>d).filter(d=>!!d))}function yi(){return yi=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v);yield ui(!0,f,d);const{providerUserInfo:w}=yield function Kn(v,d){return ir.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),V=Ds(w||[]);return f.providerData=f.providerData.filter(X=>V.has(X.providerId)),V.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),yi.apply(this,arguments)}function vi(v,d){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,m.Z)(function*(v,d,f=!1){const w=yield Ht(v,d._linkToIdToken(v.auth,yield v.getIdToken()),f);return wi._forOperation(v,"link",w)})).apply(this,arguments)}function ui(v,d,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(v,d,f){yield Lr(d);const V=!1===v?"provider-already-linked":"no-such-provider";Ie(Ds(d.providerData).has(f)===v,d.auth,V)})).apply(this,arguments)}function co(v,d){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(v,d,f=!1){const{auth:w}=v,V="reauthenticate";try{const X=yield Ht(v,Vi(w,V,d,v),f);Ie(X.idToken,w,"internal-error");const Ge=On(X.idToken);Ie(Ge,w,"internal-error");const{sub:lt}=Ge;return Ie(v.uid===lt,w,"user-mismatch"),wi._forOperation(v,V,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&qe(w,"user-mismatch"),X}})).apply(this,arguments)}function cs(v,d){return sr.apply(this,arguments)}function sr(){return(sr=(0,m.Z)(function*(v,d,f=!1){const w="signIn",V=yield Vi(v,w,d),X=yield wi._fromIdTokenResponse(v,w,V);return f||(yield v._updateCurrentUser(X.user)),X})).apply(this,arguments)}function us(v,d){return ws.apply(this,arguments)}function ws(){return(ws=(0,m.Z)(function*(v,d){return cs(ur(v),d)})).apply(this,arguments)}function ds(v,d){return _.apply(this,arguments)}function _(){return(_=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v);return yield ui(!1,f,d.providerId),vi(f,d)})).apply(this,arguments)}function U(v,d){return I.apply(this,arguments)}function I(){return(I=(0,m.Z)(function*(v,d){return co((0,W.m9)(v),d)})).apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(v,d){return vt(v,"POST","/v1/accounts:signInWithCustomToken",Ft(v,d))})).apply(this,arguments)}function x(){return x=(0,m.Z)(function*(v,d){const f=ur(v),w=yield function $(v,d){return re.apply(this,arguments)}(f,{token:d,returnSecureToken:!0}),V=yield wi._fromIdTokenResponse(f,"signIn",w);return yield f._updateCurrentUser(V.user),V}),x.apply(this,arguments)}class R{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?q._fromServerResponse(d,f):"totpInfo"in f?nt._fromServerResponse(d,f):qe(d,"internal-error")}}class q extends R{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new q(f)}}class nt extends R{constructor(d){super("totp",d)}static _fromServerResponse(d,f){return new nt(f)}}function rn(v,d,f){var w;Ie((null===(w=f.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Ie(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ie(f.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(Ie(f.android.packageName.length>0,v,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function xr(){return xr=(0,m.Z)(function*(v,d,f){var w;const V=ur(v),X={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=V._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ge=yield ln(V,X,"getOobCode",!0);f&&rn(V,Ge,f),yield ut(V,Ge)}else f&&rn(V,X,f),yield ut(V,X).catch(function(){var Ge=(0,m.Z)(function*(lt){if("auth/missing-recaptcha-token"!==lt.code)return Promise.reject(lt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Bt=yield ln(V,X,"getOobCode",!0);f&&rn(V,Bt,f),yield ut(V,Bt)}});return function(lt){return Ge.apply(this,arguments)}}())}),xr.apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(v,d,f){yield _t((0,W.m9)(v),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Qr(){return Qr=(0,m.Z)(function*(v,d){yield function Jt(v,d){return Nn.apply(this,arguments)}((0,W.m9)(v),{oobCode:d})}),Qr.apply(this,arguments)}function Fs(v,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v),w=yield _t(f,{oobCode:d}),V=w.requestType;switch(Ie(V,f,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(w.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(w.mfaInfo,f,"internal-error");default:Ie(w.email,f,"internal-error")}let X=null;return w.mfaInfo&&(X=R._fromServerResponse(ur(f),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:X},operation:V}})).apply(this,arguments)}function Do(){return(Do=(0,m.Z)(function*(v,d){const{data:f}=yield Fs((0,W.m9)(v),d);return f.email})).apply(this,arguments)}function wo(){return wo=(0,m.Z)(function*(v,d,f){var w;const V=ur(v),X={returnSecureToken:!0,email:d,password:f,clientType:"CLIENT_TYPE_WEB"};let Ge;if(null!==(w=V._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const mn=yield ln(V,X,"signUpPassword");Ge=ji(V,mn)}else Ge=ji(V,X).catch(function(){var mn=(0,m.Z)(function*(Fn){if("auth/missing-recaptcha-token"===Fn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ln=yield ln(V,X,"signUpPassword");return ji(V,Ln)}return Promise.reject(Fn)});return function(Fn){return mn.apply(this,arguments)}}());const lt=yield Ge.catch(mn=>Promise.reject(mn)),Bt=yield wi._fromIdTokenResponse(V,"signIn",lt);return yield V._updateCurrentUser(Bt.user),Bt}),wo.apply(this,arguments)}function Zs(){return Zs=(0,m.Z)(function*(v,d,f){var w;const V=ur(v),X={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Ge(lt,Bt){Ie(Bt.handleCodeInApp,V,"argument-error"),Bt&&rn(V,lt,Bt)}if(null!==(w=V._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const lt=yield ln(V,X,"getOobCode",!0);Ge(lt,f),yield Kt(V,lt)}else Ge(X,f),yield Kt(V,X).catch(function(){var lt=(0,m.Z)(function*(Bt){if("auth/missing-recaptcha-token"!==Bt.code)return Promise.reject(Bt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const mn=yield ln(V,X,"getOobCode",!0);Ge(mn,f),yield Kt(V,mn)}});return function(Bt){return lt.apply(this,arguments)}}())}),Zs.apply(this,arguments)}function Xo(){return(Xo=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v),V=Yo.credentialWithLink(d,f||rt());return Ie(V._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),us(w,V)})).apply(this,arguments)}function Xs(){return(Xs=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:createAuthUri",Ft(v,d))})).apply(this,arguments)}function sa(){return sa=(0,m.Z)(function*(v,d){const w={identifier:d,continueUri:ct()?rt():"http://localhost"},{signinMethods:V}=yield function va(v,d){return Xs.apply(this,arguments)}((0,W.m9)(v),w);return V||[]}),sa.apply(this,arguments)}function Bs(){return Bs=(0,m.Z)(function*(v,d){const f=(0,W.m9)(v),V={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};d&&rn(f.auth,V,d);const{email:X}=yield function et(v,d){return ze.apply(this,arguments)}(f.auth,V);X!==v.email&&(yield v.reload())}),Bs.apply(this,arguments)}function bs(){return bs=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:d};f&&rn(w.auth,X,f);const{email:Ge}=yield function Xn(v,d){return nr.apply(this,arguments)}(w.auth,X);Ge!==v.email&&(yield v.reload())}),bs.apply(this,arguments)}function aa(){return(aa=(0,m.Z)(function*(v,d){return St(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $s(){return $s=(0,m.Z)(function*(v,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const w=(0,W.m9)(v),X={idToken:yield w.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},Ge=yield Ht(w,function Cs(v,d){return aa.apply(this,arguments)}(w.auth,X));w.displayName=Ge.displayName||null,w.photoURL=Ge.photoUrl||null;const lt=w.providerData.find(({providerId:Bt})=>"password"===Bt);lt&&(lt.displayName=w.displayName,lt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ge)}),$s.apply(this,arguments)}function Pr(v,d,f){return la.apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(v,d,f){const{auth:w}=v,X={idToken:yield v.getIdToken(),returnSecureToken:!0};d&&(X.email=d),f&&(X.password=f);const Ge=yield Ht(v,Pt(w,X));yield v._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class Qo{constructor(d,f,w={}){this.isNewUser=d,this.providerId=f,this.profile=w}}class ql extends Qo{constructor(d,f,w,V){super(d,f,w),this.username=V}}class Jo extends Qo{constructor(d,f){super(d,"facebook.com",f)}}class el extends ql{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Hr extends Qo{constructor(d,f){super(d,"google.com",f)}}class tl extends ql{constructor(d,f,w){super(d,"twitter.com",f,w)}}function Ia(v){const{user:d,_tokenResponse:f}=v;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function El(v){var d,f;if(!v)return null;const{providerId:w}=v,V=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},X=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&null!=v&&v.idToken){const Ge=null===(f=null===(d=On(v.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(Ge)return new Qo(X,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!w)return null;switch(w){case"facebook.com":return new Jo(X,V);case"github.com":return new el(X,V);case"google.com":return new Hr(X,V);case"twitter.com":return new tl(X,V,v.screenName||null);case"custom":case"anonymous":return new Qo(X,null);default:return new Qo(X,w,V)}}(f)}class fr{constructor(d,f,w){this.type=d,this.credential=f,this.auth=w}static _fromIdtoken(d,f){return new fr("enroll",d,f)}static _fromMfaPendingCredential(d){return new fr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,w;if(null!=d&&d.multiFactorSession){if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.pendingCredential)return fr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(w=d.multiFactorSession)&&void 0!==w&&w.idToken)return fr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ar{constructor(d,f,w){this.session=d,this.hints=f,this.signInResolver=w}static _fromError(d,f){const w=ur(d),V=f.customData._serverResponse,X=(V.mfaInfo||[]).map(lt=>R._fromServerResponse(w,lt));Ie(V.mfaPendingCredential,w,"internal-error");const Ge=fr._fromMfaPendingCredential(V.mfaPendingCredential);return new ar(Ge,X,function(){var lt=(0,m.Z)(function*(Bt){const mn=yield Bt._process(w,Ge);delete V.mfaInfo,delete V.mfaPendingCredential;const Fn=Object.assign(Object.assign({},V),{idToken:mn.idToken,refreshToken:mn.refreshToken});switch(f.operationType){case"signIn":const Ln=yield wi._fromIdTokenResponse(w,f.operationType,Fn);return yield w._updateCurrentUser(Ln.user),Ln;case"reauthenticate":return Ie(f.user,w,"internal-error"),wi._forOperation(f.user,f.operationType,Fn);default:qe(w,"internal-error")}});return function(Bt){return lt.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,m.Z)(function*(){return f.signInResolver(d)})()}}class zi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(w=>R._fromServerResponse(d.auth,w)))})}static _fromUser(d){return new zi(d)}getSession(){var d=this;return(0,m.Z)(function*(){return fr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,f){var w=this;return(0,m.Z)(function*(){const V=d,X=yield w.getSession(),Ge=yield Ht(w.user,V._process(w.user.auth,X,f));return yield w.user._updateTokensIfNecessary(Ge),w.user.reload()})()}unenroll(d){var f=this;return(0,m.Z)(function*(){const w="string"==typeof d?d:d.uid,V=yield f.user.getIdToken();try{const X=yield Ht(f.user,function fs(v,d){return St(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(v,d))}(f.user.auth,{idToken:V,mfaEnrollmentId:w}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ge})=>Ge!==w),yield f.user._updateTokensIfNecessary(X),yield f.user.reload()}catch(X){throw X}})()}}const bo=new WeakMap,To="__sak";class Da{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const bi=(()=>{class v extends Da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,w)=>this.onStorageEvent(f,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nl(){const v=(0,W.z$)();return tt(v)||Tt(v)}()&&function Ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const w of Object.keys(this.listeners)){const V=this.storage.getItem(w),X=this.localCache[w];V!==X&&f(w,X,V)}}onStorageEvent(f,w=!1){if(!f.key)return void this.forAllChangedKeys((lt,Bt,mn)=>{this.notifyListeners(lt,mn)});const V=f.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(V);if(f.newValue!==lt)null!==f.newValue?this.storage.setItem(V,f.newValue):this.storage.removeItem(V);else if(this.localCache[V]===f.newValue&&!w)return}const X=()=>{const lt=this.storage.getItem(V);!w&&this.localCache[V]===lt||this.notifyListeners(V,lt)},Ge=this.storage.getItem(V);!function Vn(){return(0,W.w1)()&&10===document.documentMode}()||Ge===f.newValue||f.newValue===f.oldValue?X():setTimeout(X,10)}notifyListeners(f,w){this.localCache[f]=w;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,w,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:w,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,w){var V=()=>super._set,X=this;return(0,m.Z)(function*(){yield V().call(X,f,w),X.localCache[f]=JSON.stringify(w)})()}_get(f){var w=()=>super._get,V=this;return(0,m.Z)(function*(){const X=yield w().call(V,f);return V.localCache[f]=JSON.stringify(X),X})()}_remove(f){var w=()=>super._remove,V=this;return(0,m.Z)(function*(){yield w().call(V,f),delete V.localCache[f]})()}}return v.type="LOCAL",v})(),$o=(()=>{class v extends Da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,w){}_removeListener(f,w){}}return v.type="SESSION",v})();let il=(()=>{class v{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const w=this.receivers.find(X=>X.isListeningto(f));if(w)return w;const V=new v(f);return this.receivers.push(V),V}isListeningto(f){return this.eventTarget===f}handleEvent(f){var w=this;return(0,m.Z)(function*(){const V=f,{eventId:X,eventType:Ge,data:lt}=V.data,Bt=w.handlersMap[Ge];if(null==Bt||!Bt.size)return;V.ports[0].postMessage({status:"ack",eventId:X,eventType:Ge});const mn=Array.from(Bt).map(function(){var Ln=(0,m.Z)(function*(Ii){return Ii(V.origin,lt)});return function(Ii){return Ln.apply(this,arguments)}}()),Fn=yield function rl(v){return Promise.all(v.map(function(){var d=(0,m.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(w){return{fulfilled:!1,reason:w}}});return function(f){return d.apply(this,arguments)}}()))}(mn);V.ports[0].postMessage({status:"done",eventId:X,eventType:Ge,response:Fn})})()}_subscribe(f,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(w)}_unsubscribe(f,w){this.handlersMap[f]&&w&&this.handlersMap[f].delete(w),(!w||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Xt(v="",d=10){let f="";for(let w=0;w<d;w++)f+=Math.floor(10*Math.random());return v+f}class Ei{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,w=50){var V=this;return(0,m.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Ge,lt;return new Promise((Bt,mn)=>{const Fn=Xt("",20);X.port1.start();const Ln=setTimeout(()=>{mn(new Error("unsupported_event"))},w);lt={messageChannel:X,onMessage(Ii){const ta=Ii;if(ta.data.eventId===Fn)switch(ta.data.status){case"ack":clearTimeout(Ln),Ge=setTimeout(()=>{mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Bt(ta.data.response);break;default:clearTimeout(Ln),clearTimeout(Ge),mn(new Error("invalid_response"))}}},V.handlers.add(lt),X.port1.addEventListener("message",lt.onMessage),V.target.postMessage({eventType:d,eventId:Fn,data:f},[X.port2])}).finally(()=>{lt&&V.removeMessageHandler(lt)})})()}}function Br(){return window}function wn(){return typeof Br().WorkerGlobalScope<"u"&&"function"==typeof Br().importScripts}function Dl(){return(Dl=(0,m.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ut="firebaseLocalStorageDb",Rr=1,ca="firebaseLocalStorage",wl="fbase_key";class Pa{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Vs(v,d){return v.transaction([ca],d?"readwrite":"readonly").objectStore(ca)}function Zl(){const v=indexedDB.open(Ut,Rr);return new Promise((d,f)=>{v.addEventListener("error",()=>{f(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(ca,{keyPath:wl})}catch(V){f(V)}}),v.addEventListener("success",(0,m.Z)(function*(){const w=v.result;w.objectStoreNames.contains(ca)?d(w):(w.close(),yield function su(){const v=indexedDB.deleteDatabase(Ut);return new Pa(v).toPromise()}(),d(yield Zl()))}))})}function wa(v,d,f){return ol.apply(this,arguments)}function ol(){return(ol=(0,m.Z)(function*(v,d,f){const w=Vs(v,!0).put({[wl]:d,value:f});return new Pa(w).toPromise()})).apply(this,arguments)}function uo(){return(uo=(0,m.Z)(function*(v,d){const f=Vs(v,!1).get(d),w=yield new Pa(f).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ua(v,d){const f=Vs(v,!0).delete(d);return new Pa(f).toPromise()}const Nr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,m.Z)(function*(){return f.db||(f.db=yield Zl()),f.db})()}_withRetries(f){var w=this;return(0,m.Z)(function*(){let V=0;for(;;)try{const X=yield w._openDb();return yield f(X)}catch(X){if(V++>3)throw X;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,m.Z)(function*(){return wn()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,m.Z)(function*(){f.receiver=il._getInstance(function Dt(){return wn()?self:null}()),f.receiver._subscribe("keyChanged",function(){var w=(0,m.Z)(function*(V,X){return{keyProcessed:(yield f._poll()).includes(X.key)}});return function(V,X){return w.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var w=(0,m.Z)(function*(V,X){return["keyChanged"]});return function(V,X){return w.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,m.Z)(function*(){var w,V;if(f.activeServiceWorker=yield function Wn(){return Dl.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Ei(f.activeServiceWorker);const X=yield f.sender._send("ping",{},800);X&&null!==(w=X[0])&&void 0!==w&&w.fulfilled&&null!==(V=X[0])&&void 0!==V&&V.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var w=this;return(0,m.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Dn(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:f},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Zl();return yield wa(f,To,"1"),yield ua(f,To),!0}catch{}return!1})()}_withPendingWrite(f){var w=this;return(0,m.Z)(function*(){w.pendingWrites++;try{yield f()}finally{w.pendingWrites--}})()}_set(f,w){var V=this;return(0,m.Z)(function*(){return V._withPendingWrite((0,m.Z)(function*(){return yield V._withRetries(X=>wa(X,f,w)),V.localCache[f]=w,V.notifyServiceWorker(f)}))})()}_get(f){var w=this;return(0,m.Z)(function*(){const V=yield w._withRetries(X=>function bl(v,d){return uo.apply(this,arguments)}(X,f));return w.localCache[f]=V,V})()}_remove(f){var w=this;return(0,m.Z)(function*(){return w._withPendingWrite((0,m.Z)(function*(){return yield w._withRetries(V=>ua(V,f)),delete w.localCache[f],w.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,m.Z)(function*(){const w=yield f._withRetries(Ge=>{const lt=Vs(Ge,!1).getAll();return new Pa(lt).toPromise()});if(!w)return[];if(0!==f.pendingWrites)return[];const V=[],X=new Set;for(const{fbase_key:Ge,value:lt}of w)X.add(Ge),JSON.stringify(f.localCache[Ge])!==JSON.stringify(lt)&&(f.notifyListeners(Ge,lt),V.push(Ge));for(const Ge of Object.keys(f.localCache))f.localCache[Ge]&&!X.has(Ge)&&(f.notifyListeners(Ge,null),V.push(Ge));return V})()}notifyListeners(f,w){this.localCache[f]=w;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(w)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),pn=1e12;class Na{constructor(d){this.auth=d,this.counter=pn,this._widgets=new Map}render(d,f){const w=this.counter;return this._widgets.set(w,new Tl(d,this.auth.name,f||{})),this.counter++,w}reset(d){var f;const w=d||pn;null===(f=this._widgets.get(w))||void 0===f||f.delete(),this._widgets.delete(w)}getResponse(d){var f;return(null===(f=this._widgets.get(d||pn))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,m.Z)(function*(){var w;return null===(w=f._widgets.get(d||pn))||void 0===w||w.execute(),""})()}}class Tl{constructor(d,f,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof d?document.getElementById(d):d;Ie(V,"argument-error",{appName:f}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ka(v){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bc=Pn("rcb"),Sl=new De(3e4,6e4);class Ql{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Br().grecaptcha)||void 0===d||!d.render)}load(d,f=""){return Ie(function Cc(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(f),d,"argument-error"),this.shouldResolveImmediately(f)&&er(Br().grecaptcha)?Promise.resolve(Br().grecaptcha):new Promise((w,V)=>{const X=Br().setTimeout(()=>{V(Ve(d,"network-request-failed"))},Sl.get());Br()[bc]=()=>{Br().clearTimeout(X),delete Br()[bc];const lt=Br().grecaptcha;if(!lt||!er(lt))return void V(Ve(d,"internal-error"));const Bt=lt.render;lt.render=(mn,Fn)=>{const Ln=Bt(mn,Fn);return this.counter++,Ln},this.hostLanguage=f,w(lt)},zn(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:bc,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(X),V(Ve(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!(null===(f=Br().grecaptcha)||void 0===f||!f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ki{load(d){return(0,m.Z)(function*(){return new Na(d)})()}clearedOneInstance(){}}const ki="recaptcha",Fa={theme:"light",type:"image"};class sl{constructor(d,f=Object.assign({},Fa),w){this.parameters=f,this.type=ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(w),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof d?document.getElementById(d):d;Ie(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ki:new Ql,this.validateStartingState()}verify(){var d=this;return(0,m.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),w=d.getAssertedRecaptcha();return w.getResponse(f)||new Promise(X=>{const Ge=lt=>{lt&&(d.tokenChangeListeners.delete(Ge),X(lt))};d.tokenChangeListeners.add(Ge),d.isInvisible&&w.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(w=>w(f)),"function"==typeof d)d(f);else if("string"==typeof d){const w=Br()[d];"function"==typeof w&&w(f)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,m.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const w=document.createElement("div");f.appendChild(w),f=w}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,m.Z)(function*(){Ie(ct()&&!wn(),d.auth,"internal-error"),yield function os(){let v=null;return new Promise(d=>{"complete"!==document.readyState?(v=()=>d(),window.addEventListener("load",v)):d()}).catch(d=>{throw v&&window.removeEventListener("load",v),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function pt(v){return jt.apply(this,arguments)}(d.auth);Ie(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class to{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=$i._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Et(){return(Et=(0,m.Z)(function*(v,d,f){const w=ur(v),V=yield gs(w,d,(0,W.m9)(f));return new to(V,X=>us(w,X))})).apply(this,arguments)}function Vo(){return(Vo=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v);yield ui(!1,w,"phone");const V=yield gs(w.auth,d,(0,W.m9)(f));return new to(V,X=>ds(w,X))})).apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v),V=yield gs(w.auth,d,(0,W.m9)(f));return new to(V,X=>U(w,X))})).apply(this,arguments)}function gs(v,d,f){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,m.Z)(function*(v,d,f){var w;const V=yield f.verify();try{let X;if(Ie("string"==typeof V,v,"argument-error"),Ie(f.type===ki,v,"argument-error"),X="string"==typeof d?{phoneNumber:d}:d,"session"in X){const Ge=X.session;if("phoneNumber"in X)return Ie("enroll"===Ge.type,v,"internal-error"),(yield function Yr(v,d){return St(v,"POST","/v2/accounts/mfaEnrollment:start",Ft(v,d))}(v,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Ge.type,v,"internal-error");const lt=(null===(w=X.multiFactorHint)||void 0===w?void 0:w.uid)||X.multiFactorUid;return Ie(lt,v,"missing-multi-factor-info"),(yield function kn(v,d){return St(v,"POST","/v2/accounts/mfaSignIn:start",Ft(v,d))}(v,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function ao(v,d){return lo.apply(this,arguments)}(v,{phoneNumber:X.phoneNumber,recaptchaToken:V});return Ge}}finally{f._reset()}}),Uo.apply(this,arguments)}function D(){return(D=(0,m.Z)(function*(v,d){yield vi((0,W.m9)(v),d)})).apply(this,arguments)}let b=(()=>{class v{constructor(f){this.providerId=v.PROVIDER_ID,this.auth=ur(f)}verifyPhoneNumber(f,w){return gs(this.auth,f,(0,W.m9)(w))}static credential(f,w){return $i._fromVerification(f,w)}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:w,temporaryProof:V}=f;return w&&V?$i._fromTokenResponse(w,V):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function y(v,d){return d?Ue(d):(Ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class S extends Fe{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return gi(d,this._buildIdpRequest())}_linkToIdToken(d,f){return gi(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return gi(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function L(v){return cs(v.auth,new S(v),v.bypassAuthState)}function K(v){const{auth:d,user:f}=v;return Ie(f,d,"internal-error"),co(f,new S(v),v.bypassAuthState)}function Q(v){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(v){const{auth:d,user:f}=v;return Ie(f,d,"internal-error"),vi(f,new S(v),v.bypassAuthState)})).apply(this,arguments)}class wt{constructor(d,f,w,V,X=!1){this.auth=d,this.resolver=w,this.user=V,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,m.Z)(function*(w,V){d.pendingPromise={resolve:w,reject:V};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(X){d.reject(X)}});return function(w,V){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,m.Z)(function*(){const{urlResponse:w,sessionId:V,postBody:X,tenantId:Ge,error:lt,type:Bt}=d;if(lt)return void f.reject(lt);const mn={auth:f.auth,requestUri:w,sessionId:V,tenantId:Ge||void 0,postBody:X||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Bt)(mn))}catch(Fn){f.reject(Fn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return Q;case"reauthViaPopup":case"reauthViaRedirect":return K;default:qe(this.auth,"internal-error")}}resolve(d){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qt=new De(2e3,1e4);function gn(){return(gn=(0,m.Z)(function*(v,d,f){const w=ur(v);Se(v,d,yo);const V=y(w,f);return new ts(w,"signInViaPopup",d,V).executeNotNull()})).apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v);Se(w.auth,d,yo);const V=y(w.auth,f);return new ts(w.auth,"reauthViaPopup",d,V,w).executeNotNull()})).apply(this,arguments)}function Ts(){return(Ts=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v);Se(w.auth,d,yo);const V=y(w.auth,f);return new ts(w.auth,"linkViaPopup",d,V,w).executeNotNull()})).apply(this,arguments)}let ts=(()=>{class v extends wt{constructor(f,w,V,X,Ge){super(f,w,X,Ge),this.provider=V,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var f=this;return(0,m.Z)(function*(){const w=yield f.execute();return Ie(w,f.auth,"internal-error"),w})()}onExecution(){var f=this;return(0,m.Z)(function*(){Be(1===f.filter.length,"Popup operations only handle one event");const w=Xt();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],w),f.authWindow.associatedEvent=w,f.resolver._originValidation(f.auth).catch(V=>{f.reject(V)}),f.resolver._isIframeWebStorageSupported(f.auth,V=>{V||f.reject(Ve(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const f=()=>{var w,V;this.pollId=null!==(V=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Qt.get())};f()}}return v.currentPopupAction=null,v})();const jo="pendingRedirect",Ss=new Map;class Sc extends wt{constructor(d,f,w=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,w),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,m.Z)(function*(){let w=Ss.get(f.auth._key());if(!w){try{const X=(yield function ss(v,d){return Ac.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;w=()=>Promise.resolve(X)}catch(V){w=()=>Promise.reject(V)}Ss.set(f.auth._key(),w)}return f.bypassAuthState||Ss.set(f.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,w=this;return(0,m.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(w,d);if("unknown"!==d.type){if(d.eventId){const V=yield w.auth._redirectUserForId(d.eventId);if(V)return w.user=V,f().call(w,d);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Ac(){return(Ac=(0,m.Z)(function*(v,d){const f=au(d),w=Qu(v);if(!(yield w._isAvailable()))return!1;const V="true"===(yield w._get(f));return yield w._remove(f),V})).apply(this,arguments)}function al(v,d){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,m.Z)(function*(v,d){return Qu(v)._set(au(d),"true")})).apply(this,arguments)}function Xu(v,d){Ss.set(v._key(),d)}function Qu(v){return Ue(v._redirectPersistence)}function au(v){return ue(jo,v.config.apiKey,v.name)}function Wd(v,d,f){return function qd(v,d,f){return Mc.apply(this,arguments)}(v,d,f)}function Mc(){return(Mc=(0,m.Z)(function*(v,d,f){const w=ur(v);Se(v,d,yo),yield w._initializationPromise;const V=y(w,f);return yield al(V,w),V._openRedirect(w,d,"signInViaRedirect")})).apply(this,arguments)}function Kd(v,d,f){return function Jl(v,d,f){return ec.apply(this,arguments)}(v,d,f)}function ec(){return(ec=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v);Se(w.auth,d,yo),yield w.auth._initializationPromise;const V=y(w.auth,f);yield al(V,w.auth);const X=yield Ta(w);return V._openRedirect(w.auth,d,"reauthViaRedirect",X)})).apply(this,arguments)}function Yd(v,d,f){return function lu(v,d,f){return ho.apply(this,arguments)}(v,d,f)}function ho(){return(ho=(0,m.Z)(function*(v,d,f){const w=(0,W.m9)(v);Se(w.auth,d,yo),yield w.auth._initializationPromise;const V=y(w.auth,f);yield ui(!1,w,d.providerId),yield al(V,w.auth);const X=yield Ta(w);return V._openRedirect(w.auth,d,"linkViaRedirect",X)})).apply(this,arguments)}function Ca(){return(Ca=(0,m.Z)(function*(v,d){return yield ur(v)._initializationPromise,tc(v,d,!1)})).apply(this,arguments)}function tc(v,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,m.Z)(function*(v,d,f=!1){const w=ur(v),V=y(w,d),Ge=yield new Sc(w,V,f).execute();return Ge&&!f&&(delete Ge.user._redirectEventId,yield w._persistUserIfCurrent(Ge.user),yield w._setRedirectUser(null,d)),Ge})).apply(this,arguments)}function Ta(v){return ro.apply(this,arguments)}function ro(){return(ro=(0,m.Z)(function*(v){const d=Xt(`${v.uid}:::`);return v._redirectEventId=d,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),d})).apply(this,arguments)}class ll{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(d,w)&&(f=!0,this.sendToConsumer(d,w),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function uu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ns(v);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var w;if(d.error&&!ns(d)){const V=(null===(w=d.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";f.onError(Ve(this.auth,V))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const w=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&w}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(La(d))}saveEventToCache(d){this.cachedEventUids.add(La(d)),this.lastProcessedEventTime=Date.now()}}function La(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(d=>d).join("-")}function ns({type:v,error:d}){return"unknown"===v&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Zh(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,m.Z)(function*(v,d={}){return St(v,"GET","/v1/projects",d)})).apply(this,arguments)}const Xh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sa=/^https?/;function Ho(){return(Ho=(0,m.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:d}=yield Zh(v);for(const f of d)try{if(xl(f))return}catch{}qe(v,"unauthorized-domain")})).apply(this,arguments)}function xl(v){const d=rt(),{protocol:f,hostname:w}=new URL(d);if(v.startsWith("chrome-extension://")){const Ge=new URL(v);return""===Ge.hostname&&""===w?"chrome-extension:"===f&&v.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&Ge.hostname===w}if(!Sa.test(f))return!1;if(Xh.test(v))return w===v;const V=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(w)}const nc=new De(3e4,6e4);function as(){const v=Br().___jsl;if(null!=v&&v.H)for(const d of Object.keys(v.H))if(v.H[d].r=v.H[d].r||[],v.H[d].L=v.H[d].L||[],v.H[d].r=[...v.H[d].L],v.CP)for(let f=0;f<v.CP.length;f++)v.CP[f]=null}let Js=null;const xc=new De(5e3,15e3),Aa="__/auth/iframe",ea="emulator/auth/iframe",rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ju(v){const d=v.config;Ie(d.authDomain,v,"auth-domain-config-required");const f=d.emulator?Te(d,ea):`https://${v.config.authDomain}/${Aa}`,w={apiKey:d.apiKey,appName:v.name,v:ne.SDK_VERSION},V=Ba.get(v.config.apiHost);V&&(w.eid=V);const X=v._getFrameworks();return X.length&&(w.fw=X.join(",")),`${f}?${(0,W.xO)(w).slice(1)}`}function P(){return P=(0,m.Z)(function*(v){const d=yield function ms(v){return Js=Js||function cl(v){return new Promise((d,f)=>{var w,V,X;function Ge(){as(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{as(),f(Ve(v,"network-request-failed"))},timeout:nc.get()})}if(null!==(V=null===(w=Br().gapi)||void 0===w?void 0:w.iframes)&&void 0!==V&&V.Iframe)d(gapi.iframes.getContext());else{if(null===(X=Br().gapi)||void 0===X||!X.load){const lt=Pn("iframefcb");return Br()[lt]=()=>{gapi.load?Ge():f(Ve(v,"network-request-failed"))},zn(`https://apis.google.com/js/api.js?onload=${lt}`).catch(Bt=>f(Bt))}Ge()}}).catch(d=>{throw Js=null,d})}(v),Js}(v),f=Br().gapi;return Ie(f,v,"internal-error"),d.open({where:document.body,url:Ju(v),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rc,dontclear:!0},w=>new Promise(function(){var V=(0,m.Z)(function*(X,Ge){yield w.restyle({setHideOnLeave:!1});const lt=Ve(v,"network-request-failed"),Bt=Br().setTimeout(()=>{Ge(lt)},xc.get());function mn(){Br().clearTimeout(Bt),X(w)}w.ping(mn).then(mn,()=>{Ge(lt)})});return function(X,Ge){return V.apply(this,arguments)}}()))}),P.apply(this,arguments)}const H={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fe=500,Ze=600,dt="_blank",xt="http://localhost";class vn{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gr="__/auth/handler",yr="emulator/auth/handler",Hs=encodeURIComponent("fac");function Yi(v,d,f,w,V,X){return ul.apply(this,arguments)}function ul(){return(ul=(0,m.Z)(function*(v,d,f,w,V,X){Ie(v.config.authDomain,v,"auth-domain-config-required"),Ie(v.config.apiKey,v,"invalid-api-key");const Ge={apiKey:v.config.apiKey,appName:v.name,authType:f,redirectUrl:w,v:ne.SDK_VERSION,eventId:V};if(d instanceof yo){d.setDefaultLanguage(v.languageCode),Ge.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(Ge.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Fn,Ln]of Object.entries(X||{}))Ge[Fn]=Ln}if(d instanceof Sr){const Fn=d.getScopes().filter(Ln=>""!==Ln);Fn.length>0&&(Ge.scopes=Fn.join(","))}v.tenantId&&(Ge.tid=v.tenantId);const lt=Ge;for(const Fn of Object.keys(lt))void 0===lt[Fn]&&delete lt[Fn];const Bt=yield v._getAppCheckToken(),mn=Bt?`#${Hs}=${encodeURIComponent(Bt)}`:"";return`${function io({config:v}){return v.emulator?Te(v,yr):`https://${v.authDomain}/${gr}`}(v)}?${(0,W.xO)(lt).slice(1)}${mn}`})).apply(this,arguments)}const $a="webStorageSupport",So=class Xr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=tc,this._overrideRedirectResult=Xu}_openPopup(d,f,w,V){var X=this;return(0,m.Z)(function*(){var Ge;Be(null===(Ge=X.eventManagers[d._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const lt=yield Yi(d,f,w,rt(),V);return function fn(v,d,f,w=fe,V=Ze){const X=Math.max((window.screen.availHeight-V)/2,0).toString(),Ge=Math.max((window.screen.availWidth-w)/2,0).toString();let lt="";const Bt=Object.assign(Object.assign({},H),{width:w.toString(),height:V.toString(),top:X,left:Ge}),mn=(0,W.z$)().toLowerCase();f&&(lt=Gt(mn)?dt:f),ft(mn)&&(d=d||xt,Bt.scrollbars="yes");const Fn=Object.entries(Bt).reduce((Ii,[ta,Lc])=>`${Ii}${ta}=${Lc},`,"");if(function dn(v=(0,W.z$)()){var d;return Tt(v)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(mn)&&"_self"!==lt)return function $n(v,d){const f=document.createElement("a");f.href=v,f.target=d;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(w)}(d||"",lt),new vn(null);const Ln=window.open(d||"",lt,Fn);Ie(Ln,v,"popup-blocked");try{Ln.focus()}catch{}return new vn(Ln)}(d,lt,Xt())})()}_openRedirect(d,f,w,V){var X=this;return(0,m.Z)(function*(){return yield X._originValidation(d),function Yl(v){Br().location.href=v}(yield Yi(d,f,w,rt(),V)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:V,promise:X}=this.eventManagers[f];return V?Promise.resolve(V):(Be(X,"If manager is not set, promise should be"),X)}const w=this.initAndGetManager(d);return this.eventManagers[f]={promise:w},w.catch(()=>{delete this.eventManagers[f]}),w}initAndGetManager(d){var f=this;return(0,m.Z)(function*(){const w=yield function T(v){return P.apply(this,arguments)}(d),V=new ll(d);return w.register("authEvent",X=>(Ie(null==X?void 0:X.authEvent,d,"invalid-auth-event"),{status:V.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:V},f.iframes[d._key()]=w,V})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send($a,{type:$a},V=>{var X;const Ge=null===(X=null==V?void 0:V[0])||void 0===X?void 0:X[$a];void 0!==Ge&&f(!!Ge),qe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Fi(v){return Ho.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return Yn()||tt()||Tt()}};class ic{constructor(d){this.factorId=d}_process(d,f,w){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,w);case"signin":return this._finalizeSignIn(d,f.credential);default:return ve("unexpected MultiFactorSessionType")}}}class ed extends ic{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new ed(d)}_finalizeEnroll(d,f,w){return function di(v,d){return St(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(v,d))}(d,{idToken:f,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Cl(v,d){return St(v,"POST","/v2/accounts/mfaSignIn:finalize",Ft(v,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Va=(()=>{class v{constructor(){}static assertion(f){return ed._fromCredential(f)}}return v.FACTOR_ID="phone",v})();var Rl="@firebase/auth";class du{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,m.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(w=>{d((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);f&&(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oc(){return window}(0,W.Pz)("authIdTokenMaxAge"),function Xd(v){(0,ne._registerComponent)(new le.wA("auth",(d,{options:f})=>{const w=d.getProvider("app").getImmediate(),V=d.getProvider("heartbeat"),X=d.getProvider("app-check-internal"),{apiKey:Ge,authDomain:lt}=w.options;Ie(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:w.name});const Bt={apiKey:Ge,authDomain:lt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(v)},mn=new pi(w,V,X,Bt);return function Er(v,d){const f=(null==d?void 0:d.persistence)||[],w=(Array.isArray(f)?f:[f]).map(Ue);null!=d&&d.errorMap&&v._updateErrorMap(d.errorMap),v._initializeWithPersistence(w,null==d?void 0:d.popupRedirectResolver)}(mn,f),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,w)=>{d.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new le.wA("auth-internal",d=>{const f=ur(d.getProvider("auth").getImmediate());return new du(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(Rl,"0.23.2",function Zd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ne.registerVersion)(Rl,"0.23.2","esm2017")}("Browser");const Jh=2e3;function Rc(){return Rc=(0,m.Z)(function*(v,d,f){var w;const{BuildInfo:V}=oc();Be(d.sessionId,"AuthEvent did not contain a session ID");const X=yield function ja(v){return sc.apply(this,arguments)}(d.sessionId),Ge={};return Tt()?Ge.ibi=V.packageName:Me()?Ge.apn=V.packageName:qe(v,"operation-not-supported-in-this-environment"),V.displayName&&(Ge.appDisplayName=V.displayName),Ge.sessionId=X,Yi(v,f,d.type,void 0,null!==(w=d.eventId)&&void 0!==w?w:void 0,Ge)}),Rc.apply(this,arguments)}function hu(){return(hu=(0,m.Z)(function*(v){const{BuildInfo:d}=oc(),f={};Tt()?f.iosBundleId=d.packageName:Me()?f.androidPackageName=d.packageName:qe(v,"operation-not-supported-in-this-environment"),yield Zh(v,f)})).apply(this,arguments)}function Ua(){return(Ua=(0,m.Z)(function*(v,d,f){const{cordova:w}=oc();let V=()=>{};try{yield new Promise((X,Ge)=>{let lt=null;function Bt(){var Ln;X();const Ii=null===(Ln=w.plugins.browsertab)||void 0===Ln?void 0:Ln.close;"function"==typeof Ii&&Ii(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function mn(){lt||(lt=window.setTimeout(()=>{Ge(Ve(v,"redirect-cancelled-by-user"))},Jh))}function Fn(){"visible"===(null==document?void 0:document.visibilityState)&&mn()}d.addPassiveListener(Bt),document.addEventListener("resume",mn,!1),Me()&&document.addEventListener("visibilitychange",Fn,!1),V=()=>{d.removePassiveListener(Bt),document.removeEventListener("resume",mn,!1),document.removeEventListener("visibilitychange",Fn,!1),lt&&window.clearTimeout(lt)}})}finally{V()}})).apply(this,arguments)}function sc(){return(sc=(0,m.Z)(function*(v){const d=function eh(v){if(Be(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const d=new ArrayBuffer(v.length),f=new Uint8Array(d);for(let w=0;w<v.length;w++)f[w]=v.charCodeAt(w);return f}(v),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const nf=20;class Ol extends ll{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,m.Z)(function*(){yield d.initPromise})()}}function rd(v){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,m.Z)(function*(v){const d=yield Ha()._get(Ao(v));return d&&(yield Ha()._remove(Ao(v))),d})).apply(this,arguments)}function gu(){const v=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<nf;f++){const w=Math.floor(Math.random()*d.length);v.push(d.charAt(w))}return v.join("")}function Ha(){return Ue(bi)}function Ao(v){return ue("authEvent",v.config.apiKey,v.name)}function za(v){if(null==v||!v.includes("?"))return{};const[d,...f]=v.split("?");return(0,W.zd)(f.join("?"))}const hl=class yu{constructor(){this._redirectPersistence=$o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tc,this._overrideRedirectResult=Xu}_initialize(d){var f=this;return(0,m.Z)(function*(){const w=d._key();let V=f.eventManagers.get(w);return V||(V=new Ol(d),f.eventManagers.set(w,V),f.attachCallbackListeners(d,V)),V})()}_openPopup(d){qe(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,w,V){var X=this;return(0,m.Z)(function*(){!function Oc(v){var d,f,w,V,X,Ge,lt,Bt,mn,Fn;const Ln=oc();Ie("function"==typeof(null===(d=null==Ln?void 0:Ln.universalLinks)||void 0===d?void 0:d.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(typeof(null===(f=null==Ln?void 0:Ln.BuildInfo)||void 0===f?void 0:f.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(X=null===(V=null===(w=null==Ln?void 0:Ln.cordova)||void 0===w?void 0:w.plugins)||void 0===V?void 0:V.browsertab)||void 0===X?void 0:X.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Bt=null===(lt=null===(Ge=null==Ln?void 0:Ln.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===Bt?void 0:Bt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Fn=null===(mn=null==Ln?void 0:Ln.cordova)||void 0===mn?void 0:mn.InAppBrowser)||void 0===Fn?void 0:Fn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Ge=yield X._initialize(d);yield Ge.initialized(),Ge.resetRedirect(),function Yh(){Ss.clear()}(),yield X._originValidation(d);const lt=function fu(v,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:gu(),postBody:null,tenantId:v.tenantId,error:Ve(v,"no-auth-event")}}(d,w,V);yield function Pc(v,d){return Ha()._set(Ao(v),d)}(d,lt);const Bt=yield function ef(v,d,f){return Rc.apply(this,arguments)}(d,lt,f),mn=yield function kp(v){const{cordova:d}=oc();return new Promise(f=>{d.plugins.browsertab.isAvailable(w=>{let V=null;w?d.plugins.browsertab.openUrl(v):V=d.InAppBrowser.open(v,function qt(v=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),f(V)})})}(Bt);return function Jd(v,d,f){return Ua.apply(this,arguments)}(d,Ge,mn)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function tf(v){return hu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:w,handleOpenURL:V,BuildInfo:X}=oc(),Ge=setTimeout((0,m.Z)(function*(){yield rd(d),f.onEvent(th())}),500),lt=function(){var Fn=(0,m.Z)(function*(Ln){clearTimeout(Ge);const Ii=yield rd(d);let ta=null;Ii&&null!=Ln&&Ln.url&&(ta=function pu(v,d){var f,w;const V=function mu(v){const d=za(v),f=d.link?decodeURIComponent(d.link):void 0,w=za(f).link,V=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return za(V).link||V||w||f||v}(d);if(V.includes("/__/auth/callback")){const X=za(V),Ge=X.firebaseError?function kc(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(X.firebaseError)):null,lt=null===(w=null===(f=null==Ge?void 0:Ge.code)||void 0===f?void 0:f.split("auth/"))||void 0===w?void 0:w[1],Bt=lt?Ve(lt):null;return Bt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:V,postBody:null}}return null}(Ii,Ln.url)),f.onEvent(ta||th())});return function(Ii){return Fn.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,lt);const Bt=V,mn=`${X.packageName.toLowerCase()}://`;oc().handleOpenURL=function(){var Fn=(0,m.Z)(function*(Ln){if(Ln.toLowerCase().startsWith(mn)&&lt({url:Ln}),"function"==typeof Bt)try{Bt(Ln)}catch(Ii){console.error(Ii)}});return function(Ln){return Fn.apply(this,arguments)}}()}};function th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ve("no-auth-event")}}const Lp=1e3;function zo(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function pl(v=(0,W.z$)()){return!("file:"!==zo()&&"ionic:"!==zo()&&"capacitor:"!==zo()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bp(){try{const v=self.localStorage,d=Xt();if(v)return v.setItem(d,"1"),v.removeItem(d),!function vu(v=(0,W.z$)()){return function As(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function rf(v=(0,W.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,W.hl)()}catch{return ih()&&(0,W.hl)()}return!1}function ih(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wr(){return(function rh(){return"http:"===zo()||"https:"===zo()}()||(0,W.ru)()||pl())&&!function od(){return(0,W.b$)()||(0,W.UG)()}()&&Bp()&&!ih()}function sf(){return pl()&&typeof document<"u"}function ac(){return(ac=(0,m.Z)(function*(){return!!sf()&&new Promise(v=>{const d=setTimeout(()=>{v(!1)},Lp);document.addEventListener("deviceready",()=>{clearTimeout(d),v(!0)})})})).apply(this,arguments)}const Ms={LOCAL:"local",NONE:"none",SESSION:"session"},gl=Ie,oh="persistence";function ld(v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,m.Z)(function*(v){yield v._initializationPromise;const d=sh(),f=ue(oh,v.config.apiKey,v.name);d&&d.setItem(f,v._getPersistence())})).apply(this,arguments)}function sh(){var v;try{return(null===(v=function ad(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const uc=Ie;class ls{constructor(){this.browserResolver=Ue(So),this.cordovaResolver=Ue(hl),this.underlyingResolver=null,this._redirectPersistence=$o,this._completeRedirectFn=tc,this._overrideRedirectResult=Xu}_initialize(d){var f=this;return(0,m.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,w,V){var X=this;return(0,m.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(d,f,w,V)})()}_openRedirect(d,f,w,V){var X=this;return(0,m.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(d,f,w,V)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return sf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return uc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,m.Z)(function*(){if(d.underlyingResolver)return;const f=yield function sd(){return ac.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function fa(v){return v.unwrap()}function lf(v){return cf(v)}function cf(v){const{_tokenResponse:d}=v instanceof W.ZR?v.customData:v;if(!d)return null;if(!(v instanceof W.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return b.credentialFromResult(v);const f=d.providerId;if(!f||f===Re.PASSWORD)return null;let w;switch(f){case Re.GOOGLE:w=_o;break;case Re.FACEBOOK:w=vo;break;case Re.GITHUB:w=Es;break;case Re.TWITTER:w=Is;break;default:const{oauthIdToken:V,oauthAccessToken:X,oauthTokenSecret:Ge,pendingToken:lt,nonce:Bt}=d;return X||Ge||V||lt?lt?f.startsWith("saml.")?Ui._create(f,lt):mi._fromParams({providerId:f,signInMethod:f,pendingToken:lt,idToken:V,accessToken:X}):new Ji(f).credential({idToken:V,accessToken:X,rawNonce:Bt}):null}return v instanceof W.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function zs(v,d){return d.catch(f=>{throw f instanceof W.ZR&&function _u(v,d){var f;const w=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new cd(v,function oi(v,d){var f;const w=(0,W.m9)(v),V=d;return Ie(d.customData.operationType,w,"argument-error"),Ie(null===(f=V.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,w,"argument-error"),ar._fromError(w,V)}(v,d));else if(w){const V=cf(d),X=d;V&&(X.credential=V,X.tenantId=w.tenantId||void 0,X.email=w.email||void 0,X.phoneNumber=w.phoneNumber||void 0)}}(v,f),f}).then(f=>{const V=f.user;return{operationType:f.operationType,credential:lf(f),additionalUserInfo:Ia(f),user:Ga.getOrCreate(V)}})}function Li(v,d){return dc.apply(this,arguments)}function dc(){return(dc=(0,m.Z)(function*(v,d){const f=yield d;return{verificationId:f.verificationId,confirm:w=>zs(v,f.confirm(w))}})).apply(this,arguments)}class cd{constructor(d,f){this.resolver=f,this.auth=function af(v){return v.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return zs(fa(this.auth),this.resolver.resolveSignIn(d))}}class Ga{constructor(d){this._delegate=d,this.multiFactor=function Co(v){const d=(0,W.m9)(v);return bo.has(d)||bo.set(d,zi._fromUser(d)),bo.get(d)}(d)}static getOrCreate(d){return Ga.USER_MAP.has(d)||Ga.USER_MAP.set(d,new Ga(d)),Ga.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,m.Z)(function*(){return zs(f.auth,ds(f._delegate,d))})()}linkWithPhoneNumber(d,f){var w=this;return(0,m.Z)(function*(){return Li(w.auth,function da(v,d,f){return Vo.apply(this,arguments)}(w._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,m.Z)(function*(){return zs(f.auth,function no(v,d,f){return Ts.apply(this,arguments)}(f._delegate,d,ls))})()}linkWithRedirect(d){var f=this;return(0,m.Z)(function*(){return yield ld(ur(f.auth)),Yd(f._delegate,d,ls)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,m.Z)(function*(){return zs(f.auth,U(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Li(this.auth,function Tc(v,d,f){return ha.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return zs(this.auth,function zr(v,d,f){return Ci.apply(this,arguments)}(this._delegate,d,ls))}reauthenticateWithRedirect(d){var f=this;return(0,m.Z)(function*(){return yield ld(ur(f.auth)),Kd(f._delegate,d,ls)})()}sendEmailVerification(d){return function _a(v,d){return Bs.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,m.Z)(function*(){return yield function ma(v,d){return yi.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function Hi(v,d){return Pr((0,W.m9)(v),d,null)}(this._delegate,d)}updatePassword(d){return function eo(v,d){return Pr((0,W.m9)(v),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function js(v,d){return D.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ea(v,d){return $s.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function Oa(v,d,f){return bs.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ga.USER_MAP=new WeakMap;const Eu=Ie;let Fc=(()=>{class v{constructor(f,w){if(this.app=f,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=f.options;Eu(V,"invalid-api-key",{appName:f.name}),Eu(V,"invalid-api-key",{appName:f.name});const X=typeof window<"u"?ls:void 0;this._delegate=w.initialize({options:{persistence:Wa(V,f.name),popupRedirectResolver:X}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ga.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,w){!function Z(v,d,f){const w=ur(v);Ie(w._canInitEmulator,w,"emulator-config-failed"),Ie(/^https?:\/\//.test(d),w,"invalid-emulator-scheme");const V=!(null==f||!f.disableWarnings),X=de(d),{host:Ge,port:lt}=function Pe(v){const d=de(v),f=/(\/\/)?([^?#/]+)/.exec(v.substr(d.length));if(!f)return{host:"",port:null};const w=f[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(w);if(V){const X=V[1];return{host:X,port:ie(w.substr(X.length+1))}}{const[X,Ge]=w.split(":");return{host:X,port:ie(Ge)}}}(d);w.config.emulator={url:`${X}//${Ge}${null===lt?"":`:${lt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ge,port:lt,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function $e(){function v(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,f,w)}applyActionCode(f){return function Lo(v,d){return Qr.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Fs(this._delegate,f)}confirmPasswordReset(f,w){return function _i(v,d,f){return Ri.apply(this,arguments)}(this._delegate,f,w)}createUserWithEmailAndPassword(f,w){var V=this;return(0,m.Z)(function*(){return zs(V._delegate,function Ls(v,d,f){return wo.apply(this,arguments)}(V._delegate,f,w))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Qs(v,d){return sa.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Wl(v,d){const f=Di.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,m.Z)(function*(){Eu(wr(),f._delegate,"operation-not-supported-in-this-environment");const w=yield function cu(v,d){return Ca.apply(this,arguments)}(f._delegate,ls);return w?zs(f._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function nh(v,d){ur(v)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,w,V){const{next:X,error:Ge,complete:lt}=Iu(f,w,V);return this._delegate.onAuthStateChanged(X,Ge,lt)}onIdTokenChanged(f,w,V){const{next:X,error:Ge,complete:lt}=Iu(f,w,V);return this._delegate.onIdTokenChanged(X,Ge,lt)}sendSignInLinkToEmail(f,w){return function oa(v,d,f){return Zs.apply(this,arguments)}(this._delegate,f,w)}sendPasswordResetEmail(f,w){return function hr(v,d,f){return xr.apply(this,arguments)}(this._delegate,f,w||void 0)}setPersistence(f){var w=this;return(0,m.Z)(function*(){let V;switch(function lc(v,d){gl(Object.values(Ms).includes(d),v,"invalid-persistence-type"),(0,W.b$)()?gl(d!==Ms.SESSION,v,"unsupported-persistence-type"):(0,W.UG)()?gl(d===Ms.NONE,v,"unsupported-persistence-type"):ih()?gl(d===Ms.NONE||d===Ms.LOCAL&&(0,W.hl)(),v,"unsupported-persistence-type"):gl(d===Ms.NONE||Bp(),v,"unsupported-persistence-type")}(w._delegate,f),f){case Ms.SESSION:V=$o;break;case Ms.LOCAL:V=(yield Ue(Nr)._isAvailable())?Nr:bi;break;case Ms.NONE:V=Ot;break;default:return qe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return zs(this._delegate,function ai(v){return No.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return zs(this._delegate,us(this._delegate,f))}signInWithCustomToken(f){return zs(this._delegate,function C(v,d){return x.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,w){return zs(this._delegate,function ya(v,d,f){return us((0,W.m9)(v),Yo.credential(d,f))}(this._delegate,f,w))}signInWithEmailLink(f,w){return zs(this._delegate,function Pi(v,d,f){return Xo.apply(this,arguments)}(this._delegate,f,w))}signInWithPhoneNumber(f,w){return Li(this._delegate,function Al(v,d,f){return Et.apply(this,arguments)}(this._delegate,f,w))}signInWithPopup(f){var w=this;return(0,m.Z)(function*(){return Eu(wr(),w._delegate,"operation-not-supported-in-this-environment"),zs(w._delegate,function Tn(v,d,f){return gn.apply(this,arguments)}(w._delegate,f,ls))})()}signInWithRedirect(f){var w=this;return(0,m.Z)(function*(){return Eu(wr(),w._delegate,"operation-not-supported-in-this-environment"),yield ld(w._delegate),Wd(w._delegate,f,ls)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Io(v,d){return Do.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ms,v})();function Iu(v,d,f){let w=v;"function"!=typeof v&&({next:w,error:d,complete:f}=v);const V=w;return{next:Ge=>V(Ge&&Ga.getOrCreate(Ge)),error:d,complete:f}}function Wa(v,d){const f=function cc(v,d){const f=sh();if(!f)return[];const w=ue(oh,v,d);switch(f.getItem(w)){case Ms.NONE:return[Ot];case Ms.LOCAL:return[Nr,$o];case Ms.SESSION:return[$o];default:return[]}}(v,d);if(typeof self<"u"&&!f.includes(Nr)&&f.push(Nr),typeof window<"u")for(const w of[bi,$o])f.includes(w)||f.push(w);return f.includes(Ot)||f.push(Ot),f}class pa{constructor(){this.providerId="phone",this._delegate=new b(fa(h.Z.auth()))}static credential(d,f){return b.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}pa.PHONE_SIGN_IN_METHOD=b.PHONE_SIGN_IN_METHOD,pa.PROVIDER_ID=b.PROVIDER_ID;const qa=Ie;class ah{constructor(d,f,w=h.Z.app()){var V;qa(null===(V=w.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new sl(d,f,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $p(v){v.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),w=d.getProvider("auth");return new Fc(f,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae_EMAIL_SIGNIN,PASSWORD_RESET:ae_PASSWORD_RESET,RECOVER_EMAIL:ae_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae_VERIFY_EMAIL}},EmailAuthProvider:Yo,FacebookAuthProvider:vo,GithubAuthProvider:Es,GoogleAuthProvider:_o,OAuthProvider:Ji,SAMLAuthProvider:Oo,PhoneAuthProvider:pa,PhoneMultiFactorGenerator:Va,RecaptchaVerifier:ah,TwitterAuthProvider:Is,Auth:Fc,AuthCredential:Fe,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(h.Z)},5861:(on,st,F)=>{"use strict";function m(W,ne,Ae,we,le,xe,Re){try{var he=W[xe](Re),se=he.value}catch(ae){return void Ae(ae)}he.done?ne(se):Promise.resolve(se).then(we,le)}function h(W){return function(){var ne=this,Ae=arguments;return new Promise(function(we,le){var xe=W.apply(ne,Ae);function Re(se){m(xe,we,le,Re,he,"next",se)}function he(se){m(xe,we,le,Re,he,"throw",se)}Re(void 0)})}}F.d(st,{Z:()=>h})}},on=>{on(on.s=3543)}]);